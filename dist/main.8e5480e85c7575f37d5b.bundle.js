var voxa_test=function(Q){function U(F){if(B[F])return B[F].exports;var s=B[F]={i:F,l:!1,exports:{}};return Q[F].call(s.exports,s,s.exports,U),s.l=!0,s.exports}var B={};return U.m=Q,U.c=B,U.d=function(Q,B,F){U.o(Q,B)||Object.defineProperty(Q,B,{configurable:!1,enumerable:!0,get:F})},U.n=function(Q){var B=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return U.d(B,"a",B),B},U.o=function(Q,U){return Object.prototype.hasOwnProperty.call(Q,U)},U.p="/",U(U.s=19)}([function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CircularList_1 = __webpack_require__(28);\nvar EventEmitter_1 = __webpack_require__(2);\nvar BufferLine_1 = __webpack_require__(29);\nvar Types_1 = __webpack_require__(1);\nexports.DEFAULT_ATTR = (0 << 18) | (Types_1.DEFAULT_COLOR << 9) | (256 << 0);\nexports.CHAR_DATA_ATTR_INDEX = 0;\nexports.CHAR_DATA_CHAR_INDEX = 1;\nexports.CHAR_DATA_WIDTH_INDEX = 2;\nexports.CHAR_DATA_CODE_INDEX = 3;\nexports.MAX_BUFFER_SIZE = 4294967295;\nexports.NULL_CELL_CHAR = ' ';\nexports.NULL_CELL_WIDTH = 1;\nexports.NULL_CELL_CODE = 32;\nvar Buffer = (function () {\n    function Buffer(_terminal, _hasScrollback) {\n        this._terminal = _terminal;\n        this._hasScrollback = _hasScrollback;\n        this.markers = [];\n        this.clear();\n    }\n    Buffer.prototype.setBufferLineFactory = function (type) {\n        if (type === 'JsArray') {\n            if (this._bufferLineConstructor !== BufferLine_1.BufferLineJSArray) {\n                this._bufferLineConstructor = BufferLine_1.BufferLineJSArray;\n                this._recreateLines();\n            }\n        }\n        else {\n            if (this._bufferLineConstructor !== BufferLine_1.BufferLine) {\n                this._bufferLineConstructor = BufferLine_1.BufferLine;\n                this._recreateLines();\n            }\n        }\n    };\n    Buffer.prototype._recreateLines = function () {\n        if (!this.lines)\n            return;\n        for (var i = 0; i < this.lines.length; ++i) {\n            var oldLine = this.lines.get(i);\n            var newLine = new this._bufferLineConstructor(oldLine.length);\n            for (var j = 0; j < oldLine.length; ++j) {\n                newLine.set(j, oldLine.get(j));\n            }\n            this.lines.set(i, newLine);\n        }\n    };\n    Buffer.prototype.getBlankLine = function (attr, isWrapped) {\n        var fillCharData = [attr, exports.NULL_CELL_CHAR, exports.NULL_CELL_WIDTH, exports.NULL_CELL_CODE];\n        return new this._bufferLineConstructor(this._terminal.cols, fillCharData, isWrapped);\n    };\n    Object.defineProperty(Buffer.prototype, \"hasScrollback\", {\n        get: function () {\n            return this._hasScrollback && this.lines.maxLength > this._terminal.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Buffer.prototype, \"isCursorInViewport\", {\n        get: function () {\n            var absoluteY = this.ybase + this.y;\n            var relativeY = absoluteY - this.ydisp;\n            return (relativeY >= 0 && relativeY < this._terminal.rows);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Buffer.prototype._getCorrectBufferLength = function (rows) {\n        if (!this._hasScrollback) {\n            return rows;\n        }\n        var correctBufferLength = rows + this._terminal.options.scrollback;\n        return correctBufferLength > exports.MAX_BUFFER_SIZE ? exports.MAX_BUFFER_SIZE : correctBufferLength;\n    };\n    Buffer.prototype.fillViewportRows = function (fillAttr) {\n        if (this.lines.length === 0) {\n            if (fillAttr === undefined) {\n                fillAttr = exports.DEFAULT_ATTR;\n            }\n            var i = this._terminal.rows;\n            while (i--) {\n                this.lines.push(this.getBlankLine(fillAttr));\n            }\n        }\n    };\n    Buffer.prototype.clear = function () {\n        this.setBufferLineFactory(this._terminal.options.experimentalBufferLineImpl);\n        this.ydisp = 0;\n        this.ybase = 0;\n        this.y = 0;\n        this.x = 0;\n        this.lines = new CircularList_1.CircularList(this._getCorrectBufferLength(this._terminal.rows));\n        this.scrollTop = 0;\n        this.scrollBottom = this._terminal.rows - 1;\n        this.setupTabStops();\n    };\n    Buffer.prototype.resize = function (newCols, newRows) {\n        var newMaxLength = this._getCorrectBufferLength(newRows);\n        if (newMaxLength > this.lines.maxLength) {\n            this.lines.maxLength = newMaxLength;\n        }\n        if (this.lines.length > 0) {\n            if (this._terminal.cols < newCols) {\n                var ch = [exports.DEFAULT_ATTR, exports.NULL_CELL_CHAR, exports.NULL_CELL_WIDTH, exports.NULL_CELL_CODE];\n                for (var i = 0; i < this.lines.length; i++) {\n                    this.lines.get(i).resize(newCols, ch);\n                }\n            }\n            var addToY = 0;\n            if (this._terminal.rows < newRows) {\n                for (var y = this._terminal.rows; y < newRows; y++) {\n                    if (this.lines.length < newRows + this.ybase) {\n                        if (this.ybase > 0 && this.lines.length <= this.ybase + this.y + addToY + 1) {\n                            this.ybase--;\n                            addToY++;\n                            if (this.ydisp > 0) {\n                                this.ydisp--;\n                            }\n                        }\n                        else {\n                            var fillCharData = [exports.DEFAULT_ATTR, exports.NULL_CELL_CHAR, exports.NULL_CELL_WIDTH, exports.NULL_CELL_CODE];\n                            this.lines.push(new this._bufferLineConstructor(newCols, fillCharData));\n                        }\n                    }\n                }\n            }\n            else {\n                for (var y = this._terminal.rows; y > newRows; y--) {\n                    if (this.lines.length > newRows + this.ybase) {\n                        if (this.lines.length > this.ybase + this.y + 1) {\n                            this.lines.pop();\n                        }\n                        else {\n                            this.ybase++;\n                            this.ydisp++;\n                        }\n                    }\n                }\n            }\n            if (newMaxLength < this.lines.maxLength) {\n                var amountToTrim = this.lines.length - newMaxLength;\n                if (amountToTrim > 0) {\n                    this.lines.trimStart(amountToTrim);\n                    this.ybase = Math.max(this.ybase - amountToTrim, 0);\n                    this.ydisp = Math.max(this.ydisp - amountToTrim, 0);\n                }\n                this.lines.maxLength = newMaxLength;\n            }\n            this.x = Math.min(this.x, newCols - 1);\n            this.y = Math.min(this.y, newRows - 1);\n            if (addToY) {\n                this.y += addToY;\n            }\n            this.savedY = Math.min(this.savedY, newRows - 1);\n            this.savedX = Math.min(this.savedX, newCols - 1);\n            this.scrollTop = 0;\n        }\n        this.scrollBottom = newRows - 1;\n    };\n    Buffer.prototype.stringIndexToBufferIndex = function (lineIndex, stringIndex) {\n        while (stringIndex) {\n            var line = this.lines.get(lineIndex);\n            if (!line) {\n                [-1, -1];\n            }\n            for (var i = 0; i < line.length; ++i) {\n                stringIndex -= line.get(i)[exports.CHAR_DATA_CHAR_INDEX].length;\n                if (stringIndex < 0) {\n                    return [lineIndex, i];\n                }\n            }\n            lineIndex++;\n        }\n        return [lineIndex, 0];\n    };\n    Buffer.prototype.translateBufferLineToString = function (lineIndex, trimRight, startCol, endCol) {\n        if (startCol === void 0) { startCol = 0; }\n        if (endCol === void 0) { endCol = null; }\n        var lineString = '';\n        var line = this.lines.get(lineIndex);\n        if (!line) {\n            return '';\n        }\n        var startIndex = startCol;\n        if (endCol === null) {\n            endCol = line.length;\n        }\n        var endIndex = endCol;\n        for (var i = 0; i < line.length; i++) {\n            var char = line.get(i);\n            lineString += char[exports.CHAR_DATA_CHAR_INDEX];\n            if (char[exports.CHAR_DATA_WIDTH_INDEX] === 0) {\n                if (startCol >= i) {\n                    startIndex--;\n                }\n                if (endCol > i) {\n                    endIndex--;\n                }\n            }\n            else {\n                if (char[exports.CHAR_DATA_CHAR_INDEX].length > 1) {\n                    if (startCol > i) {\n                        startIndex += char[exports.CHAR_DATA_CHAR_INDEX].length - 1;\n                    }\n                    if (endCol > i) {\n                        endIndex += char[exports.CHAR_DATA_CHAR_INDEX].length - 1;\n                    }\n                }\n            }\n        }\n        if (trimRight) {\n            var rightWhitespaceIndex = lineString.search(/\\s+$/);\n            if (rightWhitespaceIndex !== -1) {\n                endIndex = Math.min(endIndex, rightWhitespaceIndex);\n            }\n            if (endIndex <= startIndex) {\n                return '';\n            }\n        }\n        return lineString.substring(startIndex, endIndex);\n    };\n    Buffer.prototype.getWrappedRangeForLine = function (y) {\n        var first = y;\n        var last = y;\n        while (first > 0 && this.lines.get(first).isWrapped) {\n            first--;\n        }\n        while (last + 1 < this.lines.length && this.lines.get(last + 1).isWrapped) {\n            last++;\n        }\n        return { first: first, last: last };\n    };\n    Buffer.prototype.setupTabStops = function (i) {\n        if (i !== null && i !== undefined) {\n            if (!this.tabs[i]) {\n                i = this.prevStop(i);\n            }\n        }\n        else {\n            this.tabs = {};\n            i = 0;\n        }\n        for (; i < this._terminal.cols; i += this._terminal.options.tabStopWidth) {\n            this.tabs[i] = true;\n        }\n    };\n    Buffer.prototype.prevStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[--x] && x > 0)\n            ;\n        return x >= this._terminal.cols ? this._terminal.cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.nextStop = function (x) {\n        if (x === null || x === undefined) {\n            x = this.x;\n        }\n        while (!this.tabs[++x] && x < this._terminal.cols)\n            ;\n        return x >= this._terminal.cols ? this._terminal.cols - 1 : x < 0 ? 0 : x;\n    };\n    Buffer.prototype.addMarker = function (y) {\n        var _this = this;\n        var marker = new Marker(y);\n        this.markers.push(marker);\n        marker.register(this.lines.addDisposableListener('trim', function (amount) {\n            marker.line -= amount;\n            if (marker.line < 0) {\n                marker.dispose();\n            }\n        }));\n        marker.register(marker.addDisposableListener('dispose', function () { return _this._removeMarker(marker); }));\n        return marker;\n    };\n    Buffer.prototype._removeMarker = function (marker) {\n        this.markers.splice(this.markers.indexOf(marker), 1);\n    };\n    Buffer.prototype.iterator = function (trimRight, startIndex, endIndex, startOverscan, endOverscan) {\n        return new BufferStringIterator(this, trimRight, startIndex, endIndex, startOverscan, endOverscan);\n    };\n    return Buffer;\n}());\nexports.Buffer = Buffer;\nvar Marker = (function (_super) {\n    __extends(Marker, _super);\n    function Marker(line) {\n        var _this = _super.call(this) || this;\n        _this.line = line;\n        _this._id = Marker._nextId++;\n        _this.isDisposed = false;\n        return _this;\n    }\n    Object.defineProperty(Marker.prototype, \"id\", {\n        get: function () { return this._id; },\n        enumerable: true,\n        configurable: true\n    });\n    Marker.prototype.dispose = function () {\n        if (this.isDisposed) {\n            return;\n        }\n        this.isDisposed = true;\n        this.emit('dispose');\n        _super.prototype.dispose.call(this);\n    };\n    Marker._nextId = 1;\n    return Marker;\n}(EventEmitter_1.EventEmitter));\nexports.Marker = Marker;\nvar BufferStringIterator = (function () {\n    function BufferStringIterator(_buffer, _trimRight, _startIndex, _endIndex, _startOverscan, _endOverscan) {\n        if (_startIndex === void 0) { _startIndex = 0; }\n        if (_endIndex === void 0) { _endIndex = _buffer.lines.length; }\n        if (_startOverscan === void 0) { _startOverscan = 0; }\n        if (_endOverscan === void 0) { _endOverscan = 0; }\n        this._buffer = _buffer;\n        this._trimRight = _trimRight;\n        this._startIndex = _startIndex;\n        this._endIndex = _endIndex;\n        this._startOverscan = _startOverscan;\n        this._endOverscan = _endOverscan;\n        if (this._startIndex < 0) {\n            this._startIndex = 0;\n        }\n        if (this._endIndex > this._buffer.lines.length) {\n            this._endIndex = this._buffer.lines.length;\n        }\n        this._current = this._startIndex;\n    }\n    BufferStringIterator.prototype.hasNext = function () {\n        return this._current < this._endIndex;\n    };\n    BufferStringIterator.prototype.next = function () {\n        var range = this._buffer.getWrappedRangeForLine(this._current);\n        if (range.first < this._startIndex - this._startOverscan) {\n            range.first = this._startIndex - this._startOverscan;\n        }\n        if (range.last > this._endIndex + this._endOverscan) {\n            range.last = this._endIndex + this._endOverscan;\n        }\n        range.first = Math.max(range.first, 0);\n        range.last = Math.min(range.last, this._buffer.lines.length);\n        var result = '';\n        for (var i = range.first; i <= range.last; ++i) {\n            result += this._buffer.translateBufferLineToString(i, (this._trimRight) ? i === range.last : false);\n        }\n        this._current = range.last + 1;\n        return { range: range, content: result };\n    };\n    return BufferStringIterator;\n}());\nexports.BufferStringIterator = BufferStringIterator;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL0J1ZmZlci50cz9lMzc5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUtBLDZDQUFxRDtBQUVyRCw0Q0FBcUQ7QUFFckQsMkNBQTZEO0FBQzdELHFDQUF1RDtBQUUxQyxvQkFBWSxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMscUJBQWEsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUM3RCw0QkFBb0IsR0FBRyxDQUFDLENBQUM7QUFDekIsNEJBQW9CLEdBQUcsQ0FBQyxDQUFDO0FBQ3pCLDZCQUFxQixHQUFHLENBQUMsQ0FBQztBQUMxQiw0QkFBb0IsR0FBRyxDQUFDLENBQUM7QUFDekIsdUJBQWUsR0FBRyxVQUFVLENBQUM7QUFFN0Isc0JBQWMsR0FBRyxHQUFHLENBQUM7QUFDckIsdUJBQWUsR0FBRyxDQUFDLENBQUM7QUFDcEIsc0JBQWMsR0FBRyxFQUFFLENBQUM7QUFTakM7SUFxQkUsZ0JBQ1UsU0FBb0IsRUFDcEIsY0FBdUI7UUFEdkIsY0FBUyxHQUFULFNBQVMsQ0FBVztRQUNwQixtQkFBYyxHQUFkLGNBQWMsQ0FBUztRQVgxQixZQUFPLEdBQWEsRUFBRSxDQUFDO1FBYTVCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNmLENBQUM7SUFFTSxxQ0FBb0IsR0FBM0IsVUFBNEIsSUFBWTtRQUN0QyxJQUFJLElBQUksS0FBSyxTQUFTLEVBQUU7WUFDdEIsSUFBSSxJQUFJLENBQUMsc0JBQXNCLEtBQUssOEJBQWlCLEVBQUU7Z0JBQ3JELElBQUksQ0FBQyxzQkFBc0IsR0FBRyw4QkFBaUIsQ0FBQztnQkFDaEQsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO2FBQ3ZCO1NBQ0Y7YUFBTTtZQUNMLElBQUksSUFBSSxDQUFDLHNCQUFzQixLQUFLLHVCQUFVLEVBQUU7Z0JBQzlDLElBQUks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QyxDQUFDO1FBQ3ZDLEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdELElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNoQixLQUFLLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQyxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFFOUMsTUFBTSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDckc7UUFDRCxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQy9CLE9BQU8sRUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUMsQ0FBQztJQUN6QyxDQUFDO0lBQ0gsMkJBQUM7QUFBRCxDQUFDO0FBNUNZLG9EQUFvQiIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBDaXJjdWxhckxpc3QgfSBmcm9tICcuL2NvbW1vbi9DaXJjdWxhckxpc3QnO1xuaW1wb3J0IHsgQ2hhckRhdGEsIElUZXJtaW5hbCwgSUJ1ZmZlciwgSUJ1ZmZlckxpbmUsIEJ1ZmZlckluZGV4LCBJQnVmZmVyU3RyaW5nSXRlcmF0b3IsIElCdWZmZXJTdHJpbmdJdGVyYXRvclJlc3VsdCwgSUJ1ZmZlckxpbmVDb25zdHJ1Y3RvciB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi9jb21tb24vRXZlbnRFbWl0dGVyJztcbmltcG9ydCB7IElNYXJrZXIgfSBmcm9tICd4dGVybSc7XG5pbXBvcnQgeyBCdWZmZXJMaW5lLCBCdWZmZXJMaW5lSlNBcnJheSB9IGZyb20gJy4vQnVmZmVyTGluZSc7XG5pbXBvcnQgeyBERUZBVUxUX0NPTE9SIH0gZnJvbSAnLi9yZW5kZXJlci9hdGxhcy9UeXBlcyc7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0FUVFIgPSAoMCA8PCAxOCkgfCAoREVGQVVMVF9DT0xPUiA8PCA5KSB8ICgyNTYgPDwgMCk7XG5leHBvcnQgY29uc3QgQ0hBUl9EQVRBX0FUVFJfSU5ERVggPSAwO1xuZXhwb3J0IGNvbnN0IENIQVJfREFUQV9DSEFSX0lOREVYID0gMTtcbmV4cG9ydCBjb25zdCBDSEFSX0RBVEFfV0lEVEhfSU5ERVggPSAyO1xuZXhwb3J0IGNvbnN0IENIQVJfREFUQV9DT0RFX0lOREVYID0gMztcbmV4cG9ydCBjb25zdCBNQVhfQlVGRkVSX1NJWkUgPSA0Mjk0OTY3Mjk1OyAvLyAyXjMyIC0gMVxuXG5leHBvcnQgY29uc3QgTlVMTF9DRUxMX0NIQVIgPSAnICc7XG5leHBvcnQgY29uc3QgTlVMTF9DRUxMX1dJRFRIID0gMTtcbmV4cG9ydCBjb25zdCBOVUxMX0NFTExfQ09ERSA9IDMyO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIHRlcm1pbmFsIGJ1ZmZlciAoYW4gaW50ZXJuYWwgc3RhdGUgb2YgdGhlIHRlcm1pbmFsKSwgd2hlcmUgdGhlXG4gKiBmb2xsb3dpbmcgaW5mb3JtYXRpb24gaXMgc3RvcmVkIChpbiBoaWdoLWxldmVsKTpcbiAqICAgLSB0ZXh0IGNvbnRlbnQgb2YgdGhpcyBwYXJ0aWN1bGFyIGJ1ZmZlclxuICogICAtIGN1cnNvciBwb3NpdGlvblxuICogICAtIHNjcm9sbCBwb3NpdGlvblxuICovXG5leHBvcnQgY2xhc3MgQnVmZmVyIGltcGxlbWVudHMgSUJ1ZmZlciB7XG4gIHB1YmxpYyBsaW5lczogQ2lyY3VsYXJMaXN0PElCdWZmZXJMaW5lPjtcbiAgcHVibGljIHlkaXNwOiBudW1iZXI7XG4gIHB1YmxpYyB5YmFzZTogbnVtYmVyO1xuICBwdWJsaWMgeTogbnVtYmVyO1xuICBwdWJsaWMgeDogbnVtYmVyO1xuICBwdWJsaWMgc2Nyb2xsQm90dG9tOiBudW1iZXI7XG4gIHB1YmxpYyBzY3JvbGxUb3A6IG51bWJlcjtcbiAgcHVibGljIHRhYnM6IGFueTtcbiAgcHVibGljIHNhdmVkWTogbnVtYmVyO1xuICBwdWJsaWMgc2F2ZWRYOiBudW1iZXI7XG4gIHB1YmxpYyBzYXZlZEN1ckF0dHI6IG51bWJlcjtcbiAgcHVibGljIG1hcmtlcnM6IE1hcmtlcltdID0gW107XG4gIHByaXZhdGUgX2J1ZmZlckxpbmVDb25zdHJ1Y3RvcjogSUJ1ZmZlckxpbmVDb25zdHJ1Y3RvcjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEJ1ZmZlci5cbiAgICogQHBhcmFtIF90ZXJtaW5hbCBUaGUgdGVybWluYWwgdGhlIEJ1ZmZlciB3aWxsIGJlbG9uZyB0by5cbiAgICogQHBhcmFtIF9oYXNTY3JvbGxiYWNrIFdoZXRoZXIgdGhlIGJ1ZmZlciBzaG91bGQgcmVzcGVjdCB0aGUgc2Nyb2xsYmFjayBvZlxuICAgKiB0aGUgdGVybWluYWwuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIF90ZXJtaW5hbDogSVRlcm1pbmFsLFxuICAgIHByaXZhdGUgX2hhc1Njcm9sbGJhY2s6IGJvb2xlYW5cbiAgKSB7XG4gICAgdGhpcy5jbGVhcigpO1xuICB9XG5cbiAgcHVibGljIHNldEJ1ZmZlckxpbmVGYWN0b3J5KHR5cGU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0eXBlID09PSAnSnNBcnJheScpIHtcbiAgICAgIGlmICh0aGlzLl9idWZmZXJMaW5lQ29uc3RydWN0b3IgIT09IEJ1ZmZlckxpbmVKU0FycmF5KSB7XG4gICAgICAgIHRoaXMuX2J1ZmZlckxpbmVDb25zdHJ1Y3RvciA9IEJ1ZmZlckxpbmVKU0FycmF5O1xuICAgICAgICB0aGlzLl9yZWNyZWF0ZUxpbmVzKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLl9idWZmZXJMaW5lQ29uc3RydWN0b3IgIT09IEJ1ZmZlckxpbmUpIHtcbiAgICAgICAgdGhpcy5fYnVmZmVyTGluZUNvbnN0cnVjdG9yID0gQnVmZmVyTGluZTtcbiAgICAgICAgdGhpcy5fcmVjcmVhdGVMaW5lcygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3JlY3JlYXRlTGluZXMoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmxpbmVzKSByZXR1cm47XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCBvbGRMaW5lID0gdGhpcy5saW5lcy5nZXQoaSk7XG4gICAgICBjb25zdCBuZXdMaW5lID0gbmV3IHRoaXMuX2J1ZmZlckxpbmVDb25zdHJ1Y3RvcihvbGRMaW5lLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG9sZExpbmUubGVuZ3RoOyArK2opIHtcbiAgICAgICAgbmV3TGluZS5zZXQoaiwgb2xkTGluZS5nZXQoaikpO1xuICAgICAgfVxuICAgICAgdGhpcy5saW5lcy5zZXQoaSwgbmV3TGluZSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldEJsYW5rTGluZShhdHRyOiBudW1iZXIsIGlzV3JhcHBlZD86IGJvb2xlYW4pOiBJQnVmZmVyTGluZSB7XG4gICAgY29uc3QgZmlsbENoYXJEYXRhOiBDaGFyRGF0YSA9IFthdHRyLCBOVUxMX0NFTExfQ0hBUiwgTlVMTF9DRUxMX1dJRFRILCBOVUxMX0NFTExfQ09ERV07XG4gICAgcmV0dXJuIG5ldyB0aGlzLl9idWZmZXJMaW5lQ29uc3RydWN0b3IodGhpcy5fdGVybWluYWwuY29scywgZmlsbENoYXJEYXRhLCBpc1dyYXBwZWQpO1xuICB9XG5cbiAgcHVibGljIGdldCBoYXNTY3JvbGxiYWNrKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9oYXNTY3JvbGxiYWNrICYmIHRoaXMubGluZXMubWF4TGVuZ3RoID4gdGhpcy5fdGVybWluYWwucm93cztcbiAgfVxuXG4gIHB1YmxpYyBnZXQgaXNDdXJzb3JJblZpZXdwb3J0KCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGFic29sdXRlWSA9IHRoaXMueWJhc2UgKyB0aGlzLnk7XG4gICAgY29uc3QgcmVsYXRpdmVZID0gYWJzb2x1dGVZIC0gdGhpcy55ZGlzcDtcbiAgICByZXR1cm4gKHJlbGF0aXZlWSA+PSAwICYmIHJlbGF0aXZlWSA8IHRoaXMuX3Rlcm1pbmFsLnJvd3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvcnJlY3QgYnVmZmVyIGxlbmd0aCBiYXNlZCBvbiB0aGUgcm93cyBwcm92aWRlZCwgdGhlIHRlcm1pbmFsJ3NcbiAgICogc2Nyb2xsYmFjayBhbmQgd2hldGhlciB0aGlzIGJ1ZmZlciBpcyBmbGFnZ2VkIHRvIGhhdmUgc2Nyb2xsYmFjayBvciBub3QuXG4gICAqIEBwYXJhbSByb3dzIFRoZSB0ZXJtaW5hbCByb3dzIHRvIHVzZSBpbiB0aGUgY2FsY3VsYXRpb24uXG4gICAqL1xuICBwcml2YXRlIF9nZXRDb3JyZWN0QnVmZmVyTGVuZ3RoKHJvd3M6IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKCF0aGlzLl9oYXNTY3JvbGxiYWNrKSB7XG4gICAgICByZXR1cm4gcm93cztcbiAgICB9XG5cbiAgICBjb25zdCBjb3JyZWN0QnVmZmVyTGVuZ3RoID0gcm93cyArIHRoaXMuX3Rlcm1pbmFsLm9wdGlvbnMuc2Nyb2xsYmFjaztcblxuICAgIHJldHVybiBjb3JyZWN0QnVmZmVyTGVuZ3RoID4gTUFYX0JVRkZFUl9TSVpFID8gTUFYX0JVRkZFUl9TSVpFIDogY29ycmVjdEJ1ZmZlckxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaWxscyB0aGUgYnVmZmVyJ3Mgdmlld3BvcnQgd2l0aCBibGFuayBsaW5lcy5cbiAgICovXG4gIHB1YmxpYyBmaWxsVmlld3BvcnRSb3dzKGZpbGxBdHRyPzogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubGluZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAoZmlsbEF0dHIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmaWxsQXR0ciA9IERFRkFVTFRfQVRUUjtcbiAgICAgIH1cbiAgICAgIGxldCBpID0gdGhpcy5fdGVybWluYWwucm93cztcbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgdGhpcy5saW5lcy5wdXNoKHRoaXMuZ2V0QmxhbmtMaW5lKGZpbGxBdHRyKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgYnVmZmVyIHRvIGl0J3MgaW5pdGlhbCBzdGF0ZSwgZGlzY2FyZGluZyBhbGwgcHJldmlvdXMgZGF0YS5cbiAgICovXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLnNldEJ1ZmZlckxpbmVGYWN0b3J5KHRoaXMuX3Rlcm1pbmFsLm9wdGlvbnMuZXhwZXJpbWVudGFsQnVmZmVyTGluZUltcGwpO1xuICAgIHRoaXMueWRpc3AgPSAwO1xuICAgIHRoaXMueWJhc2UgPSAwO1xuICAgIHRoaXMueSA9IDA7XG4gICAgdGhpcy54ID0gMDtcbiAgICB0aGlzLmxpbmVzID0gbmV3IENpcmN1bGFyTGlzdDxJQnVmZmVyTGluZT4odGhpcy5fZ2V0Q29ycmVjdEJ1ZmZlckxlbmd0aCh0aGlzLl90ZXJtaW5hbC5yb3dzKSk7XG4gICAgdGhpcy5zY3JvbGxUb3AgPSAwO1xuICAgIHRoaXMuc2Nyb2xsQm90dG9tID0gdGhpcy5fdGVybWluYWwucm93cyAtIDE7XG4gICAgdGhpcy5zZXR1cFRhYlN0b3BzKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzaXplcyB0aGUgYnVmZmVyLCBhZGp1c3RpbmcgaXRzIGRhdGEgYWNjb3JkaW5nbHkuXG4gICAqIEBwYXJhbSBuZXdDb2xzIFRoZSBuZXcgbnVtYmVyIG9mIGNvbHVtbnMuXG4gICAqIEBwYXJhbSBuZXdSb3dzIFRoZSBuZXcgbnVtYmVyIG9mIHJvd3MuXG4gICAqL1xuICBwdWJsaWMgcmVzaXplKG5ld0NvbHM6IG51bWJlciwgbmV3Um93czogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gSW5jcmVhc2UgbWF4IGxlbmd0aCBpZiBuZWVkZWQgYmVmb3JlIGFkanVzdG1lbnRzIHRvIGFsbG93IHNwYWNlIHRvIGZpbGxcbiAgICAvLyBhcyByZXF1aXJlZC5cbiAgICBjb25zdCBuZXdNYXhMZW5ndGggPSB0aGlzLl9nZXRDb3JyZWN0QnVmZmVyTGVuZ3RoKG5ld1Jvd3MpO1xuICAgIGlmIChuZXdNYXhMZW5ndGggPiB0aGlzLmxpbmVzLm1heExlbmd0aCkge1xuICAgICAgdGhpcy5saW5lcy5tYXhMZW5ndGggPSBuZXdNYXhMZW5ndGg7XG4gICAgfVxuXG4gICAgLy8gVGhlIGZvbGxvd2luZyBhZGp1c3RtZW50cyBzaG91bGQgb25seSBoYXBwZW4gaWYgdGhlIGJ1ZmZlciBoYXMgYmVlblxuICAgIC8vIGluaXRpYWxpemVkL2ZpbGxlZC5cbiAgICBpZiAodGhpcy5saW5lcy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBEZWFsIHdpdGggY29sdW1ucyBpbmNyZWFzaW5nICh3ZSBkb24ndCBkbyBhbnl0aGluZyB3aGVuIGNvbHVtbnMgcmVkdWNlKVxuICAgICAgaWYgKHRoaXMuX3Rlcm1pbmFsLmNvbHMgPCBuZXdDb2xzKSB7XG4gICAgICAgIGNvbnN0IGNoOiBDaGFyRGF0YSA9IFtERUZBVUxUX0FUVFIsIE5VTExfQ0VMTF9DSEFSLCBOVUxMX0NFTExfV0lEVEgsIE5VTExfQ0VMTF9DT0RFXTsgLy8gZG9lcyB4dGVybSB1c2UgdGhlIGRlZmF1bHQgYXR0cj9cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5saW5lcy5nZXQoaSkucmVzaXplKG5ld0NvbHMsIGNoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZXNpemUgcm93cyBpbiBib3RoIGRpcmVjdGlvbnMgYXMgbmVlZGVkXG4gICAgICBsZXQgYWRkVG9ZID0gMDtcbiAgICAgIGlmICh0aGlzLl90ZXJtaW5hbC5yb3dzIDwgbmV3Um93cykge1xuICAgICAgICBmb3IgKGxldCB5ID0gdGhpcy5fdGVybWluYWwucm93czsgeSA8IG5ld1Jvd3M7IHkrKykge1xuICAgICAgICAgIGlmICh0aGlzLmxpbmVzLmxlbmd0aCA8IG5ld1Jvd3MgKyB0aGlzLnliYXNlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy55YmFzZSA+IDAgJiYgdGhpcy5saW5lcy5sZW5ndGggPD0gdGhpcy55YmFzZSArIHRoaXMueSArIGFkZFRvWSArIDEpIHtcbiAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgcm9vbSBhYm92ZSB0aGUgYnVmZmVyIGFuZCB0aGVyZSBhcmUgbm8gZW1wdHkgZWxlbWVudHMgYmVsb3cgdGhlIGxpbmUsXG4gICAgICAgICAgICAgIC8vIHNjcm9sbCB1cFxuICAgICAgICAgICAgICB0aGlzLnliYXNlLS07XG4gICAgICAgICAgICAgIGFkZFRvWSsrO1xuICAgICAgICAgICAgICBpZiAodGhpcy55ZGlzcCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBWaWV3cG9ydCBpcyBhdCB0aGUgdG9wIG9mIHRoZSBidWZmZXIsIG11c3QgaW5jcmVhc2UgZG93bndhcmRzXG4gICAgICAgICAgICAgICAgdGhpcy55ZGlzcC0tO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBBZGQgYSBibGFuayBsaW5lIGlmIHRoZXJlIGlzIG5vIGJ1ZmZlciBsZWZ0IGF0IHRoZSB0b3AgdG8gc2Nyb2xsIHRvLCBvciBpZiB0aGVyZVxuICAgICAgICAgICAgICAvLyBhcmUgYmxhbmsgbGluZXMgYWZ0ZXIgdGhlIGN1cnNvclxuICAgICAgICAgICAgICBjb25zdCBmaWxsQ2hhckRhdGE6IENoYXJEYXRhID0gW0RFRkFVTFRfQVRUUiwgTlVMTF9DRUxMX0NIQVIsIE5VTExfQ0VMTF9XSURUSCwgTlVMTF9DRUxMX0NPREVdO1xuICAgICAgICAgICAgICB0aGlzLmxpbmVzLnB1c2gobmV3IHRoaXMuX2J1ZmZlckxpbmVDb25zdHJ1Y3RvcihuZXdDb2xzLCBmaWxsQ2hhckRhdGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7IC8vICh0aGlzLl90ZXJtaW5hbC5yb3dzID49IG5ld1Jvd3MpXG4gICAgICAgIGZvciAobGV0IHkgPSB0aGlzLl90ZXJtaW5hbC5yb3dzOyB5ID4gbmV3Um93czsgeS0tKSB7XG4gICAgICAgICAgaWYgKHRoaXMubGluZXMubGVuZ3RoID4gbmV3Um93cyArIHRoaXMueWJhc2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxpbmVzLmxlbmd0aCA+IHRoaXMueWJhc2UgKyB0aGlzLnkgKyAxKSB7XG4gICAgICAgICAgICAgIC8vIFRoZSBsaW5lIGlzIGEgYmxhbmsgbGluZSBiZWxvdyB0aGUgY3Vyc29yLCByZW1vdmUgaXRcbiAgICAgICAgICAgICAgdGhpcy5saW5lcy5wb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFRoZSBsaW5lIGlzIHRoZSBjdXJzb3IsIHNjcm9sbCBkb3duXG4gICAgICAgICAgICAgIHRoaXMueWJhc2UrKztcbiAgICAgICAgICAgICAgdGhpcy55ZGlzcCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZWR1Y2UgbWF4IGxlbmd0aCBpZiBuZWVkZWQgYWZ0ZXIgYWRqdXN0bWVudHMsIHRoaXMgaXMgZG9uZSBhZnRlciBhcyBpdFxuICAgICAgLy8gd291bGQgb3RoZXJ3aXNlIGN1dCBkYXRhIGZyb20gdGhlIGJvdHRvbSBvZiB0aGUgYnVmZmVyLlxuICAgICAgaWYgKG5ld01heExlbmd0aCA8IHRoaXMubGluZXMubWF4TGVuZ3RoKSB7XG4gICAgICAgIC8vIFRyaW0gZnJvbSB0aGUgdG9wIG9mIHRoZSBidWZmZXIgYW5kIGFkanVzdCB5YmFzZSBhbmQgeWRpc3AuXG4gICAgICAgIGNvbnN0IGFtb3VudFRvVHJpbSA9IHRoaXMubGluZXMubGVuZ3RoIC0gbmV3TWF4TGVuZ3RoO1xuICAgICAgICBpZiAoYW1vdW50VG9UcmltID4gMCkge1xuICAgICAgICAgIHRoaXMubGluZXMudHJpbVN0YXJ0KGFtb3VudFRvVHJpbSk7XG4gICAgICAgICAgdGhpcy55YmFzZSA9IE1hdGgubWF4KHRoaXMueWJhc2UgLSBhbW91bnRUb1RyaW0sIDApO1xuICAgICAgICAgIHRoaXMueWRpc3AgPSBNYXRoLm1heCh0aGlzLnlkaXNwIC0gYW1vdW50VG9UcmltLCAwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpbmVzLm1heExlbmd0aCA9IG5ld01heExlbmd0aDtcbiAgICAgIH1cblxuICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIGN1cnNvciBzdGF5cyBvbiBzY3JlZW5cbiAgICAgIHRoaXMueCA9IE1hdGgubWluKHRoaXMueCwgbmV3Q29scyAtIDEpO1xuICAgICAgdGhpcy55ID0gTWF0aC5taW4odGhpcy55LCBuZXdSb3dzIC0gMSk7XG4gICAgICBpZiAoYWRkVG9ZKSB7XG4gICAgICAgIHRoaXMueSArPSBhZGRUb1k7XG4gICAgICB9XG4gICAgICB0aGlzLnNhdmVkWSA9IE1hdGgubWluKHRoaXMuc2F2ZWRZLCBuZXdSb3dzIC0gMSk7XG4gICAgICB0aGlzLnNhdmVkWCA9IE1hdGgubWluKHRoaXMuc2F2ZWRYLCBuZXdDb2xzIC0gMSk7XG5cbiAgICAgIHRoaXMuc2Nyb2xsVG9wID0gMDtcbiAgICB9XG5cbiAgICB0aGlzLnNjcm9sbEJvdHRvbSA9IG5ld1Jvd3MgLSAxO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zbGF0ZXMgYSBzdHJpbmcgaW5kZXggYmFjayB0byBhIEJ1ZmZlckluZGV4LlxuICAgKiBUbyBnZXQgdGhlIGNvcnJlY3QgYnVmZmVyIHBvc2l0aW9uIHRoZSBzdHJpbmcgbXVzdCBzdGFydCBhdCBgc3RhcnRDb2xgIDBcbiAgICogKGRlZmF1bHQgaW4gdHJhbnNsYXRlQnVmZmVyTGluZVRvU3RyaW5nKS5cbiAgICogVGhlIG1ldGhvZCBhbHNvIHdvcmtzIG9uIHdyYXBwZWQgbGluZSBzdHJpbmdzIGdpdmVuIHJvd3Mgd2VyZSBub3QgdHJpbW1lZC5cbiAgICogVGhlIG1ldGhvZCBvcGVyYXRlcyBvbiB0aGUgQ2hhckRhdGEgc3RyaW5nIGxlbmd0aCwgdGhlcmUgYXJlIG5vXG4gICAqIGFkZGl0aW9uYWwgY29udGVudCBvciBib3VuZGFyeSBjaGVja3MuIFRoZXJlZm9yZSB0aGUgc3RyaW5nIGFuZCB0aGUgYnVmZmVyXG4gICAqIHNob3VsZCBub3QgYmUgYWx0ZXJlZCBpbiBiZXR3ZWVuLlxuICAgKiBUT0RPOiByZXNwZWN0IHRyaW0gZmxhZyBhZnRlciBmaXhpbmcgIzE2ODVcbiAgICogQHBhcmFtIGxpbmVJbmRleCBsaW5lIGluZGV4IHRoZSBzdHJpbmcgd2FzIHJldHJpZXZlZCBmcm9tXG4gICAqIEBwYXJhbSBzdHJpbmdJbmRleCBpbmRleCB3aXRoaW4gdGhlIHN0cmluZ1xuICAgKiBAcGFyYW0gc3RhcnRDb2wgY29sdW1uIG9mZnNldCB0aGUgc3RyaW5nIHdhcyByZXRyaWV2ZWQgZnJvbVxuICAgKi9cbiAgcHVibGljIHN0cmluZ0luZGV4VG9CdWZmZXJJbmRleChsaW5lSW5kZXg6IG51bWJlciwgc3RyaW5nSW5kZXg6IG51bWJlcik6IEJ1ZmZlckluZGV4IHtcbiAgICB3aGlsZSAoc3RyaW5nSW5kZXgpIHtcbiAgICAgIGNvbnN0IGxpbmUgPSB0aGlzLmxpbmVzLmdldChsaW5lSW5kZXgpO1xuICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgIFstMSwgLTFdO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHN0cmluZ0luZGV4IC09IGxpbmUuZ2V0KGkpW0NIQVJfREFUQV9DSEFSX0lOREVYXS5sZW5ndGg7XG4gICAgICAgIGlmIChzdHJpbmdJbmRleCA8IDApIHtcbiAgICAgICAgICByZXR1cm4gW2xpbmVJbmRleCwgaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpbmVJbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gW2xpbmVJbmRleCwgMF07XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNsYXRlcyBhIGJ1ZmZlciBsaW5lIHRvIGEgc3RyaW5nLCB3aXRoIG9wdGlvbmFsIHN0YXJ0IGFuZCBlbmQgY29sdW1ucy5cbiAgICogV2lkZSBjaGFyYWN0ZXJzIHdpbGwgY291bnQgYXMgdHdvIGNvbHVtbnMgaW4gdGhlIHJlc3VsdGluZyBzdHJpbmcuIFRoaXNcbiAgICogZnVuY3Rpb24gaXMgdXNlZnVsIGZvciBnZXR0aW5nIHRoZSBhY3R1YWwgdGV4dCB1bmRlcm5lYXRoIHRoZSByYXcgc2VsZWN0aW9uXG4gICAqIHBvc2l0aW9uLlxuICAgKiBAcGFyYW0gbGluZSBUaGUgbGluZSBiZWluZyB0cmFuc2xhdGVkLlxuICAgKiBAcGFyYW0gdHJpbVJpZ2h0IFdoZXRoZXIgdG8gdHJpbSB3aGl0ZXNwYWNlIHRvIHRoZSByaWdodC5cbiAgICogQHBhcmFtIHN0YXJ0Q29sIFRoZSBjb2x1bW4gdG8gc3RhcnQgYXQuXG4gICAqIEBwYXJhbSBlbmRDb2wgVGhlIGNvbHVtbiB0byBlbmQgYXQuXG4gICAqL1xuICBwdWJsaWMgdHJhbnNsYXRlQnVmZmVyTGluZVRvU3RyaW5nKGxpbmVJbmRleDogbnVtYmVyLCB0cmltUmlnaHQ6IGJvb2xlYW4sIHN0YXJ0Q29sOiBudW1iZXIgPSAwLCBlbmRDb2w6IG51bWJlciA9IG51bGwpOiBzdHJpbmcge1xuICAgIC8vIEdldCBmdWxsIGxpbmVcbiAgICBsZXQgbGluZVN0cmluZyA9ICcnO1xuICAgIGNvbnN0IGxpbmUgPSB0aGlzLmxpbmVzLmdldChsaW5lSW5kZXgpO1xuICAgIGlmICghbGluZSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgY29sdW1uIGFuZCBpbmRleCB2YWx1ZXMuIENvbHVtbiB2YWx1ZXMgcmVwcmVzZW50IHRoZSBhY3R1YWxcbiAgICAvLyBjZWxsIGNvbHVtbiwgaW5kZXhlcyByZXByZXNlbnQgdGhlIGluZGV4IGluIHRoZSBzdHJpbmcuIEluZGV4ZXMgYXJlXG4gICAgLy8gbmVlZGVkIGhlcmUgYmVjYXVzZSBzb21lIGNoYXJzIGFyZSAwIGNoYXJhY3RlcnMgbG9uZyAoZWcuIGFmdGVyIHdpZGVcbiAgICAvLyBjaGFycykgYW5kIHNvbWUgY2hhcnMgYXJlIGxvbmdlciB0aGFuIDEgY2hhcmFjdGVycyBsb25nIChlZy4gZW1vamlzKS5cbiAgICBsZXQgc3RhcnRJbmRleCA9IHN0YXJ0Q29sO1xuICAgIC8vIE9ubHkgc2V0IGVuZENvbCB0byB0aGUgbGluZSBsZW5ndGggd2hlbiBpdCBpcyBudWxsLiAwIGlzIGEgdmFsaWQgY29sdW1uLlxuICAgIGlmIChlbmRDb2wgPT09IG51bGwpIHtcbiAgICAgIGVuZENvbCA9IGxpbmUubGVuZ3RoO1xuICAgIH1cbiAgICBsZXQgZW5kSW5kZXggPSBlbmRDb2w7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoYXIgPSBsaW5lLmdldChpKTtcbiAgICAgIGxpbmVTdHJpbmcgKz0gY2hhcltDSEFSX0RBVEFfQ0hBUl9JTkRFWF07XG4gICAgICAvLyBBZGp1c3Qgc3RhcnQgYW5kIGVuZCBjb2xzIGZvciB3aWRlIGNoYXJhY3RlcnMgaWYgdGhleSBhZmZlY3QgdGhlaXJcbiAgICAgIC8vIGNvbHVtbiBpbmRleGVzXG4gICAgICBpZiAoY2hhcltDSEFSX0RBVEFfV0lEVEhfSU5ERVhdID09PSAwKSB7XG4gICAgICAgIGlmIChzdGFydENvbCA+PSBpKSB7XG4gICAgICAgICAgc3RhcnRJbmRleC0tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmRDb2wgPiBpKSB7XG4gICAgICAgICAgZW5kSW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQWRqdXN0IHRoZSBjb2x1bW5zIHRvIHRha2UgZ2x5cGhzIHRoYXQgYXJlIHJlcHJlc2VudGVkIGJ5IG11bHRpcGxlXG4gICAgICAgIC8vIGNvZGUgcG9pbnRzIGludG8gYWNjb3VudC5cbiAgICAgICAgaWYgKGNoYXJbQ0hBUl9EQVRBX0NIQVJfSU5ERVhdLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBpZiAoc3RhcnRDb2wgPiBpKSB7XG4gICAgICAgICAgICBzdGFydEluZGV4ICs9IGNoYXJbQ0hBUl9EQVRBX0NIQVJfSU5ERVhdLmxlbmd0aCAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChlbmRDb2wgPiBpKSB7XG4gICAgICAgICAgICBlbmRJbmRleCArPSBjaGFyW0NIQVJfREFUQV9DSEFSX0lOREVYXS5sZW5ndGggLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgZmluYWwgZW5kIGNvbCBieSB0cmltbWluZyB3aGl0ZXNwYWNlIG9uIHRoZSByaWdodCBvZiB0aGVcbiAgICAvLyBsaW5lIGlmIG5lZWRlZC5cbiAgICBpZiAodHJpbVJpZ2h0KSB7XG4gICAgICBjb25zdCByaWdodFdoaXRlc3BhY2VJbmRleCA9IGxpbmVTdHJpbmcuc2VhcmNoKC9cXHMrJC8pO1xuICAgICAgaWYgKHJpZ2h0V2hpdGVzcGFjZUluZGV4ICE9PSAtMSkge1xuICAgICAgICBlbmRJbmRleCA9IE1hdGgubWluKGVuZEluZGV4LCByaWdodFdoaXRlc3BhY2VJbmRleCk7XG4gICAgICB9XG4gICAgICAvLyBSZXR1cm4gdGhlIGVtcHR5IHN0cmluZyBpZiBvbmx5IHRyaW1tZWQgd2hpdGVzcGFjZSBpcyBzZWxlY3RlZFxuICAgICAgaWYgKGVuZEluZGV4IDw9IHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsaW5lU3RyaW5nLnN1YnN0cmluZyhzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0V3JhcHBlZFJhbmdlRm9yTGluZSh5OiBudW1iZXIpOiB7IGZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlciB9IHtcbiAgICBsZXQgZmlyc3QgPSB5O1xuICAgIGxldCBsYXN0ID0geTtcbiAgICAvLyBTY2FuIHVwd2FyZHMgZm9yIHdyYXBwZWQgbGluZXNcbiAgICB3aGlsZSAoZmlyc3QgPiAwICYmIHRoaXMubGluZXMuZ2V0KGZpcnN0KS5pc1dyYXBwZWQpIHtcbiAgICAgIGZpcnN0LS07XG4gICAgfVxuICAgIC8vIFNjYW4gZG93bndhcmRzIGZvciB3cmFwcGVkIGxpbmVzXG4gICAgd2hpbGUgKGxhc3QgKyAxIDwgdGhpcy5saW5lcy5sZW5ndGggJiYgdGhpcy5saW5lcy5nZXQobGFzdCArIDEpLmlzV3JhcHBlZCkge1xuICAgICAgbGFzdCsrO1xuICAgIH1cbiAgICByZXR1cm4geyBmaXJzdCwgbGFzdCB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHVwIHRoZSB0YWIgc3RvcHMuXG4gICAqIEBwYXJhbSBpIFRoZSBpbmRleCB0byBzdGFydCBzZXR0aW5nIHVwIHRhYiBzdG9wcyBmcm9tLlxuICAgKi9cbiAgcHVibGljIHNldHVwVGFiU3RvcHMoaT86IG51bWJlcik6IHZvaWQge1xuICAgIGlmIChpICE9PSBudWxsICYmIGkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKCF0aGlzLnRhYnNbaV0pIHtcbiAgICAgICAgaSA9IHRoaXMucHJldlN0b3AoaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGFicyA9IHt9O1xuICAgICAgaSA9IDA7XG4gICAgfVxuXG4gICAgZm9yICg7IGkgPCB0aGlzLl90ZXJtaW5hbC5jb2xzOyBpICs9IHRoaXMuX3Rlcm1pbmFsLm9wdGlvbnMudGFiU3RvcFdpZHRoKSB7XG4gICAgICB0aGlzLnRhYnNbaV0gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhlIHByZXZpb3VzIHRhYiBzdG9wIGZyb20gdGhlIGdpdmVuIHBvc2l0aW9uIChkZWZhdWx0IGlzIGN1cnJlbnQpLlxuICAgKiBAcGFyYW0geCBUaGUgcG9zaXRpb24gdG8gbW92ZSB0aGUgY3Vyc29yIHRvIHRoZSBwcmV2aW91cyB0YWIgc3RvcC5cbiAgICovXG4gIHB1YmxpYyBwcmV2U3RvcCh4PzogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAoeCA9PT0gbnVsbCB8fCB4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHggPSB0aGlzLng7XG4gICAgfVxuICAgIHdoaWxlICghdGhpcy50YWJzWy0teF0gJiYgeCA+IDApO1xuICAgIHJldHVybiB4ID49IHRoaXMuX3Rlcm1pbmFsLmNvbHMgPyB0aGlzLl90ZXJtaW5hbC5jb2xzIC0gMSA6IHggPCAwID8gMCA6IHg7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0aGUgY3Vyc29yIG9uZSB0YWIgc3RvcCBmb3J3YXJkIGZyb20gdGhlIGdpdmVuIHBvc2l0aW9uIChkZWZhdWx0IGlzIGN1cnJlbnQpLlxuICAgKiBAcGFyYW0geCBUaGUgcG9zaXRpb24gdG8gbW92ZSB0aGUgY3Vyc29yIG9uZSB0YWIgc3RvcCBmb3J3YXJkLlxuICAgKi9cbiAgcHVibGljIG5leHRTdG9wKHg/OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGlmICh4ID09PSBudWxsIHx8IHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgeCA9IHRoaXMueDtcbiAgICB9XG4gICAgd2hpbGUgKCF0aGlzLnRhYnNbKyt4XSAmJiB4IDwgdGhpcy5fdGVybWluYWwuY29scyk7XG4gICAgcmV0dXJuIHggPj0gdGhpcy5fdGVybWluYWwuY29scyA/IHRoaXMuX3Rlcm1pbmFsLmNvbHMgLSAxIDogeCA8IDAgPyAwIDogeDtcbiAgfVxuXG4gIHB1YmxpYyBhZGRNYXJrZXIoeTogbnVtYmVyKTogTWFya2VyIHtcbiAgICBjb25zdCBtYXJrZXIgPSBuZXcgTWFya2VyKHkpO1xuICAgIHRoaXMubWFya2Vycy5wdXNoKG1hcmtlcik7XG4gICAgbWFya2VyLnJlZ2lzdGVyKHRoaXMubGluZXMuYWRkRGlzcG9zYWJsZUxpc3RlbmVyKCd0cmltJywgYW1vdW50ID0+IHtcbiAgICAgIG1hcmtlci5saW5lIC09IGFtb3VudDtcbiAgICAgIC8vIFRoZSBtYXJrZXIgc2hvdWxkIGJlIGRpc3Bvc2VkIHdoZW4gdGhlIGxpbmUgaXMgdHJpbW1lZCBmcm9tIHRoZSBidWZmZXJcbiAgICAgIGlmIChtYXJrZXIubGluZSA8IDApIHtcbiAgICAgICAgbWFya2VyLmRpc3Bvc2UoKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgbWFya2VyLnJlZ2lzdGVyKG1hcmtlci5hZGREaXNwb3NhYmxlTGlzdGVuZXIoJ2Rpc3Bvc2UnLCAoKSA9PiB0aGlzLl9yZW1vdmVNYXJrZXIobWFya2VyKSkpO1xuICAgIHJldHVybiBtYXJrZXI7XG4gIH1cblxuICBwcml2YXRlIF9yZW1vdmVNYXJrZXIobWFya2VyOiBNYXJrZXIpOiB2b2lkIHtcbiAgICAvLyBUT0RPOiBUaGlzIGNvdWxkIHByb2JhYmx5IGJlIG9wdGltaXplZCBieSByZWx5aW5nIG9uIHNvcnQgb3JkZXIgYW5kIHRyaW1taW5nIHRoZSBhcnJheSB1c2luZyAubGVuZ3RoXG4gICAgdGhpcy5tYXJrZXJzLnNwbGljZSh0aGlzLm1hcmtlcnMuaW5kZXhPZihtYXJrZXIpLCAxKTtcbiAgfVxuXG4gIHB1YmxpYyBpdGVyYXRvcih0cmltUmlnaHQ6IGJvb2xlYW4sIHN0YXJ0SW5kZXg/OiBudW1iZXIsIGVuZEluZGV4PzogbnVtYmVyLCBzdGFydE92ZXJzY2FuPzogbnVtYmVyLCBlbmRPdmVyc2Nhbj86IG51bWJlcik6IElCdWZmZXJTdHJpbmdJdGVyYXRvciB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXJTdHJpbmdJdGVyYXRvcih0aGlzLCB0cmltUmlnaHQsIHN0YXJ0SW5kZXgsIGVuZEluZGV4LCBzdGFydE92ZXJzY2FuLCBlbmRPdmVyc2Nhbik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcmtlciBleHRlbmRzIEV2ZW50RW1pdHRlciBpbXBsZW1lbnRzIElNYXJrZXIge1xuICBwcml2YXRlIHN0YXRpYyBfbmV4dElkID0gMTtcblxuICBwcml2YXRlIF9pZDogbnVtYmVyID0gTWFya2VyLl9uZXh0SWQrKztcbiAgcHVibGljIGlzRGlzcG9zZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBwdWJsaWMgZ2V0IGlkKCk6IG51bWJlciB7IHJldHVybiB0aGlzLl9pZDsgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBsaW5lOiBudW1iZXJcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAvLyBFbWl0IGJlZm9yZSBzdXBlci5kaXNwb3NlIHN1Y2ggdGhhdCBkaXNwb3NlIGxpc3RlbmVycyBnZXQgYSBjaGFuZ2UgdG8gcmVhY3RcbiAgICB0aGlzLmVtaXQoJ2Rpc3Bvc2UnKTtcbiAgICBzdXBlci5kaXNwb3NlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBJdGVyYXRvciB0byBnZXQgdW53cmFwcGVkIGNvbnRlbnQgc3RyaW5ncyBmcm9tIHRoZSBidWZmZXIuXG4gKiBUaGUgaXRlcmF0b3IgcmV0dXJucyBhdCBsZWFzdCB0aGUgc3RyaW5nIGRhdGEgYmV0d2VlbiB0aGUgYm9yZGVyc1xuICogYHN0YXJ0SW5kZXhgIGFuZCBgZW5kSW5kZXhgIChleGNsdXNpdmUpIGFuZCB3aWxsIGV4cGFuZCB0aGUgbGluZXNcbiAqIGJ5IGBzdGFydE92ZXJzY2FuYCB0byB0aGUgdG9wIGFuZCBieSBgZW5kT3ZlcnNjYW5gIHRvIHRoZSBib3R0b20sXG4gKiBpZiBubyBuZXcgbGluZSB3YXMgZm91bmQgaW4gYmV0d2Vlbi5cbiAqIEl0IHdpbGwgbmV2ZXIgcmVhZC9yZXR1cm4gc3RyaW5nIGRhdGEgYmV5b25kIGBzdGFydEluZGV4IC0gc3RhcnRPdmVyc2NhbmBcbiAqIG9yIGBlbmRJbmRleCArIGVuZE92ZXJzY2FuYC4gVGhlcmVmb3JlIHRoZSBmaXJzdCBhbmQgbGFzdCBsaW5lIG1pZ2h0IGJlIHRydW5jYXRlZC5cbiAqIEl0IGlzIHBvc3NpYmxlIHRvIGFsd2F5cyBnZXQgdGhlIGZ1bGwgc3RyaW5nIGZvciB0aGUgZmlyc3QgYW5kIGxhc3QgbGluZSBhcyB3ZWxsXG4gKiBieSBzZXR0aW5nIHRoZSBvdmVyc2NhbiB2YWx1ZXMgdG8gdGhlIGFjdHVhbCBidWZmZXIgbGVuZ3RoLiBUaGlzIG5vdCByZWNvbW1lbmRlZFxuICogc2luY2UgaXQgbWlnaHQgcmV0dXJuIHRoZSB3aG9sZSBidWZmZXIgd2l0aGluIGEgc2luZ2xlIHN0cmluZyBpbiBhIHdvcnN0IGNhc2Ugc2NlbmFyaW8uXG4gKi9cbmV4cG9ydCBjbGFzcyBCdWZmZXJTdHJpbmdJdGVyYXRvciBpbXBsZW1lbnRzIElCdWZmZXJTdHJpbmdJdGVyYXRvciB7XG4gIHByaXZhdGUgX2N1cnJlbnQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvciAoXG4gICAgcHJpdmF0ZSBfYnVmZmVyOiBJQnVmZmVyLFxuICAgIHByaXZhdGUgX3RyaW1SaWdodDogYm9vbGVhbixcbiAgICBwcml2YXRlIF9zdGFydEluZGV4OiBudW1iZXIgPSAwLFxuICAgIHByaXZhdGUgX2VuZEluZGV4OiBudW1iZXIgPSBfYnVmZmVyLmxpbmVzLmxlbmd0aCxcbiAgICBwcml2YXRlIF9zdGFydE92ZXJzY2FuOiBudW1iZXIgPSAwLFxuICAgIHByaXZhdGUgX2VuZE92ZXJzY2FuOiBudW1iZXIgPSAwXG4gICkge1xuICAgIGlmICh0aGlzLl9zdGFydEluZGV4IDwgMCkge1xuICAgICAgdGhpcy5fc3RhcnRJbmRleCA9IDA7XG4gICAgfVxuICAgIGlmICh0aGlzLl9lbmRJbmRleCA+IHRoaXMuX2J1ZmZlci5saW5lcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX2VuZEluZGV4ID0gdGhpcy5fYnVmZmVyLmxpbmVzLmxlbmd0aDtcbiAgICB9XG4gICAgdGhpcy5fY3VycmVudCA9IHRoaXMuX3N0YXJ0SW5kZXg7XG4gIH1cblxuICBwdWJsaWMgaGFzTmV4dCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudCA8IHRoaXMuX2VuZEluZGV4O1xuICB9XG5cbiAgcHVibGljIG5leHQoKTogSUJ1ZmZlclN0cmluZ0l0ZXJhdG9yUmVzdWx0IHtcbiAgICBjb25zdCByYW5nZSA9IHRoaXMuX2J1ZmZlci5nZXRXcmFwcGVkUmFuZ2VGb3JMaW5lKHRoaXMuX2N1cnJlbnQpO1xuICAgIC8vIGxpbWl0IHNlYXJjaCB3aW5kb3cgdG8gb3ZlcnNjYW4gdmFsdWUgYXQgYm90aCBib3JkZXJzXG4gICAgaWYgKHJhbmdlLmZpcnN0IDwgdGhpcy5fc3RhcnRJbmRleCAtIHRoaXMuX3N0YXJ0T3ZlcnNjYW4pIHtcbiAgICAgIHJhbmdlLmZpcnN0ID0gdGhpcy5fc3RhcnRJbmRleCAtIHRoaXMuX3N0YXJ0T3ZlcnNjYW47XG4gICAgfVxuICAgIGlmIChyYW5nZS5sYXN0ID4gdGhpcy5fZW5kSW5kZXggKyB0aGlzLl9lbmRPdmVyc2Nhbikge1xuICAgICAgcmFuZ2UubGFzdCA9IHRoaXMuX2VuZEluZGV4ICsgdGhpcy5fZW5kT3ZlcnNjYW47XG4gICAgfVxuICAgIC8vIGxpbWl0IHRvIGN1cnJlbnQgYnVmZmVyIGxlbmd0aFxuICAgIHJhbmdlLmZpcnN0ID0gTWF0aC5tYXgocmFuZ2UuZmlyc3QsIDApO1xuICAgIHJhbmdlLmxhc3QgPSBNYXRoLm1pbihyYW5nZS5sYXN0LCB0aGlzLl9idWZmZXIubGluZXMubGVuZ3RoKTtcbiAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IHJhbmdlLmZpcnN0OyBpIDw9IHJhbmdlLmxhc3Q7ICsraSkge1xuICAgICAgLy8gVE9ETzogYWx3YXlzIGFwcGx5IHRyaW1SaWdodCBhZnRlciBmaXhpbmcgIzE2ODVcbiAgICAgIHJlc3VsdCArPSB0aGlzLl9idWZmZXIudHJhbnNsYXRlQnVmZmVyTGluZVRvU3RyaW5nKGksICh0aGlzLl90cmltUmlnaHQpID8gaSA9PT0gcmFuZ2UubGFzdCA6IGZhbHNlKTtcbiAgICB9XG4gICAgdGhpcy5fY3VycmVudCA9IHJhbmdlLmxhc3QgKyAxO1xuICAgIHJldHVybiB7cmFuZ2U6IHJhbmdlLCBjb250ZW50OiByZXN1bHR9O1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL0J1ZmZlci50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.DEFAULT_COLOR = 256;\nexports.INVERTED_DEFAULT_COLOR = 257;\nexports.DIM_OPACITY = 0.5;\nexports.CHAR_ATLAS_CELL_SPACING = 1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL2F0bGFzL1R5cGVzLnRzPzJlYzYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFRYSxxQkFBYSxHQUFHLEdBQUcsQ0FBQztBQUNwQiw4QkFBc0IsR0FBRyxHQUFHLENBQUM7QUFDN0IsbUJBQVcsR0FBRyxHQUFHLENBQUM7QUFFbEIsK0JBQXVCLEdBQUcsQ0FBQyxDQUFDIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IEZvbnRXZWlnaHQgfSBmcm9tICd4dGVybSc7XG5pbXBvcnQgeyBJQ29sb3JTZXQgfSBmcm9tICcuLi9UeXBlcyc7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0NPTE9SID0gMjU2O1xuZXhwb3J0IGNvbnN0IElOVkVSVEVEX0RFRkFVTFRfQ09MT1IgPSAyNTc7XG5leHBvcnQgY29uc3QgRElNX09QQUNJVFkgPSAwLjU7XG5cbmV4cG9ydCBjb25zdCBDSEFSX0FUTEFTX0NFTExfU1BBQ0lORyA9IDE7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUdseXBoSWRlbnRpZmllciB7XG4gIGNoYXJzOiBzdHJpbmc7XG4gIGNvZGU6IG51bWJlcjtcbiAgYmc6IG51bWJlcjtcbiAgZmc6IG51bWJlcjtcbiAgYm9sZDogYm9vbGVhbjtcbiAgZGltOiBib29sZWFuO1xuICBpdGFsaWM6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNoYXJBdGxhc0NvbmZpZyB7XG4gIHR5cGU6ICdub25lJyB8ICdzdGF0aWMnIHwgJ2R5bmFtaWMnO1xuICBkZXZpY2VQaXhlbFJhdGlvOiBudW1iZXI7XG4gIGZvbnRTaXplOiBudW1iZXI7XG4gIGZvbnRGYW1pbHk6IHN0cmluZztcbiAgZm9udFdlaWdodDogRm9udFdlaWdodDtcbiAgZm9udFdlaWdodEJvbGQ6IEZvbnRXZWlnaHQ7XG4gIHNjYWxlZENoYXJXaWR0aDogbnVtYmVyO1xuICBzY2FsZWRDaGFySGVpZ2h0OiBudW1iZXI7XG4gIGFsbG93VHJhbnNwYXJlbmN5OiBib29sZWFuO1xuICBjb2xvcnM6IElDb2xvclNldDtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvcmVuZGVyZXIvYXRsYXMvVHlwZXMudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar Lifecycle_1 = __webpack_require__(3);\nvar EventEmitter = (function (_super) {\n    __extends(EventEmitter, _super);\n    function EventEmitter() {\n        var _this = _super.call(this) || this;\n        _this._events = _this._events || {};\n        return _this;\n    }\n    EventEmitter.prototype.on = function (type, listener) {\n        this._events[type] = this._events[type] || [];\n        this._events[type].push(listener);\n    };\n    EventEmitter.prototype.addDisposableListener = function (type, handler) {\n        var _this = this;\n        this.on(type, handler);\n        var disposed = false;\n        return {\n            dispose: function () {\n                if (disposed) {\n                    return;\n                }\n                _this.off(type, handler);\n                disposed = true;\n            }\n        };\n    };\n    EventEmitter.prototype.off = function (type, listener) {\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        var i = obj.length;\n        while (i--) {\n            if (obj[i] === listener) {\n                obj.splice(i, 1);\n                return;\n            }\n        }\n    };\n    EventEmitter.prototype.removeAllListeners = function (type) {\n        if (this._events[type]) {\n            delete this._events[type];\n        }\n    };\n    EventEmitter.prototype.emit = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!this._events[type]) {\n            return;\n        }\n        var obj = this._events[type];\n        for (var i = 0; i < obj.length; i++) {\n            obj[i].apply(this, args);\n        }\n    };\n    EventEmitter.prototype.listeners = function (type) {\n        return this._events[type] || [];\n    };\n    EventEmitter.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._events = {};\n    };\n    return EventEmitter;\n}(Lifecycle_1.Disposable));\nexports.EventEmitter = EventEmitter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL2NvbW1vbi9FdmVudEVtaXR0ZXIudHM/OTJhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFPQSx5Q0FBeUM7QUFFekM7SUFBa0MsZ0NBQVU7SUFHMUM7UUFBQSxZQUNFLGlCQUFPLFNBSVI7UUFEQyxLQUFJLENBQUMsT0FBTyxHQUFTLEtBQUssQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDOztJQUMzQyxDQUFDO0lBRU0seUJBQUUsR0FBVCxVQUFVLElBQVksRUFBRSxRQUF1QjtRQUM3QyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQzlDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFPTSw0Q0FBcUIsR0FBNUIsVUFBNkIsSUFBWSxFQUFFLE9BQXNCO1FBQWpFLGlCQWNDO1FBWkMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkIsSUFBSSxRQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ3JCLE9BQU87WUFDTCxPQUFPLEVBQUU7Z0JBQ1AsSUFBSSxRQUFRLEVBQUU7b0JBRVosT0FBTztpQkFDUjtnQkFDRCxLQUFJLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFDeEIsUUFBUSxHQUFHLElBQUksQ0FBQztZQUNsQixDQUFDO1NBQ0YsQ0FBQztJQUNKLENBQUM7SUFFTSwwQkFBRyxHQUFWLFVBQVcsSUFBWSxFQUFFLFFBQXVCO1FBQzlDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3ZCLE9BQU87U0FDUjtRQUVELElBQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUVuQixPQUFPLENBQUMsRUFBRSxFQUFFO1lBQ1YsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssUUFBUSxFQUFFO2dCQUN2QixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDakIsT0FBTzthQUNSO1NBQ0Y7SUFDSCxDQUFDO0lBRU0seUNBQWtCLEdBQXpCLFVBQTBCLElBQVk7UUFDcEMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3JCLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUM1QjtJQUNILENBQUM7SUFFTSwyQkFBSSxHQUFYLFVBQVksSUFBWTtRQUFFLGNBQWM7YUFBZCxVQUFjLEVBQWQscUJBQWMsRUFBZCxJQUFjO1lBQWQsNkJBQWM7O1FBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3ZCLE9BQU87U0FDUjtRQUNELElBQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDL0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDbkMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDMUI7SUFDSCxDQUFDO0lBRU0sZ0NBQVMsR0FBaEIsVUFBaUIsSUFBWTtRQUMzQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2xDLENBQUM7SUFFTSw4QkFBTyxHQUFkO1FBQ0UsaUJBQU0sT0FBTyxXQUFFLENBQUM7UUFDaEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUNILG1CQUFDO0FBQUQsQ0FBQyxDQTVFaUMsc0JBQVUsR0E0RTNDO0FBNUVZLG9DQUFZIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IFh0ZXJtTGlzdGVuZXIgfSBmcm9tICcuL1R5cGVzJztcbmltcG9ydCB7IElFdmVudEVtaXR0ZXIsIElEaXNwb3NhYmxlIH0gZnJvbSAneHRlcm0nO1xuaW1wb3J0IHsgRGlzcG9zYWJsZSB9IGZyb20gJy4vTGlmZWN5Y2xlJztcblxuZXhwb3J0IGNsYXNzIEV2ZW50RW1pdHRlciBleHRlbmRzIERpc3Bvc2FibGUgaW1wbGVtZW50cyBJRXZlbnRFbWl0dGVyLCBJRGlzcG9zYWJsZSB7XG4gIHByaXZhdGUgX2V2ZW50czoge1t0eXBlOiBzdHJpbmddOiBYdGVybUxpc3RlbmVyW119O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgLy8gUmVzdG9yZSB0aGUgcHJldmlvdXMgZXZlbnRzIGlmIGF2YWlsYWJsZSwgdGhpcyB3aWxsIGhhcHBlbiBpZiB0aGVcbiAgICAvLyBjb25zdHJ1Y3RvciBpcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgb2JqZWN0ICh0ZXJtaW5hbCByZXNldCkuXG4gICAgdGhpcy5fZXZlbnRzID0gKDxhbnk+dGhpcykuX2V2ZW50cyB8fCB7fTtcbiAgfVxuXG4gIHB1YmxpYyBvbih0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiBYdGVybUxpc3RlbmVyKTogdm9pZCB7XG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gdGhpcy5fZXZlbnRzW3R5cGVdIHx8IFtdO1xuICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgZGlzcG9zYWJlIGxpc3RlbmVyIHRvIHRoZSBFdmVudEVtaXR0ZXIsIHJldHVybmluZyB0aGUgZGlzcG9zYWJsZS5cbiAgICogQHBhcmFtIHR5cGUgVGhlIGV2ZW50IHR5cGUuXG4gICAqIEBwYXJhbSBoYW5kbGVyIFRoZSBoYW5kbGVyIGZvciB0aGUgbGlzdGVuZXIuXG4gICAqL1xuICBwdWJsaWMgYWRkRGlzcG9zYWJsZUxpc3RlbmVyKHR5cGU6IHN0cmluZywgaGFuZGxlcjogWHRlcm1MaXN0ZW5lcik6IElEaXNwb3NhYmxlIHtcbiAgICAvLyBUT0RPOiBSZW5hbWUgYWRkRGlzcG9zYWJsZUV2ZW50TGlzdGVuZXIgdG8gbW9yZSBlYXNpbHkgZGlzYW1iaWd1YXRlIGZyb20gRG9tIGxpc3RlbmVyXG4gICAgdGhpcy5vbih0eXBlLCBoYW5kbGVyKTtcbiAgICBsZXQgZGlzcG9zZWQgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgICBpZiAoZGlzcG9zZWQpIHtcbiAgICAgICAgICAvLyBBbHJlYWR5IGRpc3Bvc2VkXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2ZmKHR5cGUsIGhhbmRsZXIpO1xuICAgICAgICBkaXNwb3NlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBvZmYodHlwZTogc3RyaW5nLCBsaXN0ZW5lcjogWHRlcm1MaXN0ZW5lcik6IHZvaWQge1xuICAgIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgb2JqID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGxldCBpID0gb2JqLmxlbmd0aDtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGlmIChvYmpbaV0gPT09IGxpc3RlbmVyKSB7XG4gICAgICAgIG9iai5zcGxpY2UoaSwgMSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlQWxsTGlzdGVuZXJzKHR5cGU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pIHtcbiAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBlbWl0KHR5cGU6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBvYmogPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9ialtpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbGlzdGVuZXJzKHR5cGU6IHN0cmluZyk6IFh0ZXJtTGlzdGVuZXJbXSB7XG4gICAgcmV0dXJuIHRoaXMuX2V2ZW50c1t0eXBlXSB8fCBbXTtcbiAgfVxuXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3h0ZXJtL3NyYy9jb21tb24vRXZlbnRFbWl0dGVyLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n')},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar Disposable = (function () {\n    function Disposable() {\n        this._disposables = [];\n        this._isDisposed = false;\n    }\n    Disposable.prototype.dispose = function () {\n        this._isDisposed = true;\n        this._disposables.forEach(function (d) { return d.dispose(); });\n        this._disposables.length = 0;\n    };\n    Disposable.prototype.register = function (d) {\n        this._disposables.push(d);\n    };\n    Disposable.prototype.unregister = function (d) {\n        var index = this._disposables.indexOf(d);\n        if (index !== -1) {\n            this._disposables.splice(index, 1);\n        }\n    };\n    return Disposable;\n}());\nexports.Disposable = Disposable;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL2NvbW1vbi9MaWZlY3ljbGUudHM/MTFkNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVdBO0lBSUU7UUFIVSxpQkFBWSxHQUFrQixFQUFFLENBQUM7UUFDakMsZ0JBQVcsR0FBWSxLQUFLLENBQUM7SUFHdkMsQ0FBQztJQUtNLDRCQUFPLEdBQWQ7UUFDRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUN4QixJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxXQUFDLElBQUksUUFBQyxDQUFDLE9BQU8sRUFBRSxFQUFYLENBQVcsQ0FBQyxDQUFDO1FBQzVDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBTU0sNkJBQVEsR0FBZixVQUF1QyxDQUFJO1FBQ3pDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFPTSwrQkFBVSxHQUFqQixVQUF5QyxDQUFJO1FBQzNDLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNDLElBQUksS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFO1lBQ2hCLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztTQUNwQztJQUNILENBQUM7SUFDSCxpQkFBQztBQUFELENBQUM7QUFuQ3FCLGdDQUFVIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxOCBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IElEaXNwb3NhYmxlIH0gZnJvbSAneHRlcm0nO1xuXG4vKipcbiAqIEEgYmFzZSBjbGFzcyB0aGF0IGNhbiBiZSBleHRlbmRlZCB0byBwcm92aWRlIGNvbnZlbmllbmNlIG1ldGhvZHMgZm9yIG1hbmFnaW5nIHRoZSBsaWZlY3ljbGUgb2YgYW5cbiAqIG9iamVjdCBhbmQgaXRzIGNvbXBvbmVudHMuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBEaXNwb3NhYmxlIGltcGxlbWVudHMgSURpc3Bvc2FibGUge1xuICBwcm90ZWN0ZWQgX2Rpc3Bvc2FibGVzOiBJRGlzcG9zYWJsZVtdID0gW107XG4gIHByb3RlY3RlZCBfaXNEaXNwb3NlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIHRoZSBvYmplY3QsIHRyaWdnZXJpbmcgdGhlIGBkaXNwb3NlYCBtZXRob2Qgb24gYWxsIHJlZ2lzdGVyZWQgSURpc3Bvc2FibGVzLlxuICAgKi9cbiAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgdGhpcy5fZGlzcG9zYWJsZXMuZm9yRWFjaChkID0+IGQuZGlzcG9zZSgpKTtcbiAgICB0aGlzLl9kaXNwb3NhYmxlcy5sZW5ndGggPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGRpc3Bvc2FibGUgb2JqZWN0LlxuICAgKiBAcGFyYW0gZCBUaGUgZGlzcG9zYWJsZSB0byByZWdpc3Rlci5cbiAgICovXG4gIHB1YmxpYyByZWdpc3RlcjxUIGV4dGVuZHMgSURpc3Bvc2FibGU+KGQ6IFQpOiB2b2lkIHtcbiAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKGQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXJzIGEgZGlzcG9zYWJsZSBvYmplY3QgaWYgaXQgaGFzIGJlZW4gcmVnaXN0ZXJlZCwgaWYgbm90IGRvXG4gICAqIG5vdGhpbmcuXG4gICAqIEBwYXJhbSBkIFRoZSBkaXNwb3NhYmxlIHRvIHVucmVnaXN0ZXIuXG4gICAqL1xuICBwdWJsaWMgdW5yZWdpc3RlcjxUIGV4dGVuZHMgSURpc3Bvc2FibGU+KGQ6IFQpOiB2b2lkIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX2Rpc3Bvc2FibGVzLmluZGV4T2YoZCk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5fZGlzcG9zYWJsZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvY29tbW9uL0xpZmVjeWNsZS50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar Types_1 = __webpack_require__(1);\nfunction generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors) {\n    var clonedColors = {\n        foreground: colors.foreground,\n        background: colors.background,\n        cursor: null,\n        cursorAccent: null,\n        selection: null,\n        ansi: colors.ansi.slice(0, 16)\n    };\n    return {\n        type: terminal.options.experimentalCharAtlas,\n        devicePixelRatio: window.devicePixelRatio,\n        scaledCharWidth: scaledCharWidth,\n        scaledCharHeight: scaledCharHeight,\n        fontFamily: terminal.options.fontFamily,\n        fontSize: terminal.options.fontSize,\n        fontWeight: terminal.options.fontWeight,\n        fontWeightBold: terminal.options.fontWeightBold,\n        allowTransparency: terminal.options.allowTransparency,\n        colors: clonedColors\n    };\n}\nexports.generateConfig = generateConfig;\nfunction configEquals(a, b) {\n    for (var i = 0; i < a.colors.ansi.length; i++) {\n        if (a.colors.ansi[i].rgba !== b.colors.ansi[i].rgba) {\n            return false;\n        }\n    }\n    return a.type === b.type &&\n        a.devicePixelRatio === b.devicePixelRatio &&\n        a.fontFamily === b.fontFamily &&\n        a.fontSize === b.fontSize &&\n        a.fontWeight === b.fontWeight &&\n        a.fontWeightBold === b.fontWeightBold &&\n        a.allowTransparency === b.allowTransparency &&\n        a.scaledCharWidth === b.scaledCharWidth &&\n        a.scaledCharHeight === b.scaledCharHeight &&\n        a.colors.foreground === b.colors.foreground &&\n        a.colors.background === b.colors.background;\n}\nexports.configEquals = configEquals;\nfunction is256Color(colorCode) {\n    return colorCode < Types_1.DEFAULT_COLOR;\n}\nexports.is256Color = is256Color;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL2F0bGFzL0NoYXJBdGxhc1V0aWxzLnRzP2Q3OTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFPQSxxQ0FBMEQ7QUFFMUQsU0FBZ0IsY0FBYyxDQUFDLGVBQXVCLEVBQUUsZ0JBQXdCLEVBQUUsUUFBbUIsRUFBRSxNQUFpQjtJQUV0SCxJQUFNLFlBQVksR0FBYztRQUM5QixVQUFVLEVBQUUsTUFBTSxDQUFDLFVBQVU7UUFDN0IsVUFBVSxFQUFFLE1BQU0sQ0FBQyxVQUFVO1FBQzdCLE1BQU0sRUFBRSxJQUFJO1FBQ1osWUFBWSxFQUFFLElBQUk7UUFDbEIsU0FBUyxFQUFFLElBQUk7UUFHZixJQUFJLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQztLQUMvQixDQUFDO0lBQ0YsT0FBTztRQUNMLElBQUksRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLHFCQUFxQjtRQUM1QyxnQkFBZ0IsRUFBRSxNQUFNLENBQUMsZ0JBQWdCO1FBQ3pDLGVBQWU7UUFDZixnQkFBZ0I7UUFDaEIsVUFBVSxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBVTtRQUN2QyxRQUFRLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRO1FBQ25DLFVBQVUsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVU7UUFDdkMsY0FBYyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsY0FBYztRQUMvQyxpQkFBaUIsRUFBRSxRQUFRLENBQUMsT0FBTyxDQUFDLGlCQUFpQjtRQUNyRCxNQUFNLEVBQUUsWUFBWTtLQUNyQixDQUFDO0FBQ0osQ0FBQztBQXhCRCx3Q0F3QkM7QUFFRCxTQUFnQixZQUFZLENBQUMsQ0FBbUIsRUFBRSxDQUFtQjtJQUNuRSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQzdDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRTtZQUNuRCxPQUFPLEtBQUssQ0FBQztTQUNkO0tBQ0Y7SUFDRCxPQUFPLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLElBQUk7UUFDcEIsQ0FBQyxDQUFDLGdCQUFnQixLQUFLLENBQUMsQ0FBQyxnQkFBZ0I7UUFDekMsQ0FBQyxDQUFDLFVBQVUsS0FBSyxDQUFDLENBQUMsVUFBVTtRQUM3QixDQUFDLENBQUMsUUFBUSxLQUFLLENBQUMsQ0FBQyxRQUFRO1FBQ3pCLENBQUMsQ0FBQyxVQUFVLEtBQUssQ0FBQyxDQUFDLFVBQVU7UUFDN0IsQ0FBQyxDQUFDLGNBQWMsS0FBSyxDQUFDLENBQUMsY0FBYztRQUNyQyxDQUFDLENBQUMsaUJBQWlCLEtBQUssQ0FBQyxDQUFDLGlCQUFpQjtRQUMzQyxDQUFDLENBQUMsZUFBZSxLQUFLLENBQUMsQ0FBQyxlQUFlO1FBQ3ZDLENBQUMsQ0FBQyxnQkFBZ0IsS0FBSyxDQUFDLENBQUMsZ0JBQWdCO1FBQ3pDLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVTtRQUMzQyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVUsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztBQUNsRCxDQUFDO0FBakJELG9DQWlCQztBQUVELFNBQWdCLFVBQVUsQ0FBQyxTQUFpQjtJQUMxQyxPQUFPLFNBQVMsR0FBRyxxQkFBYSxDQUFDO0FBQ25DLENBQUM7QUFGRCxnQ0FFQyIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBJVGVybWluYWwgfSBmcm9tICcuLi8uLi9UeXBlcyc7XG5pbXBvcnQgeyBJQ29sb3JTZXQgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBERUZBVUxUX0NPTE9SLCBJQ2hhckF0bGFzQ29uZmlnIH0gZnJvbSAnLi9UeXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNvbmZpZyhzY2FsZWRDaGFyV2lkdGg6IG51bWJlciwgc2NhbGVkQ2hhckhlaWdodDogbnVtYmVyLCB0ZXJtaW5hbDogSVRlcm1pbmFsLCBjb2xvcnM6IElDb2xvclNldCk6IElDaGFyQXRsYXNDb25maWcge1xuICAvLyBudWxsIG91dCBzb21lIGZpZWxkcyB0aGF0IGRvbid0IG1hdHRlclxuICBjb25zdCBjbG9uZWRDb2xvcnMgPSA8SUNvbG9yU2V0PntcbiAgICBmb3JlZ3JvdW5kOiBjb2xvcnMuZm9yZWdyb3VuZCxcbiAgICBiYWNrZ3JvdW5kOiBjb2xvcnMuYmFja2dyb3VuZCxcbiAgICBjdXJzb3I6IG51bGwsXG4gICAgY3Vyc29yQWNjZW50OiBudWxsLFxuICAgIHNlbGVjdGlvbjogbnVsbCxcbiAgICAvLyBGb3IgdGhlIHN0YXRpYyBjaGFyIGF0bGFzLCB3ZSBvbmx5IHVzZSB0aGUgZmlyc3QgMTYgY29sb3JzLCBidXQgd2UgbmVlZCBhbGwgMjU2IGZvciB0aGVcbiAgICAvLyBkeW5hbWljIGNoYXJhY3RlciBhdGxhcy5cbiAgICBhbnNpOiBjb2xvcnMuYW5zaS5zbGljZSgwLCAxNilcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiB0ZXJtaW5hbC5vcHRpb25zLmV4cGVyaW1lbnRhbENoYXJBdGxhcyxcbiAgICBkZXZpY2VQaXhlbFJhdGlvOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxcbiAgICBzY2FsZWRDaGFyV2lkdGgsXG4gICAgc2NhbGVkQ2hhckhlaWdodCxcbiAgICBmb250RmFtaWx5OiB0ZXJtaW5hbC5vcHRpb25zLmZvbnRGYW1pbHksXG4gICAgZm9udFNpemU6IHRlcm1pbmFsLm9wdGlvbnMuZm9udFNpemUsXG4gICAgZm9udFdlaWdodDogdGVybWluYWwub3B0aW9ucy5mb250V2VpZ2h0LFxuICAgIGZvbnRXZWlnaHRCb2xkOiB0ZXJtaW5hbC5vcHRpb25zLmZvbnRXZWlnaHRCb2xkLFxuICAgIGFsbG93VHJhbnNwYXJlbmN5OiB0ZXJtaW5hbC5vcHRpb25zLmFsbG93VHJhbnNwYXJlbmN5LFxuICAgIGNvbG9yczogY2xvbmVkQ29sb3JzXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25maWdFcXVhbHMoYTogSUNoYXJBdGxhc0NvbmZpZywgYjogSUNoYXJBdGxhc0NvbmZpZyk6IGJvb2xlYW4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGEuY29sb3JzLmFuc2kubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYS5jb2xvcnMuYW5zaVtpXS5yZ2JhICE9PSBiLmNvbG9ycy5hbnNpW2ldLnJnYmEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGEudHlwZSA9PT0gYi50eXBlICYmXG4gICAgICBhLmRldmljZVBpeGVsUmF0aW8gPT09IGIuZGV2aWNlUGl4ZWxSYXRpbyAmJlxuICAgICAgYS5mb250RmFtaWx5ID09PSBiLmZvbnRGYW1pbHkgJiZcbiAgICAgIGEuZm9udFNpemUgPT09IGIuZm9udFNpemUgJiZcbiAgICAgIGEuZm9udFdlaWdodCA9PT0gYi5mb250V2VpZ2h0ICYmXG4gICAgICBhLmZvbnRXZWlnaHRCb2xkID09PSBiLmZvbnRXZWlnaHRCb2xkICYmXG4gICAgICBhLmFsbG93VHJhbnNwYXJlbmN5ID09PSBiLmFsbG93VHJhbnNwYXJlbmN5ICYmXG4gICAgICBhLnNjYWxlZENoYXJXaWR0aCA9PT0gYi5zY2FsZWRDaGFyV2lkdGggJiZcbiAgICAgIGEuc2NhbGVkQ2hhckhlaWdodCA9PT0gYi5zY2FsZWRDaGFySGVpZ2h0ICYmXG4gICAgICBhLmNvbG9ycy5mb3JlZ3JvdW5kID09PSBiLmNvbG9ycy5mb3JlZ3JvdW5kICYmXG4gICAgICBhLmNvbG9ycy5iYWNrZ3JvdW5kID09PSBiLmNvbG9ycy5iYWNrZ3JvdW5kO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXMyNTZDb2xvcihjb2xvckNvZGU6IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gY29sb3JDb2RlIDwgREVGQVVMVF9DT0xPUjtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvcmVuZGVyZXIvYXRsYXMvQ2hhckF0bGFzVXRpbHMudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n')},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isNode = (typeof navigator === 'undefined') ? true : false;\nvar userAgent = (isNode) ? 'node' : navigator.userAgent;\nvar platform = (isNode) ? 'node' : navigator.platform;\nexports.isFirefox = !!~userAgent.indexOf('Firefox');\nexports.isSafari = /^((?!chrome|android).)*safari/i.test(userAgent);\nexports.isMSIE = !!~userAgent.indexOf('MSIE') || !!~userAgent.indexOf('Trident');\nexports.isMac = contains(['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'], platform);\nexports.isIpad = platform === 'iPad';\nexports.isIphone = platform === 'iPhone';\nexports.isMSWindows = contains(['Windows', 'Win16', 'Win32', 'WinCE'], platform);\nexports.isLinux = platform.indexOf('Linux') >= 0;\nfunction contains(arr, el) {\n    return arr.indexOf(el) >= 0;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL2NvcmUvUGxhdGZvcm0udHM/OTZlMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUtBLElBQU0sTUFBTSxHQUFHLENBQUMsT0FBTyxTQUFTLEtBQUssV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0FBQ2pFLElBQU0sU0FBUyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQztBQUMxRCxJQUFNLFFBQVEsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7QUFFM0MsaUJBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzVDLGdCQUFRLEdBQUcsZ0NBQWdDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzVELGNBQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7QUFLekUsYUFBSyxHQUFHLFFBQVEsQ0FBQyxDQUFDLFdBQVcsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQzFFLGNBQU0sR0FBRyxRQUFRLEtBQUssTUFBTSxDQUFDO0FBQzdCLGdCQUFRLEdBQUcsUUFBUSxLQUFLLFFBQVEsQ0FBQztBQUNqQyxtQkFBVyxHQUFHLFFBQVEsQ0FBQyxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3pFLGVBQU8sR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQU90RCxTQUFTLFFBQVEsQ0FBQyxHQUFVLEVBQUUsRUFBTztJQUNuQyxPQUFPLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzlCLENBQUMiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE2IFRoZSB4dGVybS5qcyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuY29uc3QgaXNOb2RlID0gKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKSA/IHRydWUgOiBmYWxzZTtcbmNvbnN0IHVzZXJBZ2VudCA9IChpc05vZGUpID8gJ25vZGUnIDogbmF2aWdhdG9yLnVzZXJBZ2VudDtcbmNvbnN0IHBsYXRmb3JtID0gKGlzTm9kZSkgPyAnbm9kZScgOiBuYXZpZ2F0b3IucGxhdGZvcm07XG5cbmV4cG9ydCBjb25zdCBpc0ZpcmVmb3ggPSAhIX51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpO1xuZXhwb3J0IGNvbnN0IGlzU2FmYXJpID0gL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdCh1c2VyQWdlbnQpO1xuZXhwb3J0IGNvbnN0IGlzTVNJRSA9ICEhfnVzZXJBZ2VudC5pbmRleE9mKCdNU0lFJykgfHwgISF+dXNlckFnZW50LmluZGV4T2YoJ1RyaWRlbnQnKTtcblxuLy8gRmluZCB0aGUgdXNlcnMgcGxhdGZvcm0uIFdlIHVzZSB0aGlzIHRvIGludGVycHJldCB0aGUgbWV0YSBrZXlcbi8vIGFuZCBJU08gdGhpcmQgbGV2ZWwgc2hpZnRzLlxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMTk4Nzc5MjQvNTc3NTk4XG5leHBvcnQgY29uc3QgaXNNYWMgPSBjb250YWlucyhbJ01hY2ludG9zaCcsICdNYWNJbnRlbCcsICdNYWNQUEMnLCAnTWFjNjhLJ10sIHBsYXRmb3JtKTtcbmV4cG9ydCBjb25zdCBpc0lwYWQgPSBwbGF0Zm9ybSA9PT0gJ2lQYWQnO1xuZXhwb3J0IGNvbnN0IGlzSXBob25lID0gcGxhdGZvcm0gPT09ICdpUGhvbmUnO1xuZXhwb3J0IGNvbnN0IGlzTVNXaW5kb3dzID0gY29udGFpbnMoWydXaW5kb3dzJywgJ1dpbjE2JywgJ1dpbjMyJywgJ1dpbkNFJ10sIHBsYXRmb3JtKTtcbmV4cG9ydCBjb25zdCBpc0xpbnV4ID0gcGxhdGZvcm0uaW5kZXhPZignTGludXgnKSA+PSAwO1xuXG4vKipcbiAqIFJldHVybiBpZiB0aGUgZ2l2ZW4gYXJyYXkgY29udGFpbnMgdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBwYXJhbSBhcnIgVGhlIGFycmF5IHRvIHNlYXJjaCBmb3IgdGhlIGdpdmVuIGVsZW1lbnQuXG4gKiBAcGFyYW0gZWwgVGhlIGVsZW1lbnQgdG8gbG9vayBmb3IgaW50byB0aGUgYXJyYXlcbiAqL1xuZnVuY3Rpb24gY29udGFpbnMoYXJyOiBhbnlbXSwgZWw6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gYXJyLmluZGV4T2YoZWwpID49IDA7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL2NvcmUvUGxhdGZvcm0udHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n")},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nfunction addDisposableDomListener(node, type, handler, useCapture) {\n    node.addEventListener(type, handler, useCapture);\n    return {\n        dispose: function () {\n            if (!handler) {\n                return;\n            }\n            node.removeEventListener(type, handler, useCapture);\n            node = null;\n            handler = null;\n        }\n    };\n}\nexports.addDisposableDomListener = addDisposableDomListener;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3VpL0xpZmVjeWNsZS50cz80M2JlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBWUEsU0FBZ0Isd0JBQXdCLENBQ3RDLElBQWlDLEVBQ2pDLElBQVksRUFDWixPQUF5QixFQUN6QixVQUFvQjtJQUVwQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNqRCxPQUFPO1FBQ0wsT0FBTyxFQUFFO1lBQ1AsSUFBSSxDQUFDLE9BQU8sRUFBRTtnQkFFWixPQUFPO2FBQ1I7WUFDRCxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztZQUNwRCxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBQ1osT0FBTyxHQUFHLElBQUksQ0FBQztRQUNqQixDQUFDO0tBQ0YsQ0FBQztBQUNKLENBQUM7QUFsQkQsNERBa0JDIiwiZmlsZSI6IjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxOCBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IElEaXNwb3NhYmxlIH0gZnJvbSAneHRlcm0nO1xuXG4vKipcbiAqIEFkZHMgYSBkaXNwb3NhYmUgbGlzdGVuZXIgdG8gYSBub2RlIGluIHRoZSBET00sIHJldHVybmluZyB0aGUgZGlzcG9zYWJsZS5cbiAqIEBwYXJhbSB0eXBlIFRoZSBldmVudCB0eXBlLlxuICogQHBhcmFtIGhhbmRsZXIgVGhlIGhhbmRsZXIgZm9yIHRoZSBsaXN0ZW5lci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcihcbiAgbm9kZTogRWxlbWVudCB8IFdpbmRvdyB8IERvY3VtZW50LFxuICB0eXBlOiBzdHJpbmcsXG4gIGhhbmRsZXI6IChlOiBhbnkpID0+IHZvaWQsXG4gIHVzZUNhcHR1cmU/OiBib29sZWFuXG4pOiBJRGlzcG9zYWJsZSB7XG4gIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCB1c2VDYXB0dXJlKTtcbiAgcmV0dXJuIHtcbiAgICBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgLy8gQWxyZWFkeSBkaXNwb3NlZFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgdXNlQ2FwdHVyZSk7XG4gICAgICBub2RlID0gbnVsbDtcbiAgICAgIGhhbmRsZXIgPSBudWxsO1xuICAgIH1cbiAgfTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvdWkvTGlmZWN5Y2xlLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n')},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar C0;\n(function (C0) {\n    C0.NUL = '\\x00';\n    C0.SOH = '\\x01';\n    C0.STX = '\\x02';\n    C0.ETX = '\\x03';\n    C0.EOT = '\\x04';\n    C0.ENQ = '\\x05';\n    C0.ACK = '\\x06';\n    C0.BEL = '\\x07';\n    C0.BS = '\\x08';\n    C0.HT = '\\x09';\n    C0.LF = '\\x0a';\n    C0.VT = '\\x0b';\n    C0.FF = '\\x0c';\n    C0.CR = '\\x0d';\n    C0.SO = '\\x0e';\n    C0.SI = '\\x0f';\n    C0.DLE = '\\x10';\n    C0.DC1 = '\\x11';\n    C0.DC2 = '\\x12';\n    C0.DC3 = '\\x13';\n    C0.DC4 = '\\x14';\n    C0.NAK = '\\x15';\n    C0.SYN = '\\x16';\n    C0.ETB = '\\x17';\n    C0.CAN = '\\x18';\n    C0.EM = '\\x19';\n    C0.SUB = '\\x1a';\n    C0.ESC = '\\x1b';\n    C0.FS = '\\x1c';\n    C0.GS = '\\x1d';\n    C0.RS = '\\x1e';\n    C0.US = '\\x1f';\n    C0.SP = '\\x20';\n    C0.DEL = '\\x7f';\n})(C0 = exports.C0 || (exports.C0 = {}));\nvar C1;\n(function (C1) {\n    C1.PAD = '\\x80';\n    C1.HOP = '\\x81';\n    C1.BPH = '\\x82';\n    C1.NBH = '\\x83';\n    C1.IND = '\\x84';\n    C1.NEL = '\\x85';\n    C1.SSA = '\\x86';\n    C1.ESA = '\\x87';\n    C1.HTS = '\\x88';\n    C1.HTJ = '\\x89';\n    C1.VTS = '\\x8a';\n    C1.PLD = '\\x8b';\n    C1.PLU = '\\x8c';\n    C1.RI = '\\x8d';\n    C1.SS2 = '\\x8e';\n    C1.SS3 = '\\x8f';\n    C1.DCS = '\\x90';\n    C1.PU1 = '\\x91';\n    C1.PU2 = '\\x92';\n    C1.STS = '\\x93';\n    C1.CCH = '\\x94';\n    C1.MW = '\\x95';\n    C1.SPA = '\\x96';\n    C1.EPA = '\\x97';\n    C1.SOS = '\\x98';\n    C1.SGCI = '\\x99';\n    C1.SCI = '\\x9a';\n    C1.CSI = '\\x9b';\n    C1.ST = '\\x9c';\n    C1.OSC = '\\x9d';\n    C1.PM = '\\x9e';\n    C1.APC = '\\x9f';\n})(C1 = exports.C1 || (exports.C1 = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL2NvbW1vbi9kYXRhL0VzY2FwZVNlcXVlbmNlcy50cz8yNDIwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBU0EsSUFBaUIsRUFBRSxDQXFFbEI7QUFyRUQsV0FBaUIsRUFBRTtJQUVKLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsTUFBRyxHQUFHLE1BQU0sQ0FBQztJQUViLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsTUFBRyxHQUFHLE1BQU0sQ0FBQztJQUViLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsS0FBRSxHQUFJLE1BQU0sQ0FBQztJQUViLEtBQUUsR0FBSSxNQUFNLENBQUM7SUFFYixLQUFFLEdBQUksTUFBTSxDQUFDO0lBRWIsS0FBRSxHQUFJLE1BQU0sQ0FBQztJQUViLEtBQUUsR0FBSSxNQUFNLENBQUM7SUFFYixLQUFFLEdBQUksTUFBTSxDQUFDO0lBRWIsS0FBRSxHQUFJLE1BQU0sQ0FBQztJQUViLEtBQUUsR0FBSSxNQUFNLENBQUM7SUFFYixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsTUFBRyxHQUFHLE1BQU0sQ0FBQztJQUViLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsTUFBRyxHQUFHLE1BQU0sQ0FBQztJQUViLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsTUFBRyxHQUFHLE1BQU0sQ0FBQztJQUViLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixLQUFFLEdBQUksTUFBTSxDQUFDO0lBRWIsTUFBRyxHQUFHLE1BQU0sQ0FBQztJQUViLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixLQUFFLEdBQUksTUFBTSxDQUFDO0lBRWIsS0FBRSxHQUFJLE1BQU0sQ0FBQztJQUViLEtBQUUsR0FBSSxNQUFNLENBQUM7SUFFYixLQUFFLEdBQUksTUFBTSxDQUFDO0lBRWIsS0FBRSxHQUFJLE1BQU0sQ0FBQztJQUViLE1BQUcsR0FBRyxNQUFNLENBQUM7QUFDNUIsQ0FBQyxFQXJFZ0IsRUFBRSxHQUFGLFVBQUUsS0FBRixVQUFFLFFBcUVsQjtBQU1ELElBQWlCLEVBQUUsQ0FpRWxCO0FBakVELFdBQWlCLEVBQUU7SUFFSixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsTUFBRyxHQUFHLE1BQU0sQ0FBQztJQUViLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsTUFBRyxHQUFHLE1BQU0sQ0FBQztJQUViLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsTUFBRyxHQUFHLE1BQU0sQ0FBQztJQUViLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsTUFBRyxHQUFHLE1BQU0sQ0FBQztJQUViLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsS0FBRSxHQUFHLE1BQU0sQ0FBQztJQUVaLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsTUFBRyxHQUFHLE1BQU0sQ0FBQztJQUViLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsTUFBRyxHQUFHLE1BQU0sQ0FBQztJQUViLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixLQUFFLEdBQUcsTUFBTSxDQUFDO0lBRVosTUFBRyxHQUFHLE1BQU0sQ0FBQztJQUViLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsT0FBSSxHQUFHLE1BQU0sQ0FBQztJQUVkLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixNQUFHLEdBQUcsTUFBTSxDQUFDO0lBRWIsS0FBRSxHQUFHLE1BQU0sQ0FBQztJQUVaLE1BQUcsR0FBRyxNQUFNLENBQUM7SUFFYixLQUFFLEdBQUcsTUFBTSxDQUFDO0lBRVosTUFBRyxHQUFHLE1BQU0sQ0FBQztBQUM1QixDQUFDLEVBakVnQixFQUFFLEdBQUYsVUFBRSxLQUFGLFVBQUUsUUFpRWxCIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbi8qKlxuICogQzAgY29udHJvbCBjb2Rlc1xuICogU2VlID0gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQzBfYW5kX0MxX2NvbnRyb2xfY29kZXNcbiAqL1xuZXhwb3J0IG5hbWVzcGFjZSBDMCB7XG4gIC8qKiBOdWxsIChDYXJldCA9IF5ALCBDID0gXFwwKSAqL1xuICBleHBvcnQgY29uc3QgTlVMID0gJ1xceDAwJztcbiAgLyoqIFN0YXJ0IG9mIEhlYWRpbmcgKENhcmV0ID0gXkEpICovXG4gIGV4cG9ydCBjb25zdCBTT0ggPSAnXFx4MDEnO1xuICAvKiogU3RhcnQgb2YgVGV4dCAoQ2FyZXQgPSBeQikgKi9cbiAgZXhwb3J0IGNvbnN0IFNUWCA9ICdcXHgwMic7XG4gIC8qKiBFbmQgb2YgVGV4dCAoQ2FyZXQgPSBeQykgKi9cbiAgZXhwb3J0IGNvbnN0IEVUWCA9ICdcXHgwMyc7XG4gIC8qKiBFbmQgb2YgVHJhbnNtaXNzaW9uIChDYXJldCA9IF5EKSAqL1xuICBleHBvcnQgY29uc3QgRU9UID0gJ1xceDA0JztcbiAgLyoqIEVucXVpcnkgKENhcmV0ID0gXkUpICovXG4gIGV4cG9ydCBjb25zdCBFTlEgPSAnXFx4MDUnO1xuICAvKiogQWNrbm93bGVkZ2UgKENhcmV0ID0gXkYpICovXG4gIGV4cG9ydCBjb25zdCBBQ0sgPSAnXFx4MDYnO1xuICAvKiogQmVsbCAoQ2FyZXQgPSBeRywgQyA9IFxcYSkgKi9cbiAgZXhwb3J0IGNvbnN0IEJFTCA9ICdcXHgwNyc7XG4gIC8qKiBCYWNrc3BhY2UgKENhcmV0ID0gXkgsIEMgPSBcXGIpICovXG4gIGV4cG9ydCBjb25zdCBCUyAgPSAnXFx4MDgnO1xuICAvKiogQ2hhcmFjdGVyIFRhYnVsYXRpb24sIEhvcml6b250YWwgVGFidWxhdGlvbiAoQ2FyZXQgPSBeSSwgQyA9IFxcdCkgKi9cbiAgZXhwb3J0IGNvbnN0IEhUICA9ICdcXHgwOSc7XG4gIC8qKiBMaW5lIEZlZWQgKENhcmV0ID0gXkosIEMgPSBcXG4pICovXG4gIGV4cG9ydCBjb25zdCBMRiAgPSAnXFx4MGEnO1xuICAvKiogTGluZSBUYWJ1bGF0aW9uLCBWZXJ0aWNhbCBUYWJ1bGF0aW9uIChDYXJldCA9IF5LLCBDID0gXFx2KSAqL1xuICBleHBvcnQgY29uc3QgVlQgID0gJ1xceDBiJztcbiAgLyoqIEZvcm0gRmVlZCAoQ2FyZXQgPSBeTCwgQyA9IFxcZikgKi9cbiAgZXhwb3J0IGNvbnN0IEZGICA9ICdcXHgwYyc7XG4gIC8qKiBDYXJyaWFnZSBSZXR1cm4gKENhcmV0ID0gXk0sIEMgPSBcXHIpICovXG4gIGV4cG9ydCBjb25zdCBDUiAgPSAnXFx4MGQnO1xuICAvKiogU2hpZnQgT3V0IChDYXJldCA9IF5OKSAqL1xuICBleHBvcnQgY29uc3QgU08gID0gJ1xceDBlJztcbiAgLyoqIFNoaWZ0IEluIChDYXJldCA9IF5PKSAqL1xuICBleHBvcnQgY29uc3QgU0kgID0gJ1xceDBmJztcbiAgLyoqIERhdGEgTGluayBFc2NhcGUgKENhcmV0ID0gXlApICovXG4gIGV4cG9ydCBjb25zdCBETEUgPSAnXFx4MTAnO1xuICAvKiogRGV2aWNlIENvbnRyb2wgT25lIChYT04pIChDYXJldCA9IF5RKSAqL1xuICBleHBvcnQgY29uc3QgREMxID0gJ1xceDExJztcbiAgLyoqIERldmljZSBDb250cm9sIFR3byAoQ2FyZXQgPSBeUikgKi9cbiAgZXhwb3J0IGNvbnN0IERDMiA9ICdcXHgxMic7XG4gIC8qKiBEZXZpY2UgQ29udHJvbCBUaHJlZSAoWE9GRikgKENhcmV0ID0gXlMpICovXG4gIGV4cG9ydCBjb25zdCBEQzMgPSAnXFx4MTMnO1xuICAvKiogRGV2aWNlIENvbnRyb2wgRm91ciAoQ2FyZXQgPSBeVCkgKi9cbiAgZXhwb3J0IGNvbnN0IERDNCA9ICdcXHgxNCc7XG4gIC8qKiBOZWdhdGl2ZSBBY2tub3dsZWRnZSAoQ2FyZXQgPSBeVSkgKi9cbiAgZXhwb3J0IGNvbnN0IE5BSyA9ICdcXHgxNSc7XG4gIC8qKiBTeW5jaHJvbm91cyBJZGxlIChDYXJldCA9IF5WKSAqL1xuICBleHBvcnQgY29uc3QgU1lOID0gJ1xceDE2JztcbiAgLyoqIEVuZCBvZiBUcmFuc21pc3Npb24gQmxvY2sgKENhcmV0ID0gXlcpICovXG4gIGV4cG9ydCBjb25zdCBFVEIgPSAnXFx4MTcnO1xuICAvKiogQ2FuY2VsIChDYXJldCA9IF5YKSAqL1xuICBleHBvcnQgY29uc3QgQ0FOID0gJ1xceDE4JztcbiAgLyoqIEVuZCBvZiBNZWRpdW0gKENhcmV0ID0gXlkpICovXG4gIGV4cG9ydCBjb25zdCBFTSAgPSAnXFx4MTknO1xuICAvKiogU3Vic3RpdHV0ZSAoQ2FyZXQgPSBeWikgKi9cbiAgZXhwb3J0IGNvbnN0IFNVQiA9ICdcXHgxYSc7XG4gIC8qKiBFc2NhcGUgKENhcmV0ID0gXlssIEMgPSBcXGUpICovXG4gIGV4cG9ydCBjb25zdCBFU0MgPSAnXFx4MWInO1xuICAvKiogRmlsZSBTZXBhcmF0b3IgKENhcmV0ID0gXlxcKSAqL1xuICBleHBvcnQgY29uc3QgRlMgID0gJ1xceDFjJztcbiAgLyoqIEdyb3VwIFNlcGFyYXRvciAoQ2FyZXQgPSBeXSkgKi9cbiAgZXhwb3J0IGNvbnN0IEdTICA9ICdcXHgxZCc7XG4gIC8qKiBSZWNvcmQgU2VwYXJhdG9yIChDYXJldCA9IF5eKSAqL1xuICBleHBvcnQgY29uc3QgUlMgID0gJ1xceDFlJztcbiAgLyoqIFVuaXQgU2VwYXJhdG9yIChDYXJldCA9IF5fKSAqL1xuICBleHBvcnQgY29uc3QgVVMgID0gJ1xceDFmJztcbiAgLyoqIFNwYWNlICovXG4gIGV4cG9ydCBjb25zdCBTUCAgPSAnXFx4MjAnO1xuICAvKiogRGVsZXRlIChDYXJldCA9IF4/KSAqL1xuICBleHBvcnQgY29uc3QgREVMID0gJ1xceDdmJztcbn1cblxuLyoqXG4gKiBDMSBjb250cm9sIGNvZGVzXG4gKiBTZWUgPSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DMF9hbmRfQzFfY29udHJvbF9jb2Rlc1xuICovXG5leHBvcnQgbmFtZXNwYWNlIEMxIHtcbiAgLyoqIHBhZGRpbmcgY2hhcmFjdGVyICovXG4gIGV4cG9ydCBjb25zdCBQQUQgPSAnXFx4ODAnO1xuICAvKiogSGlnaCBPY3RldCBQcmVzZXQgKi9cbiAgZXhwb3J0IGNvbnN0IEhPUCA9ICdcXHg4MSc7XG4gIC8qKiBCcmVhayBQZXJtaXR0ZWQgSGVyZSAqL1xuICBleHBvcnQgY29uc3QgQlBIID0gJ1xceDgyJztcbiAgLyoqIE5vIEJyZWFrIEhlcmUgKi9cbiAgZXhwb3J0IGNvbnN0IE5CSCA9ICdcXHg4Myc7XG4gIC8qKiBJbmRleCAqL1xuICBleHBvcnQgY29uc3QgSU5EID0gJ1xceDg0JztcbiAgLyoqIE5leHQgTGluZSAqL1xuICBleHBvcnQgY29uc3QgTkVMID0gJ1xceDg1JztcbiAgLyoqIFN0YXJ0IG9mIFNlbGVjdGVkIEFyZWEgKi9cbiAgZXhwb3J0IGNvbnN0IFNTQSA9ICdcXHg4Nic7XG4gIC8qKiBFbmQgb2YgU2VsZWN0ZWQgQXJlYSAqL1xuICBleHBvcnQgY29uc3QgRVNBID0gJ1xceDg3JztcbiAgLyoqIEhvcml6b250YWwgVGFidWxhdGlvbiBTZXQgKi9cbiAgZXhwb3J0IGNvbnN0IEhUUyA9ICdcXHg4OCc7XG4gIC8qKiBIb3Jpem9udGFsIFRhYnVsYXRpb24gV2l0aCBKdXN0aWZpY2F0aW9uICovXG4gIGV4cG9ydCBjb25zdCBIVEogPSAnXFx4ODknO1xuICAvKiogVmVydGljYWwgVGFidWxhdGlvbiBTZXQgKi9cbiAgZXhwb3J0IGNvbnN0IFZUUyA9ICdcXHg4YSc7XG4gIC8qKiBQYXJ0aWFsIExpbmUgRG93biAqL1xuICBleHBvcnQgY29uc3QgUExEID0gJ1xceDhiJztcbiAgLyoqIFBhcnRpYWwgTGluZSBVcCAqL1xuICBleHBvcnQgY29uc3QgUExVID0gJ1xceDhjJztcbiAgLyoqIFJldmVyc2UgSW5kZXggKi9cbiAgZXhwb3J0IGNvbnN0IFJJID0gJ1xceDhkJztcbiAgLyoqIFNpbmdsZS1TaGlmdCAyICovXG4gIGV4cG9ydCBjb25zdCBTUzIgPSAnXFx4OGUnO1xuICAvKiogU2luZ2xlLVNoaWZ0IDMgKi9cbiAgZXhwb3J0IGNvbnN0IFNTMyA9ICdcXHg4Zic7XG4gIC8qKiBEZXZpY2UgQ29udHJvbCBTdHJpbmcgKi9cbiAgZXhwb3J0IGNvbnN0IERDUyA9ICdcXHg5MCc7XG4gIC8qKiBQcml2YXRlIFVzZSAxICovXG4gIGV4cG9ydCBjb25zdCBQVTEgPSAnXFx4OTEnO1xuICAvKiogUHJpdmF0ZSBVc2UgMiAqL1xuICBleHBvcnQgY29uc3QgUFUyID0gJ1xceDkyJztcbiAgLyoqIFNldCBUcmFuc21pdCBTdGF0ZSAqL1xuICBleHBvcnQgY29uc3QgU1RTID0gJ1xceDkzJztcbiAgLyoqIERlc3RydWN0aXZlIGJhY2tzcGFjZSwgaW50ZW5kZWQgdG8gZWxpbWluYXRlIGFtYmlndWl0eSBhYm91dCBtZWFuaW5nIG9mIEJTLiAqL1xuICBleHBvcnQgY29uc3QgQ0NIID0gJ1xceDk0JztcbiAgLyoqIE1lc3NhZ2UgV2FpdGluZyAqL1xuICBleHBvcnQgY29uc3QgTVcgPSAnXFx4OTUnO1xuICAvKiogU3RhcnQgb2YgUHJvdGVjdGVkIEFyZWEgKi9cbiAgZXhwb3J0IGNvbnN0IFNQQSA9ICdcXHg5Nic7XG4gIC8qKiBFbmQgb2YgUHJvdGVjdGVkIEFyZWEgKi9cbiAgZXhwb3J0IGNvbnN0IEVQQSA9ICdcXHg5Nyc7XG4gIC8qKiBTdGFydCBvZiBTdHJpbmcgKi9cbiAgZXhwb3J0IGNvbnN0IFNPUyA9ICdcXHg5OCc7XG4gIC8qKiBTaW5nbGUgR3JhcGhpYyBDaGFyYWN0ZXIgSW50cm9kdWNlciAqL1xuICBleHBvcnQgY29uc3QgU0dDSSA9ICdcXHg5OSc7XG4gIC8qKiBTaW5nbGUgQ2hhcmFjdGVyIEludHJvZHVjZXIgKi9cbiAgZXhwb3J0IGNvbnN0IFNDSSA9ICdcXHg5YSc7XG4gIC8qKiBDb250cm9sIFNlcXVlbmNlIEludHJvZHVjZXIgKi9cbiAgZXhwb3J0IGNvbnN0IENTSSA9ICdcXHg5Yic7XG4gIC8qKiBTdHJpbmcgVGVybWluYXRvciAqL1xuICBleHBvcnQgY29uc3QgU1QgPSAnXFx4OWMnO1xuICAvKiogT3BlcmF0aW5nIFN5c3RlbSBDb21tYW5kICovXG4gIGV4cG9ydCBjb25zdCBPU0MgPSAnXFx4OWQnO1xuICAvKiogUHJpdmFjeSBNZXNzYWdlICovXG4gIGV4cG9ydCBjb25zdCBQTSA9ICdcXHg5ZSc7XG4gIC8qKiBBcHBsaWNhdGlvbiBQcm9ncmFtIENvbW1hbmQgKi9cbiAgZXhwb3J0IGNvbnN0IEFQQyA9ICdcXHg5Zic7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL2NvbW1vbi9kYXRhL0VzY2FwZVNlcXVlbmNlcy50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n")},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar Types_1 = __webpack_require__(1);\nvar CharAtlasCache_1 = __webpack_require__(14);\nvar Buffer_1 = __webpack_require__(0);\nvar CharAtlasUtils_1 = __webpack_require__(4);\nvar BaseRenderLayer = (function () {\n    function BaseRenderLayer(_container, id, zIndex, _alpha, _colors) {\n        this._container = _container;\n        this._alpha = _alpha;\n        this._colors = _colors;\n        this._scaledCharWidth = 0;\n        this._scaledCharHeight = 0;\n        this._scaledCellWidth = 0;\n        this._scaledCellHeight = 0;\n        this._scaledCharLeft = 0;\n        this._scaledCharTop = 0;\n        this._currentGlyphIdentifier = {\n            chars: \'\',\n            code: 0,\n            bg: 0,\n            fg: 0,\n            bold: false,\n            dim: false,\n            italic: false\n        };\n        this._canvas = document.createElement(\'canvas\');\n        this._canvas.classList.add("xterm-" + id + "-layer");\n        this._canvas.style.zIndex = zIndex.toString();\n        this._initCanvas();\n        this._container.appendChild(this._canvas);\n    }\n    BaseRenderLayer.prototype.dispose = function () {\n        this._container.removeChild(this._canvas);\n        if (this._charAtlas) {\n            this._charAtlas.dispose();\n        }\n    };\n    BaseRenderLayer.prototype._initCanvas = function () {\n        this._ctx = this._canvas.getContext(\'2d\', { alpha: this._alpha });\n        if (!this._alpha) {\n            this.clearAll();\n        }\n    };\n    BaseRenderLayer.prototype.onOptionsChanged = function (terminal) { };\n    BaseRenderLayer.prototype.onBlur = function (terminal) { };\n    BaseRenderLayer.prototype.onFocus = function (terminal) { };\n    BaseRenderLayer.prototype.onCursorMove = function (terminal) { };\n    BaseRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) { };\n    BaseRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n    };\n    BaseRenderLayer.prototype.onThemeChanged = function (terminal, colorSet) {\n        this._refreshCharAtlas(terminal, colorSet);\n    };\n    BaseRenderLayer.prototype.setTransparency = function (terminal, alpha) {\n        if (alpha === this._alpha) {\n            return;\n        }\n        var oldCanvas = this._canvas;\n        this._alpha = alpha;\n        this._canvas = this._canvas.cloneNode();\n        this._initCanvas();\n        this._container.replaceChild(this._canvas, oldCanvas);\n        this._refreshCharAtlas(terminal, this._colors);\n        this.onGridChanged(terminal, 0, terminal.rows - 1);\n    };\n    BaseRenderLayer.prototype._refreshCharAtlas = function (terminal, colorSet) {\n        if (this._scaledCharWidth <= 0 && this._scaledCharHeight <= 0) {\n            return;\n        }\n        this._charAtlas = CharAtlasCache_1.acquireCharAtlas(terminal, colorSet, this._scaledCharWidth, this._scaledCharHeight);\n        this._charAtlas.warmUp();\n    };\n    BaseRenderLayer.prototype.resize = function (terminal, dim) {\n        this._scaledCellWidth = dim.scaledCellWidth;\n        this._scaledCellHeight = dim.scaledCellHeight;\n        this._scaledCharWidth = dim.scaledCharWidth;\n        this._scaledCharHeight = dim.scaledCharHeight;\n        this._scaledCharLeft = dim.scaledCharLeft;\n        this._scaledCharTop = dim.scaledCharTop;\n        this._canvas.width = dim.scaledCanvasWidth;\n        this._canvas.height = dim.scaledCanvasHeight;\n        this._canvas.style.width = dim.canvasWidth + "px";\n        this._canvas.style.height = dim.canvasHeight + "px";\n        if (!this._alpha) {\n            this.clearAll();\n        }\n        this._refreshCharAtlas(terminal, this._colors);\n    };\n    BaseRenderLayer.prototype.fillCells = function (x, y, width, height) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.fillBottomLineAtCells = function (x, y, width) {\n        if (width === void 0) { width = 1; }\n        this._ctx.fillRect(x * this._scaledCellWidth, (y + 1) * this._scaledCellHeight - window.devicePixelRatio - 1, width * this._scaledCellWidth, window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.fillLeftLineAtCell = function (x, y) {\n        this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, window.devicePixelRatio, this._scaledCellHeight);\n    };\n    BaseRenderLayer.prototype.strokeRectAtCell = function (x, y, width, height) {\n        this._ctx.lineWidth = window.devicePixelRatio;\n        this._ctx.strokeRect(x * this._scaledCellWidth + window.devicePixelRatio / 2, y * this._scaledCellHeight + (window.devicePixelRatio / 2), width * this._scaledCellWidth - window.devicePixelRatio, (height * this._scaledCellHeight) - window.devicePixelRatio);\n    };\n    BaseRenderLayer.prototype.clearAll = function () {\n        if (this._alpha) {\n            this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(0, 0, this._canvas.width, this._canvas.height);\n        }\n    };\n    BaseRenderLayer.prototype.clearCells = function (x, y, width, height) {\n        if (this._alpha) {\n            this._ctx.clearRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n        else {\n            this._ctx.fillStyle = this._colors.background.css;\n            this._ctx.fillRect(x * this._scaledCellWidth, y * this._scaledCellHeight, width * this._scaledCellWidth, height * this._scaledCellHeight);\n        }\n    };\n    BaseRenderLayer.prototype.fillCharTrueColor = function (terminal, charData, x, y) {\n        this._ctx.font = this._getFont(terminal, false, false);\n        this._ctx.textBaseline = \'top\';\n        this._clipRow(terminal, y);\n        this._ctx.fillText(charData[Buffer_1.CHAR_DATA_CHAR_INDEX], x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop);\n    };\n    BaseRenderLayer.prototype.drawChars = function (terminal, chars, code, width, x, y, fg, bg, bold, dim, italic) {\n        var drawInBrightColor = terminal.options.drawBoldTextInBrightColors && bold && fg < 8 && fg !== Types_1.INVERTED_DEFAULT_COLOR;\n        fg += drawInBrightColor ? 8 : 0;\n        this._currentGlyphIdentifier.chars = chars;\n        this._currentGlyphIdentifier.code = code;\n        this._currentGlyphIdentifier.bg = bg;\n        this._currentGlyphIdentifier.fg = fg;\n        this._currentGlyphIdentifier.bold = bold && terminal.options.enableBold;\n        this._currentGlyphIdentifier.dim = dim;\n        this._currentGlyphIdentifier.italic = italic;\n        var atlasDidDraw = this._charAtlas && this._charAtlas.draw(this._ctx, this._currentGlyphIdentifier, x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop);\n        if (!atlasDidDraw) {\n            this._drawUncachedChars(terminal, chars, width, fg, x, y, bold && terminal.options.enableBold, dim, italic);\n        }\n    };\n    BaseRenderLayer.prototype._drawUncachedChars = function (terminal, chars, width, fg, x, y, bold, dim, italic) {\n        this._ctx.save();\n        this._ctx.font = this._getFont(terminal, bold, italic);\n        this._ctx.textBaseline = \'top\';\n        if (fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            this._ctx.fillStyle = this._colors.background.css;\n        }\n        else if (CharAtlasUtils_1.is256Color(fg)) {\n            this._ctx.fillStyle = this._colors.ansi[fg].css;\n        }\n        else {\n            this._ctx.fillStyle = this._colors.foreground.css;\n        }\n        this._clipRow(terminal, y);\n        if (dim) {\n            this._ctx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        this._ctx.fillText(chars, x * this._scaledCellWidth + this._scaledCharLeft, y * this._scaledCellHeight + this._scaledCharTop);\n        this._ctx.restore();\n    };\n    BaseRenderLayer.prototype._clipRow = function (terminal, y) {\n        this._ctx.beginPath();\n        this._ctx.rect(0, y * this._scaledCellHeight, terminal.cols * this._scaledCellWidth, this._scaledCellHeight);\n        this._ctx.clip();\n    };\n    BaseRenderLayer.prototype._getFont = function (terminal, isBold, isItalic) {\n        var fontWeight = isBold ? terminal.options.fontWeightBold : terminal.options.fontWeight;\n        var fontStyle = isItalic ? \'italic\' : \'\';\n        return fontStyle + " " + fontWeight + " " + terminal.options.fontSize * window.devicePixelRatio + "px " + terminal.options.fontFamily;\n    };\n    return BaseRenderLayer;\n}());\nexports.BaseRenderLayer = BaseRenderLayer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL0Jhc2VSZW5kZXJMYXllci50cz9jZDQ5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBT0EscUNBQXNGO0FBRXRGLCtDQUEwRDtBQUMxRCxzQ0FBaUQ7QUFDakQsOENBQW9EO0FBRXBEO0lBeUJFLHlCQUNVLFVBQXVCLEVBQy9CLEVBQVUsRUFDVixNQUFjLEVBQ04sTUFBZSxFQUNiLE9BQWtCO1FBSnBCLGVBQVUsR0FBVixVQUFVLENBQWE7UUFHdkIsV0FBTSxHQUFOLE1BQU0sQ0FBUztRQUNiLFlBQU8sR0FBUCxPQUFPLENBQVc7UUEzQnRCLHFCQUFnQixHQUFXLENBQUMsQ0FBQztRQUM3QixzQkFBaUIsR0FBVyxDQUFDLENBQUM7UUFDOUIscUJBQWdCLEdBQVcsQ0FBQyxDQUFDO1FBQzdCLHNCQUFpQixHQUFXLENBQUMsQ0FBQztRQUM5QixvQkFBZSxHQUFXLENBQUMsQ0FBQztRQUM1QixtQkFBYyxHQUFXLENBQUMsQ0FBQztRQU8zQiw0QkFBdUIsR0FBcUI7WUFDbEQsS0FBSyxFQUFFLEVBQUU7WUFDVCxJQUFJLEVBQUUsQ0FBQztZQUNQLEVBQUUsRUFBRSxDQUFDO1lBQ0wsRUFBRSxFQUFFLENBQUM7WUFDTCxJQUFJLEVBQUUsS0FBSztZQUNYLEdBQUcsRUFBRSxLQUFLO1lBQ1YsTUFBTSxFQUFFLEtBQUs7U0FDZCxDQUFDO1FBU0EsSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxXQUFTLEVBQUUsV0FBUSxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM5QyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkIsSUFBSSxDQUFD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Q0FBUSxHQUFsQixVQUFtQixRQUFtQixFQUFFLE1BQWUsRUFBRSxRQUFpQjtRQUN4RSxJQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQztRQUMxRixJQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1FBRTNDLE9BQVUsU0FBUyxTQUFJLFVBQVUsU0FBSSxRQUFRLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLFdBQU0sUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFZLENBQUM7SUFDOUgsQ0FBQztJQUNILHNCQUFDO0FBQUQsQ0FBQztBQS9VcUIsMENBQWUiLCJmaWxlIjoiOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSB4dGVybS5qcyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuaW1wb3J0IHsgSVJlbmRlckxheWVyLCBJQ29sb3JTZXQsIElSZW5kZXJEaW1lbnNpb25zIH0gZnJvbSAnLi9UeXBlcyc7XG5pbXBvcnQgeyBDaGFyRGF0YSwgSVRlcm1pbmFsIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgRElNX09QQUNJVFksIElOVkVSVEVEX0RFRkFVTFRfQ09MT1IsIElHbHlwaElkZW50aWZpZXIgfSBmcm9tICcuL2F0bGFzL1R5cGVzJztcbmltcG9ydCBCYXNlQ2hhckF0bGFzIGZyb20gJy4vYXRsYXMvQmFzZUNoYXJBdGxhcyc7XG5pbXBvcnQgeyBhY3F1aXJlQ2hhckF0bGFzIH0gZnJvbSAnLi9hdGxhcy9DaGFyQXRsYXNDYWNoZSc7XG5pbXBvcnQgeyBDSEFSX0RBVEFfQ0hBUl9JTkRFWCB9IGZyb20gJy4uL0J1ZmZlcic7XG5pbXBvcnQgeyBpczI1NkNvbG9yIH0gZnJvbSAnLi9hdGxhcy9DaGFyQXRsYXNVdGlscyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlUmVuZGVyTGF5ZXIgaW1wbGVtZW50cyBJUmVuZGVyTGF5ZXIge1xuICBwcml2YXRlIF9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBwcm90ZWN0ZWQgX2N0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICBwcml2YXRlIF9zY2FsZWRDaGFyV2lkdGg6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX3NjYWxlZENoYXJIZWlnaHQ6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX3NjYWxlZENlbGxXaWR0aDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfc2NhbGVkQ2VsbEhlaWdodDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfc2NhbGVkQ2hhckxlZnQ6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX3NjYWxlZENoYXJUb3A6IG51bWJlciA9IDA7XG5cbiAgcHJvdGVjdGVkIF9jaGFyQXRsYXM6IEJhc2VDaGFyQXRsYXM7XG5cbiAgLyoqXG4gICAqIEFuIG9iamVjdCB0aGF0J3MgcmV1c2VkIHdoZW4gZHJhd2luZyBnbHlwaHMgaW4gb3JkZXIgdG8gcmVkdWNlIEdDLlxuICAgKi9cbiAgcHJpdmF0ZSBfY3VycmVudEdseXBoSWRlbnRpZmllcjogSUdseXBoSWRlbnRpZmllciA9IHtcbiAgICBjaGFyczogJycsXG4gICAgY29kZTogMCxcbiAgICBiZzogMCxcbiAgICBmZzogMCxcbiAgICBib2xkOiBmYWxzZSxcbiAgICBkaW06IGZhbHNlLFxuICAgIGl0YWxpYzogZmFsc2VcbiAgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIF9jb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIGlkOiBzdHJpbmcsXG4gICAgekluZGV4OiBudW1iZXIsXG4gICAgcHJpdmF0ZSBfYWxwaGE6IGJvb2xlYW4sXG4gICAgcHJvdGVjdGVkIF9jb2xvcnM6IElDb2xvclNldFxuICApIHtcbiAgICB0aGlzLl9jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB0aGlzLl9jYW52YXMuY2xhc3NMaXN0LmFkZChgeHRlcm0tJHtpZH0tbGF5ZXJgKTtcbiAgICB0aGlzLl9jYW52YXMuc3R5bGUuekluZGV4ID0gekluZGV4LnRvU3RyaW5nKCk7XG4gICAgdGhpcy5faW5pdENhbnZhcygpO1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9jYW52YXMpO1xuICB9XG5cbiAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgdGhpcy5fY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX2NhbnZhcyk7XG4gICAgaWYgKHRoaXMuX2NoYXJBdGxhcykge1xuICAgICAgdGhpcy5fY2hhckF0bGFzLmRpc3Bvc2UoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9pbml0Q2FudmFzKCk6IHZvaWQge1xuICAgIHRoaXMuX2N0eCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHthbHBoYTogdGhpcy5fYWxwaGF9KTtcbiAgICAvLyBEcmF3IHRoZSBiYWNrZ3JvdW5kIGlmIHRoaXMgaXMgYW4gb3BhcXVlIGxheWVyXG4gICAgaWYgKCF0aGlzLl9hbHBoYSkge1xuICAgICAgdGhpcy5jbGVhckFsbCgpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBvbk9wdGlvbnNDaGFuZ2VkKHRlcm1pbmFsOiBJVGVybWluYWwpOiB2b2lkIHt9XG4gIHB1YmxpYyBvbkJsdXIodGVybWluYWw6IElUZXJtaW5hbCk6IHZvaWQge31cbiAgcHVibGljIG9uRm9jdXModGVybWluYWw6IElUZXJtaW5hbCk6IHZvaWQge31cbiAgcHVibGljIG9uQ3Vyc29yTW92ZSh0ZXJtaW5hbDogSVRlcm1pbmFsKTogdm9pZCB7fVxuICBwdWJsaWMgb25HcmlkQ2hhbmdlZCh0ZXJtaW5hbDogSVRlcm1pbmFsLCBzdGFydFJvdzogbnVtYmVyLCBlbmRSb3c6IG51bWJlcik6IHZvaWQge31cbiAgcHVibGljIG9uU2VsZWN0aW9uQ2hhbmdlZCh0ZXJtaW5hbDogSVRlcm1pbmFsLCBzdGFydDogW251bWJlciwgbnVtYmVyXSwgZW5kOiBbbnVtYmVyLCBudW1iZXJdLCBjb2x1bW5TZWxlY3RNb2RlOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHt9XG5cbiAgcHVibGljIG9uVGhlbWVDaGFuZ2VkKHRlcm1pbmFsOiBJVGVybWluYWwsIGNvbG9yU2V0OiBJQ29sb3JTZXQpOiB2b2lkIHtcbiAgICB0aGlzLl9yZWZyZXNoQ2hhckF0bGFzKHRlcm1pbmFsLCBjb2xvclNldCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgc2V0VHJhbnNwYXJlbmN5KHRlcm1pbmFsOiBJVGVybWluYWwsIGFscGhhOiBib29sZWFuKTogdm9pZCB7XG4gICAgLy8gRG8gbm90aGluZyB3aGVuIGFscGhhIGRvZXNuJ3QgY2hhbmdlXG4gICAgaWYgKGFscGhhID09PSB0aGlzLl9hbHBoYSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBuZXcgY2FudmFzIGFuZCByZXBsYWNlIG9sZCBvbmVcbiAgICBjb25zdCBvbGRDYW52YXMgPSB0aGlzLl9jYW52YXM7XG4gICAgdGhpcy5fYWxwaGEgPSBhbHBoYTtcbiAgICAvLyBDbG9uaW5nIHByZXNlcnZlcyBwcm9wZXJ0aWVzXG4gICAgdGhpcy5fY2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PnRoaXMuX2NhbnZhcy5jbG9uZU5vZGUoKTtcbiAgICB0aGlzLl9pbml0Q2FudmFzKCk7XG4gICAgdGhpcy5fY29udGFpbmVyLnJlcGxhY2VDaGlsZCh0aGlzLl9jYW52YXMsIG9sZENhbnZhcyk7XG5cbiAgICAvLyBSZWdlbmVyYXRlIGNoYXIgYXRsYXMgYW5kIGZvcmNlIGEgZnVsbCByZWRyYXdcbiAgICB0aGlzLl9yZWZyZXNoQ2hhckF0bGFzKHRlcm1pbmFsLCB0aGlzLl9jb2xvcnMpO1xuICAgIHRoaXMub25HcmlkQ2hhbmdlZCh0ZXJtaW5hbCwgMCwgdGVybWluYWwucm93cyAtIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZnJlc2hlcyB0aGUgY2hhciBhdGxhcywgYXF1aXJpbmcgYSBuZXcgb25lIGlmIG5lY2Vzc2FyeS5cbiAgICogQHBhcmFtIHRlcm1pbmFsIFRoZSB0ZXJtaW5hbC5cbiAgICogQHBhcmFtIGNvbG9yU2V0IFRoZSBjb2xvciBzZXQgdG8gdXNlIGZvciB0aGUgY2hhciBhdGxhcy5cbiAgICovXG4gIHByaXZhdGUgX3JlZnJlc2hDaGFyQXRsYXModGVybWluYWw6IElUZXJtaW5hbCwgY29sb3JTZXQ6IElDb2xvclNldCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9zY2FsZWRDaGFyV2lkdGggPD0gMCAmJiB0aGlzLl9zY2FsZWRDaGFySGVpZ2h0IDw9IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fY2hhckF0bGFzID0gYWNxdWlyZUNoYXJBdGxhcyh0ZXJtaW5hbCwgY29sb3JTZXQsIHRoaXMuX3NjYWxlZENoYXJXaWR0aCwgdGhpcy5fc2NhbGVkQ2hhckhlaWdodCk7XG4gICAgdGhpcy5fY2hhckF0bGFzLndhcm1VcCgpO1xuICB9XG5cbiAgcHVibGljIHJlc2l6ZSh0ZXJtaW5hbDogSVRlcm1pbmFsLCBkaW06IElSZW5kZXJEaW1lbnNpb25zKTogdm9pZCB7XG4gICAgdGhpcy5fc2NhbGVkQ2VsbFdpZHRoID0gZGltLnNjYWxlZENlbGxXaWR0aDtcbiAgICB0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0ID0gZGltLnNjYWxlZENlbGxIZWlnaHQ7XG4gICAgdGhpcy5fc2NhbGVkQ2hhcldpZHRoID0gZGltLnNjYWxlZENoYXJXaWR0aDtcbiAgICB0aGlzLl9zY2FsZWRDaGFySGVpZ2h0ID0gZGltLnNjYWxlZENoYXJIZWlnaHQ7XG4gICAgdGhpcy5fc2NhbGVkQ2hhckxlZnQgPSBkaW0uc2NhbGVkQ2hhckxlZnQ7XG4gICAgdGhpcy5fc2NhbGVkQ2hhclRvcCA9IGRpbS5zY2FsZWRDaGFyVG9wO1xuICAgIHRoaXMuX2NhbnZhcy53aWR0aCA9IGRpbS5zY2FsZWRDYW52YXNXaWR0aDtcbiAgICB0aGlzLl9jYW52YXMuaGVpZ2h0ID0gZGltLnNjYWxlZENhbnZhc0hlaWdodDtcbiAgICB0aGlzLl9jYW52YXMuc3R5bGUud2lkdGggPSBgJHtkaW0uY2FudmFzV2lkdGh9cHhgO1xuICAgIHRoaXMuX2NhbnZhcy5zdHlsZS5oZWlnaHQgPSBgJHtkaW0uY2FudmFzSGVpZ2h0fXB4YDtcblxuICAgIC8vIERyYXcgdGhlIGJhY2tncm91bmQgaWYgdGhpcyBpcyBhbiBvcGFxdWUgbGF5ZXJcbiAgICBpZiAoIXRoaXMuX2FscGhhKSB7XG4gICAgICB0aGlzLmNsZWFyQWxsKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVmcmVzaENoYXJBdGxhcyh0ZXJtaW5hbCwgdGhpcy5fY29sb3JzKTtcbiAgfVxuXG4gIHB1YmxpYyBhYnN0cmFjdCByZXNldCh0ZXJtaW5hbDogSVRlcm1pbmFsKTogdm9pZDtcblxuICAvKipcbiAgICogRmlsbHMgMSsgY2VsbHMgY29tcGxldGVseS4gVGhpcyB1c2VzIHRoZSBleGlzdGluZyBmaWxsU3R5bGUgb24gdGhlIGNvbnRleHQuXG4gICAqIEBwYXJhbSB4IFRoZSBjb2x1bW4gdG8gc3RhcnQgYXQuXG4gICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gc3RhcnQgYXRcbiAgICogQHBhcmFtIHdpZHRoIFRoZSBudW1iZXIgb2YgY29sdW1ucyB0byBmaWxsLlxuICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBudW1iZXIgb2Ygcm93cyB0byBmaWxsLlxuICAgKi9cbiAgcHJvdGVjdGVkIGZpbGxDZWxscyh4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9jdHguZmlsbFJlY3QoXG4gICAgICAgIHggKiB0aGlzLl9zY2FsZWRDZWxsV2lkdGgsXG4gICAgICAgIHkgKiB0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0LFxuICAgICAgICB3aWR0aCAqIHRoaXMuX3NjYWxlZENlbGxXaWR0aCxcbiAgICAgICAgaGVpZ2h0ICogdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCk7XG4gIH1cblxuICAvKipcbiAgICogRmlsbHMgYSAxcHggbGluZSAoMnB4IG9uIEhEUEkpIGF0IHRoZSBib3R0b20gb2YgdGhlIGNlbGwuIFRoaXMgdXNlcyB0aGVcbiAgICogZXhpc3RpbmcgZmlsbFN0eWxlIG9uIHRoZSBjb250ZXh0LlxuICAgKiBAcGFyYW0geCBUaGUgY29sdW1uIHRvIGZpbGwuXG4gICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gZmlsbC5cbiAgICovXG4gIHByb3RlY3RlZCBmaWxsQm90dG9tTGluZUF0Q2VsbHMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIgPSAxKTogdm9pZCB7XG4gICAgdGhpcy5fY3R4LmZpbGxSZWN0KFxuICAgICAgICB4ICogdGhpcy5fc2NhbGVkQ2VsbFdpZHRoLFxuICAgICAgICAoeSArIDEpICogdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCAtIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIC0gMSAvKiBFbnN1cmUgaXQncyBkcmF3biB3aXRoaW4gdGhlIGNlbGwgKi8sXG4gICAgICAgIHdpZHRoICogdGhpcy5fc2NhbGVkQ2VsbFdpZHRoLFxuICAgICAgICB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gIH1cblxuICAvKipcbiAgICogRmlsbHMgYSAxcHggbGluZSAoMnB4IG9uIEhEUEkpIGF0IHRoZSBsZWZ0IG9mIHRoZSBjZWxsLiBUaGlzIHVzZXMgdGhlXG4gICAqIGV4aXN0aW5nIGZpbGxTdHlsZSBvbiB0aGUgY29udGV4dC5cbiAgICogQHBhcmFtIHggVGhlIGNvbHVtbiB0byBmaWxsLlxuICAgKiBAcGFyYW0geSBUaGUgcm93IHRvIGZpbGwuXG4gICAqL1xuICBwcm90ZWN0ZWQgZmlsbExlZnRMaW5lQXRDZWxsKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fY3R4LmZpbGxSZWN0KFxuICAgICAgICB4ICogdGhpcy5fc2NhbGVkQ2VsbFdpZHRoLFxuICAgICAgICB5ICogdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCxcbiAgICAgICAgd2luZG93LmRldmljZVBpeGVsUmF0aW8sXG4gICAgICAgIHRoaXMuX3NjYWxlZENlbGxIZWlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0cm9rZXMgYSAxcHggcmVjdGFuZ2xlICgycHggb24gSERQSSkgYXJvdW5kIGEgY2VsbC4gVGhpcyB1c2VzIHRoZSBleGlzdGluZ1xuICAgKiBzdHJva2VTdHlsZSBvbiB0aGUgY29udGV4dC5cbiAgICogQHBhcmFtIHggVGhlIGNvbHVtbiB0byBmaWxsLlxuICAgKiBAcGFyYW0geSBUaGUgcm93IHRvIGZpbGwuXG4gICAqL1xuICBwcm90ZWN0ZWQgc3Ryb2tlUmVjdEF0Q2VsbCh4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9jdHgubGluZVdpZHRoID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgdGhpcy5fY3R4LnN0cm9rZVJlY3QoXG4gICAgICAgIHggKiB0aGlzLl9zY2FsZWRDZWxsV2lkdGggKyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAvIDIsXG4gICAgICAgIHkgKiB0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0ICsgKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIC8gMiksXG4gICAgICAgIHdpZHRoICogdGhpcy5fc2NhbGVkQ2VsbFdpZHRoIC0gd2luZG93LmRldmljZVBpeGVsUmF0aW8sXG4gICAgICAgIChoZWlnaHQgKiB0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0KSAtIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGVudGlyZSBjYW52YXMuXG4gICAqL1xuICBwcm90ZWN0ZWQgY2xlYXJBbGwoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2FscGhhKSB7XG4gICAgICB0aGlzLl9jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuX2NhbnZhcy53aWR0aCwgdGhpcy5fY2FudmFzLmhlaWdodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSB0aGlzLl9jb2xvcnMuYmFja2dyb3VuZC5jc3M7XG4gICAgICB0aGlzLl9jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5fY2FudmFzLndpZHRoLCB0aGlzLl9jYW52YXMuaGVpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIDErIGNlbGxzIGNvbXBsZXRlbHkuXG4gICAqIEBwYXJhbSB4IFRoZSBjb2x1bW4gdG8gc3RhcnQgYXQuXG4gICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gc3RhcnQgYXQuXG4gICAqIEBwYXJhbSB3aWR0aCBUaGUgbnVtYmVyIG9mIGNvbHVtbnMgdG8gY2xlYXIuXG4gICAqIEBwYXJhbSBoZWlnaHQgVGhlIG51bWJlciBvZiByb3dzIHRvIGNsZWFyLlxuICAgKi9cbiAgcHJvdGVjdGVkIGNsZWFyQ2VsbHMoeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2FscGhhKSB7XG4gICAgICB0aGlzLl9jdHguY2xlYXJSZWN0KFxuICAgICAgICAgIHggKiB0aGlzLl9zY2FsZWRDZWxsV2lkdGgsXG4gICAgICAgICAgeSAqIHRoaXMuX3NjYWxlZENlbGxIZWlnaHQsXG4gICAgICAgICAgd2lkdGggKiB0aGlzLl9zY2FsZWRDZWxsV2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ICogdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSB0aGlzLl9jb2xvcnMuYmFja2dyb3VuZC5jc3M7XG4gICAgICB0aGlzLl9jdHguZmlsbFJlY3QoXG4gICAgICAgICAgeCAqIHRoaXMuX3NjYWxlZENlbGxXaWR0aCxcbiAgICAgICAgICB5ICogdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCxcbiAgICAgICAgICB3aWR0aCAqIHRoaXMuX3NjYWxlZENlbGxXaWR0aCxcbiAgICAgICAgICBoZWlnaHQgKiB0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgYSB0cnVlY29sb3IgY2hhcmFjdGVyIGF0IHRoZSBjZWxsLiBUaGUgY2hhcmFjdGVyIHdpbGwgYmUgY2xpcHBlZCB0b1xuICAgKiBlbnN1cmUgdGhhdCBpdCBmaXRzIHdpdGggdGhlIGNlbGwsIGluY2x1ZGluZyB0aGUgY2VsbCB0byB0aGUgcmlnaHQgaWYgaXQnc1xuICAgKiBhIHdpZGUgY2hhcmFjdGVyLiBUaGlzIHVzZXMgdGhlIGV4aXN0aW5nIGZpbGxTdHlsZSBvbiB0aGUgY29udGV4dC5cbiAgICogQHBhcmFtIHRlcm1pbmFsIFRoZSB0ZXJtaW5hbC5cbiAgICogQHBhcmFtIGNoYXJEYXRhIFRoZSBjaGFyIGRhdGEgZm9yIHRoZSBjaGFyYWN0ZXIgdG8gZHJhdy5cbiAgICogQHBhcmFtIHggVGhlIGNvbHVtbiB0byBkcmF3IGF0LlxuICAgKiBAcGFyYW0geSBUaGUgcm93IHRvIGRyYXcgYXQuXG4gICAqIEBwYXJhbSBjb2xvciBUaGUgY29sb3Igb2YgdGhlIGNoYXJhY3Rlci5cbiAgICovXG4gIHByb3RlY3RlZCBmaWxsQ2hhclRydWVDb2xvcih0ZXJtaW5hbDogSVRlcm1pbmFsLCBjaGFyRGF0YTogQ2hhckRhdGEsIHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fY3R4LmZvbnQgPSB0aGlzLl9nZXRGb250KHRlcm1pbmFsLCBmYWxzZSwgZmFsc2UpO1xuICAgIHRoaXMuX2N0eC50ZXh0QmFzZWxpbmUgPSAndG9wJztcbiAgICB0aGlzLl9jbGlwUm93KHRlcm1pbmFsLCB5KTtcbiAgICB0aGlzLl9jdHguZmlsbFRleHQoXG4gICAgICAgIGNoYXJEYXRhW0NIQVJfREFUQV9DSEFSX0lOREVYXSxcbiAgICAgICAgeCAqIHRoaXMuX3NjYWxlZENlbGxXaWR0aCArIHRoaXMuX3NjYWxlZENoYXJMZWZ0LFxuICAgICAgICB5ICogdGhpcy5fc2NhbGVkQ2VsbEhlaWdodCArIHRoaXMuX3NjYWxlZENoYXJUb3ApO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIG9uZSBvciBtb3JlIGNoYXJhY3RlcnMgYXQgYSBjZWxsLiBJZiBwb3NzaWJsZSB0aGlzIHdpbGwgZHJhdyB1c2luZ1xuICAgKiB0aGUgY2hhcmFjdGVyIGF0bGFzIHRvIHJlZHVjZSBkcmF3IHRpbWUuXG4gICAqIEBwYXJhbSB0ZXJtaW5hbCBUaGUgdGVybWluYWwuXG4gICAqIEBwYXJhbSBjaGFycyBUaGUgY2hhcmFjdGVyIG9yIGNoYXJhY3RlcnMuXG4gICAqIEBwYXJhbSBjb2RlIFRoZSBjaGFyYWN0ZXIgY29kZS5cbiAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgY2hhcmFjdGVycy5cbiAgICogQHBhcmFtIHggVGhlIGNvbHVtbiB0byBkcmF3IGF0LlxuICAgKiBAcGFyYW0geSBUaGUgcm93IHRvIGRyYXcgYXQuXG4gICAqIEBwYXJhbSBmZyBUaGUgZm9yZWdyb3VuZCBjb2xvciwgaW4gdGhlIGZvcm1hdCBzdG9yZWQgd2l0aGluIHRoZSBhdHRyaWJ1dGVzLlxuICAgKiBAcGFyYW0gYmcgVGhlIGJhY2tncm91bmQgY29sb3IsIGluIHRoZSBmb3JtYXQgc3RvcmVkIHdpdGhpbiB0aGUgYXR0cmlidXRlcy5cbiAgICogVGhpcyBpcyB1c2VkIHRvIHZhbGlkYXRlIHdoZXRoZXIgYSBjYWNoZWQgaW1hZ2UgY2FuIGJlIHVzZWQuXG4gICAqIEBwYXJhbSBib2xkIFdoZXRoZXIgdGhlIHRleHQgaXMgYm9sZC5cbiAgICovXG4gIHByb3RlY3RlZCBkcmF3Q2hhcnModGVybWluYWw6IElUZXJtaW5hbCwgY2hhcnM6IHN0cmluZywgY29kZTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlciwgZmc6IG51bWJlciwgYmc6IG51bWJlciwgYm9sZDogYm9vbGVhbiwgZGltOiBib29sZWFuLCBpdGFsaWM6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBjb25zdCBkcmF3SW5CcmlnaHRDb2xvciA9IHRlcm1pbmFsLm9wdGlvbnMuZHJhd0JvbGRUZXh0SW5CcmlnaHRDb2xvcnMgJiYgYm9sZCAmJiBmZyA8IDggJiYgZmcgIT09IElOVkVSVEVEX0RFRkFVTFRfQ09MT1I7XG5cbiAgICBmZyArPSBkcmF3SW5CcmlnaHRDb2xvciA/IDggOiAwO1xuICAgIHRoaXMuX2N1cnJlbnRHbHlwaElkZW50aWZpZXIuY2hhcnMgPSBjaGFycztcbiAgICB0aGlzLl9jdXJyZW50R2x5cGhJZGVudGlmaWVyLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMuX2N1cnJlbnRHbHlwaElkZW50aWZpZXIuYmcgPSBiZztcbiAgICB0aGlzLl9jdXJyZW50R2x5cGhJZGVudGlmaWVyLmZnID0gZmc7XG4gICAgdGhpcy5fY3VycmVudEdseXBoSWRlbnRpZmllci5ib2xkID0gYm9sZCAmJiB0ZXJtaW5hbC5vcHRpb25zLmVuYWJsZUJvbGQ7XG4gICAgdGhpcy5fY3VycmVudEdseXBoSWRlbnRpZmllci5kaW0gPSBkaW07XG4gICAgdGhpcy5fY3VycmVudEdseXBoSWRlbnRpZmllci5pdGFsaWMgPSBpdGFsaWM7XG4gICAgY29uc3QgYXRsYXNEaWREcmF3ID0gdGhpcy5fY2hhckF0bGFzICYmIHRoaXMuX2NoYXJBdGxhcy5kcmF3KFxuICAgICAgdGhpcy5fY3R4LFxuICAgICAgdGhpcy5fY3VycmVudEdseXBoSWRlbnRpZmllcixcbiAgICAgIHggKiB0aGlzLl9zY2FsZWRDZWxsV2lkdGggKyB0aGlzLl9zY2FsZWRDaGFyTGVmdCxcbiAgICAgIHkgKiB0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0ICsgdGhpcy5fc2NhbGVkQ2hhclRvcFxuICAgICk7XG5cbiAgICBpZiAoIWF0bGFzRGlkRHJhdykge1xuICAgICAgdGhpcy5fZHJhd1VuY2FjaGVkQ2hhcnModGVybWluYWwsIGNoYXJzLCB3aWR0aCwgZmcsIHgsIHksIGJvbGQgJiYgdGVybWluYWwub3B0aW9ucy5lbmFibGVCb2xkLCBkaW0sIGl0YWxpYyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIG9uZSBvciBtb3JlIGNoYXJhY3RlcnMgYXQgb25lIG9yIG1vcmUgY2VsbHMuIFRoZSBjaGFyYWN0ZXIocykgd2lsbCBiZVxuICAgKiBjbGlwcGVkIHRvIGVuc3VyZSB0aGF0IHRoZXkgZml0IHdpdGggdGhlIGNlbGwocyksIGluY2x1ZGluZyB0aGUgY2VsbCB0byB0aGVcbiAgICogcmlnaHQgaWYgdGhlIGxhc3QgY2hhcmFjdGVyIGlzIGEgd2lkZSBjaGFyYWN0ZXIuXG4gICAqIEBwYXJhbSB0ZXJtaW5hbCBUaGUgdGVybWluYWwuXG4gICAqIEBwYXJhbSBjaGFycyBUaGUgY2hhcmFjdGVyLlxuICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSBjaGFyYWN0ZXIuXG4gICAqIEBwYXJhbSBmZyBUaGUgZm9yZWdyb3VuZCBjb2xvciwgaW4gdGhlIGZvcm1hdCBzdG9yZWQgd2l0aGluIHRoZSBhdHRyaWJ1dGVzLlxuICAgKiBAcGFyYW0geCBUaGUgY29sdW1uIHRvIGRyYXcgYXQuXG4gICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gZHJhdyBhdC5cbiAgICovXG4gIHByaXZhdGUgX2RyYXdVbmNhY2hlZENoYXJzKHRlcm1pbmFsOiBJVGVybWluYWwsIGNoYXJzOiBzdHJpbmcsIHdpZHRoOiBudW1iZXIsIGZnOiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyLCBib2xkOiBib29sZWFuLCBkaW06IGJvb2xlYW4sIGl0YWxpYzogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuX2N0eC5zYXZlKCk7XG4gICAgdGhpcy5fY3R4LmZvbnQgPSB0aGlzLl9nZXRGb250KHRlcm1pbmFsLCBib2xkLCBpdGFsaWMpO1xuICAgIHRoaXMuX2N0eC50ZXh0QmFzZWxpbmUgPSAndG9wJztcblxuICAgIGlmIChmZyA9PT0gSU5WRVJURURfREVGQVVMVF9DT0xPUikge1xuICAgICAgdGhpcy5fY3R4LmZpbGxTdHlsZSA9IHRoaXMuX2NvbG9ycy5iYWNrZ3JvdW5kLmNzcztcbiAgICB9IGVsc2UgaWYgKGlzMjU2Q29sb3IoZmcpKSB7XG4gICAgICAvLyAyNTYgY29sb3Igc3VwcG9ydFxuICAgICAgdGhpcy5fY3R4LmZpbGxTdHlsZSA9IHRoaXMuX2NvbG9ycy5hbnNpW2ZnXS5jc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSB0aGlzLl9jb2xvcnMuZm9yZWdyb3VuZC5jc3M7XG4gICAgfVxuXG4gICAgdGhpcy5fY2xpcFJvdyh0ZXJtaW5hbCwgeSk7XG5cbiAgICAvLyBBcHBseSBhbHBoYSB0byBkaW0gdGhlIGNoYXJhY3RlclxuICAgIGlmIChkaW0pIHtcbiAgICAgIHRoaXMuX2N0eC5nbG9iYWxBbHBoYSA9IERJTV9PUEFDSVRZO1xuICAgIH1cbiAgICAvLyBEcmF3IHRoZSBjaGFyYWN0ZXJcbiAgICB0aGlzLl9jdHguZmlsbFRleHQoXG4gICAgICAgIGNoYXJzLFxuICAgICAgICB4ICogdGhpcy5fc2NhbGVkQ2VsbFdpZHRoICsgdGhpcy5fc2NhbGVkQ2hhckxlZnQsXG4gICAgICAgIHkgKiB0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0ICsgdGhpcy5fc2NhbGVkQ2hhclRvcCk7XG4gICAgdGhpcy5fY3R4LnJlc3RvcmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGlwcyBhIHJvdyB0byBlbnN1cmUgbm8gcGl4ZWxzIHdpbGwgYmUgZHJhd24gb3V0c2lkZSB0aGUgY2VsbHMgaW4gdGhlIHJvdy5cbiAgICogQHBhcmFtIHRlcm1pbmFsIFRoZSB0ZXJtaW5hbC5cbiAgICogQHBhcmFtIHkgVGhlIHJvdyB0byBjbGlwLlxuICAgKi9cbiAgcHJpdmF0ZSBfY2xpcFJvdyh0ZXJtaW5hbDogSVRlcm1pbmFsLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9jdHguYmVnaW5QYXRoKCk7XG4gICAgdGhpcy5fY3R4LnJlY3QoXG4gICAgICAgIDAsXG4gICAgICAgIHkgKiB0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0LFxuICAgICAgICB0ZXJtaW5hbC5jb2xzICogdGhpcy5fc2NhbGVkQ2VsbFdpZHRoLFxuICAgICAgICB0aGlzLl9zY2FsZWRDZWxsSGVpZ2h0KTtcbiAgICB0aGlzLl9jdHguY2xpcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgZm9udC5cbiAgICogQHBhcmFtIHRlcm1pbmFsIFRoZSB0ZXJtaW5hbC5cbiAgICogQHBhcmFtIGlzQm9sZCBJZiB3ZSBzaG91bGQgdXNlIHRoZSBib2xkIGZvbnRXZWlnaHQuXG4gICAqL1xuICBwcm90ZWN0ZWQgX2dldEZvbnQodGVybWluYWw6IElUZXJtaW5hbCwgaXNCb2xkOiBib29sZWFuLCBpc0l0YWxpYzogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgY29uc3QgZm9udFdlaWdodCA9IGlzQm9sZCA/IHRlcm1pbmFsLm9wdGlvbnMuZm9udFdlaWdodEJvbGQgOiB0ZXJtaW5hbC5vcHRpb25zLmZvbnRXZWlnaHQ7XG4gICAgY29uc3QgZm9udFN0eWxlID0gaXNJdGFsaWMgPyAnaXRhbGljJyA6ICcnO1xuXG4gICAgcmV0dXJuIGAke2ZvbnRTdHlsZX0gJHtmb250V2VpZ2h0fSAke3Rlcm1pbmFsLm9wdGlvbnMuZm9udFNpemUgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb31weCAke3Rlcm1pbmFsLm9wdGlvbnMuZm9udEZhbWlseX1gO1xuICB9XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvcmVuZGVyZXIvQmFzZVJlbmRlckxheWVyLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n')},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DEFAULT_FOREGROUND = fromHex('#ffffff');\nvar DEFAULT_BACKGROUND = fromHex('#000000');\nvar DEFAULT_CURSOR = fromHex('#ffffff');\nvar DEFAULT_CURSOR_ACCENT = fromHex('#000000');\nvar DEFAULT_SELECTION = {\n    css: 'rgba(255, 255, 255, 0.3)',\n    rgba: 0xFFFFFF77\n};\nexports.DEFAULT_ANSI_COLORS = (function () {\n    var colors = [\n        fromHex('#2e3436'),\n        fromHex('#cc0000'),\n        fromHex('#4e9a06'),\n        fromHex('#c4a000'),\n        fromHex('#3465a4'),\n        fromHex('#75507b'),\n        fromHex('#06989a'),\n        fromHex('#d3d7cf'),\n        fromHex('#555753'),\n        fromHex('#ef2929'),\n        fromHex('#8ae234'),\n        fromHex('#fce94f'),\n        fromHex('#729fcf'),\n        fromHex('#ad7fa8'),\n        fromHex('#34e2e2'),\n        fromHex('#eeeeec')\n    ];\n    var v = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff];\n    for (var i = 0; i < 216; i++) {\n        var r = v[(i / 36) % 6 | 0];\n        var g = v[(i / 6) % 6 | 0];\n        var b = v[i % 6];\n        colors.push({\n            css: \"#\" + toPaddedHex(r) + toPaddedHex(g) + toPaddedHex(b),\n            rgba: ((r << 24) | (g << 16) | (b << 8) | 0xFF) >>> 0\n        });\n    }\n    for (var i = 0; i < 24; i++) {\n        var c = 8 + i * 10;\n        var ch = toPaddedHex(c);\n        colors.push({\n            css: \"#\" + ch + ch + ch,\n            rgba: ((c << 24) | (c << 16) | (c << 8) | 0xFF) >>> 0\n        });\n    }\n    return colors;\n})();\nfunction fromHex(css) {\n    return {\n        css: css,\n        rgba: parseInt(css.slice(1), 16) << 8 | 0xFF\n    };\n}\nfunction toPaddedHex(c) {\n    var s = c.toString(16);\n    return s.length < 2 ? '0' + s : s;\n}\nvar ColorManager = (function () {\n    function ColorManager(document, allowTransparency) {\n        this.allowTransparency = allowTransparency;\n        var canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = 1;\n        this._ctx = canvas.getContext('2d');\n        this._ctx.globalCompositeOperation = 'copy';\n        this._litmusColor = this._ctx.createLinearGradient(0, 0, 1, 1);\n        this.colors = {\n            foreground: DEFAULT_FOREGROUND,\n            background: DEFAULT_BACKGROUND,\n            cursor: DEFAULT_CURSOR,\n            cursorAccent: DEFAULT_CURSOR_ACCENT,\n            selection: DEFAULT_SELECTION,\n            ansi: exports.DEFAULT_ANSI_COLORS.slice()\n        };\n    }\n    ColorManager.prototype.setTheme = function (theme) {\n        this.colors.foreground = this._parseColor(theme.foreground, DEFAULT_FOREGROUND);\n        this.colors.background = this._parseColor(theme.background, DEFAULT_BACKGROUND);\n        this.colors.cursor = this._parseColor(theme.cursor, DEFAULT_CURSOR, true);\n        this.colors.cursorAccent = this._parseColor(theme.cursorAccent, DEFAULT_CURSOR_ACCENT, true);\n        this.colors.selection = this._parseColor(theme.selection, DEFAULT_SELECTION, true);\n        this.colors.ansi[0] = this._parseColor(theme.black, exports.DEFAULT_ANSI_COLORS[0]);\n        this.colors.ansi[1] = this._parseColor(theme.red, exports.DEFAULT_ANSI_COLORS[1]);\n        this.colors.ansi[2] = this._parseColor(theme.green, exports.DEFAULT_ANSI_COLORS[2]);\n        this.colors.ansi[3] = this._parseColor(theme.yellow, exports.DEFAULT_ANSI_COLORS[3]);\n        this.colors.ansi[4] = this._parseColor(theme.blue, exports.DEFAULT_ANSI_COLORS[4]);\n        this.colors.ansi[5] = this._parseColor(theme.magenta, exports.DEFAULT_ANSI_COLORS[5]);\n        this.colors.ansi[6] = this._parseColor(theme.cyan, exports.DEFAULT_ANSI_COLORS[6]);\n        this.colors.ansi[7] = this._parseColor(theme.white, exports.DEFAULT_ANSI_COLORS[7]);\n        this.colors.ansi[8] = this._parseColor(theme.brightBlack, exports.DEFAULT_ANSI_COLORS[8]);\n        this.colors.ansi[9] = this._parseColor(theme.brightRed, exports.DEFAULT_ANSI_COLORS[9]);\n        this.colors.ansi[10] = this._parseColor(theme.brightGreen, exports.DEFAULT_ANSI_COLORS[10]);\n        this.colors.ansi[11] = this._parseColor(theme.brightYellow, exports.DEFAULT_ANSI_COLORS[11]);\n        this.colors.ansi[12] = this._parseColor(theme.brightBlue, exports.DEFAULT_ANSI_COLORS[12]);\n        this.colors.ansi[13] = this._parseColor(theme.brightMagenta, exports.DEFAULT_ANSI_COLORS[13]);\n        this.colors.ansi[14] = this._parseColor(theme.brightCyan, exports.DEFAULT_ANSI_COLORS[14]);\n        this.colors.ansi[15] = this._parseColor(theme.brightWhite, exports.DEFAULT_ANSI_COLORS[15]);\n    };\n    ColorManager.prototype._parseColor = function (css, fallback, allowTransparency) {\n        if (allowTransparency === void 0) { allowTransparency = this.allowTransparency; }\n        if (!css) {\n            return fallback;\n        }\n        this._ctx.fillStyle = this._litmusColor;\n        this._ctx.fillStyle = css;\n        if (typeof this._ctx.fillStyle !== 'string') {\n            console.warn(\"Color: \" + css + \" is invalid using fallback \" + fallback.css);\n            return fallback;\n        }\n        this._ctx.fillRect(0, 0, 1, 1);\n        var data = this._ctx.getImageData(0, 0, 1, 1).data;\n        if (!allowTransparency && data[3] !== 0xFF) {\n            console.warn(\"Color: \" + css + \" is using transparency, but allowTransparency is false. \" +\n                (\"Using fallback \" + fallback.css + \".\"));\n            return fallback;\n        }\n        return {\n            css: css,\n            rgba: (data[0] << 24 | data[1] << 16 | data[2] << 8 | data[3]) >>> 0\n        };\n    };\n    return ColorManager;\n}());\nexports.ColorManager = ColorManager;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL0NvbG9yTWFuYWdlci50cz9iNjkzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBUUEsSUFBTSxrQkFBa0IsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDOUMsSUFBTSxrQkFBa0IsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDOUMsSUFBTSxjQUFjLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzFDLElBQU0scUJBQXFCLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ2pELElBQU0saUJBQWlCLEdBQUc7SUFDeEIsR0FBRyxFQUFFLDBCQUEwQjtJQUMvQixJQUFJLEVBQUUsVUFBVTtDQUNqQixDQUFDO0FBSVcsMkJBQW1CLEdBQUcsQ0FBQztJQUNsQyxJQUFNLE1BQU0sR0FBRztRQUViLE9BQU8sQ0FBQyxTQUFTLENBQUM7UUFDbEIsT0FBTyxDQUFDLFNBQVMsQ0FBQztRQUNsQixPQUFPLENBQUMsU0FBUyxDQUFDO1FBQ2xCLE9BQU8sQ0FBQyxTQUFTLENBQUM7UUFDbEIsT0FBTyxDQUFDLFNBQVMsQ0FBQztRQUNsQixPQUFPLENBQUMsU0FBUyxDQUFDO1FBQ2xCLE9BQU8sQ0FBQyxTQUFTLENBQUM7UUFDbEIsT0FBTyxDQUFDLFNBQVMsQ0FBQztRQUVsQixPQUFPLENBQUMsU0FBUyxDQUFDO1FBQ2xCLE9BQU8sQ0FBQyxTQUFTLENBQUM7UUFDbEIsT0FBTyxDQUFDLFNBQVMsQ0FBQztRQUNsQixPQUFPLENBQUMsU0FBUyxDQUFDO1FBQ2xCLE9BQU8sQ0FBQyxTQUFTLENBQUM7UUFDbEIsT0FBTyxDQUFDLFNBQVMsQ0FBQztRQUNsQixPQUFPLENBQUMsU0FBUyxDQUFDO1FBQ2xCLE9BQU8sQ0FBQyxTQUFTLENBQUM7S0FDbkIsQ0FBQztJQUlGLElBQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMvQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQzVCLElBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM3QixJQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ25CLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDVixHQUFHLEVBQUUsTUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUc7WUFFM0QsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztTQUN0RCxDQUFDLENBQUM7S0FDSjtJQUdELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDM0IsSUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDckIsSUFBTSxFQUFFLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFCLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDVixHQUFHLEVBQUUsTUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUk7WUFDdkIsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcs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QUMsS0FBSyxDQUFDLEdBQUcsRUFBRSwyQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFFLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSwyQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVFLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSwyQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdFLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSwyQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNFLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSwyQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlFLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSwyQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNFLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSwyQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVFLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSwyQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xGLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSwyQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hGLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSwyQkFBbUIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3BGLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBRSwyQkFBbUIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3JGLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSwyQkFBbUIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ25GLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLGFBQWEsRUFBRSwyQkFBbUIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3RGLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSwyQkFBbUIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ25GLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSwyQkFBbUIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3RGLENBQUM7SUFFTyxrQ0FBVyxHQUFuQixVQUNFLEdBQVcsRUFDWCxRQUFnQixFQUNoQixpQkFBbUQ7UUFBbkQsd0RBQTZCLElBQUksQ0FBQyxpQkFBaUI7UUFFbkQsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNSLE9BQU8sUUFBUSxDQUFDO1NBQ2pCO1FBS0QsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQztRQUN4QyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUM7UUFDMUIsSUFBSSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLFFBQVEsRUFBRTtZQUMzQyxPQUFPLENBQUMsSUFBSSxDQUFDLFlBQVUsR0FBRyxtQ0FBOEIsUUFBUSxDQUFDLEdBQUssQ0FBQyxDQUFDO1lBQ3hFLE9BQU8sUUFBUSxDQUFDO1NBQ2pCO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDL0IsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBRXJELElBQUksQ0FBQyxpQkFBaUIsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxFQUFFO1lBaUIxQyxPQUFPLENBQUMsSUFBSSxDQUNWLFlBQVUsR0FBRyw2REFBMEQ7aUJBQ3ZFLG9CQUFrQixRQUFRLENBQUMsR0FBRyxNQUFHLEVBQ2xDLENBQUM7WUFDRixPQUFPLFFBQVEsQ0FBQztTQUNqQjtRQUVELE9BQU87WUFDTCxHQUFHO1lBQ0gsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztTQUNyRSxDQUFDO0lBQ0osQ0FBQztJQUNILG1CQUFDO0FBQUQsQ0FBQztBQXRHWSxvQ0FBWSIsImZpbGUiOiI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBJQ29sb3JNYW5hZ2VyLCBJQ29sb3IsIElDb2xvclNldCB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHsgSVRoZW1lIH0gZnJvbSAneHRlcm0nO1xuXG5jb25zdCBERUZBVUxUX0ZPUkVHUk9VTkQgPSBmcm9tSGV4KCcjZmZmZmZmJyk7XG5jb25zdCBERUZBVUxUX0JBQ0tHUk9VTkQgPSBmcm9tSGV4KCcjMDAwMDAwJyk7XG5jb25zdCBERUZBVUxUX0NVUlNPUiA9IGZyb21IZXgoJyNmZmZmZmYnKTtcbmNvbnN0IERFRkFVTFRfQ1VSU09SX0FDQ0VOVCA9IGZyb21IZXgoJyMwMDAwMDAnKTtcbmNvbnN0IERFRkFVTFRfU0VMRUNUSU9OID0ge1xuICBjc3M6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyknLFxuICByZ2JhOiAweEZGRkZGRjc3XG59O1xuXG4vLyBBbiBJSUZFIHRvIGdlbmVyYXRlIERFRkFVTFRfQU5TSV9DT0xPUlMuIERvIG5vdCBtdXRhdGUgREVGQVVMVF9BTlNJX0NPTE9SUywgaW5zdGVhZCBtYWtlIGEgY29weVxuLy8gYW5kIG11dGF0ZSB0aGF0LlxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQU5TSV9DT0xPUlMgPSAoKCkgPT4ge1xuICBjb25zdCBjb2xvcnMgPSBbXG4gICAgLy8gZGFyazpcbiAgICBmcm9tSGV4KCcjMmUzNDM2JyksXG4gICAgZnJvbUhleCgnI2NjMDAwMCcpLFxuICAgIGZyb21IZXgoJyM0ZTlhMDYnKSxcbiAgICBmcm9tSGV4KCcjYzRhMDAwJyksXG4gICAgZnJvbUhleCgnIzM0NjVhNCcpLFxuICAgIGZyb21IZXgoJyM3NTUwN2InKSxcbiAgICBmcm9tSGV4KCcjMDY5ODlhJyksXG4gICAgZnJvbUhleCgnI2QzZDdjZicpLFxuICAgIC8vIGJyaWdodDpcbiAgICBmcm9tSGV4KCcjNTU1NzUzJyksXG4gICAgZnJvbUhleCgnI2VmMjkyOScpLFxuICAgIGZyb21IZXgoJyM4YWUyMzQnKSxcbiAgICBmcm9tSGV4KCcjZmNlOTRmJyksXG4gICAgZnJvbUhleCgnIzcyOWZjZicpLFxuICAgIGZyb21IZXgoJyNhZDdmYTgnKSxcbiAgICBmcm9tSGV4KCcjMzRlMmUyJyksXG4gICAgZnJvbUhleCgnI2VlZWVlYycpXG4gIF07XG5cbiAgLy8gRmlsbCBpbiB0aGUgcmVtYWluaW5nIDI0MCBBTlNJIGNvbG9ycy5cbiAgLy8gR2VuZXJhdGUgY29sb3JzICgxNi0yMzEpXG4gIGNvbnN0IHYgPSBbMHgwMCwgMHg1ZiwgMHg4NywgMHhhZiwgMHhkNywgMHhmZl07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMjE2OyBpKyspIHtcbiAgICBjb25zdCByID0gdlsoaSAvIDM2KSAlIDYgfCAwXTtcbiAgICBjb25zdCBnID0gdlsoaSAvIDYpICUgNiB8IDBdO1xuICAgIGNvbnN0IGIgPSB2W2kgJSA2XTtcbiAgICBjb2xvcnMucHVzaCh7XG4gICAgICBjc3M6IGAjJHt0b1BhZGRlZEhleChyKX0ke3RvUGFkZGVkSGV4KGcpfSR7dG9QYWRkZWRIZXgoYil9YCxcbiAgICAgIC8vIFVzZSA+Pj4gMCB0byBmb3JjZSBhIGNvbnZlcnNpb24gdG8gYW4gdW5zaWduZWQgaW50XG4gICAgICByZ2JhOiAoKHIgPDwgMjQpIHwgKGcgPDwgMTYpIHwgKGIgPDwgOCkgfCAweEZGKSA+Pj4gMFxuICAgIH0pO1xuICB9XG5cbiAgLy8gR2VuZXJhdGUgZ3JleXMgKDIzMi0yNTUpXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMjQ7IGkrKykge1xuICAgIGNvbnN0IGMgPSA4ICsgaSAqIDEwO1xuICAgIGNvbnN0IGNoID0gdG9QYWRkZWRIZXgoYyk7XG4gICAgY29sb3JzLnB1c2goe1xuICAgICAgY3NzOiBgIyR7Y2h9JHtjaH0ke2NofWAsXG4gICAgICByZ2JhOiAoKGMgPDwgMjQpIHwgKGMgPDwgMTYpIHwgKGMgPDwgOCkgfCAweEZGKSA+Pj4gMFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGNvbG9ycztcbn0pKCk7XG5cbmZ1bmN0aW9uIGZyb21IZXgoY3NzOiBzdHJpbmcpOiBJQ29sb3Ige1xuICByZXR1cm4ge1xuICAgIGNzcyxcbiAgICByZ2JhOiBwYXJzZUludChjc3Muc2xpY2UoMSksIDE2KSA8PCA4IHwgMHhGRlxuICB9O1xufVxuXG5mdW5jdGlvbiB0b1BhZGRlZEhleChjOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBzID0gYy50b1N0cmluZygxNik7XG4gIHJldHVybiBzLmxlbmd0aCA8IDIgPyAnMCcgKyBzIDogcztcbn1cblxuLyoqXG4gKiBNYW5hZ2VzIHRoZSBzb3VyY2Ugb2YgdHJ1dGggZm9yIGEgdGVybWluYWwncyBjb2xvcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb2xvck1hbmFnZXIgaW1wbGVtZW50cyBJQ29sb3JNYW5hZ2VyIHtcbiAgcHVibGljIGNvbG9yczogSUNvbG9yU2V0O1xuICBwcml2YXRlIF9jdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgcHJpdmF0ZSBfbGl0bXVzQ29sb3I6IENhbnZhc0dyYWRpZW50O1xuXG4gIGNvbnN0cnVjdG9yKGRvY3VtZW50OiBEb2N1bWVudCwgcHVibGljIGFsbG93VHJhbnNwYXJlbmN5OiBib29sZWFuKSB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gMTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTtcbiAgICB0aGlzLl9jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB0aGlzLl9jdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2NvcHknO1xuICAgIHRoaXMuX2xpdG11c0NvbG9yID0gdGhpcy5fY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIDEsIDEpO1xuICAgIHRoaXMuY29sb3JzID0ge1xuICAgICAgZm9yZWdyb3VuZDogREVGQVVMVF9GT1JFR1JPVU5ELFxuICAgICAgYmFja2dyb3VuZDogREVGQVVMVF9CQUNLR1JPVU5ELFxuICAgICAgY3Vyc29yOiBERUZBVUxUX0NVUlNPUixcbiAgICAgIGN1cnNvckFjY2VudDogREVGQVVMVF9DVVJTT1JfQUNDRU5ULFxuICAgICAgc2VsZWN0aW9uOiBERUZBVUxUX1NFTEVDVElPTixcbiAgICAgIGFuc2k6IERFRkFVTFRfQU5TSV9DT0xPUlMuc2xpY2UoKVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdGVybWluYWwncyB0aGVtZS5cbiAgICogQHBhcmFtIHRoZW1lIFRoZSAgdGhlbWUgdG8gdXNlLiBJZiBhIHBhcnRpYWwgdGhlbWUgaXMgcHJvdmlkZWQgdGhlbiBkZWZhdWx0XG4gICAqIGNvbG9ycyB3aWxsIGJlIHVzZWQgd2hlcmUgY29sb3JzIGFyZSBub3QgZGVmaW5lZC5cbiAgICovXG4gIHB1YmxpYyBzZXRUaGVtZSh0aGVtZTogSVRoZW1lKTogdm9pZCB7XG4gICAgdGhpcy5jb2xvcnMuZm9yZWdyb3VuZCA9IHRoaXMuX3BhcnNlQ29sb3IodGhlbWUuZm9yZWdyb3VuZCwgREVGQVVMVF9GT1JFR1JPVU5EKTtcbiAgICB0aGlzLmNvbG9ycy5iYWNrZ3JvdW5kID0gdGhpcy5fcGFyc2VDb2xvcih0aGVtZS5iYWNrZ3JvdW5kLCBERUZBVUxUX0JBQ0tHUk9VTkQpO1xuICAgIHRoaXMuY29sb3JzLmN1cnNvciA9IHRoaXMuX3BhcnNlQ29sb3IodGhlbWUuY3Vyc29yLCBERUZBVUxUX0NVUlNPUiwgdHJ1ZSk7XG4gICAgdGhpcy5jb2xvcnMuY3Vyc29yQWNjZW50ID0gdGhpcy5fcGFyc2VDb2xvcih0aGVtZS5jdXJzb3JBY2NlbnQsIERFRkFVTFRfQ1VSU09SX0FDQ0VOVCwgdHJ1ZSk7XG4gICAgdGhpcy5jb2xvcnMuc2VsZWN0aW9uID0gdGhpcy5fcGFyc2VDb2xvcih0aGVtZS5zZWxlY3Rpb24sIERFRkFVTFRfU0VMRUNUSU9OLCB0cnVlKTtcbiAgICB0aGlzLmNvbG9ycy5hbnNpWzBdID0gdGhpcy5fcGFyc2VDb2xvcih0aGVtZS5ibGFjaywgREVGQVVMVF9BTlNJX0NPTE9SU1swXSk7XG4gICAgdGhpcy5jb2xvcnMuYW5zaVsxXSA9IHRoaXMuX3BhcnNlQ29sb3IodGhlbWUucmVkLCBERUZBVUxUX0FOU0lfQ09MT1JTWzFdKTtcbiAgICB0aGlzLmNvbG9ycy5hbnNpWzJdID0gdGhpcy5fcGFyc2VDb2xvcih0aGVtZS5ncmVlbiwgREVGQVVMVF9BTlNJX0NPTE9SU1syXSk7XG4gICAgdGhpcy5jb2xvcnMuYW5zaVszXSA9IHRoaXMuX3BhcnNlQ29sb3IodGhlbWUueWVsbG93LCBERUZBVUxUX0FOU0lfQ09MT1JTWzNdKTtcbiAgICB0aGlzLmNvbG9ycy5hbnNpWzRdID0gdGhpcy5fcGFyc2VDb2xvcih0aGVtZS5ibHVlLCBERUZBVUxUX0FOU0lfQ09MT1JTWzRdKTtcbiAgICB0aGlzLmNvbG9ycy5hbnNpWzVdID0gdGhpcy5fcGFyc2VDb2xvcih0aGVtZS5tYWdlbnRhLCBERUZBVUxUX0FOU0lfQ09MT1JTWzVdKTtcbiAgICB0aGlzLmNvbG9ycy5hbnNpWzZdID0gdGhpcy5fcGFyc2VDb2xvcih0aGVtZS5jeWFuLCBERUZBVUxUX0FOU0lfQ09MT1JTWzZdKTtcbiAgICB0aGlzLmNvbG9ycy5hbnNpWzddID0gdGhpcy5fcGFyc2VDb2xvcih0aGVtZS53aGl0ZSwgREVGQVVMVF9BTlNJX0NPTE9SU1s3XSk7XG4gICAgdGhpcy5jb2xvcnMuYW5zaVs4XSA9IHRoaXMuX3BhcnNlQ29sb3IodGhlbWUuYnJpZ2h0QmxhY2ssIERFRkFVTFRfQU5TSV9DT0xPUlNbOF0pO1xuICAgIHRoaXMuY29sb3JzLmFuc2lbOV0gPSB0aGlzLl9wYXJzZUNvbG9yKHRoZW1lLmJyaWdodFJlZCwgREVGQVVMVF9BTlNJX0NPTE9SU1s5XSk7XG4gICAgdGhpcy5jb2xvcnMuYW5zaVsxMF0gPSB0aGlzLl9wYXJzZUNvbG9yKHRoZW1lLmJyaWdodEdyZWVuLCBERUZBVUxUX0FOU0lfQ09MT1JTWzEwXSk7XG4gICAgdGhpcy5jb2xvcnMuYW5zaVsxMV0gPSB0aGlzLl9wYXJzZUNvbG9yKHRoZW1lLmJyaWdodFllbGxvdywgREVGQVVMVF9BTlNJX0NPTE9SU1sxMV0pO1xuICAgIHRoaXMuY29sb3JzLmFuc2lbMTJdID0gdGhpcy5fcGFyc2VDb2xvcih0aGVtZS5icmlnaHRCbHVlLCBERUZBVUxUX0FOU0lfQ09MT1JTWzEyXSk7XG4gICAgdGhpcy5jb2xvcnMuYW5zaVsxM10gPSB0aGlzLl9wYXJzZUNvbG9yKHRoZW1lLmJyaWdodE1hZ2VudGEsIERFRkFVTFRfQU5TSV9DT0xPUlNbMTNdKTtcbiAgICB0aGlzLmNvbG9ycy5hbnNpWzE0XSA9IHRoaXMuX3BhcnNlQ29sb3IodGhlbWUuYnJpZ2h0Q3lhbiwgREVGQVVMVF9BTlNJX0NPTE9SU1sxNF0pO1xuICAgIHRoaXMuY29sb3JzLmFuc2lbMTVdID0gdGhpcy5fcGFyc2VDb2xvcih0aGVtZS5icmlnaHRXaGl0ZSwgREVGQVVMVF9BTlNJX0NPTE9SU1sxNV0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfcGFyc2VDb2xvcihcbiAgICBjc3M6IHN0cmluZyxcbiAgICBmYWxsYmFjazogSUNvbG9yLFxuICAgIGFsbG93VHJhbnNwYXJlbmN5OiBib29sZWFuID0gdGhpcy5hbGxvd1RyYW5zcGFyZW5jeVxuICApOiBJQ29sb3Ige1xuICAgIGlmICghY3NzKSB7XG4gICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgfVxuXG4gICAgLy8gSWYgcGFyc2luZyB0aGUgdmFsdWUgcmVzdWx0cyBpbiBmYWlsdXJlLCB0aGVuIGl0IG11c3QgYmUgaWdub3JlZCwgYW5kIHRoZSBhdHRyaWJ1dGUgbXVzdFxuICAgIC8vIHJldGFpbiBpdHMgcHJldmlvdXMgdmFsdWUuXG4gICAgLy8gLS0gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvY2FudmFzLmh0bWwjZmlsbC1hbmQtc3Ryb2tlLXN0eWxlc1xuICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSB0aGlzLl9saXRtdXNDb2xvcjtcbiAgICB0aGlzLl9jdHguZmlsbFN0eWxlID0gY3NzO1xuICAgIGlmICh0eXBlb2YgdGhpcy5fY3R4LmZpbGxTdHlsZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnNvbGUud2FybihgQ29sb3I6ICR7Y3NzfSBpcyBpbnZhbGlkIHVzaW5nIGZhbGxiYWNrICR7ZmFsbGJhY2suY3NzfWApO1xuICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgIH1cblxuICAgIHRoaXMuX2N0eC5maWxsUmVjdCgwLCAwLCAxLCAxKTtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5fY3R4LmdldEltYWdlRGF0YSgwLCAwLCAxLCAxKS5kYXRhO1xuXG4gICAgaWYgKCFhbGxvd1RyYW5zcGFyZW5jeSAmJiBkYXRhWzNdICE9PSAweEZGKSB7XG4gICAgICAvLyBJZGVhbGx5IHdlJ2QganVzdCBpZ25vcmUgdGhlIGFscGhhIGNoYW5uZWwsIGJ1dC4uLlxuICAgICAgLy9cbiAgICAgIC8vIEJyb3dzZXJzIG1heSBub3QgZ2l2ZSBiYWNrIGV4YWN0bHkgdGhlIHNhbWUgUkdCIHZhbHVlcyB3ZSBwdXQgaW4sIGJlY2F1c2UgbW9zdC9hbGxcbiAgICAgIC8vIGNvbnZlcnQgdGhlIGNvbG9yIHRvIGEgcHJlLW11bHRpcGxpZWQgcmVwcmVzZW50YXRpb24uIGdldEltYWdlRGF0YSBjb252ZXJ0cyB0aGF0IGJhY2sgdG9cbiAgICAgIC8vIGEgdW4tcHJlbXVsdGlwbGVkIHJlcHJlc2VudGF0aW9uLCBidXQgdGhlIHByZWNpc2lvbiBsb3NzIG1heSBtYWtlIHRoZSBSR0IgY2hhbm5lbHMgdW51YWJsZVxuICAgICAgLy8gb24gdGhlaXIgb3duLlxuICAgICAgLy9cbiAgICAgIC8vIEUuZy4gSW4gQ2hyb21lICMxMjM0NTYxMCB0dXJucyBpbnRvICMxMDMwNTAxMCwgYW5kIGluIHRoZSBleHRyZW1lIGNhc2UsIDB4RkZGRkZGMDAgdHVybnNcbiAgICAgIC8vIGludG8gMHgwMDAwMDAwMC5cbiAgICAgIC8vXG4gICAgICAvLyBcIk5vdGU6IER1ZSB0byB0aGUgbG9zc3kgbmF0dXJlIG9mIGNvbnZlcnRpbmcgdG8gYW5kIGZyb20gcHJlbXVsdGlwbGllZCBhbHBoYSBjb2xvciB2YWx1ZXMsXG4gICAgICAvLyBwaXhlbHMgdGhhdCBoYXZlIGp1c3QgYmVlbiBzZXQgdXNpbmcgcHV0SW1hZ2VEYXRhKCkgbWlnaHQgYmUgcmV0dXJuZWQgdG8gYW4gZXF1aXZhbGVudFxuICAgICAgLy8gZ2V0SW1hZ2VEYXRhKCkgYXMgZGlmZmVyZW50IHZhbHVlcy5cIlxuICAgICAgLy8gLS0gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvY2FudmFzLmh0bWwjcGl4ZWwtbWFuaXB1bGF0aW9uXG4gICAgICAvL1xuICAgICAgLy8gU28gbGV0J3MganVzdCB1c2UgdGhlIGZhbGxiYWNrIGNvbG9yIGluIHRoaXMgY2FzZSBpbnN0ZWFkLlxuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgQ29sb3I6ICR7Y3NzfSBpcyB1c2luZyB0cmFuc3BhcmVuY3ksIGJ1dCBhbGxvd1RyYW5zcGFyZW5jeSBpcyBmYWxzZS4gYCArXG4gICAgICAgIGBVc2luZyBmYWxsYmFjayAke2ZhbGxiYWNrLmNzc30uYFxuICAgICAgKTtcbiAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgY3NzLFxuICAgICAgcmdiYTogKGRhdGFbMF0gPDwgMjQgfCBkYXRhWzFdIDw8IDE2IHwgZGF0YVsyXSA8PCA4IHwgZGF0YVszXSkgPj4+IDBcbiAgICB9O1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL0NvbG9yTWFuYWdlci50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n")},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar BaseCharAtlas = (function () {\n    function BaseCharAtlas() {\n        this._didWarmUp = false;\n    }\n    BaseCharAtlas.prototype.dispose = function () { };\n    BaseCharAtlas.prototype.warmUp = function () {\n        if (!this._didWarmUp) {\n            this._doWarmUp();\n            this._didWarmUp = true;\n        }\n    };\n    BaseCharAtlas.prototype._doWarmUp = function () { };\n    BaseCharAtlas.prototype.beginFrame = function () { };\n    return BaseCharAtlas;\n}());\nexports.default = BaseCharAtlas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL2F0bGFzL0Jhc2VDaGFyQXRsYXMudHM/ZTljNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVFBO0lBQUE7UUFDVSxlQUFVLEdBQVksS0FBSyxDQUFDO0lBOEN0QyxDQUFDO0lBNUNRLCtCQUFPLEdBQWQsY0FBeUIsQ0FBQztJQU1uQiw4QkFBTSxHQUFiO1FBQ0UsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDcEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1NBQ3hCO0lBQ0gsQ0FBQztJQU1TLGlDQUFTLEdBQW5CLGNBQThCLENBQUM7SUFTeEIsa0NBQVUsR0FBakIsY0FBNEIsQ0FBQztJQWtCL0Isb0JBQUM7QUFBRCxDQUFDIiwiZmlsZSI6IjEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBJR2x5cGhJZGVudGlmaWVyIH0gZnJvbSAnLi9UeXBlcyc7XG5pbXBvcnQgeyBJRGlzcG9zYWJsZSB9IGZyb20gJ3h0ZXJtJztcblxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQmFzZUNoYXJBdGxhcyBpbXBsZW1lbnRzIElEaXNwb3NhYmxlIHtcbiAgcHJpdmF0ZSBfZGlkV2FybVVwOiBib29sZWFuID0gZmFsc2U7XG5cbiAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7IH1cblxuICAvKipcbiAgICogUGVyZm9ybSBhbnkgd29yayBuZWVkZWQgdG8gd2FybSB0aGUgY2FjaGUgYmVmb3JlIGl0IGNhbiBiZSB1c2VkLiBNYXkgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlxuICAgKiBJbXBsZW1lbnQgX2RvV2FybVVwIGluc3RlYWQgaWYgeW91IG9ubHkgd2FudCB0byBnZXQgY2FsbGVkIG9uY2UuXG4gICAqL1xuICBwdWJsaWMgd2FybVVwKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5fZGlkV2FybVVwKSB7XG4gICAgICB0aGlzLl9kb1dhcm1VcCgpO1xuICAgICAgdGhpcy5fZGlkV2FybVVwID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybSBhbnkgd29yayBuZWVkZWQgdG8gd2FybSB0aGUgY2FjaGUgYmVmb3JlIGl0IGNhbiBiZSB1c2VkLiBVc2VkIGJ5IHRoZSBkZWZhdWx0XG4gICAqIGltcGxlbWVudGF0aW9uIG9mIHdhcm1VcCgpLCBhbmQgd2lsbCBvbmx5IGJlIGNhbGxlZCBvbmNlLlxuICAgKi9cbiAgcHJvdGVjdGVkIF9kb1dhcm1VcCgpOiB2b2lkIHsgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB3ZSBzdGFydCBkcmF3aW5nIGEgbmV3IGZyYW1lLlxuICAgKlxuICAgKiBUT0RPOiBXZSByZWx5IG9uIHRoaXMgZ2V0dGluZyBjYWxsZWQgYnkgVGV4dFJlbmRlckxheWVyLiBUaGlzIHNob3VsZCByZWFsbHkgYmUgY2FsbGVkIGJ5XG4gICAqIFJlbmRlcmVyIGluc3RlYWQsIGJ1dCB3ZSBuZWVkIHRvIG1ha2UgUmVuZGVyZXIgdGhlIHNvdXJjZS1vZi10cnV0aCBmb3IgdGhlIGNoYXIgYXRsYXMsIGluc3RlYWRcbiAgICogb2YgQmFzZVJlbmRlckxheWVyLlxuICAgKi9cbiAgcHVibGljIGJlZ2luRnJhbWUoKTogdm9pZCB7IH1cblxuICAvKipcbiAgICogTWF5IGJlIGNhbGxlZCBiZWZvcmUgd2FybVVwIGZpbmlzaGVzLCBob3dldmVyIGl0IGlzIG9rYXkgZm9yIHRoZSBpbXBsZW1lbnRhdGlvbiB0b1xuICAgKiBkbyBub3RoaW5nIGFuZCByZXR1cm4gZmFsc2UgaW4gdGhhdCBjYXNlLlxuICAgKlxuICAgKiBAcGFyYW0gY3R4IFdoZXJlIHRvIGRyYXcgdGhlIGNoYXJhY3RlciBvbnRvLlxuICAgKiBAcGFyYW0gZ2x5cGggSW5mb3JtYXRpb24gYWJvdXQgd2hhdCB0byBkcmF3XG4gICAqIEBwYXJhbSB4IFRoZSBwb3NpdGlvbiBvbiB0aGUgY29udGV4dCB0byBzdGFydCBkcmF3aW5nIGF0XG4gICAqIEBwYXJhbSB5IFRoZSBwb3NpdGlvbiBvbiB0aGUgY29udGV4dCB0byBzdGFydCBkcmF3aW5nIGF0XG4gICAqIEByZXR1cm5zIFRoZSBzdWNjZXNzIHN0YXRlLiBUcnVlIGlmIHdlIGRyZXcgdGhlIGNoYXJhY3Rlci5cbiAgICovXG4gIHB1YmxpYyBhYnN0cmFjdCBkcmF3KFxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICAgIGdseXBoOiBJR2x5cGhJZGVudGlmaWVyLFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXJcbiAgKTogYm9vbGVhbjtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvcmVuZGVyZXIvYXRsYXMvQmFzZUNoYXJBdGxhcy50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n')},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar RenderDebouncer = (function () {\n    function RenderDebouncer(_terminal, _callback) {\n        this._terminal = _terminal;\n        this._callback = _callback;\n        this._animationFrame = null;\n    }\n    RenderDebouncer.prototype.dispose = function () {\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    RenderDebouncer.prototype.refresh = function (rowStart, rowEnd) {\n        var _this = this;\n        rowStart = rowStart !== null && rowStart !== undefined ? rowStart : 0;\n        rowEnd = rowEnd !== null && rowEnd !== undefined ? rowEnd : this._terminal.rows - 1;\n        var isRowStartSet = this._rowStart !== undefined && this._rowStart !== null;\n        var isRowEndSet = this._rowEnd !== undefined && this._rowEnd !== null;\n        this._rowStart = isRowStartSet ? Math.min(this._rowStart, rowStart) : rowStart;\n        this._rowEnd = isRowEndSet ? Math.max(this._rowEnd, rowEnd) : rowEnd;\n        if (this._animationFrame) {\n            return;\n        }\n        this._animationFrame = window.requestAnimationFrame(function () { return _this._innerRefresh(); });\n    };\n    RenderDebouncer.prototype._innerRefresh = function () {\n        this._rowStart = Math.max(this._rowStart, 0);\n        this._rowEnd = Math.min(this._rowEnd, this._terminal.rows - 1);\n        this._callback(this._rowStart, this._rowEnd);\n        this._rowStart = null;\n        this._rowEnd = null;\n        this._animationFrame = null;\n    };\n    return RenderDebouncer;\n}());\nexports.RenderDebouncer = RenderDebouncer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3VpL1JlbmRlckRlYm91bmNlci50cz80MmY4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBTUE7SUFLRSx5QkFDVSxTQUFvQixFQUNwQixTQUErQztRQUQvQyxjQUFTLEdBQVQsU0FBUyxDQUFXO1FBQ3BCLGNBQVMsR0FBVCxTQUFTLENBQXNDO1FBSmpELG9CQUFlLEdBQVcsSUFBSSxDQUFDO0lBTXZDLENBQUM7SUFFTSxpQ0FBTyxHQUFkO1FBQ0UsSUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFO1lBQ3hCLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDbEQsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7U0FDN0I7SUFDSCxDQUFDO0lBRU0saUNBQU8sR0FBZCxVQUFlLFFBQWdCLEVBQUUsTUFBYztRQUEvQyxpQkFnQkM7UUFkQyxRQUFRLEdBQUcsUUFBUSxLQUFLLElBQUksSUFBSSxRQUFRLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RSxNQUFNLEdBQUcsTUFBTSxLQUFLLElBQUksSUFBSSxNQUFNLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztRQUVwRixJQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsU0FBUyxLQUFLLFNBQVMsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQztRQUM5RSxJQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxLQUFLLFNBQVMsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLElBQUksQ0FBQztRQUV4RSxJQUFJLENBQUMsU0FBUyxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7UUFDL0UsSUFBSSxDQUFDLE9BQU8sR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1FBRXJFLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtZQUN4QixPQUFPO1NBQ1I7UUFFRCxJQUFJLENBQUMsZUFBZSxHQUFHLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxjQUFNLFlBQUksQ0FBQyxhQUFhLEVBQUUsRUFBcEIsQ0FBb0IsQ0FBQyxDQUFDO0lBQ2xGLENBQUM7SUFFTyx1Q0FBYSxHQUFyQjtRQUVFLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRy9ELElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFHN0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFDcEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7SUFDOUIsQ0FBQztJQUNILHNCQUFDO0FBQUQsQ0FBQztBQWpEWSwwQ0FBZSIsImZpbGUiOiIxMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElUZXJtaW5hbCB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IElEaXNwb3NhYmxlIH0gZnJvbSAneHRlcm0nO1xuXG4vKipcbiAqIERlYm91bmNlcyBjYWxscyB0byByZW5kZXIgdGVybWluYWwgcm93cyB1c2luZyBhbmltYXRpb24gZnJhbWVzLlxuICovXG5leHBvcnQgY2xhc3MgUmVuZGVyRGVib3VuY2VyIGltcGxlbWVudHMgSURpc3Bvc2FibGUge1xuICBwcml2YXRlIF9yb3dTdGFydDogbnVtYmVyO1xuICBwcml2YXRlIF9yb3dFbmQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBfYW5pbWF0aW9uRnJhbWU6IG51bWJlciA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBfdGVybWluYWw6IElUZXJtaW5hbCxcbiAgICBwcml2YXRlIF9jYWxsYmFjazogKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKSA9PiB2b2lkXG4gICkge1xuICB9XG5cbiAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2FuaW1hdGlvbkZyYW1lKSB7XG4gICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fYW5pbWF0aW9uRnJhbWUpO1xuICAgICAgdGhpcy5fYW5pbWF0aW9uRnJhbWUgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZWZyZXNoKHJvd1N0YXJ0OiBudW1iZXIsIHJvd0VuZDogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gR2V0IHRoZSBtaW4vbWF4IHJvdyBzdGFydC9lbmQgZm9yIHRoZSBhcmcgdmFsdWVzXG4gICAgcm93U3RhcnQgPSByb3dTdGFydCAhPT0gbnVsbCAmJiByb3dTdGFydCAhPT0gdW5kZWZpbmVkID8gcm93U3RhcnQgOiAwO1xuICAgIHJvd0VuZCA9IHJvd0VuZCAhPT0gbnVsbCAmJiByb3dFbmQgIT09IHVuZGVmaW5lZCA/IHJvd0VuZCA6IHRoaXMuX3Rlcm1pbmFsLnJvd3MgLSAxO1xuICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIHJvdyBzdGFydC9lbmQgdmFsdWVzIGhhdmUgYWxyZWFkeSBiZWVuIHNldFxuICAgIGNvbnN0IGlzUm93U3RhcnRTZXQgPSB0aGlzLl9yb3dTdGFydCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuX3Jvd1N0YXJ0ICE9PSBudWxsO1xuICAgIGNvbnN0IGlzUm93RW5kU2V0ID0gdGhpcy5fcm93RW5kICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fcm93RW5kICE9PSBudWxsO1xuICAgIC8vIFNldCB0aGUgcHJvcGVydGllcyB0byB0aGUgdXBkYXRlZCB2YWx1ZXNcbiAgICB0aGlzLl9yb3dTdGFydCA9IGlzUm93U3RhcnRTZXQgPyBNYXRoLm1pbih0aGlzLl9yb3dTdGFydCwgcm93U3RhcnQpIDogcm93U3RhcnQ7XG4gICAgdGhpcy5fcm93RW5kID0gaXNSb3dFbmRTZXQgPyBNYXRoLm1heCh0aGlzLl9yb3dFbmQsIHJvd0VuZCkgOiByb3dFbmQ7XG5cbiAgICBpZiAodGhpcy5fYW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9hbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5faW5uZXJSZWZyZXNoKCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBfaW5uZXJSZWZyZXNoKCk6IHZvaWQge1xuICAgIC8vIENsYW1wIHZhbHVlc1xuICAgIHRoaXMuX3Jvd1N0YXJ0ID0gTWF0aC5tYXgodGhpcy5fcm93U3RhcnQsIDApO1xuICAgIHRoaXMuX3Jvd0VuZCA9IE1hdGgubWluKHRoaXMuX3Jvd0VuZCwgdGhpcy5fdGVybWluYWwucm93cyAtIDEpO1xuXG4gICAgLy8gUnVuIHJlbmRlciBjYWxsYmFja1xuICAgIHRoaXMuX2NhbGxiYWNrKHRoaXMuX3Jvd1N0YXJ0LCB0aGlzLl9yb3dFbmQpO1xuXG4gICAgLy8gUmVzZXQgZGVib3VuY2VyXG4gICAgdGhpcy5fcm93U3RhcnQgPSBudWxsO1xuICAgIHRoaXMuX3Jvd0VuZCA9IG51bGw7XG4gICAgdGhpcy5fYW5pbWF0aW9uRnJhbWUgPSBudWxsO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3VpL1JlbmRlckRlYm91bmNlci50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///11\n')},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.blankLine = 'Blank line';\nexports.promptLabel = 'Terminal input';\nexports.tooMuchOutput = 'Too much output to announce, navigate to rows manually to read';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL1N0cmluZ3MudHM/YzRhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUtXLGlCQUFTLEdBQUcsWUFBWSxDQUFDO0FBQ3pCLG1CQUFXLEdBQUcsZ0JBQWdCLENBQUM7QUFDL0IscUJBQWEsR0FBRyxnRUFBZ0UsQ0FBQyIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSB4dGVybS5qcyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuZXhwb3J0IGxldCBibGFua0xpbmUgPSAnQmxhbmsgbGluZSc7XG5leHBvcnQgbGV0IHByb21wdExhYmVsID0gJ1Rlcm1pbmFsIGlucHV0JztcbmV4cG9ydCBsZXQgdG9vTXVjaE91dHB1dCA9ICdUb28gbXVjaCBvdXRwdXQgdG8gYW5ub3VuY2UsIG5hdmlnYXRlIHRvIHJvd3MgbWFudWFsbHkgdG8gcmVhZCc7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL1N0cmluZ3MudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n")},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar TypedArrayUtils_1 = __webpack_require__(35);\nexports.wcwidth = (function (opts) {\n    var COMBINING_BMP = [\n        [0x0300, 0x036F], [0x0483, 0x0486], [0x0488, 0x0489],\n        [0x0591, 0x05BD], [0x05BF, 0x05BF], [0x05C1, 0x05C2],\n        [0x05C4, 0x05C5], [0x05C7, 0x05C7], [0x0600, 0x0603],\n        [0x0610, 0x0615], [0x064B, 0x065E], [0x0670, 0x0670],\n        [0x06D6, 0x06E4], [0x06E7, 0x06E8], [0x06EA, 0x06ED],\n        [0x070F, 0x070F], [0x0711, 0x0711], [0x0730, 0x074A],\n        [0x07A6, 0x07B0], [0x07EB, 0x07F3], [0x0901, 0x0902],\n        [0x093C, 0x093C], [0x0941, 0x0948], [0x094D, 0x094D],\n        [0x0951, 0x0954], [0x0962, 0x0963], [0x0981, 0x0981],\n        [0x09BC, 0x09BC], [0x09C1, 0x09C4], [0x09CD, 0x09CD],\n        [0x09E2, 0x09E3], [0x0A01, 0x0A02], [0x0A3C, 0x0A3C],\n        [0x0A41, 0x0A42], [0x0A47, 0x0A48], [0x0A4B, 0x0A4D],\n        [0x0A70, 0x0A71], [0x0A81, 0x0A82], [0x0ABC, 0x0ABC],\n        [0x0AC1, 0x0AC5], [0x0AC7, 0x0AC8], [0x0ACD, 0x0ACD],\n        [0x0AE2, 0x0AE3], [0x0B01, 0x0B01], [0x0B3C, 0x0B3C],\n        [0x0B3F, 0x0B3F], [0x0B41, 0x0B43], [0x0B4D, 0x0B4D],\n        [0x0B56, 0x0B56], [0x0B82, 0x0B82], [0x0BC0, 0x0BC0],\n        [0x0BCD, 0x0BCD], [0x0C3E, 0x0C40], [0x0C46, 0x0C48],\n        [0x0C4A, 0x0C4D], [0x0C55, 0x0C56], [0x0CBC, 0x0CBC],\n        [0x0CBF, 0x0CBF], [0x0CC6, 0x0CC6], [0x0CCC, 0x0CCD],\n        [0x0CE2, 0x0CE3], [0x0D41, 0x0D43], [0x0D4D, 0x0D4D],\n        [0x0DCA, 0x0DCA], [0x0DD2, 0x0DD4], [0x0DD6, 0x0DD6],\n        [0x0E31, 0x0E31], [0x0E34, 0x0E3A], [0x0E47, 0x0E4E],\n        [0x0EB1, 0x0EB1], [0x0EB4, 0x0EB9], [0x0EBB, 0x0EBC],\n        [0x0EC8, 0x0ECD], [0x0F18, 0x0F19], [0x0F35, 0x0F35],\n        [0x0F37, 0x0F37], [0x0F39, 0x0F39], [0x0F71, 0x0F7E],\n        [0x0F80, 0x0F84], [0x0F86, 0x0F87], [0x0F90, 0x0F97],\n        [0x0F99, 0x0FBC], [0x0FC6, 0x0FC6], [0x102D, 0x1030],\n        [0x1032, 0x1032], [0x1036, 0x1037], [0x1039, 0x1039],\n        [0x1058, 0x1059], [0x1160, 0x11FF], [0x135F, 0x135F],\n        [0x1712, 0x1714], [0x1732, 0x1734], [0x1752, 0x1753],\n        [0x1772, 0x1773], [0x17B4, 0x17B5], [0x17B7, 0x17BD],\n        [0x17C6, 0x17C6], [0x17C9, 0x17D3], [0x17DD, 0x17DD],\n        [0x180B, 0x180D], [0x18A9, 0x18A9], [0x1920, 0x1922],\n        [0x1927, 0x1928], [0x1932, 0x1932], [0x1939, 0x193B],\n        [0x1A17, 0x1A18], [0x1B00, 0x1B03], [0x1B34, 0x1B34],\n        [0x1B36, 0x1B3A], [0x1B3C, 0x1B3C], [0x1B42, 0x1B42],\n        [0x1B6B, 0x1B73], [0x1DC0, 0x1DCA], [0x1DFE, 0x1DFF],\n        [0x200B, 0x200F], [0x202A, 0x202E], [0x2060, 0x2063],\n        [0x206A, 0x206F], [0x20D0, 0x20EF], [0x302A, 0x302F],\n        [0x3099, 0x309A], [0xA806, 0xA806], [0xA80B, 0xA80B],\n        [0xA825, 0xA826], [0xFB1E, 0xFB1E], [0xFE00, 0xFE0F],\n        [0xFE20, 0xFE23], [0xFEFF, 0xFEFF], [0xFFF9, 0xFFFB]\n    ];\n    var COMBINING_HIGH = [\n        [0x10A01, 0x10A03], [0x10A05, 0x10A06], [0x10A0C, 0x10A0F],\n        [0x10A38, 0x10A3A], [0x10A3F, 0x10A3F], [0x1D167, 0x1D169],\n        [0x1D173, 0x1D182], [0x1D185, 0x1D18B], [0x1D1AA, 0x1D1AD],\n        [0x1D242, 0x1D244], [0xE0001, 0xE0001], [0xE0020, 0xE007F],\n        [0xE0100, 0xE01EF]\n    ];\n    function bisearch(ucs, data) {\n        var min = 0;\n        var max = data.length - 1;\n        var mid;\n        if (ucs < data[0][0] || ucs > data[max][1]) {\n            return false;\n        }\n        while (max >= min) {\n            mid = (min + max) >> 1;\n            if (ucs > data[mid][1]) {\n                min = mid + 1;\n            }\n            else if (ucs < data[mid][0]) {\n                max = mid - 1;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    }\n    function wcwidthHigh(ucs) {\n        if (bisearch(ucs, COMBINING_HIGH)) {\n            return 0;\n        }\n        if ((ucs >= 0x20000 && ucs <= 0x2fffd) || (ucs >= 0x30000 && ucs <= 0x3fffd)) {\n            return 2;\n        }\n        return 1;\n    }\n    var control = opts.control | 0;\n    var table = new Uint8Array(65536);\n    TypedArrayUtils_1.fill(table, 1);\n    table[0] = opts.nul;\n    TypedArrayUtils_1.fill(table, opts.control, 1, 32);\n    TypedArrayUtils_1.fill(table, opts.control, 0x7f, 0xa0);\n    TypedArrayUtils_1.fill(table, 2, 0x1100, 0x1160);\n    table[0x2329] = 2;\n    table[0x232a] = 2;\n    TypedArrayUtils_1.fill(table, 2, 0x2e80, 0xa4d0);\n    table[0x303f] = 1;\n    TypedArrayUtils_1.fill(table, 2, 0xac00, 0xd7a4);\n    TypedArrayUtils_1.fill(table, 2, 0xf900, 0xfb00);\n    TypedArrayUtils_1.fill(table, 2, 0xfe10, 0xfe1a);\n    TypedArrayUtils_1.fill(table, 2, 0xfe30, 0xfe70);\n    TypedArrayUtils_1.fill(table, 2, 0xff00, 0xff61);\n    TypedArrayUtils_1.fill(table, 2, 0xffe0, 0xffe7);\n    for (var r = 0; r < COMBINING_BMP.length; ++r) {\n        TypedArrayUtils_1.fill(table, 0, COMBINING_BMP[r][0], COMBINING_BMP[r][1] + 1);\n    }\n    return function (num) {\n        if (num < 32) {\n            return control | 0;\n        }\n        if (num < 127) {\n            return 1;\n        }\n        if (num < 65536) {\n            return table[num];\n        }\n        return wcwidthHigh(num);\n    };\n})({ nul: 0, control: 0 });\nfunction getStringCellWidth(s) {\n    var result = 0;\n    var length = s.length;\n    for (var i = 0; i < length; ++i) {\n        var code = s.charCodeAt(i);\n        if (0xD800 <= code && code <= 0xDBFF) {\n            if (++i >= length) {\n                return result + exports.wcwidth(code);\n            }\n            var second = s.charCodeAt(i);\n            if (0xDC00 <= second && second <= 0xDFFF) {\n                code = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n            }\n            else {\n                result += exports.wcwidth(second);\n            }\n        }\n        result += exports.wcwidth(code);\n    }\n    return result;\n}\nexports.getStringCellWidth = getStringCellWidth;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL0NoYXJXaWR0aC50cz82MGVmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBS0EsZ0RBQWdEO0FBRW5DLGVBQU8sR0FBRyxDQUFDLFVBQVMsSUFBb0M7SUFHbkUsSUFBTSxhQUFhLEdBQUc7UUFDcEIsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1FBQ3BELENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNwRCxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7UUFDcEQsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1FBQ3BELENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNwRCxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7UUFDcEQsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1FBQ3BELENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNwRCxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7UUFDcEQsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1FBQ3BELENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNwRCxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7UUFDcEQsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1FBQ3BELENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNwRCxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7UUFDcEQsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1FBQ3BELENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNwRCxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7UUFDcEQsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1FBQ3BELENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNwRCxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7UUFDcEQsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1FBQ3BELENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNwRCxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7UUFDcEQsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1FBQ3BELENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNwRCxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7UUFDcEQsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1FBQ3BELENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNwRCxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7UUFDcEQsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1FBQ3BELENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNwRCxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7UUFDcEQsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1FBQ3BELENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNwRCxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7UUFDcEQsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1FBQ3BELENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNwRCxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7UUFDcEQsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1FBQ3BELENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztRQUNwRCxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7UUFDcEQsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO0tBQ3JELENBQUM7SUFDRixJQUFNLGNBQWMsR0FBRztRQUNyQixDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUM7UUFDMUQsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDO1FBQzFELENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQztRQUMxRCxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUM7UUFDMUQsQ0FBQyxPQUFPLEVBQUUs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QUFNLEVBQUU7WUFDcEMsSUFBSSxFQUFFLENBQUMsSUFBSSxNQUFNLEVBQUU7Z0JBTWpCLE9BQU8sTUFBTSxHQUFHLGVBQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUMvQjtZQUNELElBQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFHL0IsSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLEVBQUU7Z0JBQ3hDLElBQUksR0FBRyxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsR0FBRyxLQUFLLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxPQUFPLENBQUM7YUFDNUQ7aUJBQU07Z0JBQ0wsTUFBTSxJQUFJLGVBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUMzQjtTQUNGO1FBQ0QsTUFBTSxJQUFJLGVBQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN6QjtJQUNELE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUM7QUEzQkQsZ0RBMkJDIiwiZmlsZSI6IjEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBmaWxsIH0gZnJvbSAnLi9jb21tb24vVHlwZWRBcnJheVV0aWxzJztcblxuZXhwb3J0IGNvbnN0IHdjd2lkdGggPSAoZnVuY3Rpb24ob3B0czoge251bDogbnVtYmVyLCBjb250cm9sOiBudW1iZXJ9KTogKHVjczogbnVtYmVyKSA9PiBudW1iZXIge1xuICAvLyBleHRyYWN0ZWQgZnJvbSBodHRwczovL3d3dy5jbC5jYW0uYWMudWsvJTdFbWdrMjUvdWNzL3djd2lkdGguY1xuICAvLyBjb21iaW5pbmcgY2hhcmFjdGVyc1xuICBjb25zdCBDT01CSU5JTkdfQk1QID0gW1xuICAgIFsweDAzMDAsIDB4MDM2Rl0sIFsweDA0ODMsIDB4MDQ4Nl0sIFsweDA0ODgsIDB4MDQ4OV0sXG4gICAgWzB4MDU5MSwgMHgwNUJEXSwgWzB4MDVCRiwgMHgwNUJGXSwgWzB4MDVDMSwgMHgwNUMyXSxcbiAgICBbMHgwNUM0LCAweDA1QzVdLCBbMHgwNUM3LCAweDA1QzddLCBbMHgwNjAwLCAweDA2MDNdLFxuICAgIFsweDA2MTAsIDB4MDYxNV0sIFsweDA2NEIsIDB4MDY1RV0sIFsweDA2NzAsIDB4MDY3MF0sXG4gICAgWzB4MDZENiwgMHgwNkU0XSwgWzB4MDZFNywgMHgwNkU4XSwgWzB4MDZFQSwgMHgwNkVEXSxcbiAgICBbMHgwNzBGLCAweDA3MEZdLCBbMHgwNzExLCAweDA3MTFdLCBbMHgwNzMwLCAweDA3NEFdLFxuICAgIFsweDA3QTYsIDB4MDdCMF0sIFsweDA3RUIsIDB4MDdGM10sIFsweDA5MDEsIDB4MDkwMl0sXG4gICAgWzB4MDkzQywgMHgwOTNDXSwgWzB4MDk0MSwgMHgwOTQ4XSwgWzB4MDk0RCwgMHgwOTREXSxcbiAgICBbMHgwOTUxLCAweDA5NTRdLCBbMHgwOTYyLCAweDA5NjNdLCBbMHgwOTgxLCAweDA5ODFdLFxuICAgIFsweDA5QkMsIDB4MDlCQ10sIFsweDA5QzEsIDB4MDlDNF0sIFsweDA5Q0QsIDB4MDlDRF0sXG4gICAgWzB4MDlFMiwgMHgwOUUzXSwgWzB4MEEwMSwgMHgwQTAyXSwgWzB4MEEzQywgMHgwQTNDXSxcbiAgICBbMHgwQTQxLCAweDBBNDJdLCBbMHgwQTQ3LCAweDBBNDhdLCBbMHgwQTRCLCAweDBBNERdLFxuICAgIFsweDBBNzAsIDB4MEE3MV0sIFsweDBBODEsIDB4MEE4Ml0sIFsweDBBQkMsIDB4MEFCQ10sXG4gICAgWzB4MEFDMSwgMHgwQUM1XSwgWzB4MEFDNywgMHgwQUM4XSwgWzB4MEFDRCwgMHgwQUNEXSxcbiAgICBbMHgwQUUyLCAweDBBRTNdLCBbMHgwQjAxLCAweDBCMDFdLCBbMHgwQjNDLCAweDBCM0NdLFxuICAgIFsweDBCM0YsIDB4MEIzRl0sIFsweDBCNDEsIDB4MEI0M10sIFsweDBCNEQsIDB4MEI0RF0sXG4gICAgWzB4MEI1NiwgMHgwQjU2XSwgWzB4MEI4MiwgMHgwQjgyXSwgWzB4MEJDMCwgMHgwQkMwXSxcbiAgICBbMHgwQkNELCAweDBCQ0RdLCBbMHgwQzNFLCAweDBDNDBdLCBbMHgwQzQ2LCAweDBDNDhdLFxuICAgIFsweDBDNEEsIDB4MEM0RF0sIFsweDBDNTUsIDB4MEM1Nl0sIFsweDBDQkMsIDB4MENCQ10sXG4gICAgWzB4MENCRiwgMHgwQ0JGXSwgWzB4MENDNiwgMHgwQ0M2XSwgWzB4MENDQywgMHgwQ0NEXSxcbiAgICBbMHgwQ0UyLCAweDBDRTNdLCBbMHgwRDQxLCAweDBENDNdLCBbMHgwRDRELCAweDBENERdLFxuICAgIFsweDBEQ0EsIDB4MERDQV0sIFsweDBERDIsIDB4MERENF0sIFsweDBERDYsIDB4MERENl0sXG4gICAgWzB4MEUzMSwgMHgwRTMxXSwgWzB4MEUzNCwgMHgwRTNBXSwgWzB4MEU0NywgMHgwRTRFXSxcbiAgICBbMHgwRUIxLCAweDBFQjFdLCBbMHgwRUI0LCAweDBFQjldLCBbMHgwRUJCLCAweDBFQkNdLFxuICAgIFsweDBFQzgsIDB4MEVDRF0sIFsweDBGMTgsIDB4MEYxOV0sIFsweDBGMzUsIDB4MEYzNV0sXG4gICAgWzB4MEYzNywgMHgwRjM3XSwgWzB4MEYzOSwgMHgwRjM5XSwgWzB4MEY3MSwgMHgwRjdFXSxcbiAgICBbMHgwRjgwLCAweDBGODRdLCBbMHgwRjg2LCAweDBGODddLCBbMHgwRjkwLCAweDBGOTddLFxuICAgIFsweDBGOTksIDB4MEZCQ10sIFsweDBGQzYsIDB4MEZDNl0sIFsweDEwMkQsIDB4MTAzMF0sXG4gICAgWzB4MTAzMiwgMHgxMDMyXSwgWzB4MTAzNiwgMHgxMDM3XSwgWzB4MTAzOSwgMHgxMDM5XSxcbiAgICBbMHgxMDU4LCAweDEwNTldLCBbMHgxMTYwLCAweDExRkZdLCBbMHgxMzVGLCAweDEzNUZdLFxuICAgIFsweDE3MTIsIDB4MTcxNF0sIFsweDE3MzIsIDB4MTczNF0sIFsweDE3NTIsIDB4MTc1M10sXG4gICAgWzB4MTc3MiwgMHgxNzczXSwgWzB4MTdCNCwgMHgxN0I1XSwgWzB4MTdCNywgMHgxN0JEXSxcbiAgICBbMHgxN0M2LCAweDE3QzZdLCBbMHgxN0M5LCAweDE3RDNdLCBbMHgxN0RELCAweDE3RERdLFxuICAgIFsweDE4MEIsIDB4MTgwRF0sIFsweDE4QTksIDB4MThBOV0sIFsweDE5MjAsIDB4MTkyMl0sXG4gICAgWzB4MTkyNywgMHgxOTI4XSwgWzB4MTkzMiwgMHgxOTMyXSwgWzB4MTkzOSwgMHgxOTNCXSxcbiAgICBbMHgxQTE3LCAweDFBMThdLCBbMHgxQjAwLCAweDFCMDNdLCBbMHgxQjM0LCAweDFCMzRdLFxuICAgIFsweDFCMzYsIDB4MUIzQV0sIFsweDFCM0MsIDB4MUIzQ10sIFsweDFCNDIsIDB4MUI0Ml0sXG4gICAgWzB4MUI2QiwgMHgxQjczXSwgWzB4MURDMCwgMHgxRENBXSwgWzB4MURGRSwgMHgxREZGXSxcbiAgICBbMHgyMDBCLCAweDIwMEZdLCBbMHgyMDJBLCAweDIwMkVdLCBbMHgyMDYwLCAweDIwNjNdLFxuICAgIFsweDIwNkEsIDB4MjA2Rl0sIFsweDIwRDAsIDB4MjBFRl0sIFsweDMwMkEsIDB4MzAyRl0sXG4gICAgWzB4MzA5OSwgMHgzMDlBXSwgWzB4QTgwNiwgMHhBODA2XSwgWzB4QTgwQiwgMHhBODBCXSxcbiAgICBbMHhBODI1LCAweEE4MjZdLCBbMHhGQjFFLCAweEZCMUVdLCBbMHhGRTAwLCAweEZFMEZdLFxuICAgIFsweEZFMjAsIDB4RkUyM10sIFsweEZFRkYsIDB4RkVGRl0sIFsweEZGRjksIDB4RkZGQl1cbiAgXTtcbiAgY29uc3QgQ09NQklOSU5HX0hJR0ggPSBbXG4gICAgWzB4MTBBMDEsIDB4MTBBMDNdLCBbMHgxMEEwNSwgMHgxMEEwNl0sIFsweDEwQTBDLCAweDEwQTBGXSxcbiAgICBbMHgxMEEzOCwgMHgxMEEzQV0sIFsweDEwQTNGLCAweDEwQTNGXSwgWzB4MUQxNjcsIDB4MUQxNjldLFxuICAgIFsweDFEMTczLCAweDFEMTgyXSwgWzB4MUQxODUsIDB4MUQxOEJdLCBbMHgxRDFBQSwgMHgxRDFBRF0sXG4gICAgWzB4MUQyNDIsIDB4MUQyNDRdLCBbMHhFMDAwMSwgMHhFMDAwMV0sIFsweEUwMDIwLCAweEUwMDdGXSxcbiAgICBbMHhFMDEwMCwgMHhFMDFFRl1cbiAgXTtcbiAgLy8gYmluYXJ5IHNlYXJjaFxuICBmdW5jdGlvbiBiaXNlYXJjaCh1Y3M6IG51bWJlciwgZGF0YTogbnVtYmVyW11bXSk6IGJvb2xlYW4ge1xuICAgIGxldCBtaW4gPSAwO1xuICAgIGxldCBtYXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgbGV0IG1pZDtcbiAgICBpZiAodWNzIDwgZGF0YVswXVswXSB8fCB1Y3MgPiBkYXRhW21heF1bMV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgd2hpbGUgKG1heCA+PSBtaW4pIHtcbiAgICAgIG1pZCA9IChtaW4gKyBtYXgpID4+IDE7XG4gICAgICBpZiAodWNzID4gZGF0YVttaWRdWzFdKSB7XG4gICAgICAgIG1pbiA9IG1pZCArIDE7XG4gICAgICB9IGVsc2UgaWYgKHVjcyA8IGRhdGFbbWlkXVswXSkge1xuICAgICAgICBtYXggPSBtaWQgLSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiB3Y3dpZHRoSGlnaCh1Y3M6IG51bWJlcik6IDAgfCAxIHwgMiB7XG4gICAgaWYgKGJpc2VhcmNoKHVjcywgQ09NQklOSU5HX0hJR0gpKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKCh1Y3MgPj0gMHgyMDAwMCAmJiB1Y3MgPD0gMHgyZmZmZCkgfHwgKHVjcyA+PSAweDMwMDAwICYmIHVjcyA8PSAweDNmZmZkKSkge1xuICAgICAgcmV0dXJuIDI7XG4gICAgfVxuICAgIHJldHVybiAxO1xuICB9XG4gIGNvbnN0IGNvbnRyb2wgPSBvcHRzLmNvbnRyb2wgfCAwO1xuXG4gIC8vIGNyZWF0ZSBsb29rdXAgdGFibGUgZm9yIEJNUCBwbGFuZVxuICBjb25zdCB0YWJsZSA9IG5ldyBVaW50OEFycmF5KDY1NTM2KTtcbiAgZmlsbCh0YWJsZSwgMSk7XG4gIHRhYmxlWzBdID0gb3B0cy5udWw7XG4gIC8vIGNvbnRyb2wgY2hhcnNcbiAgZmlsbCh0YWJsZSwgb3B0cy5jb250cm9sLCAxLCAzMik7XG4gIGZpbGwodGFibGUsIG9wdHMuY29udHJvbCwgMHg3ZiwgMHhhMCk7XG5cbiAgLy8gYXBwbHkgd2lkZSBjaGFyIHJ1bGVzIGZpcnN0XG4gIC8vIHdpZGUgY2hhcnNcbiAgZmlsbCh0YWJsZSwgMiwgMHgxMTAwLCAweDExNjApO1xuICB0YWJsZVsweDIzMjldID0gMjtcbiAgdGFibGVbMHgyMzJhXSA9IDI7XG4gIGZpbGwodGFibGUsIDIsIDB4MmU4MCwgMHhhNGQwKTtcbiAgdGFibGVbMHgzMDNmXSA9IDE7ICAvLyB3cm9uZ2x5IGluIGxhc3QgbGluZVxuXG4gIGZpbGwodGFibGUsIDIsIDB4YWMwMCwgMHhkN2E0KTtcbiAgZmlsbCh0YWJsZSwgMiwgMHhmOTAwLCAweGZiMDApO1xuICBmaWxsKHRhYmxlLCAyLCAweGZlMTAsIDB4ZmUxYSk7XG4gIGZpbGwodGFibGUsIDIsIDB4ZmUzMCwgMHhmZTcwKTtcbiAgZmlsbCh0YWJsZSwgMiwgMHhmZjAwLCAweGZmNjEpO1xuICBmaWxsKHRhYmxlLCAyLCAweGZmZTAsIDB4ZmZlNyk7XG5cbiAgLy8gYXBwbHkgY29tYmluaW5nIGxhc3QgdG8gZW5zdXJlIHdlIG92ZXJ3cml0ZVxuICAvLyB3cm9uZ2x5IHdpZGUgc2V0IGNoYXJzOlxuICAvLyAgICB0aGUgb3JpZ2luYWwgYWxnbyBldmFscyBjb21iaW5pbmcgZmlyc3QgYW5kIGZhbGxzXG4gIC8vICAgIHRocm91Z2ggdG8gd2lkZSBjaGVjayBzbyB3ZSBzaW1wbHkgZG8gaGVyZSB0aGUgb3Bwb3NpdGVcbiAgLy8gY29tYmluaW5nIDBcbiAgZm9yIChsZXQgciA9IDA7IHIgPCBDT01CSU5JTkdfQk1QLmxlbmd0aDsgKytyKSB7XG4gICAgZmlsbCh0YWJsZSwgMCwgQ09NQklOSU5HX0JNUFtyXVswXSwgQ09NQklOSU5HX0JNUFtyXVsxXSArIDEpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChudW06IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKG51bSA8IDMyKSB7XG4gICAgICByZXR1cm4gY29udHJvbCB8IDA7XG4gICAgfVxuICAgIGlmIChudW0gPCAxMjcpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAobnVtIDwgNjU1MzYpIHtcbiAgICAgIHJldHVybiB0YWJsZVtudW1dO1xuICAgIH1cbiAgICAvLyBkbyBhIGZ1bGwgc2VhcmNoIGZvciBoaWdoIGNvZGVwb2ludHNcbiAgICByZXR1cm4gd2N3aWR0aEhpZ2gobnVtKTtcbiAgfTtcbn0pKHtudWw6IDAsIGNvbnRyb2w6IDB9KTsgIC8vIGNvbmZpZ3VyYWJsZSBvcHRpb25zXG5cbi8qKlxuICogR2V0IHRoZSB0ZXJtaW5hbCBjZWxsIHdpZHRoIGZvciBhIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0cmluZ0NlbGxXaWR0aChzOiBzdHJpbmcpOiBudW1iZXIge1xuICBsZXQgcmVzdWx0ID0gMDtcbiAgY29uc3QgbGVuZ3RoID0gcy5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBsZXQgY29kZSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICAvLyBzdXJyb2dhdGUgcGFpciBmaXJzdFxuICAgIGlmICgweEQ4MDAgPD0gY29kZSAmJiBjb2RlIDw9IDB4REJGRikge1xuICAgICAgaWYgKCsraSA+PSBsZW5ndGgpIHtcbiAgICAgICAgLy8gdGhpcyBzaG91bGQgbm90IGhhcHBlbiB3aXRoIHN0cmluZ3MgcmV0cmlldmVkIGZyb21cbiAgICAgICAgLy8gQnVmZmVyLnRyYW5zbGF0ZVRvU3RyaW5nIGFzIGl0IGNvbnZlcnRzIGZyb20gVVRGLTMyXG4gICAgICAgIC8vIGFuZCB0aGVyZWZvcmUgYWx3YXlzIHNob3VsZCBjb250YWluIHRoZSBzZWNvbmQgcGFydFxuICAgICAgICAvLyBmb3IgYW55IG90aGVyIHN0cmluZyB3ZSBzdGlsbCBoYXZlIHRvIGhhbmRsZSBpdCBzb21laG93OlxuICAgICAgICAvLyBzaW1wbHkgdHJlYXQgdGhlIGxvbmVseSBzdXJyb2dhdGUgZmlyc3QgYXMgYSBzaW5nbGUgY2hhciAoVUNTLTIgYmVoYXZpb3IpXG4gICAgICAgIHJldHVybiByZXN1bHQgKyB3Y3dpZHRoKGNvZGUpO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2Vjb25kID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgICAgLy8gY29udmVydCBzdXJyb2dhdGUgcGFpciB0byBoaWdoIGNvZGVwb2ludCBvbmx5IGZvciB2YWxpZCBzZWNvbmQgcGFydCAoVVRGLTE2KVxuICAgICAgLy8gb3RoZXJ3aXNlIHRyZWF0IHRoZW0gaW5kZXBlbmRlbnRseSAoVUNTLTIgYmVoYXZpb3IpXG4gICAgICBpZiAoMHhEQzAwIDw9IHNlY29uZCAmJiBzZWNvbmQgPD0gMHhERkZGKSB7XG4gICAgICAgIGNvZGUgPSAoY29kZSAtIDB4RDgwMCkgKiAweDQwMCArIHNlY29uZCAtIDB4REMwMCArIDB4MTAwMDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgKz0gd2N3aWR0aChzZWNvbmQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQgKz0gd2N3aWR0aChjb2RlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3h0ZXJtL3NyYy9DaGFyV2lkdGgudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n')},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CharAtlasUtils_1 = __webpack_require__(4);\nvar DynamicCharAtlas_1 = __webpack_require__(40);\nvar NoneCharAtlas_1 = __webpack_require__(42);\nvar StaticCharAtlas_1 = __webpack_require__(43);\nvar charAtlasImplementations = {\n    'none': NoneCharAtlas_1.default,\n    'static': StaticCharAtlas_1.default,\n    'dynamic': DynamicCharAtlas_1.default\n};\nvar charAtlasCache = [];\nfunction acquireCharAtlas(terminal, colors, scaledCharWidth, scaledCharHeight) {\n    var newConfig = CharAtlasUtils_1.generateConfig(scaledCharWidth, scaledCharHeight, terminal, colors);\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        var ownedByIndex = entry.ownedBy.indexOf(terminal);\n        if (ownedByIndex >= 0) {\n            if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n                return entry.atlas;\n            }\n            if (entry.ownedBy.length === 1) {\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                entry.ownedBy.splice(ownedByIndex, 1);\n            }\n            break;\n        }\n    }\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var entry = charAtlasCache[i];\n        if (CharAtlasUtils_1.configEquals(entry.config, newConfig)) {\n            entry.ownedBy.push(terminal);\n            return entry.atlas;\n        }\n    }\n    var newEntry = {\n        atlas: new charAtlasImplementations[terminal.options.experimentalCharAtlas](document, newConfig),\n        config: newConfig,\n        ownedBy: [terminal]\n    };\n    charAtlasCache.push(newEntry);\n    return newEntry.atlas;\n}\nexports.acquireCharAtlas = acquireCharAtlas;\nfunction removeTerminalFromCache(terminal) {\n    for (var i = 0; i < charAtlasCache.length; i++) {\n        var index = charAtlasCache[i].ownedBy.indexOf(terminal);\n        if (index !== -1) {\n            if (charAtlasCache[i].ownedBy.length === 1) {\n                charAtlasCache.splice(i, 1);\n            }\n            else {\n                charAtlasCache[i].ownedBy.splice(index, 1);\n            }\n            break;\n        }\n    }\n}\nexports.removeTerminalFromCache = removeTerminalFromCache;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL2F0bGFzL0NoYXJBdGxhc0NhY2hlLnRzPzZmNTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFPQSw4Q0FBZ0U7QUFFaEUsaURBQWtEO0FBQ2xELDhDQUE0QztBQUM1QyxnREFBZ0Q7QUFHaEQsSUFBTSx3QkFBd0IsR0FBRztJQUMvQixNQUFNLEVBQUUsdUJBQWE7SUFDckIsUUFBUSxFQUFFLHlCQUFlO0lBQ3pCLFNBQVMsRUFBRSwwQkFBZ0I7Q0FDNUIsQ0FBQztBQVVGLElBQU0sY0FBYyxHQUEyQixFQUFFLENBQUM7QUFRbEQsU0FBZ0IsZ0JBQWdCLENBQzlCLFFBQW1CLEVBQ25CLE1BQWlCLEVBQ2pCLGVBQXVCLEVBQ3ZCLGdCQUF3QjtJQUV4QixJQUFNLFNBQVMsR0FBRywrQkFBYyxDQUFDLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFLdEYsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLGNBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDOUMsSUFBTSxLQUFLLEdBQUcsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLElBQU0sWUFBWSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JELElBQUksWUFBWSxJQUFJLENBQUMsRUFBRTtZQUNyQixJQUFJLDZCQUFZLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsRUFBRTtnQkFDekMsT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDO2FBQ3BCO1lBRUQsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7Z0JBQzlCLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQzdCO2lCQUFNO2dCQUNMLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQzthQUN2QztZQUNELE1BQU07U0FDUDtLQUNGO0lBR0QsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLGNBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDOUMsSUFBTSxLQUFLLEdBQUcsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLElBQUksNkJBQVksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxFQUFFO1lBRXpDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzdCLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQztTQUNwQjtLQUNGO0lBRUQsSUFBTSxRQUFRLEdBQXlCO1FBQ3JDLEtBQUssRUFBRSxJQUFJLHdCQUF3QixDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FDekUsUUFBUSxFQUNSLFNBQVMsQ0FDVjtRQUNELE1BQU0sRUFBRSxTQUFTO1FBQ2pCLE9BQU8sRUFBRSxDQUFDLFFBQVEsQ0FBQztLQUNwQixDQUFDO0lBQ0YsY0FBYyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM5QixPQUFPLFFBQVEsQ0FBQyxLQUFLLENBQUM7QUFDeEIsQ0FBQztBQWhERCw0Q0FnREM7QUFNRCxTQUFnQix1QkFBdUIsQ0FBQyxRQUFtQjtJQUN6RCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsY0FBYyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUM5QyxJQUFNLEtBQUssR0FBRyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMxRCxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsRUFBRTtZQUNoQixJQUFJLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtnQkFFMUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDN0I7aUJBQU07Z0JBRUwsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQzVDO1lBQ0QsTUFBTTtTQUNQO0tBQ0Y7QUFDSCxDQUFDO0FBZEQsMERBY0MiLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IElUZXJtaW5hbCB9IGZyb20gJy4uLy4uL1R5cGVzJztcbmltcG9ydCB7IElDb2xvclNldCB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IGdlbmVyYXRlQ29uZmlnLCBjb25maWdFcXVhbHMgfSBmcm9tICcuL0NoYXJBdGxhc1V0aWxzJztcbmltcG9ydCBCYXNlQ2hhckF0bGFzIGZyb20gJy4vQmFzZUNoYXJBdGxhcyc7XG5pbXBvcnQgRHluYW1pY0NoYXJBdGxhcyBmcm9tICcuL0R5bmFtaWNDaGFyQXRsYXMnO1xuaW1wb3J0IE5vbmVDaGFyQXRsYXMgZnJvbSAnLi9Ob25lQ2hhckF0bGFzJztcbmltcG9ydCBTdGF0aWNDaGFyQXRsYXMgZnJvbSAnLi9TdGF0aWNDaGFyQXRsYXMnO1xuaW1wb3J0IHsgSUNoYXJBdGxhc0NvbmZpZyB9IGZyb20gJy4vVHlwZXMnO1xuXG5jb25zdCBjaGFyQXRsYXNJbXBsZW1lbnRhdGlvbnMgPSB7XG4gICdub25lJzogTm9uZUNoYXJBdGxhcyxcbiAgJ3N0YXRpYyc6IFN0YXRpY0NoYXJBdGxhcyxcbiAgJ2R5bmFtaWMnOiBEeW5hbWljQ2hhckF0bGFzXG59O1xuXG5pbnRlcmZhY2UgSUNoYXJBdGxhc0NhY2hlRW50cnkge1xuICBhdGxhczogQmFzZUNoYXJBdGxhcztcbiAgY29uZmlnOiBJQ2hhckF0bGFzQ29uZmlnO1xuICAvLyBOLkIuIFRoaXMgaW1wbGVtZW50YXRpb24gcG90ZW50aWFsbHkgaG9sZHMgb250byBjb3BpZXMgb2YgdGhlIHRlcm1pbmFsIGZvcmV2ZXIsIHNvXG4gIC8vIHRoaXMgbWF5IGNhdXNlIG1lbW9yeSBsZWFrcy5cbiAgb3duZWRCeTogSVRlcm1pbmFsW107XG59XG5cbmNvbnN0IGNoYXJBdGxhc0NhY2hlOiBJQ2hhckF0bGFzQ2FjaGVFbnRyeVtdID0gW107XG5cbi8qKlxuICogQWNxdWlyZXMgYSBjaGFyIGF0bGFzLCBlaXRoZXIgZ2VuZXJhdGluZyBhIG5ldyBvbmUgb3IgcmV0dXJuaW5nIGFuIGV4aXN0aW5nXG4gKiBvbmUgdGhhdCBpcyBpbiB1c2UgYnkgYW5vdGhlciB0ZXJtaW5hbC5cbiAqIEBwYXJhbSB0ZXJtaW5hbCBUaGUgdGVybWluYWwuXG4gKiBAcGFyYW0gY29sb3JzIFRoZSBjb2xvcnMgdG8gdXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWNxdWlyZUNoYXJBdGxhcyhcbiAgdGVybWluYWw6IElUZXJtaW5hbCxcbiAgY29sb3JzOiBJQ29sb3JTZXQsXG4gIHNjYWxlZENoYXJXaWR0aDogbnVtYmVyLFxuICBzY2FsZWRDaGFySGVpZ2h0OiBudW1iZXJcbik6IEJhc2VDaGFyQXRsYXMge1xuICBjb25zdCBuZXdDb25maWcgPSBnZW5lcmF0ZUNvbmZpZyhzY2FsZWRDaGFyV2lkdGgsIHNjYWxlZENoYXJIZWlnaHQsIHRlcm1pbmFsLCBjb2xvcnMpO1xuXG4gIC8vIFRPRE86IEN1cnJlbnRseSBpZiBhIHRlcm1pbmFsIGNoYW5nZXMgY29uZmlncyBpdCB3aWxsIG5vdCBmcmVlIHRoZSBlbnRyeSByZWZlcmVuY2UgKHVudGlsIGl0J3MgZGlzcG9zZWQpXG5cbiAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSB0ZXJtaW5hbCBhbHJlYWR5IG93bnMgdGhpcyBjb25maWdcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFyQXRsYXNDYWNoZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGVudHJ5ID0gY2hhckF0bGFzQ2FjaGVbaV07XG4gICAgY29uc3Qgb3duZWRCeUluZGV4ID0gZW50cnkub3duZWRCeS5pbmRleE9mKHRlcm1pbmFsKTtcbiAgICBpZiAob3duZWRCeUluZGV4ID49IDApIHtcbiAgICAgIGlmIChjb25maWdFcXVhbHMoZW50cnkuY29uZmlnLCBuZXdDb25maWcpKSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5hdGxhcztcbiAgICAgIH1cbiAgICAgIC8vIFRoZSBjb25maWdzIGRpZmZlciwgcmVsZWFzZSB0aGUgdGVybWluYWwgZnJvbSB0aGUgZW50cnlcbiAgICAgIGlmIChlbnRyeS5vd25lZEJ5Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBjaGFyQXRsYXNDYWNoZS5zcGxpY2UoaSwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbnRyeS5vd25lZEJ5LnNwbGljZShvd25lZEJ5SW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLy8gVHJ5IG1hdGNoIGEgY2hhciBhdGxhcyBmcm9tIHRoZSBjYWNoZVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJBdGxhc0NhY2hlLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZW50cnkgPSBjaGFyQXRsYXNDYWNoZVtpXTtcbiAgICBpZiAoY29uZmlnRXF1YWxzKGVudHJ5LmNvbmZpZywgbmV3Q29uZmlnKSkge1xuICAgICAgLy8gQWRkIHRoZSB0ZXJtaW5hbCB0byB0aGUgY2FjaGUgZW50cnkgYW5kIHJldHVyblxuICAgICAgZW50cnkub3duZWRCeS5wdXNoKHRlcm1pbmFsKTtcbiAgICAgIHJldHVybiBlbnRyeS5hdGxhcztcbiAgICB9XG4gIH1cblxuICBjb25zdCBuZXdFbnRyeTogSUNoYXJBdGxhc0NhY2hlRW50cnkgPSB7XG4gICAgYXRsYXM6IG5ldyBjaGFyQXRsYXNJbXBsZW1lbnRhdGlvbnNbdGVybWluYWwub3B0aW9ucy5leHBlcmltZW50YWxDaGFyQXRsYXNdKFxuICAgICAgZG9jdW1lbnQsXG4gICAgICBuZXdDb25maWdcbiAgICApLFxuICAgIGNvbmZpZzogbmV3Q29uZmlnLFxuICAgIG93bmVkQnk6IFt0ZXJtaW5hbF1cbiAgfTtcbiAgY2hhckF0bGFzQ2FjaGUucHVzaChuZXdFbnRyeSk7XG4gIHJldHVybiBuZXdFbnRyeS5hdGxhcztcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGEgdGVybWluYWwgcmVmZXJlbmNlIGZyb20gdGhlIGNhY2hlLCBhbGxvd2luZyBpdHMgbWVtb3J5IHRvIGJlIGZyZWVkLlxuICogQHBhcmFtIHRlcm1pbmFsIFRoZSB0ZXJtaW5hbCB0byByZW1vdmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVUZXJtaW5hbEZyb21DYWNoZSh0ZXJtaW5hbDogSVRlcm1pbmFsKTogdm9pZCB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhckF0bGFzQ2FjaGUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBpbmRleCA9IGNoYXJBdGxhc0NhY2hlW2ldLm93bmVkQnkuaW5kZXhPZih0ZXJtaW5hbCk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgaWYgKGNoYXJBdGxhc0NhY2hlW2ldLm93bmVkQnkubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgY2FjaGUgZW50cnkgaWYgaXQncyB0aGUgb25seSB0ZXJtaW5hbFxuICAgICAgICBjaGFyQXRsYXNDYWNoZS5zcGxpY2UoaSwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZW1vdmUgdGhlIHJlZmVyZW5jZSBmcm9tIHRoZSBjYWNoZSBlbnRyeVxuICAgICAgICBjaGFyQXRsYXNDYWNoZVtpXS5vd25lZEJ5LnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvcmVuZGVyZXIvYXRsYXMvQ2hhckF0bGFzQ2FjaGUudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n")},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Platform_1 = __webpack_require__(5);\nvar Types_1 = __webpack_require__(1);\nfunction generateStaticCharAtlasTexture(context, canvasFactory, config) {\n    var cellWidth = config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var cellHeight = config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n    var canvas = canvasFactory(255 * cellWidth, (2 + 16 + 16) * cellHeight);\n    var ctx = canvas.getContext('2d', { alpha: config.allowTransparency });\n    ctx.fillStyle = config.colors.background.css;\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.save();\n    ctx.fillStyle = config.colors.foreground.css;\n    ctx.font = getFont(config.fontWeight, config);\n    ctx.textBaseline = 'top';\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, 0, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, 0);\n        ctx.restore();\n    }\n    ctx.save();\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var i = 0; i < 256; i++) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.rect(i * cellWidth, cellHeight, cellWidth, cellHeight);\n        ctx.clip();\n        ctx.fillText(String.fromCharCode(i), i * cellWidth, cellHeight);\n        ctx.restore();\n    }\n    ctx.restore();\n    ctx.font = getFont(config.fontWeight, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y);\n            ctx.restore();\n        }\n    }\n    ctx.font = getFont(config.fontWeightBold, config);\n    for (var colorIndex = 0; colorIndex < 16; colorIndex++) {\n        var y = (colorIndex + 2 + 16) * cellHeight;\n        for (var i = 0; i < 256; i++) {\n            ctx.save();\n            ctx.beginPath();\n            ctx.rect(i * cellWidth, y, cellWidth, cellHeight);\n            ctx.clip();\n            ctx.fillStyle = config.colors.ansi[colorIndex].css;\n            ctx.fillText(String.fromCharCode(i), i * cellWidth, y);\n            ctx.restore();\n        }\n    }\n    ctx.restore();\n    if (!('createImageBitmap' in context) || Platform_1.isFirefox || Platform_1.isSafari) {\n        return canvas;\n    }\n    var charAtlasImageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    clearColor(charAtlasImageData, config.colors.background);\n    return context.createImageBitmap(charAtlasImageData);\n}\nexports.generateStaticCharAtlasTexture = generateStaticCharAtlasTexture;\nfunction clearColor(imageData, color) {\n    var isEmpty = true;\n    var r = color.rgba >>> 24;\n    var g = color.rgba >>> 16 & 0xFF;\n    var b = color.rgba >>> 8 & 0xFF;\n    for (var offset = 0; offset < imageData.data.length; offset += 4) {\n        if (imageData.data[offset] === r &&\n            imageData.data[offset + 1] === g &&\n            imageData.data[offset + 2] === b) {\n            imageData.data[offset + 3] = 0;\n        }\n        else {\n            isEmpty = false;\n        }\n    }\n    return isEmpty;\n}\nexports.clearColor = clearColor;\nfunction getFont(fontWeight, config) {\n    return fontWeight + \" \" + config.fontSize * config.devicePixelRatio + \"px \" + config.fontFamily;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL2F0bGFzL0NoYXJBdGxhc0dlbmVyYXRvci50cz85MWUwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBTUEsd0NBQTBEO0FBRTFELHFDQUFvRTtBQVFwRSxTQUFnQiw4QkFBOEIsQ0FBQyxPQUFlLEVBQUUsYUFBbUUsRUFBRSxNQUF3QjtJQUMzSixJQUFNLFNBQVMsR0FBRyxNQUFNLENBQUMsZUFBZSxHQUFHLCtCQUF1QixDQUFDO0lBQ25FLElBQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsR0FBRywrQkFBdUIsQ0FBQztJQUNyRSxJQUFNLE1BQU0sR0FBRyxhQUFhLENBQ1AsR0FBRyxHQUFHLFNBQVMsRUFDbEMsQ0FBeUIsQ0FBQyxHQUFXLEVBQUUsR0FBZ0IsRUFBRSxDQUFDLEdBQUcsVUFBVSxDQUN4RSxDQUFDO0lBQ0YsSUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsRUFBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLGlCQUFpQixFQUFDLENBQUMsQ0FBQztJQUV2RSxHQUFHLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQztJQUM3QyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFaEQsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ1gsR0FBRyxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUM7SUFDN0MsR0FBRyxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUM5QyxHQUFHLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztJQUd6QixLQUFLLElBQUksQ0FB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LEdBQUcsS0FBSyxDQUFDLElBQUksS0FBSyxFQUFFLEdBQUcsSUFBSSxDQUFDO0lBQ25DLElBQU0sQ0FBQyxHQUFHLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQztJQUNsQyxLQUFLLElBQUksTUFBTSxHQUFHLENBQUMsRUFBRSxNQUFNLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxJQUFJLENBQUMsRUFBRTtRQUNoRSxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztZQUM1QixTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDO1lBQ2hDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNwQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDaEM7YUFBTTtZQUNMLE9BQU8sR0FBRyxLQUFLLENBQUM7U0FDakI7S0FDRjtJQUNELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUM7QUFmRCxnQ0FlQztBQUVELFNBQVMsT0FBTyxDQUFDLFVBQXNCLEVBQUUsTUFBd0I7SUFDL0QsT0FBVSxVQUFVLFNBQUksTUFBTSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLFdBQU0sTUFBTSxDQUFDLFVBQVksQ0FBQztBQUM3RixDQUFDIiwiZmlsZSI6IjE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBGb250V2VpZ2h0IH0gZnJvbSAneHRlcm0nO1xuaW1wb3J0IHsgaXNGaXJlZm94LCBpc1NhZmFyaSB9IGZyb20gJy4uLy4uL2NvcmUvUGxhdGZvcm0nO1xuaW1wb3J0IHsgSUNvbG9yIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgSUNoYXJBdGxhc0NvbmZpZywgQ0hBUl9BVExBU19DRUxMX1NQQUNJTkcgfSBmcm9tICcuL1R5cGVzJztcblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBjaGFyIGF0bGFzLlxuICogQHBhcmFtIGNvbnRleHQgVGhlIHdpbmRvdyBvciB3b3JrZXIgY29udGV4dC5cbiAqIEBwYXJhbSBjYW52YXNGYWN0b3J5IEEgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgYSBjYW52YXMgd2l0aCBhIHdpZHRoIG9yIGhlaWdodC5cbiAqIEBwYXJhbSBjb25maWcgVGhlIGNvbmZpZyBmb3IgdGhlIG5ldyBjaGFyIGF0bGFzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVTdGF0aWNDaGFyQXRsYXNUZXh0dXJlKGNvbnRleHQ6IFdpbmRvdywgY2FudmFzRmFjdG9yeTogKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiBIVE1MQ2FudmFzRWxlbWVudCwgY29uZmlnOiBJQ2hhckF0bGFzQ29uZmlnKTogSFRNTENhbnZhc0VsZW1lbnQgfCBQcm9taXNlPEltYWdlQml0bWFwPiB7XG4gIGNvbnN0IGNlbGxXaWR0aCA9IGNvbmZpZy5zY2FsZWRDaGFyV2lkdGggKyBDSEFSX0FUTEFTX0NFTExfU1BBQ0lORztcbiAgY29uc3QgY2VsbEhlaWdodCA9IGNvbmZpZy5zY2FsZWRDaGFySGVpZ2h0ICsgQ0hBUl9BVExBU19DRUxMX1NQQUNJTkc7XG4gIGNvbnN0IGNhbnZhcyA9IGNhbnZhc0ZhY3RvcnkoXG4gICAgLyoyNTUgYXNjaWkgY2hhcnMqLzI1NSAqIGNlbGxXaWR0aCxcbiAgICAoLypkZWZhdWx0K2RlZmF1bHQgYm9sZCovMiArIC8qMC0xNSovMTYgKyAvKjAtMTUgYm9sZCovMTYpICogY2VsbEhlaWdodFxuICApO1xuICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7YWxwaGE6IGNvbmZpZy5hbGxvd1RyYW5zcGFyZW5jeX0pO1xuXG4gIGN0eC5maWxsU3R5bGUgPSBjb25maWcuY29sb3JzLmJhY2tncm91bmQuY3NzO1xuICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICBjdHguc2F2ZSgpO1xuICBjdHguZmlsbFN0eWxlID0gY29uZmlnLmNvbG9ycy5mb3JlZ3JvdW5kLmNzcztcbiAgY3R4LmZvbnQgPSBnZXRGb250KGNvbmZpZy5mb250V2VpZ2h0LCBjb25maWcpO1xuICBjdHgudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG5cbiAgLy8gRGVmYXVsdCBjb2xvclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LnJlY3QoaSAqIGNlbGxXaWR0aCwgMCwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0KTtcbiAgICBjdHguY2xpcCgpO1xuICAgIGN0eC5maWxsVGV4dChTdHJpbmcuZnJvbUNoYXJDb2RlKGkpLCBpICogY2VsbFdpZHRoLCAwKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG4gIC8vIERlZmF1bHQgY29sb3IgYm9sZFxuICBjdHguc2F2ZSgpO1xuICBjdHguZm9udCA9IGdldEZvbnQoY29uZmlnLmZvbnRXZWlnaHRCb2xkLCBjb25maWcpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LnJlY3QoaSAqIGNlbGxXaWR0aCwgY2VsbEhlaWdodCwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0KTtcbiAgICBjdHguY2xpcCgpO1xuICAgIGN0eC5maWxsVGV4dChTdHJpbmcuZnJvbUNoYXJDb2RlKGkpLCBpICogY2VsbFdpZHRoLCBjZWxsSGVpZ2h0KTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG4gIGN0eC5yZXN0b3JlKCk7XG5cbiAgLy8gQ29sb3JzIDAtMTVcbiAgY3R4LmZvbnQgPSBnZXRGb250KGNvbmZpZy5mb250V2VpZ2h0LCBjb25maWcpO1xuICBmb3IgKGxldCBjb2xvckluZGV4ID0gMDsgY29sb3JJbmRleCA8IDE2OyBjb2xvckluZGV4KyspIHtcbiAgICBjb25zdCB5ID0gKGNvbG9ySW5kZXggKyAyKSAqIGNlbGxIZWlnaHQ7XG4gICAgLy8gRHJhdyBhc2NpaSBjaGFyYWN0ZXJzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5yZWN0KGkgKiBjZWxsV2lkdGgsIHksIGNlbGxXaWR0aCwgY2VsbEhlaWdodCk7XG4gICAgICBjdHguY2xpcCgpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbmZpZy5jb2xvcnMuYW5zaVtjb2xvckluZGV4XS5jc3M7XG4gICAgICBjdHguZmlsbFRleHQoU3RyaW5nLmZyb21DaGFyQ29kZShpKSwgaSAqIGNlbGxXaWR0aCwgeSk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIENvbG9ycyAwLTE1IGJvbGRcbiAgY3R4LmZvbnQgPSBnZXRGb250KGNvbmZpZy5mb250V2VpZ2h0Qm9sZCwgY29uZmlnKTtcbiAgZm9yIChsZXQgY29sb3JJbmRleCA9IDA7IGNvbG9ySW5kZXggPCAxNjsgY29sb3JJbmRleCsrKSB7XG4gICAgY29uc3QgeSA9IChjb2xvckluZGV4ICsgMiArIDE2KSAqIGNlbGxIZWlnaHQ7XG4gICAgLy8gRHJhdyBhc2NpaSBjaGFyYWN0ZXJzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5yZWN0KGkgKiBjZWxsV2lkdGgsIHksIGNlbGxXaWR0aCwgY2VsbEhlaWdodCk7XG4gICAgICBjdHguY2xpcCgpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbmZpZy5jb2xvcnMuYW5zaVtjb2xvckluZGV4XS5jc3M7XG4gICAgICBjdHguZmlsbFRleHQoU3RyaW5nLmZyb21DaGFyQ29kZShpKSwgaSAqIGNlbGxXaWR0aCwgeSk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbiAgfVxuICBjdHgucmVzdG9yZSgpO1xuXG4gIC8vIFN1cHBvcnQgaXMgcGF0Y2h5IGZvciBjcmVhdGVJbWFnZUJpdG1hcCBhdCB0aGUgbW9tZW50LCBwYXNzIGEgY2FudmFzIGJhY2tcbiAgLy8gaWYgc3VwcG9ydCBpcyBsYWNraW5nIGFzIGRyYXdJbWFnZSB3b3JrcyB0aGVyZSB0b28uIEZpcmVmb3ggaXMgYWxzb1xuICAvLyBpbmNsdWRlZCBoZXJlIGFzIEltYWdlQml0bWFwIGFwcGVhcnMgYm90aCBidWdneSBhbmQgaGFzIGhvcnJpYmxlXG4gIC8vIHBlcmZvcm1hbmNlICh0ZXN0ZWQgb24gdjU1KS5cbiAgaWYgKCEoJ2NyZWF0ZUltYWdlQml0bWFwJyBpbiBjb250ZXh0KSB8fCBpc0ZpcmVmb3ggfHwgaXNTYWZhcmkpIHtcbiAgICAvLyBEb24ndCBhdHRlbXB0IHRvIGNsZWFyIGJhY2tncm91bmQgY29sb3JzIGlmIGNyZWF0ZUltYWdlQml0bWFwIGlzIG5vdCBzdXBwb3J0ZWRcbiAgICByZXR1cm4gY2FudmFzO1xuICB9XG5cbiAgY29uc3QgY2hhckF0bGFzSW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG4gIC8vIFJlbW92ZSB0aGUgYmFja2dyb3VuZCBjb2xvciBmcm9tIHRoZSBpbWFnZSBzbyBjaGFyYWN0ZXJzIG1heSBvdmVybGFwXG4gIGNsZWFyQ29sb3IoY2hhckF0bGFzSW1hZ2VEYXRhLCBjb25maWcuY29sb3JzLmJhY2tncm91bmQpO1xuXG4gIHJldHVybiBjb250ZXh0LmNyZWF0ZUltYWdlQml0bWFwKGNoYXJBdGxhc0ltYWdlRGF0YSk7XG59XG5cbi8qKlxuICogTWFrZXMgYSBwYXJ0aWljdWxhciByZ2IgY29sb3IgaW4gYW4gSW1hZ2VEYXRhIGNvbXBsZXRlbHkgdHJhbnNwYXJlbnQuXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSByZXN1bHQgaXMgXCJlbXB0eVwiLCBtZWFuaW5nIGFsbCBwaXhlbHMgYXJlIGZ1bGx5IHRyYW5zcGFyZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJDb2xvcihpbWFnZURhdGE6IEltYWdlRGF0YSwgY29sb3I6IElDb2xvcik6IGJvb2xlYW4ge1xuICBsZXQgaXNFbXB0eSA9IHRydWU7XG4gIGNvbnN0IHIgPSBjb2xvci5yZ2JhID4+PiAyNDtcbiAgY29uc3QgZyA9IGNvbG9yLnJnYmEgPj4+IDE2ICYgMHhGRjtcbiAgY29uc3QgYiA9IGNvbG9yLnJnYmEgPj4+IDggJiAweEZGO1xuICBmb3IgKGxldCBvZmZzZXQgPSAwOyBvZmZzZXQgPCBpbWFnZURhdGEuZGF0YS5sZW5ndGg7IG9mZnNldCArPSA0KSB7XG4gICAgaWYgKGltYWdlRGF0YS5kYXRhW29mZnNldF0gPT09IHIgJiZcbiAgICAgICAgaW1hZ2VEYXRhLmRhdGFbb2Zmc2V0ICsgMV0gPT09IGcgJiZcbiAgICAgICAgaW1hZ2VEYXRhLmRhdGFbb2Zmc2V0ICsgMl0gPT09IGIpIHtcbiAgICAgIGltYWdlRGF0YS5kYXRhW29mZnNldCArIDNdID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgaXNFbXB0eSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaXNFbXB0eTtcbn1cblxuZnVuY3Rpb24gZ2V0Rm9udChmb250V2VpZ2h0OiBGb250V2VpZ2h0LCBjb25maWc6IElDaGFyQXRsYXNDb25maWcpOiBzdHJpbmcge1xuICByZXR1cm4gYCR7Zm9udFdlaWdodH0gJHtjb25maWcuZm9udFNpemUgKiBjb25maWcuZGV2aWNlUGl4ZWxSYXRpb31weCAke2NvbmZpZy5mb250RmFtaWx5fWA7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL2F0bGFzL0NoYXJBdGxhc0dlbmVyYXRvci50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///15\n")},function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar Lifecycle_1 = __webpack_require__(3);\nvar ScreenDprMonitor = (function (_super) {\n    __extends(ScreenDprMonitor, _super);\n    function ScreenDprMonitor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ScreenDprMonitor.prototype.setListener = function (listener) {\n        var _this = this;\n        if (this._listener) {\n            this.clearListener();\n        }\n        this._listener = listener;\n        this._outerListener = function () {\n            _this._listener(window.devicePixelRatio, _this._currentDevicePixelRatio);\n            _this._updateDpr();\n        };\n        this._updateDpr();\n    };\n    ScreenDprMonitor.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.clearListener();\n    };\n    ScreenDprMonitor.prototype._updateDpr = function () {\n        if (this._resolutionMediaMatchList) {\n            this._resolutionMediaMatchList.removeListener(this._outerListener);\n        }\n        this._currentDevicePixelRatio = window.devicePixelRatio;\n        this._resolutionMediaMatchList = window.matchMedia("screen and (resolution: " + window.devicePixelRatio + "dppx)");\n        this._resolutionMediaMatchList.addListener(this._outerListener);\n    };\n    ScreenDprMonitor.prototype.clearListener = function () {\n        if (!this._listener) {\n            return;\n        }\n        this._resolutionMediaMatchList.removeListener(this._outerListener);\n        this._listener = null;\n        this._outerListener = null;\n    };\n    return ScreenDprMonitor;\n}(Lifecycle_1.Disposable));\nexports.ScreenDprMonitor = ScreenDprMonitor;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3VpL1NjcmVlbkRwck1vbml0b3IudHM/MDgxMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFLQSx5Q0FBaUQ7QUFjakQ7SUFBc0Msb0NBQVU7SUFBaEQ7O0lBMENBLENBQUM7SUFwQ1Esc0NBQVcsR0FBbEIsVUFBbUIsUUFBMkI7UUFBOUMsaUJBVUM7UUFUQyxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDbEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1NBQ3RCO1FBQ0QsSUFBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7UUFDMUIsSUFBSSxDQUFDLGNBQWMsR0FBRztZQUNwQixLQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxLQUFJLENBQUMsd0JBQXdCLENBQUMsQ0FBQztZQUN2RSxLQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDcEIsQ0FBQyxDQUFDO1FBQ0YsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ3BCLENBQUM7SUFFTSxrQ0FBTyxHQUFkO1FBQ0UsaUJBQU0sT0FBTyxXQUFFLENBQUM7UUFDaEIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFFTyxxQ0FBVSxHQUFsQjtRQUVFLElBQUksSUFBSSxDQUFDLHlCQUF5QixFQUFFO1lBQ2xDLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQ3BFO1FBRUQsSUFBSSxDQUFDLHdCQUF3QixHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztRQUN4RCxJQUFJLENBQUMseUJBQXlCLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyw2QkFBMkIsTUFBTSxDQUFDLGdCQUFnQixVQUFPLENBQUMsQ0FBQztRQUM5RyxJQUFJLENBQUMseUJBQXlCLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUNsRSxDQUFDO0lBRU0sd0NBQWEsR0FBcEI7UUFDRSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNuQixPQUFPO1NBQ1I7UUFDRCxJQUFJLENBQUMseUJBQXlCLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUN0QixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztJQUM3QixDQUFDO0lBQ0gsdUJBQUM7QUFBRCxDQUFDLENBMUNxQyxzQkFBVSxHQTBDL0M7QUExQ1ksNENBQWdCIiwiZmlsZSI6IjE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBEaXNwb3NhYmxlIH0gZnJvbSAnLi4vY29tbW9uL0xpZmVjeWNsZSc7XG5cbmV4cG9ydCB0eXBlIFNjcmVlbkRwckxpc3RlbmVyID0gKG5ld0RldmljZVBpeGVsUmF0aW8/OiBudW1iZXIsIG9sZERldmljZVBpeGVsUmF0aW8/OiBudW1iZXIpID0+IHZvaWQ7XG5cbi8qKlxuICogVGhlIHNjcmVlbiBkZXZpY2UgcGl4ZWwgcmF0aW8gbW9uaXRvciBhbGxvd3MgbGlzdGVuaW5nIGZvciB3aGVuIHRoZVxuICogd2luZG93LmRldmljZVBpeGVsUmF0aW8gdmFsdWUgY2hhbmdlcy4gVGhpcyBpcyBkb25lIG5vdCB3aXRoIHBvbGxpbmcgYnV0IHdpdGhcbiAqIHRoZSB1c2Ugb2Ygd2luZG93Lm1hdGNoTWVkaWEgdG8gd2F0Y2ggbWVkaWEgcXVlcmllcy4gV2hlbiB0aGUgZXZlbnQgZmlyZXMsXG4gKiB0aGUgbGlzdGVuZXIgd2lsbCBiZSByZWF0dGFjaGVkIHVzaW5nIGEgZGlmZmVyZW50IG1lZGlhIHF1ZXJ5IHRvIGVuc3VyZSB0aGF0XG4gKiBhbnkgZnVydGhlciBjaGFuZ2VzIHdpbGwgcmVnaXN0ZXIuXG4gKlxuICogVGhlIGxpc3RlbmVyIHNob3VsZCBmaXJlIG9uIGJvdGggd2luZG93IHpvb20gY2hhbmdlcyBhbmQgc3dpdGNoaW5nIHRvIGFcbiAqIG1vbml0b3Igd2l0aCBhIGRpZmZlcmVudCBEUEkuXG4gKi9cbmV4cG9ydCBjbGFzcyBTY3JlZW5EcHJNb25pdG9yIGV4dGVuZHMgRGlzcG9zYWJsZSB7XG4gIHByaXZhdGUgX2N1cnJlbnREZXZpY2VQaXhlbFJhdGlvOiBudW1iZXI7XG4gIHByaXZhdGUgX291dGVyTGlzdGVuZXI6ICh0aGlzOiBNZWRpYVF1ZXJ5TGlzdCwgZXY6IE1lZGlhUXVlcnlMaXN0RXZlbnQpID0+IGFueTtcbiAgcHJpdmF0ZSBfbGlzdGVuZXI6IFNjcmVlbkRwckxpc3RlbmVyO1xuICBwcml2YXRlIF9yZXNvbHV0aW9uTWVkaWFNYXRjaExpc3Q6IE1lZGlhUXVlcnlMaXN0O1xuXG4gIHB1YmxpYyBzZXRMaXN0ZW5lcihsaXN0ZW5lcjogU2NyZWVuRHByTGlzdGVuZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fbGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuY2xlYXJMaXN0ZW5lcigpO1xuICAgIH1cbiAgICB0aGlzLl9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIHRoaXMuX291dGVyTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9saXN0ZW5lcih3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgdGhpcy5fY3VycmVudERldmljZVBpeGVsUmF0aW8pO1xuICAgICAgdGhpcy5fdXBkYXRlRHByKCk7XG4gICAgfTtcbiAgICB0aGlzLl91cGRhdGVEcHIoKTtcbiAgfVxuXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB0aGlzLmNsZWFyTGlzdGVuZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZURwcigpOiB2b2lkIHtcbiAgICAvLyBDbGVhciBsaXN0ZW5lcnMgZm9yIG9sZCBEUFJcbiAgICBpZiAodGhpcy5fcmVzb2x1dGlvbk1lZGlhTWF0Y2hMaXN0KSB7XG4gICAgICB0aGlzLl9yZXNvbHV0aW9uTWVkaWFNYXRjaExpc3QucmVtb3ZlTGlzdGVuZXIodGhpcy5fb3V0ZXJMaXN0ZW5lcik7XG4gICAgfVxuICAgIC8vIEFkZCBsaXN0ZW5lcnMgZm9yIG5ldyBEUFJcbiAgICB0aGlzLl9jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgIHRoaXMuX3Jlc29sdXRpb25NZWRpYU1hdGNoTGlzdCA9IHdpbmRvdy5tYXRjaE1lZGlhKGBzY3JlZW4gYW5kIChyZXNvbHV0aW9uOiAke3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfWRwcHgpYCk7XG4gICAgdGhpcy5fcmVzb2x1dGlvbk1lZGlhTWF0Y2hMaXN0LmFkZExpc3RlbmVyKHRoaXMuX291dGVyTGlzdGVuZXIpO1xuICB9XG5cbiAgcHVibGljIGNsZWFyTGlzdGVuZXIoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLl9saXN0ZW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9yZXNvbHV0aW9uTWVkaWFNYXRjaExpc3QucmVtb3ZlTGlzdGVuZXIodGhpcy5fb3V0ZXJMaXN0ZW5lcik7XG4gICAgdGhpcy5fbGlzdGVuZXIgPSBudWxsO1xuICAgIHRoaXMuX291dGVyTGlzdGVuZXIgPSBudWxsO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3VpL1NjcmVlbkRwck1vbml0b3IudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n')},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = __webpack_require__(3);\nvar Lifecycle_2 = __webpack_require__(6);\nvar HOVER_DURATION = 500;\nvar MouseZoneManager = (function (_super) {\n    __extends(MouseZoneManager, _super);\n    function MouseZoneManager(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._zones = [];\n        _this._areZonesActive = false;\n        _this._tooltipTimeout = null;\n        _this._currentZone = null;\n        _this._lastHoverCoords = [null, null];\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._terminal.element, 'mousedown', function (e) { return _this._onMouseDown(e); }));\n        _this._mouseMoveListener = function (e) { return _this._onMouseMove(e); };\n        _this._clickListener = function (e) { return _this._onClick(e); };\n        return _this;\n    }\n    MouseZoneManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._deactivate();\n    };\n    MouseZoneManager.prototype.add = function (zone) {\n        this._zones.push(zone);\n        if (this._zones.length === 1) {\n            this._activate();\n        }\n    };\n    MouseZoneManager.prototype.clearAll = function (start, end) {\n        if (this._zones.length === 0) {\n            return;\n        }\n        if (!end) {\n            start = 0;\n            end = this._terminal.rows - 1;\n        }\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if ((zone.y1 > start && zone.y1 <= end + 1) ||\n                (zone.y2 > start && zone.y2 <= end + 1) ||\n                (zone.y1 < start && zone.y2 > end + 1)) {\n                if (this._currentZone && this._currentZone === zone) {\n                    this._currentZone.leaveCallback();\n                    this._currentZone = null;\n                }\n                this._zones.splice(i--, 1);\n            }\n        }\n        if (this._zones.length === 0) {\n            this._deactivate();\n        }\n    };\n    MouseZoneManager.prototype._activate = function () {\n        if (!this._areZonesActive) {\n            this._areZonesActive = true;\n            this._terminal.element.addEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.addEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._deactivate = function () {\n        if (this._areZonesActive) {\n            this._areZonesActive = false;\n            this._terminal.element.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.removeEventListener('click', this._clickListener);\n        }\n    };\n    MouseZoneManager.prototype._onMouseMove = function (e) {\n        if (this._lastHoverCoords[0] !== e.pageX || this._lastHoverCoords[1] !== e.pageY) {\n            this._onHover(e);\n            this._lastHoverCoords = [e.pageX, e.pageY];\n        }\n    };\n    MouseZoneManager.prototype._onHover = function (e) {\n        var _this = this;\n        var zone = this._findZoneEventAt(e);\n        if (zone === this._currentZone) {\n            return;\n        }\n        if (this._currentZone) {\n            this._currentZone.leaveCallback();\n            this._currentZone = null;\n            if (this._tooltipTimeout) {\n                clearTimeout(this._tooltipTimeout);\n            }\n        }\n        if (!zone) {\n            return;\n        }\n        this._currentZone = zone;\n        if (zone.hoverCallback) {\n            zone.hoverCallback(e);\n        }\n        this._tooltipTimeout = setTimeout(function () { return _this._onTooltip(e); }, HOVER_DURATION);\n    };\n    MouseZoneManager.prototype._onTooltip = function (e) {\n        this._tooltipTimeout = null;\n        var zone = this._findZoneEventAt(e);\n        if (zone && zone.tooltipCallback) {\n            zone.tooltipCallback(e);\n        }\n    };\n    MouseZoneManager.prototype._onMouseDown = function (e) {\n        if (!this._areZonesActive) {\n            return;\n        }\n        var zone = this._findZoneEventAt(e);\n        if (zone) {\n            if (zone.willLinkActivate(e)) {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n            }\n        }\n    };\n    MouseZoneManager.prototype._onClick = function (e) {\n        var zone = this._findZoneEventAt(e);\n        if (zone) {\n            zone.clickCallback(e);\n            e.preventDefault();\n            e.stopImmediatePropagation();\n        }\n    };\n    MouseZoneManager.prototype._findZoneEventAt = function (e) {\n        var coords = this._terminal.mouseHelper.getCoords(e, this._terminal.screenElement, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows);\n        if (!coords) {\n            return null;\n        }\n        var x = coords[0];\n        var y = coords[1];\n        for (var i = 0; i < this._zones.length; i++) {\n            var zone = this._zones[i];\n            if (zone.y1 === zone.y2) {\n                if (y === zone.y1 && x >= zone.x1 && x < zone.x2) {\n                    return zone;\n                }\n            }\n            else {\n                if ((y === zone.y1 && x >= zone.x1) ||\n                    (y === zone.y2 && x < zone.x2) ||\n                    (y > zone.y1 && y < zone.y2)) {\n                    return zone;\n                }\n            }\n        }\n        return null;\n    };\n    return MouseZoneManager;\n}(Lifecycle_1.Disposable));\nexports.MouseZoneManager = MouseZoneManager;\nvar MouseZone = (function () {\n    function MouseZone(x1, y1, x2, y2, clickCallback, hoverCallback, tooltipCallback, leaveCallback, willLinkActivate) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n        this.clickCallback = clickCallback;\n        this.hoverCallback = hoverCallback;\n        this.tooltipCallback = tooltipCallback;\n        this.leaveCallback = leaveCallback;\n        this.willLinkActivate = willLinkActivate;\n    }\n    return MouseZone;\n}());\nexports.MouseZone = MouseZone;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3VpL01vdXNlWm9uZU1hbmFnZXIudHM/N2Y4YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFPQSx5Q0FBaUQ7QUFDakQseUNBQXVEO0FBRXZELElBQU0sY0FBYyxHQUFHLEdBQUcsQ0FBQztBQVUzQjtJQUFzQyxvQ0FBVTtJQVc5QywwQkFDVSxTQUFvQjtRQUQ5QixZQUdFLGlCQUFPLFNBT1I7UUFUUyxlQUFTLEdBQVQsU0FBUyxDQUFXO1FBWHRCLFlBQU0sR0FBaUIsRUFBRSxDQUFDO1FBRTFCLHFCQUFlLEdBQVksS0FBSyxDQUFDO1FBSWpDLHFCQUFlLEdBQVcsSUFBSSxDQUFDO1FBQy9CLGtCQUFZLEdBQWUsSUFBSSxDQUFDO1FBQ2hDLHNCQUFnQixHQUFxQixDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQU94RCxLQUFJLENBQUMsUUFBUSxDQUFDLG9DQUF3QixDQUFDLEtBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLFdBQVcsRUFBRSxXQUFDLElBQUksWUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBcEIsQ0FBb0IsQ0FBQyxDQUFDLENBQUM7UUFHeEcsS0FBSSxDQUFDLGtCQUFrQixHQUFHLFdBQUMsSUFBSSxZQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUFwQixDQUFvQixDQUFDO1FBQ3BELEtBQUksQ0FBQyxjQUFjLEdBQUcsV0FBQyxJQUFJLFlBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQWhCLENBQWdCLENBQUM7O0lBQzlDLENBQUM7SUFFTSxrQ0FBTyxHQUFkO1FBQ0UsaUJBQU0sT0FBTyxXQUFFLENBQUM7UUFDaEIsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFFTSw4QkFBRyxHQUFWLFVBQVcsSUFBZ0I7UUFDekIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFB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a0JBQWEsR0FBYixhQUFhLENBQXdCO1FBQ3JDLGtCQUFhLEdBQWIsYUFBYSxDQUF3QjtRQUNyQyxvQkFBZSxHQUFmLGVBQWUsQ0FBd0I7UUFDdkMsa0JBQWEsR0FBYixhQUFhLENBQVk7UUFDekIscUJBQWdCLEdBQWhCLGdCQUFnQixDQUE0QjtJQUVyRCxDQUFDO0lBQ0gsZ0JBQUM7QUFBRCxDQUFDO0FBYlksOEJBQVMiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IElUZXJtaW5hbCB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IElNb3VzZVpvbmVNYW5hZ2VyLCBJTW91c2Vab25lIH0gZnJvbSAnLi9UeXBlcyc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlIH0gZnJvbSAnLi4vY29tbW9uL0xpZmVjeWNsZSc7XG5pbXBvcnQgeyBhZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIgfSBmcm9tICcuL0xpZmVjeWNsZSc7XG5cbmNvbnN0IEhPVkVSX0RVUkFUSU9OID0gNTAwO1xuXG4vKipcbiAqIFRoZSBNb3VzZVpvbmVNYW5hZ2VyIGFsbG93cyBjb21wb25lbnRzIHRvIHJlZ2lzdGVyIHpvbmVzIHdpdGhpbiB0aGUgdGVybWluYWxcbiAqIHRoYXQgdHJpZ2dlciBob3ZlciBhbmQgY2xpY2sgY2FsbGJhY2tzLlxuICpcbiAqIFRoaXMgY2xhc3Mgd2FzIGludGVudGlvbmFsbHkgbWFkZSBub3Qgc28gcm9idXN0IGluaXRpYWxseSBhcyB0aGUgb25seSBjYXNlIGl0XG4gKiBuZWVkZWQgdG8gc3VwcG9ydCB3YXMgc2luZ2xlLWxpbmUgbGlua3Mgd2hpY2ggbmV2ZXIgb3ZlcmxhcC4gSW1wcm92ZW1lbnRzIGNhblxuICogYmUgbWFkZSBpbiB0aGUgZnV0dXJlLlxuICovXG5leHBvcnQgY2xhc3MgTW91c2Vab25lTWFuYWdlciBleHRlbmRzIERpc3Bvc2FibGUgaW1wbGVtZW50cyBJTW91c2Vab25lTWFuYWdlciB7XG4gIHByaXZhdGUgX3pvbmVzOiBJTW91c2Vab25lW10gPSBbXTtcblxuICBwcml2YXRlIF9hcmVab25lc0FjdGl2ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF9tb3VzZU1vdmVMaXN0ZW5lcjogKGU6IE1vdXNlRXZlbnQpID0+IGFueTtcbiAgcHJpdmF0ZSBfY2xpY2tMaXN0ZW5lcjogKGU6IE1vdXNlRXZlbnQpID0+IGFueTtcblxuICBwcml2YXRlIF90b29sdGlwVGltZW91dDogbnVtYmVyID0gbnVsbDtcbiAgcHJpdmF0ZSBfY3VycmVudFpvbmU6IElNb3VzZVpvbmUgPSBudWxsO1xuICBwcml2YXRlIF9sYXN0SG92ZXJDb29yZHM6IFtudW1iZXIsIG51bWJlcl0gPSBbbnVsbCwgbnVsbF07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBfdGVybWluYWw6IElUZXJtaW5hbFxuICApIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5yZWdpc3RlcihhZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIodGhpcy5fdGVybWluYWwuZWxlbWVudCwgJ21vdXNlZG93bicsIGUgPT4gdGhpcy5fb25Nb3VzZURvd24oZSkpKTtcblxuICAgIC8vIFRoZXNlIGV2ZW50cyBhcmUgZXhwZW5zaXZlLCBvbmx5IGxpc3RlbiB0byBpdCB3aGVuIG1vdXNlIHpvbmVzIGFyZSBhY3RpdmVcbiAgICB0aGlzLl9tb3VzZU1vdmVMaXN0ZW5lciA9IGUgPT4gdGhpcy5fb25Nb3VzZU1vdmUoZSk7XG4gICAgdGhpcy5fY2xpY2tMaXN0ZW5lciA9IGUgPT4gdGhpcy5fb25DbGljayhlKTtcbiAgfVxuXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB0aGlzLl9kZWFjdGl2YXRlKCk7XG4gIH1cblxuICBwdWJsaWMgYWRkKHpvbmU6IElNb3VzZVpvbmUpOiB2b2lkIHtcbiAgICB0aGlzLl96b25lcy5wdXNoKHpvbmUpO1xuICAgIGlmICh0aGlzLl96b25lcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHRoaXMuX2FjdGl2YXRlKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGNsZWFyQWxsKHN0YXJ0PzogbnVtYmVyLCBlbmQ/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBFeGl0IGlmIHRoZXJlJ3Mgbm90aGluZyB0byBjbGVhclxuICAgIGlmICh0aGlzLl96b25lcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDbGVhciBhbGwgaWYgc3RhcnQvZW5kIHdlcmVuJ3Qgc2V0XG4gICAgaWYgKCFlbmQpIHtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIGVuZCA9IHRoaXMuX3Rlcm1pbmFsLnJvd3MgLSAxO1xuICAgIH1cblxuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCB6b25lcyBhbmQgY2xlYXIgdGhlbSBvdXQgaWYgdGhleSdyZSB3aXRoaW4gdGhlIHJhbmdlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl96b25lcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgem9uZSA9IHRoaXMuX3pvbmVzW2ldO1xuICAgICAgaWYgKCh6b25lLnkxID4gc3RhcnQgJiYgem9uZS55MSA8PSBlbmQgKyAxKSB8fFxuICAgICAgICAgICh6b25lLnkyID4gc3RhcnQgJiYgem9uZS55MiA8PSBlbmQgKyAxKSB8fFxuICAgICAgICAgICh6b25lLnkxIDwgc3RhcnQgJiYgem9uZS55MiA+IGVuZCArIDEpKSB7XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50Wm9uZSAmJiB0aGlzLl9jdXJyZW50Wm9uZSA9PT0gem9uZSkge1xuICAgICAgICAgIHRoaXMuX2N1cnJlbnRab25lLmxlYXZlQ2FsbGJhY2soKTtcbiAgICAgICAgICB0aGlzLl9jdXJyZW50Wm9uZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fem9uZXMuc3BsaWNlKGktLSwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGVhY3RpdmF0ZSB0aGUgbW91c2Ugem9uZSBtYW5hZ2VyIGlmIGFsbCB0aGUgem9uZXMgaGF2ZSBiZWVuIHJlbW92ZWRcbiAgICBpZiAodGhpcy5fem9uZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9kZWFjdGl2YXRlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfYWN0aXZhdGUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLl9hcmVab25lc0FjdGl2ZSkge1xuICAgICAgdGhpcy5fYXJlWm9uZXNBY3RpdmUgPSB0cnVlO1xuICAgICAgdGhpcy5fdGVybWluYWwuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9tb3VzZU1vdmVMaXN0ZW5lcik7XG4gICAgICB0aGlzLl90ZXJtaW5hbC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fY2xpY2tMaXN0ZW5lcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfZGVhY3RpdmF0ZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fYXJlWm9uZXNBY3RpdmUpIHtcbiAgICAgIHRoaXMuX2FyZVpvbmVzQWN0aXZlID0gZmFsc2U7XG4gICAgICB0aGlzLl90ZXJtaW5hbC5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX21vdXNlTW92ZUxpc3RlbmVyKTtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbGlja0xpc3RlbmVyKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9vbk1vdXNlTW92ZShlOiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgLy8gVE9ETzogSWRlYWxseSB0aGlzIHdvdWxkIG9ubHkgY2xlYXIgdGhlIGhvdmVyIHN0YXRlIHdoZW4gdGhlIG1vdXNlIG1vdmVzXG4gICAgLy8gb3V0c2lkZSBvZiB0aGUgbW91c2Ugem9uZVxuICAgIGlmICh0aGlzLl9sYXN0SG92ZXJDb29yZHNbMF0gIT09IGUucGFnZVggfHwgdGhpcy5fbGFzdEhvdmVyQ29vcmRzWzFdICE9PSBlLnBhZ2VZKSB7XG4gICAgICB0aGlzLl9vbkhvdmVyKGUpO1xuICAgICAgLy8gUmVjb3JkIHRoZSBjdXJyZW50IGNvb3JkaW5hdGVzXG4gICAgICB0aGlzLl9sYXN0SG92ZXJDb29yZHMgPSBbZS5wYWdlWCwgZS5wYWdlWV07XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfb25Ib3ZlcihlOiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgY29uc3Qgem9uZSA9IHRoaXMuX2ZpbmRab25lRXZlbnRBdChlKTtcblxuICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIHpvbmUgaXMgdGhlIHNhbWVcbiAgICBpZiAoem9uZSA9PT0gdGhpcy5fY3VycmVudFpvbmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGaXJlIHRoZSBob3ZlciBlbmQgY2FsbGJhY2sgYW5kIGNhbmNlbCBhbnkgZXhpc3RpbmcgdGltZXIgaWYgYSBuZXcgem9uZVxuICAgIC8vIGlzIGJlaW5nIGhvdmVyZWRcbiAgICBpZiAodGhpcy5fY3VycmVudFpvbmUpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRab25lLmxlYXZlQ2FsbGJhY2soKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRab25lID0gbnVsbDtcbiAgICAgIGlmICh0aGlzLl90b29sdGlwVGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdG9vbHRpcFRpbWVvdXQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEV4aXQgaWYgdGhlcmUgaXMgbm90IHpvbmVcbiAgICBpZiAoIXpvbmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fY3VycmVudFpvbmUgPSB6b25lO1xuXG4gICAgLy8gVHJpZ2dlciB0aGUgaG92ZXIgY2FsbGJhY2tcbiAgICBpZiAoem9uZS5ob3ZlckNhbGxiYWNrKSB7XG4gICAgICB6b25lLmhvdmVyQ2FsbGJhY2soZSk7XG4gICAgfVxuXG4gICAgLy8gUmVzdGFydCB0aGUgdG9vbHRpcCB0aW1lb3V0XG4gICAgdGhpcy5fdG9vbHRpcFRpbWVvdXQgPSA8bnVtYmVyPjxhbnk+c2V0VGltZW91dCgoKSA9PiB0aGlzLl9vblRvb2x0aXAoZSksIEhPVkVSX0RVUkFUSU9OKTtcbiAgfVxuXG4gIHByaXZhdGUgX29uVG9vbHRpcChlOiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy5fdG9vbHRpcFRpbWVvdXQgPSBudWxsO1xuICAgIGNvbnN0IHpvbmUgPSB0aGlzLl9maW5kWm9uZUV2ZW50QXQoZSk7XG4gICAgaWYgKHpvbmUgJiYgem9uZS50b29sdGlwQ2FsbGJhY2spIHtcbiAgICAgIHpvbmUudG9vbHRpcENhbGxiYWNrKGUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX29uTW91c2VEb3duKGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICAvLyBJZ25vcmUgdGhlIGV2ZW50IGlmIHRoZXJlIGFyZSBubyB6b25lcyBhY3RpdmVcbiAgICBpZiAoIXRoaXMuX2FyZVpvbmVzQWN0aXZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmluZCB0aGUgYWN0aXZlIHpvbmUsIHByZXZlbnQgZXZlbnQgcHJvcGFnYXRpb24gaWYgZm91bmQgdG8gcHJldmVudCBvdGhlclxuICAgIC8vIGNvbXBvbmVudHMgZnJvbSBoYW5kbGluZyB0aGUgbW91c2UgZXZlbnQuXG4gICAgY29uc3Qgem9uZSA9IHRoaXMuX2ZpbmRab25lRXZlbnRBdChlKTtcbiAgICBpZiAoem9uZSkge1xuICAgICAgaWYgKHpvbmUud2lsbExpbmtBY3RpdmF0ZShlKSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfb25DbGljayhlOiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgLy8gRmluZCB0aGUgYWN0aXZlIHpvbmUgYW5kIGNsaWNrIGl0IGlmIGZvdW5kXG4gICAgY29uc3Qgem9uZSA9IHRoaXMuX2ZpbmRab25lRXZlbnRBdChlKTtcbiAgICBpZiAoem9uZSkge1xuICAgICAgem9uZS5jbGlja0NhbGxiYWNrKGUpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9maW5kWm9uZUV2ZW50QXQoZTogTW91c2VFdmVudCk6IElNb3VzZVpvbmUge1xuICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuX3Rlcm1pbmFsLm1vdXNlSGVscGVyLmdldENvb3JkcyhlLCB0aGlzLl90ZXJtaW5hbC5zY3JlZW5FbGVtZW50LCB0aGlzLl90ZXJtaW5hbC5jaGFyTWVhc3VyZSwgdGhpcy5fdGVybWluYWwuY29scywgdGhpcy5fdGVybWluYWwucm93cyk7XG4gICAgaWYgKCFjb29yZHMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB4ID0gY29vcmRzWzBdO1xuICAgIGNvbnN0IHkgPSBjb29yZHNbMV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl96b25lcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgem9uZSA9IHRoaXMuX3pvbmVzW2ldO1xuICAgICAgaWYgKHpvbmUueTEgPT09IHpvbmUueTIpIHtcbiAgICAgICAgLy8gU2luZ2xlIGxpbmUgbGlua1xuICAgICAgICBpZiAoeSA9PT0gem9uZS55MSAmJiB4ID49IHpvbmUueDEgJiYgeCA8IHpvbmUueDIpIHtcbiAgICAgICAgICByZXR1cm4gem9uZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTXVsdGktbGluZSBsaW5rXG4gICAgICAgIGlmICgoeSA9PT0gem9uZS55MSAmJiB4ID49IHpvbmUueDEpIHx8XG4gICAgICAgICAgICAoeSA9PT0gem9uZS55MiAmJiB4IDwgem9uZS54MikgfHxcbiAgICAgICAgICAgICh5ID4gem9uZS55MSAmJiB5IDwgem9uZS55MikpIHtcbiAgICAgICAgICByZXR1cm4gem9uZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW91c2Vab25lIGltcGxlbWVudHMgSU1vdXNlWm9uZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyB4MTogbnVtYmVyLFxuICAgIHB1YmxpYyB5MTogbnVtYmVyLFxuICAgIHB1YmxpYyB4MjogbnVtYmVyLFxuICAgIHB1YmxpYyB5MjogbnVtYmVyLFxuICAgIHB1YmxpYyBjbGlja0NhbGxiYWNrOiAoZTogTW91c2VFdmVudCkgPT4gYW55LFxuICAgIHB1YmxpYyBob3ZlckNhbGxiYWNrOiAoZTogTW91c2VFdmVudCkgPT4gYW55LFxuICAgIHB1YmxpYyB0b29sdGlwQ2FsbGJhY2s6IChlOiBNb3VzZUV2ZW50KSA9PiBhbnksXG4gICAgcHVibGljIGxlYXZlQ2FsbGJhY2s6ICgpID0+IHZvaWQsXG4gICAgcHVibGljIHdpbGxMaW5rQWN0aXZhdGU6IChlOiBNb3VzZUV2ZW50KSA9PiBib29sZWFuXG4gICkge1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3VpL01vdXNlWm9uZU1hbmFnZXIudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n")},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar MouseHelper = (function () {\n    function MouseHelper(_renderer) {\n        this._renderer = _renderer;\n    }\n    MouseHelper.prototype.setRenderer = function (renderer) {\n        this._renderer = renderer;\n    };\n    MouseHelper.getCoordsRelativeToElement = function (event, element) {\n        if (event.pageX === null || event.pageX === undefined) {\n            return null;\n        }\n        var originalElement = element;\n        var x = event.pageX;\n        var y = event.pageY;\n        while (element) {\n            x -= element.offsetLeft;\n            y -= element.offsetTop;\n            element = element.offsetParent;\n        }\n        element = originalElement;\n        while (element && element !== element.ownerDocument.body) {\n            x += element.scrollLeft;\n            y += element.scrollTop;\n            element = element.parentElement;\n        }\n        return [x, y];\n    };\n    MouseHelper.prototype.getCoords = function (event, element, charMeasure, colCount, rowCount, isSelection) {\n        if (!charMeasure.width || !charMeasure.height) {\n            return null;\n        }\n        var coords = MouseHelper.getCoordsRelativeToElement(event, element);\n        if (!coords) {\n            return null;\n        }\n        coords[0] = Math.ceil((coords[0] + (isSelection ? this._renderer.dimensions.actualCellWidth / 2 : 0)) / this._renderer.dimensions.actualCellWidth);\n        coords[1] = Math.ceil(coords[1] / this._renderer.dimensions.actualCellHeight);\n        coords[0] = Math.min(Math.max(coords[0], 1), colCount + (isSelection ? 1 : 0));\n        coords[1] = Math.min(Math.max(coords[1], 1), rowCount);\n        return coords;\n    };\n    MouseHelper.prototype.getRawByteCoords = function (event, element, charMeasure, colCount, rowCount) {\n        var coords = this.getCoords(event, element, charMeasure, colCount, rowCount);\n        var x = coords[0];\n        var y = coords[1];\n        x += 32;\n        y += 32;\n        return { x: x, y: y };\n    };\n    return MouseHelper;\n}());\nexports.MouseHelper = MouseHelper;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3V0aWxzL01vdXNlSGVscGVyLnRzP2JhOWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFRQTtJQUNFLHFCQUFvQixTQUFvQjtRQUFwQixjQUFTLEdBQVQsU0FBUyxDQUFXO0lBQUcsQ0FBQztJQUVyQyxpQ0FBVyxHQUFsQixVQUFtQixRQUFtQjtRQUNwQyxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztJQUM1QixDQUFDO0lBRWEsc0NBQTBCLEdBQXhDLFVBQXlDLEtBQXFDLEVBQUUsT0FBb0I7UUFFbEcsSUFBSSxLQUFLLENBQUMsS0FBSyxLQUFLLElBQUksSUFBSSxLQUFLLENBQUMsS0FBSyxLQUFLLFNBQVMsRUFBRTtZQUNyRCxPQUFPLElBQUksQ0FBQztTQUNiO1FBRUQsSUFBTSxlQUFlLEdBQUcsT0FBTyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDcEIsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUlwQixPQUFPLE9BQU8sRUFBRTtZQUNkLENBQUMsSUFBSSxPQUFPLENBQUMsVUFBVSxDQUFDO1lBQ3hCLENBQUMsSUFBSSxPQUFPLENBQUMsU0FBUyxDQUFDO1lBQ3ZCLE9BQU8sR0FBZ0IsT0FBTyxDQUFDLFlBQVksQ0FBQztTQUM3QztRQUNELE9BQU8sR0FBRyxlQUFlLENBQUM7UUFDMUIsT0FBTyxPQUFPLElBQUksT0FBTyxLQUFLLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFO1lBQ3hELENBQUMsSUFBSSxPQUFPLENBQUMsVUFBVSxDQUFDO1lBQ3hCLENBQUMsSUFBSSxPQUFPLENBQUMsU0FBUyxDQUFDO1lBQ3ZCLE9BQU8sR0FBZ0IsT0FBTyxDQUFDLGFBQWEsQ0FBQztTQUM5QztRQUNELE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDaEIsQ0FBQztJQWVNLCtCQUFTLEdBQWhCLFVBQWlCLEtBQXFDLEVBQUUsT0FBb0IsRUFBRSxXQUF5QixFQUFFLFFBQWdCLEVBQUUsUUFBZ0IsRUFBRSxXQUFxQjtRQUVoSyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUU7WUFDN0MsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUVELElBQU0sTUFBTSxHQUFHLFdBQVcsQ0FBQywwQkFBMEIsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdEUsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNYLE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFFRCxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsZUFBZSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUNuSixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUs5RSxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxRQUFRLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUV2RCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0lBWU0sc0NBQWdCLEdBQXZCLFVBQXdCLEtBQWlCLEVBQUUsT0FBb0IsRUFBRSxXQUF5QixFQUFFLFFBQWdCLEVBQUUsUUFBZ0I7UUFDNUgsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDL0UsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUdsQixDQUFDLElBQUksRUFBRSxDQUFDO1FBQ1IsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUVSLE9BQU8sRUFBRSxDQUFDLEtBQUUsQ0FBQyxLQUFFLENBQUM7SUFDbEIsQ0FBQztJQUNILGtCQUFDO0FBQUQsQ0FBQztBQTFGWSxrQ0FBVyIsImZpbGUiOiIxOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSB4dGVybS5qcyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuaW1wb3J0IHsgSUNoYXJNZWFzdXJlIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgSVJlbmRlcmVyIH0gZnJvbSAnLi4vcmVuZGVyZXIvVHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgTW91c2VIZWxwZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9yZW5kZXJlcjogSVJlbmRlcmVyKSB7fVxuXG4gIHB1YmxpYyBzZXRSZW5kZXJlcihyZW5kZXJlcjogSVJlbmRlcmVyKTogdm9pZCB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0Q29vcmRzUmVsYXRpdmVUb0VsZW1lbnQoZXZlbnQ6IHtwYWdlWDogbnVtYmVyLCBwYWdlWTogbnVtYmVyfSwgZWxlbWVudDogSFRNTEVsZW1lbnQpOiBbbnVtYmVyLCBudW1iZXJdIHtcbiAgICAvLyBJZ25vcmUgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IE1vdXNlRXZlbnQucGFnZVhcbiAgICBpZiAoZXZlbnQucGFnZVggPT09IG51bGwgfHwgZXZlbnQucGFnZVggPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3Qgb3JpZ2luYWxFbGVtZW50ID0gZWxlbWVudDtcbiAgICBsZXQgeCA9IGV2ZW50LnBhZ2VYO1xuICAgIGxldCB5ID0gZXZlbnQucGFnZVk7XG5cbiAgICAvLyBDb252ZXJ0cyB0aGUgY29vcmRpbmF0ZXMgZnJvbSBiZWluZyByZWxhdGl2ZSB0byB0aGUgZG9jdW1lbnQgdG8gYmVpbmdcbiAgICAvLyByZWxhdGl2ZSB0byB0aGUgdGVybWluYWwuXG4gICAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICAgIHggLT0gZWxlbWVudC5vZmZzZXRMZWZ0O1xuICAgICAgeSAtPSBlbGVtZW50Lm9mZnNldFRvcDtcbiAgICAgIGVsZW1lbnQgPSA8SFRNTEVsZW1lbnQ+ZWxlbWVudC5vZmZzZXRQYXJlbnQ7XG4gICAgfVxuICAgIGVsZW1lbnQgPSBvcmlnaW5hbEVsZW1lbnQ7XG4gICAgd2hpbGUgKGVsZW1lbnQgJiYgZWxlbWVudCAhPT0gZWxlbWVudC5vd25lckRvY3VtZW50LmJvZHkpIHtcbiAgICAgIHggKz0gZWxlbWVudC5zY3JvbGxMZWZ0O1xuICAgICAgeSArPSBlbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgIGVsZW1lbnQgPSA8SFRNTEVsZW1lbnQ+ZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gW3gsIHldO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgY29vcmRpbmF0ZXMgd2l0aGluIHRoZSB0ZXJtaW5hbCBmb3IgYSBwYXJ0aWN1bGFyIG1vdXNlIGV2ZW50LiBUaGUgcmVzdWx0XG4gICAqIGlzIHJldHVybmVkIGFzIGFuIGFycmF5IGluIHRoZSBmb3JtIFt4LCB5XSBpbnN0ZWFkIG9mIGFuIG9iamVjdCBhcyBpdCdzIGFcbiAgICogbGl0dGxlIGZhc3RlciBhbmQgdGhpcyBmdW5jdGlvbiBpcyB1c2VkIGluIHNvbWUgbG93IGxldmVsIGNvZGUuXG4gICAqIEBwYXJhbSBldmVudCBUaGUgbW91c2UgZXZlbnQuXG4gICAqIEBwYXJhbSBlbGVtZW50IFRoZSB0ZXJtaW5hbCdzIGNvbnRhaW5lciBlbGVtZW50LlxuICAgKiBAcGFyYW0gY2hhck1lYXN1cmUgVGhlIGNoYXIgbWVhc3VyZSBvYmplY3QgdXNlZCB0byBkZXRlcm1pbmUgY2hhcmFjdGVyIHNpemVzLlxuICAgKiBAcGFyYW0gY29sQ291bnQgVGhlIG51bWJlciBvZiBjb2x1bW5zIGluIHRoZSB0ZXJtaW5hbC5cbiAgICogQHBhcmFtIHJvd0NvdW50IFRoZSBudW1iZXIgb2Ygcm93cyBuIHRoZSB0ZXJtaW5hbC5cbiAgICogQHBhcmFtIGlzU2VsZWN0aW9uIFdoZXRoZXIgdGhlIHJlcXVlc3QgaXMgZm9yIHRoZSBzZWxlY3Rpb24gb3Igbm90LiBUaGlzIHdpbGxcbiAgICogYXBwbHkgYW4gb2Zmc2V0IHRvIHRoZSB4IHZhbHVlIHN1Y2ggdGhhdCB0aGUgbGVmdCBoYWxmIG9mIHRoZSBjZWxsIHdpbGxcbiAgICogc2VsZWN0IHRoYXQgY2VsbCBhbmQgdGhlIHJpZ2h0IGhhbGYgd2lsbCBzZWxlY3QgdGhlIG5leHQgY2VsbC5cbiAgICovXG4gIHB1YmxpYyBnZXRDb29yZHMoZXZlbnQ6IHtwYWdlWDogbnVtYmVyLCBwYWdlWTogbnVtYmVyfSwgZWxlbWVudDogSFRNTEVsZW1lbnQsIGNoYXJNZWFzdXJlOiBJQ2hhck1lYXN1cmUsIGNvbENvdW50OiBudW1iZXIsIHJvd0NvdW50OiBudW1iZXIsIGlzU2VsZWN0aW9uPzogYm9vbGVhbik6IFtudW1iZXIsIG51bWJlcl0ge1xuICAgIC8vIENvb3JkaW5hdGVzIGNhbm5vdCBiZSBtZWFzdXJlZCBpZiBjaGFyTWVhc3VyZSBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWRcbiAgICBpZiAoIWNoYXJNZWFzdXJlLndpZHRoIHx8ICFjaGFyTWVhc3VyZS5oZWlnaHQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGNvb3JkcyA9IE1vdXNlSGVscGVyLmdldENvb3Jkc1JlbGF0aXZlVG9FbGVtZW50KGV2ZW50LCBlbGVtZW50KTtcbiAgICBpZiAoIWNvb3Jkcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29vcmRzWzBdID0gTWF0aC5jZWlsKChjb29yZHNbMF0gKyAoaXNTZWxlY3Rpb24gPyB0aGlzLl9yZW5kZXJlci5kaW1lbnNpb25zLmFjdHVhbENlbGxXaWR0aCAvIDIgOiAwKSkgLyB0aGlzLl9yZW5kZXJlci5kaW1lbnNpb25zLmFjdHVhbENlbGxXaWR0aCk7XG4gICAgY29vcmRzWzFdID0gTWF0aC5jZWlsKGNvb3Jkc1sxXSAvIHRoaXMuX3JlbmRlcmVyLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbEhlaWdodCk7XG5cbiAgICAvLyBFbnN1cmUgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGUgdGVybWluYWwgdmlld3BvcnQuIE5vdGUgdGhhdCBzZWxlY3Rpb25zXG4gICAgLy8gbmVlZCBhbiBhZGRpdGlvbiBwb2ludCBvZiBwcmVjaXNpb24gdG8gY292ZXIgdGhlIGVuZCBwb2ludCAoYXMgY2hhcmFjdGVyc1xuICAgIC8vIGNvdmVyIGhhbGYgb2Ygb25lIGNoYXIgYW5kIGhhbGYgb2YgdGhlIG5leHQpLlxuICAgIGNvb3Jkc1swXSA9IE1hdGgubWluKE1hdGgubWF4KGNvb3Jkc1swXSwgMSksIGNvbENvdW50ICsgKGlzU2VsZWN0aW9uID8gMSA6IDApKTtcbiAgICBjb29yZHNbMV0gPSBNYXRoLm1pbihNYXRoLm1heChjb29yZHNbMV0sIDEpLCByb3dDb3VudCk7XG5cbiAgICByZXR1cm4gY29vcmRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgY29vcmRpbmF0ZXMgd2l0aGluIHRoZSB0ZXJtaW5hbCBmb3IgYSBwYXJ0aWN1bGFyIG1vdXNlIGV2ZW50LCB3cmFwcGluZ1xuICAgKiB0aGVtIHRvIHRoZSBib3VuZHMgb2YgdGhlIHRlcm1pbmFsIGFuZCBhZGRpbmcgMzIgdG8gYm90aCB0aGUgeCBhbmQgeSB2YWx1ZXNcbiAgICogYXMgZXhwZWN0ZWQgYnkgeHRlcm0uXG4gICAqIEBwYXJhbSBldmVudCBUaGUgbW91c2UgZXZlbnQuXG4gICAqIEBwYXJhbSBlbGVtZW50IFRoZSB0ZXJtaW5hbCdzIGNvbnRhaW5lciBlbGVtZW50LlxuICAgKiBAcGFyYW0gY2hhck1lYXN1cmUgVGhlIGNoYXIgbWVhc3VyZSBvYmplY3QgdXNlZCB0byBkZXRlcm1pbmUgY2hhcmFjdGVyIHNpemVzLlxuICAgKiBAcGFyYW0gY29sQ291bnQgVGhlIG51bWJlciBvZiBjb2x1bW5zIGluIHRoZSB0ZXJtaW5hbC5cbiAgICogQHBhcmFtIHJvd0NvdW50IFRoZSBudW1iZXIgb2Ygcm93cyBpbiB0aGUgdGVybWluYWwuXG4gICAqL1xuICBwdWJsaWMgZ2V0UmF3Qnl0ZUNvb3JkcyhldmVudDogTW91c2VFdmVudCwgZWxlbWVudDogSFRNTEVsZW1lbnQsIGNoYXJNZWFzdXJlOiBJQ2hhck1lYXN1cmUsIGNvbENvdW50OiBudW1iZXIsIHJvd0NvdW50OiBudW1iZXIpOiB7IHg6IG51bWJlciwgeTogbnVtYmVyIH0ge1xuICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuZ2V0Q29vcmRzKGV2ZW50LCBlbGVtZW50LCBjaGFyTWVhc3VyZSwgY29sQ291bnQsIHJvd0NvdW50KTtcbiAgICBsZXQgeCA9IGNvb3Jkc1swXTtcbiAgICBsZXQgeSA9IGNvb3Jkc1sxXTtcblxuICAgIC8vIHh0ZXJtIHNlbmRzIHJhdyBieXRlcyBhbmQgc3RhcnRzIGF0IDMyIChTUCkgZm9yIGVhY2guXG4gICAgeCArPSAzMjtcbiAgICB5ICs9IDMyO1xuXG4gICAgcmV0dXJuIHsgeCwgeSB9O1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3V0aWxzL01vdXNlSGVscGVyLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n')},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__webpack_require__(20);\nvar Xterm = __webpack_require__(25);\nvar TestApp = (function () {\n    function TestApp() {\n        var _this = this;\n        var opts = {};\n        opts.cursorBlink = true;\n        opts.cursorStyle = 'underline';\n        opts.disableStdin = false;\n        this.term = new Xterm.Terminal(opts);\n        var term = this.term;\n        this.term.open(document.getElementById('terminal'));\n        this.term.write(\"Mochii UI terminal. Type commands below...\");\n        this.prompt();\n        term._core.register(term.addDisposableListener('key', function (key, ev) {\n            var printable = !ev.altKey && !ev.altGraphKey && !ev.ctrlKey && !ev.metaKey;\n            if (ev.keyCode === 13) {\n                _this.prompt();\n            }\n            else if (ev.keyCode === 8) {\n                if (term.x > 2) {\n                    term.write('\\b \\b');\n                }\n            }\n            else if (printable) {\n                term.write(key);\n            }\n        }));\n    }\n    TestApp.prototype.prompt = function () {\n        this.term.write('\\r\\n$ ');\n    };\n    ;\n    return TestApp;\n}());\nexports.TestApp = TestApp;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90cy9hcHAudHM/NjkyYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHdCQUE2QjtBQUM3QixvQ0FBK0I7QUFFL0I7SUFRSTtRQUFBLGlCQXVDQztRQXJDRyxJQUFJLElBQUksR0FBRyxFQUE0QixDQUFDO1FBR3hDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO1FBQy9CLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSztRQUd6QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVyQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBRXJCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUVwRCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyw0Q0FBNEMsQ0FBQyxDQUFDO1FBRTlELElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUlkLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLEVBQUUsVUFBQyxHQUFRLEVBQUUsRUFBTztZQUNwRSxJQUFJLFNBQVMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsV0FBVyxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUM7WUFDNUUsSUFBSSxFQUFFLENBQUMsT0FBTyxLQUFLLEVBQUUsRUFBRTtnQkFFbkIsS0FBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO2FBQ2pCO2lCQUNJLElBQUksRUFBRSxDQUFDLE9BQU8sS0FBSyxDQUFDLEVBQUU7Z0JBRXZCLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUU7b0JBQ1osSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztpQkFDdkI7YUFDSjtpQkFDSSxJQUFJLFNBQVMsRUFBRTtnQkFDaEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUNuQjtRQUNMLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFUixDQUFDO0lBNUNPLHdCQUFNLEdBQWQ7UUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBQUEsQ0FBQztJQTJDTixjQUFDO0FBQUQsQ0FBQztBQWhEWSwwQkFBTyIsImZpbGUiOiIxOS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAneHRlcm0vZGlzdC94dGVybS5jc3MnXG5pbXBvcnQgKiBhcyBYdGVybSBmcm9tICd4dGVybSc7XG5cbmV4cG9ydCBjbGFzcyBUZXN0QXBwIHtcbiAgICB0ZXJtOiBhbnk7XG5cbiAgICBwcml2YXRlIHByb21wdCgpIHtcbiAgICAgICAgdGhpcy50ZXJtLndyaXRlKCdcXHJcXG4kICcpO1xuICAgIH07XG5cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgICAgIGxldCBvcHRzID0ge30gYXMgWHRlcm0uSVRlcm1pbmFsT3B0aW9ucztcblxuXG4gICAgICAgIG9wdHMuY3Vyc29yQmxpbmsgPSB0cnVlO1xuICAgICAgICBvcHRzLmN1cnNvclN0eWxlID0gJ3VuZGVybGluZSc7XG4gICAgICAgIG9wdHMuZGlzYWJsZVN0ZGluID0gZmFsc2VcbiAgICAgICAgLy9mb250U2l6ZTogNDBcblxuICAgICAgICB0aGlzLnRlcm0gPSBuZXcgWHRlcm0uVGVybWluYWwob3B0cyk7XG5cbiAgICAgICAgbGV0IHRlcm0gPSB0aGlzLnRlcm07XG5cbiAgICAgICAgdGhpcy50ZXJtLm9wZW4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlcm1pbmFsJykpO1xuXG4gICAgICAgIHRoaXMudGVybS53cml0ZShcIk1vY2hpaSBVSSB0ZXJtaW5hbC4gVHlwZSBjb21tYW5kcyBiZWxvdy4uLlwiKTtcblxuICAgICAgICB0aGlzLnByb21wdCgpO1xuXG5cblxuICAgICAgICB0ZXJtLl9jb3JlLnJlZ2lzdGVyKHRlcm0uYWRkRGlzcG9zYWJsZUxpc3RlbmVyKCdrZXknLCAoa2V5OiBhbnksIGV2OiBhbnkpID0+IHtcbiAgICAgICAgICAgIHZhciBwcmludGFibGUgPSAhZXYuYWx0S2V5ICYmICFldi5hbHRHcmFwaEtleSAmJiAhZXYuY3RybEtleSAmJiAhZXYubWV0YUtleTtcbiAgICAgICAgICAgIGlmIChldi5rZXlDb2RlID09PSAxMykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9tcHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2LmtleUNvZGUgPT09IDgpIHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgZGVsZXRlIHRoZSBwcm9tcHRcbiAgICAgICAgICAgICAgICBpZiAodGVybS54ID4gMikge1xuICAgICAgICAgICAgICAgICAgICB0ZXJtLndyaXRlKCdcXGIgXFxiJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocHJpbnRhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGVybS53cml0ZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG5cbiAgICB9XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3RzL2FwcC50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n")},function(module,exports,__webpack_require__){eval("\nvar content = __webpack_require__(21);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(23)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {\n\tmodule.hot.accept(\"!!../../css-loader/dist/cjs.js!./xterm.css\", function() {\n\t\tvar newContent = require(\"!!../../css-loader/dist/cjs.js!./xterm.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vZGlzdC94dGVybS5jc3M/MmQ5OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsY0FBYyxtQkFBTyxDQUFDLEVBQTRDOztBQUVsRSw0Q0FBNEMsUUFBUzs7QUFFckQ7QUFDQTs7OztBQUlBLGVBQWU7O0FBRWY7QUFDQTs7QUFFQSxhQUFhLG1CQUFPLENBQUMsRUFBc0M7O0FBRTNEOztBQUVBLEdBQUcsS0FBVTtBQUNiO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQSxFQUFFOztBQUVGLGdDQUFnQyxVQUFVLEVBQUU7QUFDNUMiLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3h0ZXJtLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4veHRlcm0uY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3h0ZXJtLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3h0ZXJtL2Rpc3QveHRlcm0uY3NzXG4vLyBtb2R1bGUgaWQgPSAyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n")},function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(22)(false);\n// Module\nexports.push([module.i, "/**\\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\\n * https://github.com/chjj/term.js\\n * @license MIT\\n *\\n * Permission is hereby granted, free of charge, to any person obtaining a copy\\n * of this software and associated documentation files (the \\"Software\\"), to deal\\n * in the Software without restriction, including without limitation the rights\\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\n * copies of the Software, and to permit persons to whom the Software is\\n * furnished to do so, subject to the following conditions:\\n *\\n * The above copyright notice and this permission notice shall be included in\\n * all copies or substantial portions of the Software.\\n *\\n * THE SOFTWARE IS PROVIDED \\"AS IS\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\\n * THE SOFTWARE.\\n *\\n * Originally forked from (with the author\'s permission):\\n *   Fabrice Bellard\'s javascript vt100 for jslinux:\\n *   http://bellard.org/jslinux/\\n *   Copyright (c) 2011 Fabrice Bellard\\n *   The original design remains. The terminal itself\\n *   has been extended to include xterm CSI codes, among\\n *   other features.\\n */\\n\\n/**\\n *  Default styles for xterm.js\\n */\\n\\n.xterm {\\n    font-family: courier-new, courier, monospace;\\n    font-feature-settings: \\"liga\\" 0;\\n    position: relative;\\n    user-select: none;\\n    -ms-user-select: none;\\n    -webkit-user-select: none;\\n}\\n\\n.xterm.focus,\\n.xterm:focus {\\n    outline: none;\\n}\\n\\n.xterm .xterm-helpers {\\n    position: absolute;\\n    top: 0;\\n    /**\\n     * The z-index of the helpers must be higher than the canvases in order for\\n     * IMEs to appear on top.\\n     */\\n    z-index: 10;\\n}\\n\\n.xterm .xterm-helper-textarea {\\n    /*\\n     * HACK: to fix IE\'s blinking cursor\\n     * Move textarea out of the screen to the far left, so that the cursor is not visible.\\n     */\\n    position: absolute;\\n    opacity: 0;\\n    left: -9999em;\\n    top: 0;\\n    width: 0;\\n    height: 0;\\n    z-index: -10;\\n    /** Prevent wrapping so the IME appears against the textarea at the correct position */\\n    white-space: nowrap;\\n    overflow: hidden;\\n    resize: none;\\n}\\n\\n.xterm .composition-view {\\n    /* TODO: Composition position got messed up somewhere */\\n    background: #000;\\n    color: #FFF;\\n    display: none;\\n    position: absolute;\\n    white-space: nowrap;\\n    z-index: 1;\\n}\\n\\n.xterm .composition-view.active {\\n    display: block;\\n}\\n\\n.xterm .xterm-viewport {\\n    /* On OS X this is required in order for the scroll bar to appear fully opaque */\\n    background-color: #000;\\n    overflow-y: scroll;\\n    cursor: default;\\n    position: absolute;\\n    right: 0;\\n    left: 0;\\n    top: 0;\\n    bottom: 0;\\n}\\n\\n.xterm .xterm-screen {\\n    position: relative;\\n}\\n\\n.xterm .xterm-screen canvas {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n}\\n\\n.xterm .xterm-scroll-area {\\n    visibility: hidden;\\n}\\n\\n.xterm-char-measure-element {\\n    display: inline-block;\\n    visibility: hidden;\\n    position: absolute;\\n    top: 0;\\n    left: -9999em;\\n    line-height: normal;\\n}\\n\\n.xterm {\\n    cursor: text;\\n}\\n\\n.xterm.enable-mouse-events {\\n    /* When mouse events are enabled (eg. tmux), revert to the standard pointer cursor */\\n    cursor: default;\\n}\\n\\n.xterm.xterm-cursor-pointer {\\n    cursor: pointer;\\n}\\n\\n.xterm.column-select.focus {\\n    /* Column selection mode */\\n    cursor: crosshair;\\n}\\n\\n.xterm .xterm-accessibility,\\n.xterm .xterm-message {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    bottom: 0;\\n    right: 0;\\n    z-index: 100;\\n    color: transparent;\\n}\\n\\n.xterm .live-region {\\n    position: absolute;\\n    left: -9999px;\\n    width: 1px;\\n    height: 1px;\\n    overflow: hidden;\\n}\\n", ""]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vZGlzdC94dGVybS5jc3M/ZGNkYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwyQkFBMkIsbUJBQU8sQ0FBQyxFQUFzQztBQUN6RTtBQUNBLGNBQWMsUUFBUywwb0RBQTBvRCxtREFBbUQsd0NBQXdDLHlCQUF5Qix3QkFBd0IsNEJBQTRCLGdDQUFnQyxHQUFHLGlDQUFpQyxvQkFBb0IsR0FBRywyQkFBMkIseUJBQXlCLGFBQWEsb0pBQW9KLEdBQUcsbUNBQW1DLGdMQUFnTCxpQkFBaUIsb0JBQW9CLGFBQWEsZUFBZSxnQkFBZ0IsbUJBQW1CLHVIQUF1SCx1QkFBdUIsbUJBQW1CLEdBQUcsOEJBQThCLHFGQUFxRixrQkFBa0Isb0JBQW9CLHlCQUF5QiwwQkFBMEIsaUJBQWlCLEdBQUcscUNBQXFDLHFCQUFxQixHQUFHLDRCQUE0QixvSEFBb0gseUJBQXlCLHNCQUFzQix5QkFBeUIsZUFBZSxjQUFjLGFBQWEsZ0JBQWdCLEdBQUcsMEJBQTBCLHlCQUF5QixHQUFHLGlDQUFpQyx5QkFBeUIsY0FBYyxhQUFhLEdBQUcsK0JBQStCLHlCQUF5QixHQUFHLGlDQUFpQyw0QkFBNEIseUJBQXlCLHlCQUF5QixhQUFhLG9CQUFvQiwwQkFBMEIsR0FBRyxZQUFZLG1CQUFtQixHQUFHLGdDQUFnQyxpSEFBaUgsR0FBRyxpQ0FBaUMsc0JBQXNCLEdBQUcsZ0NBQWdDLHlEQUF5RCxHQUFHLHlEQUF5RCx5QkFBeUIsY0FBYyxhQUFhLGdCQUFnQixlQUFlLG1CQUFtQix5QkFBeUIsR0FBRyx5QkFBeUIseUJBQXlCLG9CQUFvQixpQkFBaUIsa0JBQWtCLHVCQUF1QixHQUFHIiwiZmlsZSI6IjIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qKlxcbiAqIENvcHlyaWdodCAoYykgMjAxNCBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTItMjAxMywgQ2hyaXN0b3BoZXIgSmVmZnJleSAoTUlUIExpY2Vuc2UpXFxuICogaHR0cHM6Ly9naXRodWIuY29tL2NoamovdGVybS5qc1xcbiAqIEBsaWNlbnNlIE1JVFxcbiAqXFxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFxcXCJTb2Z0d2FyZVxcXCIpLCB0byBkZWFsXFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxcbiAqXFxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cXG4gKlxcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcXFwiQVMgSVNcXFwiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXFxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXFxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxcbiAqIFRIRSBTT0ZUV0FSRS5cXG4gKlxcbiAqIE9yaWdpbmFsbHkgZm9ya2VkIGZyb20gKHdpdGggdGhlIGF1dGhvcidzIHBlcm1pc3Npb24pOlxcbiAqICAgRmFicmljZSBCZWxsYXJkJ3MgamF2YXNjcmlwdCB2dDEwMCBmb3IganNsaW51eDpcXG4gKiAgIGh0dHA6Ly9iZWxsYXJkLm9yZy9qc2xpbnV4L1xcbiAqICAgQ29weXJpZ2h0IChjKSAyMDExIEZhYnJpY2UgQmVsbGFyZFxcbiAqICAgVGhlIG9yaWdpbmFsIGRlc2lnbiByZW1haW5zLiBUaGUgdGVybWluYWwgaXRzZWxmXFxuICogICBoYXMgYmVlbiBleHRlbmRlZCB0byBpbmNsdWRlIHh0ZXJtIENTSSBjb2RlcywgYW1vbmdcXG4gKiAgIG90aGVyIGZlYXR1cmVzLlxcbiAqL1xcblxcbi8qKlxcbiAqICBEZWZhdWx0IHN0eWxlcyBmb3IgeHRlcm0uanNcXG4gKi9cXG5cXG4ueHRlcm0ge1xcbiAgICBmb250LWZhbWlseTogY291cmllci1uZXcsIGNvdXJpZXIsIG1vbm9zcGFjZTtcXG4gICAgZm9udC1mZWF0dXJlLXNldHRpbmdzOiBcXFwibGlnYVxcXCIgMDtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbn1cXG5cXG4ueHRlcm0uZm9jdXMsXFxuLnh0ZXJtOmZvY3VzIHtcXG4gICAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuLnh0ZXJtIC54dGVybS1oZWxwZXJzIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDA7XFxuICAgIC8qKlxcbiAgICAgKiBUaGUgei1pbmRleCBvZiB0aGUgaGVscGVycyBtdXN0IGJlIGhpZ2hlciB0aGFuIHRoZSBjYW52YXNlcyBpbiBvcmRlciBmb3JcXG4gICAgICogSU1FcyB0byBhcHBlYXIgb24gdG9wLlxcbiAgICAgKi9cXG4gICAgei1pbmRleDogMTA7XFxufVxcblxcbi54dGVybSAueHRlcm0taGVscGVyLXRleHRhcmVhIHtcXG4gICAgLypcXG4gICAgICogSEFDSzogdG8gZml4IElFJ3MgYmxpbmtpbmcgY3Vyc29yXFxuICAgICAqIE1vdmUgdGV4dGFyZWEgb3V0IG9mIHRoZSBzY3JlZW4gdG8gdGhlIGZhciBsZWZ0LCBzbyB0aGF0IHRoZSBjdXJzb3IgaXMgbm90IHZpc2libGUuXFxuICAgICAqL1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIG9wYWNpdHk6IDA7XFxuICAgIGxlZnQ6IC05OTk5ZW07XFxuICAgIHRvcDogMDtcXG4gICAgd2lkdGg6IDA7XFxuICAgIGhlaWdodDogMDtcXG4gICAgei1pbmRleDogLTEwO1xcbiAgICAvKiogUHJldmVudCB3cmFwcGluZyBzbyB0aGUgSU1FIGFwcGVhcnMgYWdhaW5zdCB0aGUgdGV4dGFyZWEgYXQgdGhlIGNvcnJlY3QgcG9zaXRpb24gKi9cXG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgcmVzaXplOiBub25lO1xcbn1cXG5cXG4ueHRlcm0gLmNvbXBvc2l0aW9uLXZpZXcge1xcbiAgICAvKiBUT0RPOiBDb21wb3NpdGlvbiBwb3NpdGlvbiBnb3QgbWVzc2VkIHVwIHNvbWV3aGVyZSAqL1xcbiAgICBiYWNrZ3JvdW5kOiAjMDAwO1xcbiAgICBjb2xvcjogI0ZGRjtcXG4gICAgZGlzcGxheTogbm9uZTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgICB6LWluZGV4OiAxO1xcbn1cXG5cXG4ueHRlcm0gLmNvbXBvc2l0aW9uLXZpZXcuYWN0aXZlIHtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi54dGVybSAueHRlcm0tdmlld3BvcnQge1xcbiAgICAvKiBPbiBPUyBYIHRoaXMgaXMgcmVxdWlyZWQgaW4gb3JkZXIgZm9yIHRoZSBzY3JvbGwgYmFyIHRvIGFwcGVhciBmdWxseSBvcGFxdWUgKi9cXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcXG4gICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgcmlnaHQ6IDA7XFxuICAgIGxlZnQ6IDA7XFxuICAgIHRvcDogMDtcXG4gICAgYm90dG9tOiAwO1xcbn1cXG5cXG4ueHRlcm0gLnh0ZXJtLXNjcmVlbiB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLnh0ZXJtIC54dGVybS1zY3JlZW4gY2FudmFzIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB0b3A6IDA7XFxufVxcblxcbi54dGVybSAueHRlcm0tc2Nyb2xsLWFyZWEge1xcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XFxufVxcblxcbi54dGVybS1jaGFyLW1lYXN1cmUtZWxlbWVudCB7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogMDtcXG4gICAgbGVmdDogLTk5OTllbTtcXG4gICAgbGluZS1oZWlnaHQ6IG5vcm1hbDtcXG59XFxuXFxuLnh0ZXJtIHtcXG4gICAgY3Vyc29yOiB0ZXh0O1xcbn1cXG5cXG4ueHRlcm0uZW5hYmxlLW1vdXNlLWV2ZW50cyB7XFxuICAgIC8qIFdoZW4gbW91c2UgZXZlbnRzIGFyZSBlbmFibGVkIChlZy4gdG11eCksIHJldmVydCB0byB0aGUgc3RhbmRhcmQgcG9pbnRlciBjdXJzb3IgKi9cXG4gICAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG5cXG4ueHRlcm0ueHRlcm0tY3Vyc29yLXBvaW50ZXIge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi54dGVybS5jb2x1bW4tc2VsZWN0LmZvY3VzIHtcXG4gICAgLyogQ29sdW1uIHNlbGVjdGlvbiBtb2RlICovXFxuICAgIGN1cnNvcjogY3Jvc3NoYWlyO1xcbn1cXG5cXG4ueHRlcm0gLnh0ZXJtLWFjY2Vzc2liaWxpdHksXFxuLnh0ZXJtIC54dGVybS1tZXNzYWdlIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB0b3A6IDA7XFxuICAgIGJvdHRvbTogMDtcXG4gICAgcmlnaHQ6IDA7XFxuICAgIHotaW5kZXg6IDEwMDtcXG4gICAgY29sb3I6IHRyYW5zcGFyZW50O1xcbn1cXG5cXG4ueHRlcm0gLmxpdmUtcmVnaW9uIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBsZWZ0OiAtOTk5OXB4O1xcbiAgICB3aWR0aDogMXB4O1xcbiAgICBoZWlnaHQ6IDFweDtcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuXCIsIFwiXCJdKTtcblxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy94dGVybS9kaXN0L3h0ZXJtLmNzc1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21\n')},function(module,exports,__webpack_require__){"use strict";eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzPzRiYmQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCOztBQUVoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1Q0FBdUMsZ0JBQWdCO0FBQ3ZELE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7OztBQUdKO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLG1CQUFtQixpQkFBaUI7QUFDcEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSxvQkFBb0I7QUFDbkMsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxjQUFjO0FBQ25FO0FBQ0EiLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gJ0BtZWRpYSAnICsgaXRlbVsyXSArICd7JyArIGNvbnRlbnQgKyAnfSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgIH1cbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gbW9kdWxlc1tpXTsgLy8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuICAgICAgLy8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcbiAgICAgIC8vIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cbiAgICAgIC8vIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblxuICAgICAgaWYgKGl0ZW1bMF0gPT0gbnVsbCB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBpZiAobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2UgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgICBpdGVtWzJdID0gJygnICsgaXRlbVsyXSArICcpIGFuZCAoJyArIG1lZGlhUXVlcnkgKyAnKSc7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLyc7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG4gIHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///22\n")},function(module,exports,__webpack_require__){eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === "undefined") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve "head" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }\n                // }\n                if (typeof target === \'function\') {\n                        return target();\n                }\n                if (typeof memo[target] === "undefined") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(24);\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== "undefined" && DEBUG) {\n\t\tif (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === "object" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = "head";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = "bottom";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error("Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === "top") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === "bottom") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === "object" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error("[Style Loader]\\n\\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\\n Must be \'top\', \'bottom\', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement("style");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = "text/css";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement("link");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = "text/css";\n\t}\n\toptions.attrs.rel = "stylesheet";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (false) {\n\t\treturn null;\n\t}\n\n\treturn __webpack_require__.nc;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === \'function\'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don\'t add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === "function" &&\n\t\ttypeof URL.createObjectURL === "function" &&\n\t\ttypeof URL.revokeObjectURL === "function" &&\n\t\ttypeof Blob === "function" &&\n\t\ttypeof btoa === "function"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join(\'\\n\');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? "" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute("media", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn\'t defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += "\\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";\n\t}\n\n\tvar blob = new Blob([css], { type: "text/css" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanM/MTNiYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBLGNBQWMsbUJBQU8sQ0FBQyxFQUFROztBQUU5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsaUJBQWlCLG1CQUFtQjtBQUNwQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDOztBQUVBO0FBQ0EsbUJBQW1CLDJCQUEyQjs7QUFFOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQixtQkFBbUI7QUFDbkM7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQiwyQkFBMkI7QUFDNUM7QUFDQTs7QUFFQSxRQUFRLHVCQUF1QjtBQUMvQjtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBLGlCQUFpQix1QkFBdUI7QUFDeEM7QUFDQTs7QUFFQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjOztBQUVkLGtEQUFrRCxzQkFBc0I7QUFDeEU7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQSxLQUFLLEtBQXdDO0FBQzdDO0FBQ0E7O0FBRUEsUUFBUSxzQkFBaUI7QUFDekI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEOztBQUVBLDZCQUE2QixtQkFBbUI7O0FBRWhEOztBQUVBOztBQUVBO0FBQ0EiLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCwgcGFyZW50KSB7XG4gIGlmIChwYXJlbnQpe1xuICAgIHJldHVybiBwYXJlbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuICB9XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0LCBwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCwgcGFyZW50KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUsIHRhcmdldCk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cblx0aWYob3B0aW9ucy5hdHRycy5ub25jZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIG5vbmNlID0gZ2V0Tm9uY2UoKTtcblx0XHRpZiAobm9uY2UpIHtcblx0XHRcdG9wdGlvbnMuYXR0cnMubm9uY2UgPSBub25jZTtcblx0XHR9XG5cdH1cblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBnZXROb25jZSgpIHtcblx0aWYgKHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiBfX3dlYnBhY2tfbm9uY2VfXztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSB0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbidcblx0XHQgPyBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKSBcblx0XHQgOiBvcHRpb25zLnRyYW5zZm9ybS5kZWZhdWx0KG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n')},function(module,exports){eval('\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function "fixes" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== "undefined" && window.location;\n\n  if (!location) {\n    throw new Error("fixUrls requires window.location");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== "string") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + "//" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, "/");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word "url" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn\'t a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn\'t a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn\'t a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^"(.*)"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^\'(.*)\'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf("//") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf("/") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with \'/\'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, ""); // Strip leading \'./\'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn "url(" + JSON.stringify(newUrl) + ")";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzP2UwNDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxXQUFXLEVBQUU7QUFDckQsd0NBQXdDLFdBQVcsRUFBRTs7QUFFckQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxzQ0FBc0M7QUFDdEMsR0FBRztBQUNIO0FBQ0EsOERBQThEO0FBQzlEOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSIsImZpbGUiOiIyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///24\n')},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar Terminal_1 = __webpack_require__(26);\nvar Strings = __webpack_require__(12);\nvar Terminal = (function () {\n    function Terminal(options) {\n        this._core = new Terminal_1.Terminal(options);\n    }\n    Object.defineProperty(Terminal.prototype, "element", {\n        get: function () { return this._core.element; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, "textarea", {\n        get: function () { return this._core.textarea; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, "rows", {\n        get: function () { return this._core.rows; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, "cols", {\n        get: function () { return this._core.cols; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Terminal.prototype, "markers", {\n        get: function () { return this._core.markers; },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.blur = function () {\n        this._core.blur();\n    };\n    Terminal.prototype.focus = function () {\n        this._core.focus();\n    };\n    Terminal.prototype.on = function (type, listener) {\n        this._core.on(type, listener);\n    };\n    Terminal.prototype.off = function (type, listener) {\n        this._core.off(type, listener);\n    };\n    Terminal.prototype.emit = function (type, data) {\n        this._core.emit(type, data);\n    };\n    Terminal.prototype.addDisposableListener = function (type, handler) {\n        return this._core.addDisposableListener(type, handler);\n    };\n    Terminal.prototype.resize = function (columns, rows) {\n        this._core.resize(columns, rows);\n    };\n    Terminal.prototype.writeln = function (data) {\n        this._core.writeln(data);\n    };\n    Terminal.prototype.open = function (parent) {\n        this._core.open(parent);\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._core.attachCustomKeyEventHandler(customKeyEventHandler);\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        return this._core.registerLinkMatcher(regex, handler, options);\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        this._core.deregisterLinkMatcher(matcherId);\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        return this._core.registerCharacterJoiner(handler);\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        this._core.deregisterCharacterJoiner(joinerId);\n    };\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        return this._core.addMarker(cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this._core.hasSelection();\n    };\n    Terminal.prototype.getSelection = function () {\n        return this._core.getSelection();\n    };\n    Terminal.prototype.clearSelection = function () {\n        this._core.clearSelection();\n    };\n    Terminal.prototype.selectAll = function () {\n        this._core.selectAll();\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        this._core.selectLines(start, end);\n    };\n    Terminal.prototype.dispose = function () {\n        this._core.dispose();\n    };\n    Terminal.prototype.destroy = function () {\n        this._core.destroy();\n    };\n    Terminal.prototype.scrollLines = function (amount) {\n        this._core.scrollLines(amount);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this._core.scrollPages(pageCount);\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this._core.scrollToTop();\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this._core.scrollToBottom();\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        this._core.scrollToLine(line);\n    };\n    Terminal.prototype.clear = function () {\n        this._core.clear();\n    };\n    Terminal.prototype.write = function (data) {\n        this._core.write(data);\n    };\n    Terminal.prototype.getOption = function (key) {\n        return this._core.getOption(key);\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        this._core.setOption(key, value);\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        this._core.refresh(start, end);\n    };\n    Terminal.prototype.reset = function () {\n        this._core.reset();\n    };\n    Terminal.applyAddon = function (addon) {\n        addon.apply(Terminal);\n    };\n    Object.defineProperty(Terminal, "strings", {\n        get: function () {\n            return Strings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Terminal;\n}());\nexports.Terminal = Terminal;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3B1YmxpYy9UZXJtaW5hbC50cz9jNjNiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBT0EseUNBQXVEO0FBQ3ZELHNDQUFzQztBQUV0QztJQUdFLGtCQUFZLE9BQTBCO1FBQ3BDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxtQkFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFRCxzQkFBVyw2QkFBTzthQUFsQixjQUFvQyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQzs7O09BQUE7SUFDaEUsc0JBQVcsOEJBQVE7YUFBbkIsY0FBNkMsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7OztPQUFBO0lBQzFFLHNCQUFXLDBCQUFJO2FBQWYsY0FBNEIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7OztPQUFBO0lBQ3JELHNCQUFXLDBCQUFJO2FBQWYsY0FBNEIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7OztPQUFBO0lBQ3JELHNCQUFXLDZCQUFPO2FBQWxCLGNBQWtDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDOzs7T0FBQTtJQUN2RCx1QkFBSSxHQUFYO1FBQ0UsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNwQixDQUFDO0lBQ00sd0JBQUssR0FBWjtRQUNFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQVVNLHFCQUFFLEdBQVQsVUFBVSxJQUFTLEVBQUUsUUFBYTtRQUNoQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUNNLHNCQUFHLEdBQVYsVUFBVyxJ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QXhCLFVBQXlCLEtBQVU7UUFDakMsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUN4QixDQUFDO0lBQ0Qsc0JBQWtCLG1CQUFPO2FBQXpCO1lBQ0UsT0FBTyxPQUFPLENBQUM7UUFDakIsQ0FBQzs7O09BQUE7SUFDSCxlQUFDO0FBQUQsQ0FBQztBQS9JWSw0QkFBUSIsImZpbGUiOiIyNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSB4dGVybS5qcyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuaW1wb3J0IHsgVGVybWluYWwgYXMgSVRlcm1pbmFsQXBpLCBJVGVybWluYWxPcHRpb25zLCBJTWFya2VyLCBJRGlzcG9zYWJsZSwgSUxpbmtNYXRjaGVyT3B0aW9ucywgSVRoZW1lLCBJTG9jYWxpemFibGVTdHJpbmdzIH0gZnJvbSAneHRlcm0nO1xuaW1wb3J0IHsgSVRlcm1pbmFsIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgVGVybWluYWwgYXMgVGVybWluYWxDb3JlIH0gZnJvbSAnLi4vVGVybWluYWwnO1xuaW1wb3J0ICogYXMgU3RyaW5ncyBmcm9tICcuLi9TdHJpbmdzJztcblxuZXhwb3J0IGNsYXNzIFRlcm1pbmFsIGltcGxlbWVudHMgSVRlcm1pbmFsQXBpIHtcbiAgcHJpdmF0ZSBfY29yZTogSVRlcm1pbmFsO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBJVGVybWluYWxPcHRpb25zKSB7XG4gICAgdGhpcy5fY29yZSA9IG5ldyBUZXJtaW5hbENvcmUob3B0aW9ucyk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IGVsZW1lbnQoKTogSFRNTEVsZW1lbnQgeyByZXR1cm4gdGhpcy5fY29yZS5lbGVtZW50OyB9XG4gIHB1YmxpYyBnZXQgdGV4dGFyZWEoKTogSFRNTFRleHRBcmVhRWxlbWVudCB7IHJldHVybiB0aGlzLl9jb3JlLnRleHRhcmVhOyB9XG4gIHB1YmxpYyBnZXQgcm93cygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fY29yZS5yb3dzOyB9XG4gIHB1YmxpYyBnZXQgY29scygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fY29yZS5jb2xzOyB9XG4gIHB1YmxpYyBnZXQgbWFya2VycygpOiBJTWFya2VyW10geyByZXR1cm4gdGhpcy5fY29yZS5tYXJrZXJzOyB9XG4gIHB1YmxpYyBibHVyKCk6IHZvaWQge1xuICAgIHRoaXMuX2NvcmUuYmx1cigpO1xuICB9XG4gIHB1YmxpYyBmb2N1cygpOiB2b2lkIHtcbiAgICB0aGlzLl9jb3JlLmZvY3VzKCk7XG4gIH1cbiAgcHVibGljIG9uKHR5cGU6ICdibHVyJyB8ICdmb2N1cycgfCAnbGluZWZlZWQnIHwgJ3NlbGVjdGlvbicsIGxpc3RlbmVyOiAoKSA9PiB2b2lkKTogdm9pZDtcbiAgcHVibGljIG9uKHR5cGU6ICdkYXRhJywgbGlzdGVuZXI6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6IHZvaWQ7XG4gIHB1YmxpYyBvbih0eXBlOiAna2V5JywgbGlzdGVuZXI6IChrZXk/OiBzdHJpbmcsIGV2ZW50PzogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCk6IHZvaWQ7XG4gIHB1YmxpYyBvbih0eXBlOiAna2V5cHJlc3MnIHwgJ2tleWRvd24nLCBsaXN0ZW5lcjogKGV2ZW50PzogS2V5Ym9hcmRFdmVudCkgPT4gdm9pZCk6IHZvaWQ7XG4gIHB1YmxpYyBvbih0eXBlOiAncmVmcmVzaCcsIGxpc3RlbmVyOiAoZGF0YT86IHsgc3RhcnQ6IG51bWJlcjsgZW5kOiBudW1iZXI7IH0pID0+IHZvaWQpOiB2b2lkO1xuICBwdWJsaWMgb24odHlwZTogJ3Jlc2l6ZScsIGxpc3RlbmVyOiAoZGF0YT86IHsgY29sczogbnVtYmVyOyByb3dzOiBudW1iZXI7IH0pID0+IHZvaWQpOiB2b2lkO1xuICBwdWJsaWMgb24odHlwZTogJ3Njcm9sbCcsIGxpc3RlbmVyOiAoeWRpc3A/OiBudW1iZXIpID0+IHZvaWQpOiB2b2lkO1xuICBwdWJsaWMgb24odHlwZTogJ3RpdGxlJywgbGlzdGVuZXI6ICh0aXRsZT86IHN0cmluZykgPT4gdm9pZCk6IHZvaWQ7XG4gIHB1YmxpYyBvbih0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQpOiB2b2lkO1xuICBwdWJsaWMgb24odHlwZTogYW55LCBsaXN0ZW5lcjogYW55KTogdm9pZCB7XG4gICAgdGhpcy5fY29yZS5vbih0eXBlLCBsaXN0ZW5lcik7XG4gIH1cbiAgcHVibGljIG9mZih0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLl9jb3JlLm9mZih0eXBlLCBsaXN0ZW5lcik7XG4gIH1cbiAgcHVibGljIGVtaXQodHlwZTogc3RyaW5nLCBkYXRhPzogYW55KTogdm9pZCB7XG4gICAgdGhpcy5fY29yZS5lbWl0KHR5cGUsIGRhdGEpO1xuICB9XG4gIHB1YmxpYyBhZGREaXNwb3NhYmxlTGlzdGVuZXIodHlwZTogc3RyaW5nLCBoYW5kbGVyOiAoLi4uYXJnczogYW55W10pID0+IHZvaWQpOiBJRGlzcG9zYWJsZSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvcmUuYWRkRGlzcG9zYWJsZUxpc3RlbmVyKHR5cGUsIGhhbmRsZXIpO1xuICB9XG4gIHB1YmxpYyByZXNpemUoY29sdW1uczogbnVtYmVyLCByb3dzOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9jb3JlLnJlc2l6ZShjb2x1bW5zLCByb3dzKTtcbiAgfVxuICBwdWJsaWMgd3JpdGVsbihkYXRhOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLl9jb3JlLndyaXRlbG4oZGF0YSk7XG4gIH1cbiAgcHVibGljIG9wZW4ocGFyZW50OiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIHRoaXMuX2NvcmUub3BlbihwYXJlbnQpO1xuICB9XG4gIHB1YmxpYyBhdHRhY2hDdXN0b21LZXlFdmVudEhhbmRsZXIoY3VzdG9tS2V5RXZlbnRIYW5kbGVyOiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLl9jb3JlLmF0dGFjaEN1c3RvbUtleUV2ZW50SGFuZGxlcihjdXN0b21LZXlFdmVudEhhbmRsZXIpO1xuICB9XG4gIHB1YmxpYyByZWdpc3RlckxpbmtNYXRjaGVyKHJlZ2V4OiBSZWdFeHAsIGhhbmRsZXI6IChldmVudDogTW91c2VFdmVudCwgdXJpOiBzdHJpbmcpID0+IHZvaWQsIG9wdGlvbnM/OiBJTGlua01hdGNoZXJPcHRpb25zKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fY29yZS5yZWdpc3RlckxpbmtNYXRjaGVyKHJlZ2V4LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgfVxuICBwdWJsaWMgZGVyZWdpc3RlckxpbmtNYXRjaGVyKG1hdGNoZXJJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fY29yZS5kZXJlZ2lzdGVyTGlua01hdGNoZXIobWF0Y2hlcklkKTtcbiAgfVxuICBwdWJsaWMgcmVnaXN0ZXJDaGFyYWN0ZXJKb2luZXIoaGFuZGxlcjogKHRleHQ6IHN0cmluZykgPT4gW251bWJlciwgbnVtYmVyXVtdKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fY29yZS5yZWdpc3RlckNoYXJhY3RlckpvaW5lcihoYW5kbGVyKTtcbiAgfVxuICBwdWJsaWMgZGVyZWdpc3RlckNoYXJhY3RlckpvaW5lcihqb2luZXJJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fY29yZS5kZXJlZ2lzdGVyQ2hhcmFjdGVySm9pbmVyKGpvaW5lcklkKTtcbiAgfVxuICBwdWJsaWMgYWRkTWFya2VyKGN1cnNvcllPZmZzZXQ6IG51bWJlcik6IElNYXJrZXIge1xuICAgIHJldHVybiB0aGlzLl9jb3JlLmFkZE1hcmtlcihjdXJzb3JZT2Zmc2V0KTtcbiAgfVxuICBwdWJsaWMgaGFzU2VsZWN0aW9uKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9jb3JlLmhhc1NlbGVjdGlvbigpO1xuICB9XG4gIHB1YmxpYyBnZXRTZWxlY3Rpb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fY29yZS5nZXRTZWxlY3Rpb24oKTtcbiAgfVxuICBwdWJsaWMgY2xlYXJTZWxlY3Rpb24oKTogdm9pZCB7XG4gICAgdGhpcy5fY29yZS5jbGVhclNlbGVjdGlvbigpO1xuICB9XG4gIHB1YmxpYyBzZWxlY3RBbGwoKTogdm9pZCB7XG4gICAgdGhpcy5fY29yZS5zZWxlY3RBbGwoKTtcbiAgfVxuICBwdWJsaWMgc2VsZWN0TGluZXMoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9jb3JlLnNlbGVjdExpbmVzKHN0YXJ0LCBlbmQpO1xuICB9XG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHRoaXMuX2NvcmUuZGlzcG9zZSgpO1xuICB9XG4gIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuX2NvcmUuZGVzdHJveSgpO1xuICB9XG4gIHB1YmxpYyBzY3JvbGxMaW5lcyhhbW91bnQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuX2NvcmUuc2Nyb2xsTGluZXMoYW1vdW50KTtcbiAgfVxuICBwdWJsaWMgc2Nyb2xsUGFnZXMocGFnZUNvdW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9jb3JlLnNjcm9sbFBhZ2VzKHBhZ2VDb3VudCk7XG4gIH1cbiAgcHVibGljIHNjcm9sbFRvVG9wKCk6IHZvaWQge1xuICAgIHRoaXMuX2NvcmUuc2Nyb2xsVG9Ub3AoKTtcbiAgfVxuICBwdWJsaWMgc2Nyb2xsVG9Cb3R0b20oKTogdm9pZCB7XG4gICAgdGhpcy5fY29yZS5zY3JvbGxUb0JvdHRvbSgpO1xuICB9XG4gIHB1YmxpYyBzY3JvbGxUb0xpbmUobGluZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fY29yZS5zY3JvbGxUb0xpbmUobGluZSk7XG4gIH1cbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuX2NvcmUuY2xlYXIoKTtcbiAgfVxuICBwdWJsaWMgd3JpdGUoZGF0YTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5fY29yZS53cml0ZShkYXRhKTtcbiAgfVxuICBwdWJsaWMgZ2V0T3B0aW9uKGtleTogJ2JlbGxTb3VuZCcgfCAnYmVsbFN0eWxlJyB8ICdjdXJzb3JTdHlsZScgfCAnZm9udEZhbWlseScgfCAnZm9udFdlaWdodCcgfCAnZm9udFdlaWdodEJvbGQnIHwgJ3JlbmRlcmVyVHlwZScgfCAndGVybU5hbWUnKTogc3RyaW5nO1xuICBwdWJsaWMgZ2V0T3B0aW9uKGtleTogJ2FsbG93VHJhbnNwYXJlbmN5JyB8ICdjYW5jZWxFdmVudHMnIHwgJ2NvbnZlcnRFb2wnIHwgJ2N1cnNvckJsaW5rJyB8ICdkZWJ1ZycgfCAnZGlzYWJsZVN0ZGluJyB8ICdlbmFibGVCb2xkJyB8ICdtYWNPcHRpb25Jc01ldGEnIHwgJ3JpZ2h0Q2xpY2tTZWxlY3RzV29yZCcgfCAncG9wT25CZWxsJyB8ICdzY3JlZW5LZXlzJyB8ICd1c2VGbG93Q29udHJvbCcgfCAndmlzdWFsQmVsbCcpOiBib29sZWFuO1xuICBwdWJsaWMgZ2V0T3B0aW9uKGtleTogJ2NvbG9ycycpOiBzdHJpbmdbXTtcbiAgcHVibGljIGdldE9wdGlvbihrZXk6ICdjb2xzJyB8ICdmb250U2l6ZScgfCAnbGV0dGVyU3BhY2luZycgfCAnbGluZUhlaWdodCcgfCAncm93cycgfCAndGFiU3RvcFdpZHRoJyB8ICdzY3JvbGxiYWNrJyk6IG51bWJlcjtcbiAgcHVibGljIGdldE9wdGlvbihrZXk6ICdoYW5kbGVyJyk6IChkYXRhOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHB1YmxpYyBnZXRPcHRpb24oa2V5OiBzdHJpbmcpOiBhbnk7XG4gIHB1YmxpYyBnZXRPcHRpb24oa2V5OiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLl9jb3JlLmdldE9wdGlvbihrZXkpO1xuICB9XG4gIHB1YmxpYyBzZXRPcHRpb24oa2V5OiAnYmVsbFNvdW5kJyB8ICdmb250RmFtaWx5JyB8ICd0ZXJtTmFtZScsIHZhbHVlOiBzdHJpbmcpOiB2b2lkO1xuICBwdWJsaWMgc2V0T3B0aW9uKGtleTogJ2ZvbnRXZWlnaHQnIHwgJ2ZvbnRXZWlnaHRCb2xkJywgdmFsdWU6ICdub3JtYWwnIHwgJ2JvbGQnIHwgJzEwMCcgfCAnMjAwJyB8ICczMDAnIHwgJzQwMCcgfCAnNTAwJyB8ICc2MDAnIHwgJzcwMCcgfCAnODAwJyB8ICc5MDAnKTogdm9pZDtcbiAgcHVibGljIHNldE9wdGlvbihrZXk6ICdiZWxsU3R5bGUnLCB2YWx1ZTogJ25vbmUnIHwgJ3Zpc3VhbCcgfCAnc291bmQnIHwgJ2JvdGgnKTogdm9pZDtcbiAgcHVibGljIHNldE9wdGlvbihrZXk6ICdjdXJzb3JTdHlsZScsIHZhbHVlOiAnYmxvY2snIHwgJ3VuZGVybGluZScgfCAnYmFyJyk6IHZvaWQ7XG4gIHB1YmxpYyBzZXRPcHRpb24oa2V5OiAnYWxsb3dUcmFuc3BhcmVuY3knIHwgJ2NhbmNlbEV2ZW50cycgfCAnY29udmVydEVvbCcgfCAnY3Vyc29yQmxpbmsnIHwgJ2RlYnVnJyB8ICdkaXNhYmxlU3RkaW4nIHwgJ2VuYWJsZUJvbGQnIHwgJ21hY09wdGlvbklzTWV0YScgfCAncmlnaHRDbGlja1NlbGVjdHNXb3JkJyB8ICdwb3BPbkJlbGwnIHwgJ3NjcmVlbktleXMnIHwgJ3VzZUZsb3dDb250cm9sJyB8ICd2aXN1YWxCZWxsJywgdmFsdWU6IGJvb2xlYW4pOiB2b2lkO1xuICBwdWJsaWMgc2V0T3B0aW9uKGtleTogJ2NvbG9ycycsIHZhbHVlOiBzdHJpbmdbXSk6IHZvaWQ7XG4gIHB1YmxpYyBzZXRPcHRpb24oa2V5OiAnZm9udFNpemUnIHwgJ2xldHRlclNwYWNpbmcnIHwgJ2xpbmVIZWlnaHQnIHwgJ3RhYlN0b3BXaWR0aCcgfCAnc2Nyb2xsYmFjaycsIHZhbHVlOiBudW1iZXIpOiB2b2lkO1xuICBwdWJsaWMgc2V0T3B0aW9uKGtleTogJ2hhbmRsZXInLCB2YWx1ZTogKGRhdGE6IHN0cmluZykgPT4gdm9pZCk6IHZvaWQ7XG4gIHB1YmxpYyBzZXRPcHRpb24oa2V5OiAndGhlbWUnLCB2YWx1ZTogSVRoZW1lKTogdm9pZDtcbiAgcHVibGljIHNldE9wdGlvbihrZXk6ICdjb2xzJyB8ICdyb3dzJywgdmFsdWU6IG51bWJlcik6IHZvaWQ7XG4gIHB1YmxpYyBzZXRPcHRpb24oa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkO1xuICBwdWJsaWMgc2V0T3B0aW9uKGtleTogYW55LCB2YWx1ZTogYW55KTogdm9pZCB7XG4gICAgdGhpcy5fY29yZS5zZXRPcHRpb24oa2V5LCB2YWx1ZSk7XG4gIH1cbiAgcHVibGljIHJlZnJlc2goc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9jb3JlLnJlZnJlc2goc3RhcnQsIGVuZCk7XG4gIH1cbiAgcHVibGljIHJlc2V0KCk6IHZvaWQge1xuICAgIHRoaXMuX2NvcmUucmVzZXQoKTtcbiAgfVxuICBwdWJsaWMgc3RhdGljIGFwcGx5QWRkb24oYWRkb246IGFueSk6IHZvaWQge1xuICAgIGFkZG9uLmFwcGx5KFRlcm1pbmFsKTtcbiAgfVxuICBwdWJsaWMgc3RhdGljIGdldCBzdHJpbmdzKCk6IElMb2NhbGl6YWJsZVN0cmluZ3Mge1xuICAgIHJldHVybiBTdHJpbmdzO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3B1YmxpYy9UZXJtaW5hbC50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///25\n')},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BufferSet_1 = __webpack_require__(27);\nvar Buffer_1 = __webpack_require__(0);\nvar CompositionHelper_1 = __webpack_require__(30);\nvar EventEmitter_1 = __webpack_require__(2);\nvar Viewport_1 = __webpack_require__(31);\nvar Clipboard_1 = __webpack_require__(32);\nvar EscapeSequences_1 = __webpack_require__(7);\nvar InputHandler_1 = __webpack_require__(33);\nvar Renderer_1 = __webpack_require__(37);\nvar Linkifier_1 = __webpack_require__(48);\nvar SelectionManager_1 = __webpack_require__(49);\nvar CharMeasure_1 = __webpack_require__(52);\nvar Browser = __webpack_require__(5);\nvar Lifecycle_1 = __webpack_require__(6);\nvar Strings = __webpack_require__(12);\nvar MouseHelper_1 = __webpack_require__(18);\nvar Clone_1 = __webpack_require__(53);\nvar SoundManager_1 = __webpack_require__(54);\nvar ColorManager_1 = __webpack_require__(9);\nvar MouseZoneManager_1 = __webpack_require__(17);\nvar AccessibilityManager_1 = __webpack_require__(55);\nvar ScreenDprMonitor_1 = __webpack_require__(16);\nvar CharAtlasCache_1 = __webpack_require__(14);\nvar DomRenderer_1 = __webpack_require__(56);\nvar Keyboard_1 = __webpack_require__(58);\nvar document = (typeof window !== 'undefined') ? window.document : null;\nvar WRITE_BUFFER_PAUSE_THRESHOLD = 5;\nvar WRITE_BATCH_SIZE = 300;\nvar CONSTRUCTOR_ONLY_OPTIONS = ['cols', 'rows'];\nvar DEFAULT_OPTIONS = {\n    cols: 80,\n    rows: 24,\n    convertEol: false,\n    termName: 'xterm',\n    cursorBlink: false,\n    cursorStyle: 'block',\n    bellSound: SoundManager_1.DEFAULT_BELL_SOUND,\n    bellStyle: 'none',\n    drawBoldTextInBrightColors: true,\n    enableBold: true,\n    experimentalCharAtlas: 'static',\n    fontFamily: 'courier-new, courier, monospace',\n    fontSize: 15,\n    fontWeight: 'normal',\n    fontWeightBold: 'bold',\n    lineHeight: 1.0,\n    letterSpacing: 0,\n    scrollback: 1000,\n    screenKeys: false,\n    screenReaderMode: false,\n    debug: false,\n    macOptionIsMeta: false,\n    macOptionClickForcesSelection: false,\n    cancelEvents: false,\n    disableStdin: false,\n    useFlowControl: false,\n    allowTransparency: false,\n    tabStopWidth: 8,\n    theme: null,\n    rightClickSelectsWord: Browser.isMac,\n    rendererType: 'canvas',\n    experimentalBufferLineImpl: 'TypedArray'\n};\nvar Terminal = (function (_super) {\n    __extends(Terminal, _super);\n    function Terminal(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        _this.browser = Browser;\n        _this._blankLine = null;\n        _this.options = Clone_1.clone(options);\n        _this._setup();\n        return _this;\n    }\n    Terminal.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._customKeyEventHandler = null;\n        CharAtlasCache_1.removeTerminalFromCache(this);\n        this.handler = function () { };\n        this.write = function () { };\n        if (this.element && this.element.parentNode) {\n            this.element.parentNode.removeChild(this.element);\n        }\n    };\n    Terminal.prototype.destroy = function () {\n        this.dispose();\n    };\n    Terminal.prototype._setup = function () {\n        var _this = this;\n        Object.keys(DEFAULT_OPTIONS).forEach(function (key) {\n            if (_this.options[key] === null || _this.options[key] === undefined) {\n                _this.options[key] = DEFAULT_OPTIONS[key];\n            }\n        });\n        this._parent = document ? document.body : null;\n        this.cols = this.options.cols;\n        this.rows = this.options.rows;\n        if (this.options.handler) {\n            this.on('data', this.options.handler);\n        }\n        this.cursorState = 0;\n        this.cursorHidden = false;\n        this._customKeyEventHandler = null;\n        this.applicationKeypad = false;\n        this.applicationCursor = false;\n        this.originMode = false;\n        this.insertMode = false;\n        this.wraparoundMode = true;\n        this.bracketedPasteMode = false;\n        this.charset = null;\n        this.gcharset = null;\n        this.glevel = 0;\n        this.charsets = [null];\n        this.curAttr = Buffer_1.DEFAULT_ATTR;\n        this.params = [];\n        this.currentParam = 0;\n        this.writeBuffer = [];\n        this._writeInProgress = false;\n        this._xoffSentToCatchUp = false;\n        this._userScrolling = false;\n        this._inputHandler = new InputHandler_1.InputHandler(this);\n        this.register(this._inputHandler);\n        this.renderer = this.renderer || null;\n        this.selectionManager = this.selectionManager || null;\n        this.linkifier = this.linkifier || new Linkifier_1.Linkifier(this);\n        this._mouseZoneManager = this._mouseZoneManager || null;\n        this.soundManager = this.soundManager || new SoundManager_1.SoundManager(this);\n        this.buffers = new BufferSet_1.BufferSet(this);\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n            this.selectionManager.initBuffersListeners();\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"buffer\", {\n        get: function () {\n            return this.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.eraseAttr = function () {\n        return (Buffer_1.DEFAULT_ATTR & ~0x1ff) | (this.curAttr & 0x1ff);\n    };\n    Terminal.prototype.focus = function () {\n        if (this.textarea) {\n            this.textarea.focus();\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"isFocused\", {\n        get: function () {\n            return document.activeElement === this.textarea && document.hasFocus();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.getOption = function (key) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        return this.options[key];\n    };\n    Terminal.prototype.setOption = function (key, value) {\n        if (!(key in DEFAULT_OPTIONS)) {\n            throw new Error('No option with key \"' + key + '\"');\n        }\n        if (CONSTRUCTOR_ONLY_OPTIONS.indexOf(key) !== -1) {\n            console.error(\"Option \\\"\" + key + \"\\\" can only be set in the constructor\");\n        }\n        if (this.options[key] === value) {\n            return;\n        }\n        switch (key) {\n            case 'bellStyle':\n                if (!value) {\n                    value = 'none';\n                }\n                break;\n            case 'cursorStyle':\n                if (!value) {\n                    value = 'block';\n                }\n                break;\n            case 'fontWeight':\n                if (!value) {\n                    value = 'normal';\n                }\n                break;\n            case 'fontWeightBold':\n                if (!value) {\n                    value = 'bold';\n                }\n                break;\n            case 'lineHeight':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n            case 'rendererType':\n                if (!value) {\n                    value = 'canvas';\n                }\n                break;\n            case 'tabStopWidth':\n                if (value < 1) {\n                    console.warn(key + \" cannot be less than 1, value: \" + value);\n                    return;\n                }\n                break;\n            case 'theme':\n                if (this.renderer) {\n                    this._setTheme(value);\n                    return;\n                }\n                break;\n            case 'scrollback':\n                value = Math.min(value, Buffer_1.MAX_BUFFER_SIZE);\n                if (value < 0) {\n                    console.warn(key + \" cannot be less than 0, value: \" + value);\n                    return;\n                }\n                if (this.options[key] !== value) {\n                    var newBufferLength = this.rows + value;\n                    if (this.buffer.lines.length > newBufferLength) {\n                        var amountToTrim = this.buffer.lines.length - newBufferLength;\n                        var needsRefresh = (this.buffer.ydisp - amountToTrim < 0);\n                        this.buffer.lines.trimStart(amountToTrim);\n                        this.buffer.ybase = Math.max(this.buffer.ybase - amountToTrim, 0);\n                        this.buffer.ydisp = Math.max(this.buffer.ydisp - amountToTrim, 0);\n                        if (needsRefresh) {\n                            this.refresh(0, this.rows - 1);\n                        }\n                    }\n                }\n                break;\n        }\n        this.options[key] = value;\n        switch (key) {\n            case 'fontFamily':\n            case 'fontSize':\n                if (this.renderer) {\n                    this.renderer.clear();\n                    this.charMeasure.measure(this.options);\n                }\n                break;\n            case 'drawBoldTextInBrightColors':\n            case 'experimentalCharAtlas':\n            case 'enableBold':\n            case 'letterSpacing':\n            case 'lineHeight':\n            case 'fontWeight':\n            case 'fontWeightBold':\n                if (this.renderer) {\n                    this.renderer.clear();\n                    this.renderer.onResize(this.cols, this.rows);\n                    this.refresh(0, this.rows - 1);\n                }\n            case 'rendererType':\n                if (this.renderer) {\n                    this.unregister(this.renderer);\n                    this.renderer.dispose();\n                    this.renderer = null;\n                }\n                this._setupRenderer();\n                this.renderer.onCharSizeChanged();\n                if (this._theme) {\n                    this.renderer.setTheme(this._theme);\n                }\n                this.mouseHelper.setRenderer(this.renderer);\n                break;\n            case 'scrollback':\n                this.buffers.resize(this.cols, this.rows);\n                if (this.viewport) {\n                    this.viewport.syncScrollArea();\n                }\n                break;\n            case 'screenReaderMode':\n                if (value) {\n                    if (!this._accessibilityManager) {\n                        this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this);\n                    }\n                }\n                else {\n                    if (this._accessibilityManager) {\n                        this._accessibilityManager.dispose();\n                        this._accessibilityManager = null;\n                    }\n                }\n                break;\n            case 'tabStopWidth':\n                this.buffers.setupTabStops();\n                break;\n            case 'experimentalBufferLineImpl':\n                this.buffers.normal.setBufferLineFactory(value);\n                this.buffers.alt.setBufferLineFactory(value);\n                this._blankLine = null;\n                break;\n        }\n        if (this.renderer) {\n            this.renderer.onOptionsChanged();\n        }\n    };\n    Terminal.prototype._onTextAreaFocus = function (ev) {\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[I');\n        }\n        this.updateCursorStyle(ev);\n        this.element.classList.add('focus');\n        this.showCursor();\n        this.emit('focus');\n    };\n    Terminal.prototype.blur = function () {\n        return this.textarea.blur();\n    };\n    Terminal.prototype._onTextAreaBlur = function () {\n        this.textarea.value = '';\n        this.refresh(this.buffer.y, this.buffer.y);\n        if (this.sendFocus) {\n            this.handler(EscapeSequences_1.C0.ESC + '[O');\n        }\n        this.element.classList.remove('focus');\n        this.emit('blur');\n    };\n    Terminal.prototype._initGlobal = function () {\n        var _this = this;\n        this._bindKeys();\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'copy', function (event) {\n            if (!_this.hasSelection()) {\n                return;\n            }\n            Clipboard_1.copyHandler(event, _this, _this.selectionManager);\n        }));\n        var pasteHandlerWrapper = function (event) { return Clipboard_1.pasteHandler(event, _this); };\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'paste', pasteHandlerWrapper));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'paste', pasteHandlerWrapper));\n        if (Browser.isFirefox) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (event) {\n                if (event.button === 2) {\n                    Clipboard_1.rightClickHandler(event, _this.textarea, _this.selectionManager, _this.options.rightClickSelectsWord);\n                }\n            }));\n        }\n        else {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'contextmenu', function (event) {\n                Clipboard_1.rightClickHandler(event, _this.textarea, _this.selectionManager, _this.options.rightClickSelectsWord);\n            }));\n        }\n        if (Browser.isLinux) {\n            this.register(Lifecycle_1.addDisposableDomListener(this.element, 'auxclick', function (event) {\n                if (event.button === 1) {\n                    Clipboard_1.moveTextAreaUnderMouseCursor(event, _this.textarea);\n                }\n            }));\n        }\n    };\n    Terminal.prototype._bindKeys = function () {\n        var _this = this;\n        var self = this;\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keydown', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyDown(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keypress', function (ev) {\n            if (document.activeElement !== this) {\n                return;\n            }\n            self._keyPress(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'keyup', function (ev) {\n            if (!wasModifierKeyOnlyEvent(ev)) {\n                _this.focus();\n            }\n            self._keyUp(ev);\n        }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keydown', function (ev) { return _this._keyDown(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'keypress', function (ev) { return _this._keyPress(ev); }, true));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionstart', function () { return _this._compositionHelper.compositionstart(); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionupdate', function (e) { return _this._compositionHelper.compositionupdate(e); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'compositionend', function () { return _this._compositionHelper.compositionend(); }));\n        this.register(this.addDisposableListener('refresh', function () { return _this._compositionHelper.updateCompositionElements(); }));\n        this.register(this.addDisposableListener('refresh', function (data) { return _this._queueLinkification(data.start, data.end); }));\n    };\n    Terminal.prototype.open = function (parent) {\n        var _this = this;\n        this._parent = parent || this._parent;\n        if (!this._parent) {\n            throw new Error('Terminal requires a parent element.');\n        }\n        this._context = this._parent.ownerDocument.defaultView;\n        this._document = this._parent.ownerDocument;\n        this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        this._screenDprMonitor.setListener(function () { return _this.emit('dprchange', window.devicePixelRatio); });\n        this.register(this._screenDprMonitor);\n        this.element = this._document.createElement('div');\n        this.element.dir = 'ltr';\n        this.element.classList.add('terminal');\n        this.element.classList.add('xterm');\n        this.element.setAttribute('tabindex', '0');\n        this._parent.appendChild(this.element);\n        var fragment = document.createDocumentFragment();\n        this._viewportElement = document.createElement('div');\n        this._viewportElement.classList.add('xterm-viewport');\n        fragment.appendChild(this._viewportElement);\n        this._viewportScrollArea = document.createElement('div');\n        this._viewportScrollArea.classList.add('xterm-scroll-area');\n        this._viewportElement.appendChild(this._viewportScrollArea);\n        this.screenElement = document.createElement('div');\n        this.screenElement.classList.add('xterm-screen');\n        this._helperContainer = document.createElement('div');\n        this._helperContainer.classList.add('xterm-helpers');\n        this.screenElement.appendChild(this._helperContainer);\n        fragment.appendChild(this.screenElement);\n        this._mouseZoneManager = new MouseZoneManager_1.MouseZoneManager(this);\n        this.register(this._mouseZoneManager);\n        this.register(this.addDisposableListener('scroll', function () { return _this._mouseZoneManager.clearAll(); }));\n        this.linkifier.attachToDom(this._mouseZoneManager);\n        this.textarea = document.createElement('textarea');\n        this.textarea.classList.add('xterm-helper-textarea');\n        this.textarea.setAttribute('aria-label', Strings.promptLabel);\n        this.textarea.setAttribute('aria-multiline', 'false');\n        this.textarea.setAttribute('autocorrect', 'off');\n        this.textarea.setAttribute('autocapitalize', 'off');\n        this.textarea.setAttribute('spellcheck', 'false');\n        this.textarea.tabIndex = 0;\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'focus', function (ev) { return _this._onTextAreaFocus(ev); }));\n        this.register(Lifecycle_1.addDisposableDomListener(this.textarea, 'blur', function () { return _this._onTextAreaBlur(); }));\n        this._helperContainer.appendChild(this.textarea);\n        this._compositionView = document.createElement('div');\n        this._compositionView.classList.add('composition-view');\n        this._compositionHelper = new CompositionHelper_1.CompositionHelper(this.textarea, this._compositionView, this);\n        this._helperContainer.appendChild(this._compositionView);\n        this.charMeasure = new CharMeasure_1.CharMeasure(document, this._helperContainer);\n        this.element.appendChild(fragment);\n        this._setupRenderer();\n        this._theme = this.options.theme;\n        this.options.theme = null;\n        this.viewport = new Viewport_1.Viewport(this, this._viewportElement, this._viewportScrollArea, this.charMeasure);\n        this.viewport.onThemeChanged(this.renderer.colorManager.colors);\n        this.register(this.viewport);\n        this.register(this.addDisposableListener('cursormove', function () { return _this.renderer.onCursorMove(); }));\n        this.register(this.addDisposableListener('resize', function () { return _this.renderer.onResize(_this.cols, _this.rows); }));\n        this.register(this.addDisposableListener('blur', function () { return _this.renderer.onBlur(); }));\n        this.register(this.addDisposableListener('focus', function () { return _this.renderer.onFocus(); }));\n        this.register(this.addDisposableListener('dprchange', function () { return _this.renderer.onWindowResize(window.devicePixelRatio); }));\n        this.register(Lifecycle_1.addDisposableDomListener(window, 'resize', function () { return _this.renderer.onWindowResize(window.devicePixelRatio); }));\n        this.register(this.charMeasure.addDisposableListener('charsizechanged', function () { return _this.renderer.onCharSizeChanged(); }));\n        this.register(this.renderer.addDisposableListener('resize', function (dimensions) { return _this.viewport.syncScrollArea(); }));\n        this.selectionManager = new SelectionManager_1.SelectionManager(this, this.charMeasure);\n        this.register(Lifecycle_1.addDisposableDomListener(this.element, 'mousedown', function (e) { return _this.selectionManager.onMouseDown(e); }));\n        this.register(this.selectionManager.addDisposableListener('refresh', function (data) { return _this.renderer.onSelectionChanged(data.start, data.end, data.columnSelectMode); }));\n        this.register(this.selectionManager.addDisposableListener('newselection', function (text) {\n            _this.textarea.value = text;\n            _this.textarea.focus();\n            _this.textarea.select();\n        }));\n        this.register(this.addDisposableListener('scroll', function () {\n            _this.viewport.syncScrollArea();\n            _this.selectionManager.refresh();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(this._viewportElement, 'scroll', function () { return _this.selectionManager.refresh(); }));\n        this.mouseHelper = new MouseHelper_1.MouseHelper(this.renderer);\n        if (this.options.screenReaderMode) {\n            this._accessibilityManager = new AccessibilityManager_1.AccessibilityManager(this);\n        }\n        this.charMeasure.measure(this.options);\n        this.refresh(0, this.rows - 1);\n        this._initGlobal();\n        this.bindMouse();\n    };\n    Terminal.prototype._setupRenderer = function () {\n        switch (this.options.rendererType) {\n            case 'canvas':\n                this.renderer = new Renderer_1.Renderer(this, this.options.theme);\n                break;\n            case 'dom':\n                this.renderer = new DomRenderer_1.DomRenderer(this, this.options.theme);\n                break;\n            default: throw new Error(\"Unrecognized rendererType \\\"\" + this.options.rendererType + \"\\\"\");\n        }\n        this.register(this.renderer);\n    };\n    Terminal.prototype._setTheme = function (theme) {\n        this._theme = theme;\n        var colors = this.renderer.setTheme(theme);\n        if (this.viewport) {\n            this.viewport.onThemeChanged(colors);\n        }\n    };\n    Terminal.prototype.bindMouse = function () {\n        var _this = this;\n        var el = this.element;\n        var self = this;\n        var pressed = 32;\n        function sendButton(ev) {\n            var button;\n            var pos;\n            button = getButton(ev);\n            pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            sendEvent(button, pos);\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    pressed = button;\n                    break;\n                case 'mouseup':\n                    pressed = 32;\n                    break;\n                case 'wheel':\n                    break;\n            }\n        }\n        function sendMove(ev) {\n            var button = pressed;\n            var pos = self.mouseHelper.getRawByteCoords(ev, self.screenElement, self.charMeasure, self.cols, self.rows);\n            if (!pos)\n                return;\n            button += 32;\n            sendEvent(button, pos);\n        }\n        function encode(data, ch) {\n            if (!self.utfMouse) {\n                if (ch === 255) {\n                    data.push(0);\n                    return;\n                }\n                if (ch > 127)\n                    ch = 127;\n                data.push(ch);\n            }\n            else {\n                if (ch === 2047) {\n                    data.push(0);\n                    return;\n                }\n                if (ch < 127) {\n                    data.push(ch);\n                }\n                else {\n                    if (ch > 2047)\n                        ch = 2047;\n                    data.push(0xC0 | (ch >> 6));\n                    data.push(0x80 | (ch & 0x3F));\n                }\n            }\n        }\n        function sendEvent(button, pos) {\n            if (self._vt300Mouse) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                var data_1 = EscapeSequences_1.C0.ESC + '[24';\n                if (button === 0)\n                    data_1 += '1';\n                else if (button === 1)\n                    data_1 += '3';\n                else if (button === 2)\n                    data_1 += '5';\n                else if (button === 3)\n                    return;\n                else\n                    data_1 += '0';\n                data_1 += '~[' + pos.x + ',' + pos.y + ']\\r';\n                self.handler(data_1);\n                return;\n            }\n            if (self._decLocator) {\n                button &= 3;\n                pos.x -= 32;\n                pos.y -= 32;\n                if (button === 0)\n                    button = 2;\n                else if (button === 1)\n                    button = 4;\n                else if (button === 2)\n                    button = 6;\n                else if (button === 3)\n                    button = 3;\n                self.handler(EscapeSequences_1.C0.ESC + '['\n                    + button\n                    + ';'\n                    + (button === 3 ? 4 : 0)\n                    + ';'\n                    + pos.y\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.page || 0\n                    + '&w');\n                return;\n            }\n            if (self.urxvtMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                pos.x++;\n                pos.y++;\n                self.handler(EscapeSequences_1.C0.ESC + '[' + button + ';' + pos.x + ';' + pos.y + 'M');\n                return;\n            }\n            if (self.sgrMouse) {\n                pos.x -= 32;\n                pos.y -= 32;\n                self.handler(EscapeSequences_1.C0.ESC + '[<'\n                    + (((button & 3) === 3 ? button & ~3 : button) - 32)\n                    + ';'\n                    + pos.x\n                    + ';'\n                    + pos.y\n                    + ((button & 3) === 3 ? 'm' : 'M'));\n                return;\n            }\n            var data = [];\n            encode(data, button);\n            encode(data, pos.x);\n            encode(data, pos.y);\n            self.handler(EscapeSequences_1.C0.ESC + '[M' + String.fromCharCode.apply(String, data));\n        }\n        function getButton(ev) {\n            var button;\n            var shift;\n            var meta;\n            var ctrl;\n            var mod;\n            switch (ev.overrideType || ev.type) {\n                case 'mousedown':\n                    button = ev.button !== null && ev.button !== undefined\n                        ? +ev.button\n                        : ev.which !== null && ev.which !== undefined\n                            ? ev.which - 1\n                            : null;\n                    if (Browser.isMSIE) {\n                        button = button === 1 ? 0 : button === 4 ? 1 : button;\n                    }\n                    break;\n                case 'mouseup':\n                    button = 3;\n                    break;\n                case 'DOMMouseScroll':\n                    button = ev.detail < 0\n                        ? 64\n                        : 65;\n                    break;\n                case 'wheel':\n                    button = ev.deltaY < 0\n                        ? 64\n                        : 65;\n                    break;\n            }\n            shift = ev.shiftKey ? 4 : 0;\n            meta = ev.metaKey ? 8 : 0;\n            ctrl = ev.ctrlKey ? 16 : 0;\n            mod = shift | meta | ctrl;\n            if (self.vt200Mouse) {\n                mod &= ctrl;\n            }\n            else if (!self.normalMouse) {\n                mod = 0;\n            }\n            button = (32 + (mod << 2)) + button;\n            return button;\n        }\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'mousedown', function (ev) {\n            ev.preventDefault();\n            _this.focus();\n            if (!_this.mouseEvents || _this.selectionManager.shouldForceSelection(ev)) {\n                return;\n            }\n            sendButton(ev);\n            if (_this.vt200Mouse) {\n                ev.overrideType = 'mouseup';\n                sendButton(ev);\n                return _this.cancel(ev);\n            }\n            var moveHandler;\n            if (_this.normalMouse) {\n                moveHandler = function (event) {\n                    if (!_this.normalMouse) {\n                        return;\n                    }\n                    sendMove(event);\n                };\n                _this._document.addEventListener('mousemove', moveHandler);\n            }\n            var handler = function (ev) {\n                if (_this.normalMouse && !_this.x10Mouse) {\n                    sendButton(ev);\n                }\n                if (moveHandler) {\n                    _this._document.removeEventListener('mousemove', moveHandler);\n                    moveHandler = null;\n                }\n                _this._document.removeEventListener('mouseup', handler);\n                return _this.cancel(ev);\n            };\n            _this._document.addEventListener('mouseup', handler);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (!_this.mouseEvents) {\n                if (!_this.buffer.hasScrollback) {\n                    var amount = _this.viewport.getLinesScrolled(ev);\n                    if (amount === 0) {\n                        return;\n                    }\n                    var sequence = EscapeSequences_1.C0.ESC + (_this.applicationCursor ? 'O' : '[') + (ev.deltaY < 0 ? 'A' : 'B');\n                    var data = '';\n                    for (var i = 0; i < Math.abs(amount); i++) {\n                        data += sequence;\n                    }\n                    _this.handler(data);\n                }\n                return;\n            }\n            if (_this.x10Mouse || _this._vt300Mouse || _this._decLocator)\n                return;\n            sendButton(ev);\n            ev.preventDefault();\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'wheel', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onWheel(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchstart', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchStart(ev);\n            return _this.cancel(ev);\n        }));\n        this.register(Lifecycle_1.addDisposableDomListener(el, 'touchmove', function (ev) {\n            if (_this.mouseEvents)\n                return;\n            _this.viewport.onTouchMove(ev);\n            return _this.cancel(ev);\n        }));\n    };\n    Terminal.prototype.refresh = function (start, end) {\n        if (this.renderer) {\n            this.renderer.refreshRows(start, end);\n        }\n    };\n    Terminal.prototype._queueLinkification = function (start, end) {\n        if (this.linkifier) {\n            this.linkifier.linkifyRows(start, end);\n        }\n    };\n    Terminal.prototype.updateCursorStyle = function (ev) {\n        if (this.selectionManager && this.selectionManager.shouldColumnSelect(ev)) {\n            this.element.classList.add('column-select');\n        }\n        else {\n            this.element.classList.remove('column-select');\n        }\n    };\n    Terminal.prototype.showCursor = function () {\n        if (!this.cursorState) {\n            this.cursorState = 1;\n            this.refresh(this.buffer.y, this.buffer.y);\n        }\n    };\n    Terminal.prototype.scroll = function (isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        var newLine;\n        var useRecycling = this.options.experimentalBufferLineImpl !== 'JsArray';\n        if (useRecycling) {\n            newLine = this._blankLine;\n            if (!newLine || newLine.length !== this.cols || newLine.get(0)[Buffer_1.CHAR_DATA_ATTR_INDEX] !== this.eraseAttr()) {\n                newLine = this.buffer.getBlankLine(this.eraseAttr(), isWrapped);\n                this._blankLine = newLine;\n            }\n            newLine.isWrapped = isWrapped;\n        }\n        else {\n            newLine = this.buffer.getBlankLine(this.eraseAttr(), isWrapped);\n        }\n        var topRow = this.buffer.ybase + this.buffer.scrollTop;\n        var bottomRow = this.buffer.ybase + this.buffer.scrollBottom;\n        if (this.buffer.scrollTop === 0) {\n            var willBufferBeTrimmed = this.buffer.lines.isFull;\n            if (bottomRow === this.buffer.lines.length - 1) {\n                if (useRecycling) {\n                    if (willBufferBeTrimmed) {\n                        this.buffer.lines.recycle().copyFrom(newLine);\n                    }\n                    else {\n                        this.buffer.lines.push(newLine.clone());\n                    }\n                }\n                else {\n                    this.buffer.lines.push(newLine);\n                }\n            }\n            else {\n                this.buffer.lines.splice(bottomRow + 1, 0, (useRecycling) ? newLine.clone() : newLine);\n            }\n            if (!willBufferBeTrimmed) {\n                this.buffer.ybase++;\n                if (!this._userScrolling) {\n                    this.buffer.ydisp++;\n                }\n            }\n            else {\n                if (this._userScrolling) {\n                    this.buffer.ydisp = Math.max(this.buffer.ydisp - 1, 0);\n                }\n            }\n        }\n        else {\n            var scrollRegionHeight = bottomRow - topRow + 1;\n            this.buffer.lines.shiftElements(topRow + 1, scrollRegionHeight - 1, -1);\n            this.buffer.lines.set(bottomRow, (useRecycling) ? newLine.clone() : newLine);\n        }\n        if (!this._userScrolling) {\n            this.buffer.ydisp = this.buffer.ybase;\n        }\n        this.updateRange(this.buffer.scrollTop);\n        this.updateRange(this.buffer.scrollBottom);\n        this.emit('scroll', this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollLines = function (disp, suppressScrollEvent) {\n        if (disp < 0) {\n            if (this.buffer.ydisp === 0) {\n                return;\n            }\n            this._userScrolling = true;\n        }\n        else if (disp + this.buffer.ydisp >= this.buffer.ybase) {\n            this._userScrolling = false;\n        }\n        var oldYdisp = this.buffer.ydisp;\n        this.buffer.ydisp = Math.max(Math.min(this.buffer.ydisp + disp, this.buffer.ybase), 0);\n        if (oldYdisp === this.buffer.ydisp) {\n            return;\n        }\n        if (!suppressScrollEvent) {\n            this.emit('scroll', this.buffer.ydisp);\n        }\n        this.refresh(0, this.rows - 1);\n    };\n    Terminal.prototype.scrollPages = function (pageCount) {\n        this.scrollLines(pageCount * (this.rows - 1));\n    };\n    Terminal.prototype.scrollToTop = function () {\n        this.scrollLines(-this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToBottom = function () {\n        this.scrollLines(this.buffer.ybase - this.buffer.ydisp);\n    };\n    Terminal.prototype.scrollToLine = function (line) {\n        var scrollAmount = line - this.buffer.ydisp;\n        if (scrollAmount !== 0) {\n            this.scrollLines(scrollAmount);\n        }\n    };\n    Terminal.prototype.write = function (data) {\n        var _this = this;\n        if (this._isDisposed) {\n            return;\n        }\n        if (!data) {\n            return;\n        }\n        this.writeBuffer.push(data);\n        if (this.options.useFlowControl && !this._xoffSentToCatchUp && this.writeBuffer.length >= WRITE_BUFFER_PAUSE_THRESHOLD) {\n            this.handler(EscapeSequences_1.C0.DC3);\n            this._xoffSentToCatchUp = true;\n        }\n        if (!this._writeInProgress && this.writeBuffer.length > 0) {\n            this._writeInProgress = true;\n            setTimeout(function () {\n                _this._innerWrite();\n            });\n        }\n    };\n    Terminal.prototype._innerWrite = function () {\n        var _this = this;\n        if (this._isDisposed) {\n            this.writeBuffer = [];\n        }\n        var writeBatch = this.writeBuffer.splice(0, WRITE_BATCH_SIZE);\n        while (writeBatch.length > 0) {\n            var data = writeBatch.shift();\n            if (this._xoffSentToCatchUp && writeBatch.length === 0 && this.writeBuffer.length === 0) {\n                this.handler(EscapeSequences_1.C0.DC1);\n                this._xoffSentToCatchUp = false;\n            }\n            this._refreshStart = this.buffer.y;\n            this._refreshEnd = this.buffer.y;\n            this._inputHandler.parse(data);\n            this.updateRange(this.buffer.y);\n            this.refresh(this._refreshStart, this._refreshEnd);\n        }\n        if (this.writeBuffer.length > 0) {\n            setTimeout(function () { return _this._innerWrite(); }, 0);\n        }\n        else {\n            this._writeInProgress = false;\n        }\n    };\n    Terminal.prototype.writeln = function (data) {\n        this.write(data + '\\r\\n');\n    };\n    Terminal.prototype.attachCustomKeyEventHandler = function (customKeyEventHandler) {\n        this._customKeyEventHandler = customKeyEventHandler;\n    };\n    Terminal.prototype.registerLinkMatcher = function (regex, handler, options) {\n        var matcherId = this.linkifier.registerLinkMatcher(regex, handler, options);\n        this.refresh(0, this.rows - 1);\n        return matcherId;\n    };\n    Terminal.prototype.deregisterLinkMatcher = function (matcherId) {\n        if (this.linkifier.deregisterLinkMatcher(matcherId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Terminal.prototype.registerCharacterJoiner = function (handler) {\n        var joinerId = this.renderer.registerCharacterJoiner(handler);\n        this.refresh(0, this.rows - 1);\n        return joinerId;\n    };\n    Terminal.prototype.deregisterCharacterJoiner = function (joinerId) {\n        if (this.renderer.deregisterCharacterJoiner(joinerId)) {\n            this.refresh(0, this.rows - 1);\n        }\n    };\n    Object.defineProperty(Terminal.prototype, \"markers\", {\n        get: function () {\n            return this.buffer.markers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Terminal.prototype.addMarker = function (cursorYOffset) {\n        if (this.buffer !== this.buffers.normal) {\n            return;\n        }\n        return this.buffer.addMarker(this.buffer.ybase + this.buffer.y + cursorYOffset);\n    };\n    Terminal.prototype.hasSelection = function () {\n        return this.selectionManager ? this.selectionManager.hasSelection : false;\n    };\n    Terminal.prototype.getSelection = function () {\n        return this.selectionManager ? this.selectionManager.selectionText : '';\n    };\n    Terminal.prototype.clearSelection = function () {\n        if (this.selectionManager) {\n            this.selectionManager.clearSelection();\n        }\n    };\n    Terminal.prototype.selectAll = function () {\n        if (this.selectionManager) {\n            this.selectionManager.selectAll();\n        }\n    };\n    Terminal.prototype.selectLines = function (start, end) {\n        if (this.selectionManager) {\n            this.selectionManager.selectLines(start, end);\n        }\n    };\n    Terminal.prototype._keyDown = function (event) {\n        if (this._customKeyEventHandler && this._customKeyEventHandler(event) === false) {\n            return false;\n        }\n        if (!this._compositionHelper.keydown(event)) {\n            if (this.buffer.ybase !== this.buffer.ydisp) {\n                this.scrollToBottom();\n            }\n            return false;\n        }\n        var result = Keyboard_1.evaluateKeyboardEvent(event, this.applicationCursor, this.browser.isMac, this.options.macOptionIsMeta);\n        this.updateCursorStyle(event);\n        if (result.type === 3 || result.type === 2) {\n            var scrollCount = this.rows - 1;\n            this.scrollLines(result.type === 2 ? -scrollCount : scrollCount);\n            return this.cancel(event, true);\n        }\n        if (result.type === 1) {\n            this.selectAll();\n        }\n        if (this._isThirdLevelShift(this.browser, event)) {\n            return true;\n        }\n        if (result.cancel) {\n            this.cancel(event, true);\n        }\n        if (!result.key) {\n            return true;\n        }\n        this.emit('keydown', event);\n        this.emit('key', result.key, event);\n        this.showCursor();\n        this.handler(result.key);\n        return this.cancel(event, true);\n    };\n    Terminal.prototype._isThirdLevelShift = function (browser, ev) {\n        var thirdLevelKey = (browser.isMac && !this.options.macOptionIsMeta && ev.altKey && !ev.ctrlKey && !ev.metaKey) ||\n            (browser.isMSWindows && ev.altKey && ev.ctrlKey && !ev.metaKey);\n        if (ev.type === 'keypress') {\n            return thirdLevelKey;\n        }\n        return thirdLevelKey && (!ev.keyCode || ev.keyCode > 47);\n    };\n    Terminal.prototype.setgLevel = function (g) {\n        this.glevel = g;\n        this.charset = this.charsets[g];\n    };\n    Terminal.prototype.setgCharset = function (g, charset) {\n        this.charsets[g] = charset;\n        if (this.glevel === g) {\n            this.charset = charset;\n        }\n    };\n    Terminal.prototype._keyUp = function (ev) {\n        this.updateCursorStyle(ev);\n    };\n    Terminal.prototype._keyPress = function (ev) {\n        var key;\n        if (this._customKeyEventHandler && this._customKeyEventHandler(ev) === false) {\n            return false;\n        }\n        this.cancel(ev);\n        if (ev.charCode) {\n            key = ev.charCode;\n        }\n        else if (ev.which === null || ev.which === undefined) {\n            key = ev.keyCode;\n        }\n        else if (ev.which !== 0 && ev.charCode !== 0) {\n            key = ev.which;\n        }\n        else {\n            return false;\n        }\n        if (!key || ((ev.altKey || ev.ctrlKey || ev.metaKey) && !this._isThirdLevelShift(this.browser, ev))) {\n            return false;\n        }\n        key = String.fromCharCode(key);\n        this.emit('keypress', key, ev);\n        this.emit('key', key, ev);\n        this.showCursor();\n        this.handler(key);\n        return true;\n    };\n    Terminal.prototype.bell = function () {\n        var _this = this;\n        this.emit('bell');\n        if (this._soundBell()) {\n            this.soundManager.playBellSound();\n        }\n        if (this._visualBell()) {\n            this.element.classList.add('visual-bell-active');\n            clearTimeout(this._visualBellTimer);\n            this._visualBellTimer = window.setTimeout(function () {\n                _this.element.classList.remove('visual-bell-active');\n            }, 200);\n        }\n    };\n    Terminal.prototype.log = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.log)\n            return;\n        this._context.console.log(text, data);\n    };\n    Terminal.prototype.error = function (text, data) {\n        if (!this.options.debug)\n            return;\n        if (!this._context.console || !this._context.console.error)\n            return;\n        this._context.console.error(text, data);\n    };\n    Terminal.prototype.resize = function (x, y) {\n        if (isNaN(x) || isNaN(y)) {\n            return;\n        }\n        if (x === this.cols && y === this.rows) {\n            if (this.charMeasure && (!this.charMeasure.width || !this.charMeasure.height)) {\n                this.charMeasure.measure(this.options);\n            }\n            return;\n        }\n        if (x < 1)\n            x = 1;\n        if (y < 1)\n            y = 1;\n        this.buffers.resize(x, y);\n        this.cols = x;\n        this.rows = y;\n        this.buffers.setupTabStops(this.cols);\n        if (this.charMeasure) {\n            this.charMeasure.measure(this.options);\n        }\n        this.refresh(0, this.rows - 1);\n        this.emit('resize', { cols: x, rows: y });\n    };\n    Terminal.prototype.updateRange = function (y) {\n        if (y < this._refreshStart)\n            this._refreshStart = y;\n        if (y > this._refreshEnd)\n            this._refreshEnd = y;\n    };\n    Terminal.prototype.maxRange = function () {\n        this._refreshStart = 0;\n        this._refreshEnd = this.rows - 1;\n    };\n    Terminal.prototype.clear = function () {\n        if (this.buffer.ybase === 0 && this.buffer.y === 0) {\n            return;\n        }\n        this.buffer.lines.set(0, this.buffer.lines.get(this.buffer.ybase + this.buffer.y));\n        this.buffer.lines.length = 1;\n        this.buffer.ydisp = 0;\n        this.buffer.ybase = 0;\n        this.buffer.y = 0;\n        for (var i = 1; i < this.rows; i++) {\n            this.buffer.lines.push(this.buffer.getBlankLine(Buffer_1.DEFAULT_ATTR));\n        }\n        this.refresh(0, this.rows - 1);\n        this.emit('scroll', this.buffer.ydisp);\n    };\n    Terminal.prototype.ch = function (cur) {\n        if (cur) {\n            return [this.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE];\n        }\n        return [Buffer_1.DEFAULT_ATTR, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE];\n    };\n    Terminal.prototype.is = function (term) {\n        return (this.options.termName + '').indexOf(term) === 0;\n    };\n    Terminal.prototype.handler = function (data) {\n        if (this.options.disableStdin) {\n            return;\n        }\n        if (this.selectionManager && this.selectionManager.hasSelection) {\n            this.selectionManager.clearSelection();\n        }\n        if (this.buffer.ybase !== this.buffer.ydisp) {\n            this.scrollToBottom();\n        }\n        this.emit('data', data);\n    };\n    Terminal.prototype.handleTitle = function (title) {\n        this.emit('title', title);\n    };\n    Terminal.prototype.index = function () {\n        this.buffer.y++;\n        if (this.buffer.y > this.buffer.scrollBottom) {\n            this.buffer.y--;\n            this.scroll();\n        }\n        if (this.buffer.x >= this.cols) {\n            this.buffer.x--;\n        }\n    };\n    Terminal.prototype.reverseIndex = function () {\n        if (this.buffer.y === this.buffer.scrollTop) {\n            var scrollRegionHeight = this.buffer.scrollBottom - this.buffer.scrollTop;\n            this.buffer.lines.shiftElements(this.buffer.y + this.buffer.ybase, scrollRegionHeight, 1);\n            this.buffer.lines.set(this.buffer.y + this.buffer.ybase, this.buffer.getBlankLine(this.eraseAttr()));\n            this.updateRange(this.buffer.scrollTop);\n            this.updateRange(this.buffer.scrollBottom);\n        }\n        else {\n            this.buffer.y--;\n        }\n    };\n    Terminal.prototype.reset = function () {\n        this.options.rows = this.rows;\n        this.options.cols = this.cols;\n        var customKeyEventHandler = this._customKeyEventHandler;\n        var inputHandler = this._inputHandler;\n        var cursorState = this.cursorState;\n        this._setup();\n        this._customKeyEventHandler = customKeyEventHandler;\n        this._inputHandler = inputHandler;\n        this.cursorState = cursorState;\n        this.refresh(0, this.rows - 1);\n        if (this.viewport) {\n            this.viewport.syncScrollArea();\n        }\n    };\n    Terminal.prototype.tabSet = function () {\n        this.buffer.tabs[this.buffer.x] = true;\n    };\n    Terminal.prototype.cancel = function (ev, force) {\n        if (!this.options.cancelEvents && !force) {\n            return;\n        }\n        ev.preventDefault();\n        ev.stopPropagation();\n        return false;\n    };\n    Terminal.prototype.matchColor = function (r1, g1, b1) {\n        var hash = (r1 << 16) | (g1 << 8) | b1;\n        if (matchColorCache[hash] !== null && matchColorCache[hash] !== undefined) {\n            return matchColorCache[hash];\n        }\n        var ldiff = Infinity;\n        var li = -1;\n        var i = 0;\n        var c;\n        var r2;\n        var g2;\n        var b2;\n        var diff;\n        for (; i < ColorManager_1.DEFAULT_ANSI_COLORS.length; i++) {\n            c = ColorManager_1.DEFAULT_ANSI_COLORS[i].rgba;\n            r2 = c >>> 24;\n            g2 = c >>> 16 & 0xFF;\n            b2 = c >>> 8 & 0xFF;\n            diff = matchColorDistance(r1, g1, b1, r2, g2, b2);\n            if (diff === 0) {\n                li = i;\n                break;\n            }\n            if (diff < ldiff) {\n                ldiff = diff;\n                li = i;\n            }\n        }\n        return matchColorCache[hash] = li;\n    };\n    Terminal.prototype._visualBell = function () {\n        return false;\n    };\n    Terminal.prototype._soundBell = function () {\n        return this.options.bellStyle === 'sound';\n    };\n    return Terminal;\n}(EventEmitter_1.EventEmitter));\nexports.Terminal = Terminal;\nfunction wasModifierKeyOnlyEvent(ev) {\n    return ev.keyCode === 16 ||\n        ev.keyCode === 17 ||\n        ev.keyCode === 18;\n}\nvar matchColorCache = {};\nfunction matchColorDistance(r1, g1, b1, r2, g2, b2) {\n    return Math.pow(30 * (r1 - r2), 2)\n        + Math.pow(59 * (g1 - g2), 2)\n        + Math.pow(11 * (b1 - b2), 2);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL1Rlcm1pbmFsLnRzP2Q2MTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBMEJBLDBDQUF3QztBQUN4QyxzQ0FBd0k7QUFDeEksa0RBQXdEO0FBQ3hELDRDQUFxRDtBQUNyRCx5Q0FBc0M7QUFDdEMsMENBQTRHO0FBQzVHLCtDQUFtRDtBQUNuRCw2Q0FBOEM7QUFDOUMseUNBQStDO0FBQy9DLDBDQUF3QztBQUN4QyxpREFBc0Q7QUFDdEQsNENBQStDO0FBQy9DLHFDQUEyQztBQUMzQyx5Q0FBMEQ7QUFDMUQsc0NBQXFDO0FBQ3JDLDRDQUFrRDtBQUNsRCxzQ0FBc0M7QUFDdEMsNkNBQWtFO0FBQ2xFLDRDQUE4RDtBQUM5RCxpREFBeUQ7QUFDekQscURBQThEO0FBQzlELGlEQUF5RDtBQUV6RCwrQ0FBMEU7QUFDMUUsNENBQXlEO0FBRXpELHlDQUE4RDtBQUk5RCxJQUFNLFFBQVEsR0FBRyxDQUFDLE9BQU8sTUFBTSxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFPMUUsSUFBTSw0QkFBNEIsR0FBRyxDQUFDLENBQUM7QUFNdkMsSUFBTSxnQkFBZ0IsR0FBRyxHQUFHLENBQUM7QUFLN0IsSUFBTSx3QkFBd0IsR0FBRyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztBQUVsRCxJQUFNLGVBQWUsR0FBcUI7SUFDeEMsSUFBSSxFQUFFLEVBQUU7SUFDUixJQUFJLEVBQUUsRUFBRTtJQUNSLFVBQVUsRUFBRSxLQUFLO0lBQ2pCLFFBQVEsRUFBRSxPQUFPO0lBQ2pCLFdBQVcsRUFBRSxLQUFLO0lBQ2xCLFdBQVcsRUFBRSxPQUFPO0lBQ3BCLFNBQVMsRUFBRSxpQ0FBa0I7SUFDN0IsU0FBUyxFQUFFLE1BQU07SUFDakIsMEJBQTBCLEVBQUUsSUFBSTtJQUNoQyxVQUFVLEVBQUUsSUFBSTtJQUNoQixxQkFBcUIsRUFBRSxRQUFRO0lBQy9CLFVBQVUsRUFBRSxpQ0FBaUM7SUFDN0MsUUFBUSxFQUFFLEVBQUU7SUFDWixVQUFVLEVBQUUsUUFBUTtJQUNwQixjQUFjLEVBQUUsTUFBTTtJQUN0QixVQUFVLEVBQUUsR0FBRztJQUNmLGFBQWEsRUFBRSxDQUFDO0lBQ2hCLFVBQVUsRUFBRSxJQUFJO0lBQ2hCLFVBQVUsRUFBRSxLQUFLO0lBQ2pCLGdCQUFnQixFQUFFLEtBQUs7SUFDdkIsS0FBSyxFQUFFLEtBQUs7SUFDWixlQUFlLEVBQUUsS0FBSztJQUN0Qiw2QkFBNkIsRUFBRSxLQUFLO0lBQ3BDLFlBQVksRUFBRSxLQUFLO0lBQ25CLFlBQVksRUFBRSxLQUFLO0lBQ25CLGNBQWMsRUFBRSxLQUFLO0lBQ3JCLGlCQUFpQixFQUFFLEtBQUs7SUFDeEIsWUFBWSxFQUFFLENBQUM7SUFDZixLQUFLLEVBQUUsSUFBSTtJQUNYLHFCQUFxQixFQUFFLE9BQU8sQ0FBQyxLQUFLO0lBQ3BDLFlBQVksRUFBRSxRQUFRO0lBQ3RCLDBCQUEwQixFQUFFLFlBQVk7Q0FDekMsQ0FBQztBQUVGO0lBQThCLDRCQUFZO0lBb0h4QyxrQkFDRSxPQUE4QjtRQUE5QixzQ0FBOEI7UUFEaEMsWUFHRSxpQkFBTyxTQUdSO1FBeEdNLGFBQU8sR0FBa0IsT0FBTyxDQUFDO1FBaUZoQyxnQkFBVSxHQUFnQixJQUFJLENBQUM7UUFxQnJDLEtBQUksQ0FBQyxPQUFPLEdBQUcsYUFBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzlCLEtBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQzs7SUFDaEIsQ0FBQztJQUVNLDBCQUFPLEdBQWQ7UUFDRSxpQkFBTSxPQUFPLFdBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDO1FBQ25DLHdDQUF1QixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQyxPQUFPLEdBQUcsY0FBTyxDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDLEtBQUssR0FBRyxjQUFPLENBQUMsQ0FBQztRQUN0QixJQUFJLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUU7WUFDM0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUNuRDtJQUNILENBQUM7SUFLTSwwQkFBTyxHQUFkO1FBQ0UsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFFTyx5QkFBTSxHQUFkO1FBQUEsaUJBa0VDO1FBakVDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQUMsR0FBRztZQUN2QyxJQUFJLEtBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssSUFBSSxJQUFJLEtBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssU0FBUyxFQUFFO2dCQUNqRSxLQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUMxQztRQUNILENBQUMsQ0FBQyxDQUFDO1FBS0gsSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUUvQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQzlCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFFOUIsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRTtZQUN4QixJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3ZDO1FBRUQsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7UUFDckIsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7UUFDMUIsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQztRQUduQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDO1FBQy9CLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxLQUFLLENBQUM7UUFDL0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDeEIsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7UUFDM0IsSUFBSSxDQUFDLGtCQUFrQixHQUFHLEtBQUssQ0FBQztRQUdoQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNwQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUVoQixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFdkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxxQkFBWSxDQUFDO1FBRTVCLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO1FBR3RCLElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7UUFFOUIsSUFBSSxDQUFDLGtCQUFrQixHQUFHLEtBQUssQ0FBQztRQUVoQyxJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztRQUU1QixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksMkJBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUVsQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLElBQUksSUFBSSxDQUFDO1FBQ3RELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLHFCQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsSUFBSSxJQUFJLENBQUM7UUFDeEQsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksMkJBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUdoRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUkscUJBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuQyxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUN6QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDdkMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLG9CQUFvQixFQUFFLENBQUM7U0FDOUM7SUFDSCxDQUFDO0lBS0Qsc0JBQVcsNEJBQU07YUFBakI7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO1FBQzdCLENBQUM7OztPQUFBO0lBS00sNEJBQVMsR0FBaEI7UUFFRSxPQUFPLENBQUMscUJBQVksR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBS00sd0JBQUssR0FBWjtRQUNFLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNqQixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ3ZCO0lBQ0gsQ0FBQztJQUVELHNCQUFXLCtCQUFTO2FBQXBCO1lBQ0UsT0FBTyxRQUFRLENBQUMsYUFBYSxLQUFLLElBQUksQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3pFLENBQUM7OztPQUFBO0lBTU0sNEJBQVMsR0FBaEIsVUFBaUIsR0FBVztRQUMxQixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksZUFBZSxDQUFDLEVBQUU7WUFDN0IsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQkFBc0IsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7U0FDckQ7UUFFRCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQU9NLDRCQUFTLEdBQWhCLFVBQWlCLEdBQVcsRUFBRSxLQUFVO1FBQ3RDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxlQUFlLENBQUMsRUFBRTtZQUM3QixNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztTQUNyRDtRQUNELElBQUksd0JBQXdCLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFO1lBQ2hELE9BQU8sQ0FBQyxLQUFLLENBQUMsY0FBVyxHQUFHLDBDQUFzQyxDQUFDLENBQUM7U0FDckU7UUFDRCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFO1lBQy9CLE9BQU87U0FDUjtRQUNELFFBQVEsR0FBRyxFQUFFO1lBQ1gsS0FBSyxXQUFXO2dCQUNkLElBQUksQ0FBQyxLQUFLLEVBQUU7b0JBQ1YsS0FBSyxHQUFHLE1BQU0sQ0FBQztpQkFDaEI7Z0JBQ0QsTUFBTTtZQUNSLEtBQUssYUFBYTtnQkFDaEIsSUFBSSxDQUFDLEtBQUssRUFBRTtvQkFDVixLQUFLLEdBQUcsT0FBTyxDQUFDO2lCQUNqQjtnQkFDRCxNQUFNO1lBQ1IsS0FBSyxZQUFZO2dCQUNmLElBQUksQ0FBQyxLQUFLLEVBQUU7b0JBQ1YsS0FBSyxHQUFHLFFBQVEsQ0FBQztpQkFDbEI7Z0JBQ0QsTUFBTTtZQUNSLEtBQUssZ0JBQWdCO2dCQUNuQixJQUFJLENBQUMsS0FBSyxFQUFFO29CQUNWLEtBQUssR0FBRyxNQUFNLENBQUM7aUJBQ2hCO2dCQUNELE1BQU07WUFDUixLQUFLLFlBQVk7Z0JBQ2YsSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFO29CQUNiLE9BQU8sQ0FBQyxJQUFJLENBQUksR0FBRyx1Q0FBa0MsS0FBTyxDQUFDLENBQUM7b0JBQzlELE9BQU87aUJBQ1I7WUFDSCxLQUFLLGNBQWM7Z0JBQ2pCLElBQUksQ0FBQyxLQUFLLEVBQUU7b0JBQ1YsS0FBSyxHQUFHLFFBQVEsQ0FBQztpQkFDbEI7Z0JBQ0QsTUFBTTtZQUNSLEtBQUssY0FBYztnQkFDakIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFO29CQUNiLE9BQU8sQ0FBQyxJQUFJLENBQUksR0FBRyx1Q0FBa0MsS0FBTyxDQUFDLENBQUM7b0JBQzlELE9BQU87aUJBQ1I7Z0JBQ0QsTUFBTTtZQUNSLEtBQUssT0FBTztnQkFHVixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7b0JBQ2pCLElBQUksQ0FBQyxTQUFTLENBQVMsS0FBSyxDQUFDLENBQUM7b0JBQzlCLE9BQU87aUJBQ1I7Z0JBQ0QsTUFBTTtZQUNSLEtBQUssWUFBWTtnQkFDZixLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsd0JBQWUsQ0FBQyxDQUFDO2dCQUV6QyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUU7b0JBQ2IsT0FBTyxDQUFDLElBQUksQ0FBSSxHQUFHLHVDQUFrQyxLQUFPLENBQUMsQ0FBQztvQkFDOUQsT0FBTztpQkFDUjtnQkFDRCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFO29CQUMvQixJQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztvQkFDMUMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsZUFBZSxFQUFFO3dCQUM5QyxJQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsZUFBZSxDQUFDO3dCQUNoRSxJQUFNLFlBQVksR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQzt3QkFDNUQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO3dCQUMxQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQzt3QkFDbEUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0JBQ2xFLElBQUksWUFBWSxFQUFFOzRCQUNoQixJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO3lCQUNoQztxQkFDRjtpQkFDRjtnQkFDRCxNQUFNO1NBQ1Q7UUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUMxQixRQUFRLEdBQUcsRUFBRTtZQUNYLEtBQUssWUFBWSxDQUFDO1lBQ2xCLEtBQUssVUFBVTtnQkFFYixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7b0JBQ2pCLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7b0JBQ3RCLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztpQkFDeEM7Z0JBQ0QsTUFBTTtZQUNSLEtBQUssNEJBQTRCLENBQUM7WUFDbEMsS0FBSyx1QkFBdUIsQ0FBQztZQUM3QixLQUFLLFlBQVksQ0FBQztZQUNsQixLQUFLLGVBQWUsQ0FBQztZQUNyQixLQUFLLFlBQVksQ0FBQztZQUNsQixLQUFLLFlBQVksQ0FBQztZQUNsQixLQUFLLGdCQUFnQjtnQkFFbkIsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO29CQUNqQixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO29CQUN0QixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDN0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztpQkFDaEM7WUFDSCxLQUFLLGNBQWM7Z0JBQ2pCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtvQkFDakIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQy9CLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUM7b0JBQ3hCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO2lCQUN0QjtnQkFDRCxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3RCLElBQUksQ0FBQyxRQUFRLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztnQkFDbEMsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO29CQUNmLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztpQkFDckM7Z0JBQ0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUM1QyxNQUFNO1lBQ1IsS0FBSyxZQUFZO2dCQUNmLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUMxQyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7b0JBQ2pCLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUM7aUJBQ2hDO2dCQUNELE1BQU07WUFDUixLQUFLLGtCQUFrQjtnQkFDckIsSUFBSSxLQUFLLEVBQUU7b0JBQ1QsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRTt3QkFDL0IsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksMkNBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7cUJBQzdEO2lCQUNGO3FCQUFNO29CQUNMLElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFO3dCQUM5QixJQUFJLENBQUMscUJBQXFCLENBQUMsT0FBTyxFQUFFLENBQUM7d0JBQ3JDLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxJQUFJLENBQUM7cUJBQ25DO2lCQUNGO2dCQUNELE1BQU07WUFDUixLQUFLLGNBQWM7Z0JBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsQ0FBQztnQkFBQyxNQUFNO1lBQ3pELEtBQUssNEJBQTRCO2dCQUMvQixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDaEQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQzdDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO2dCQUN2QixNQUFNO1NBQ1Q7UUFFRCxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDakIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1NBQ2xDO0lBQ0gsQ0FBQztJQUtPLG1DQUFnQixHQUF4QixVQUF5QixFQUFpQjtRQUN4QyxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDbEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxvQkFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQztTQUM3QjtRQUNELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDckIsQ0FBQztJQU1NLHVCQUFJLEdBQVg7UUFDRSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDOUIsQ0FBQztJQUtPLGtDQUFlLEdBQXZCO1FBR0UsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQyxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDbEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxvQkFBRSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQztTQUM3QjtRQUNELElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3BCLENBQUM7SUFLTyw4QkFBVyxHQUFuQjtRQUFBLGlCQTBDQztRQXpDQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFHakIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxvQ0FBd0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxVQUFDLEtBQXFCO1lBR2pGLElBQUksQ0FBQyxLQUFJLENBQUMsWUFBWSxFQUFFLEVBQUU7Z0JBQ3hCLE9BQU87YUFDUjtZQUNELHVCQUFXLENBQUMsS0FBSyxFQUFFLEtBQUksRUFBRSxLQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUNsRCxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ0osSUFBTSxtQkFBbUIsR0FBRyxVQUFDLEtBQXFCLElBQUssK0JBQVksQ0FBQyxLQUFLLEVBQUUsS0FBSSxDQUFDLEVBQXpCLENBQXlCLENBQUM7UUFDakYsSUFBSSxDQUFDLFFBQVEsQ0FBQyxvQ0FBd0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7UUFDckYsSUFBSSxDQUFDLFFBQVEsQ0FBQyxvQ0FBd0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7UUFHcEYsSUFBSSxPQUFPLENBQUMsU0FBUyxFQUFFO1lBRXJCLElBQUksQ0FBQyxRQUFRLENBQUMsb0NBQXdCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxXQUFXLEVBQUUsVUFBQyxLQUFpQjtnQkFDbEYsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtvQkFDdEIsNkJBQWlCLENBQUMsS0FBSyxFQUFFLEtBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSSxDQUFDLGdCQUFnQixFQUFFLEtBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQztpQkFDcEc7WUFDSCxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ0w7YUFBTTtZQUNMLElBQUksQ0FBQyxRQUFRLENBQUMsb0NBQXdCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxhQUFhLEVBQUUsVUFBQyxLQUFpQjtnQkFDcEYsNkJBQWlCLENBQUMsS0FBSyxFQUFFLEtBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSSxDQUFDLGdCQUFnQixFQUFFLEtBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUNyRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ0w7UUFLRCxJQUFJLE9BQU8sQ0FBQyxPQUFPLEVBQUU7WUFHbkIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxvQ0FBd0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxVQUFDLEtBQWlCO2dCQUNqRixJQUFJLEtBQUssQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO29CQUN0Qix3Q0FBNEIsQ0FBQyxLQUFLLEVBQUUsS0FBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2lCQUNwRDtZQUNILENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDTDtJQUNILENBQUM7SUFLTyw0QkFBUyxHQUFqQjtRQUFBLGlCQStCQztRQTlCQyxJQUFNLElBQUksR0FBRyxJQUFJLENBQUM7UUFDbEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxvQ0FBd0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQWlCO1lBQ3pGLElBQUksUUFBUSxDQUFDLGFBQWEsS0FBSyxJQUFJLEVBQUU7Z0JBQ25DLE9BQU87YUFDUjtZQUNELElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDcEIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFFVixJQUFJLENBQUMsUUFBUSxDQUFDLG9DQUF3QixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBaUI7WUFDMUYsSUFBSSxRQUFRLENBQUMsYUFBYSxLQUFLLElBQUksRUFBRTtnQkFDbkMsT0FBTzthQUNSO1lBQ0QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNyQixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUVWLElBQUksQ0FBQyxRQUFRLENBQUMsb0NBQXdCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsVUFBQyxFQUFpQjtZQUM5RSxJQUFJLENBQUMsdUJBQXVCLENBQUMsRUFBRSxDQUFDLEVBQUU7Z0JBQ2hDLEtBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUNkO1lBRUQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNsQixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUVWLElBQUksQ0FBQyxRQUFRLENBQUMsb0NBQXdCLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxTQUFTLEVBQUUsVUFBQyxFQUFpQixJQUFLLFlBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLEVBQWpCLENBQWlCLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNsSCxJQUFJLENBQUMsUUFBUSxDQUFDLG9DQUF3QixDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsVUFBVSxFQUFFLFVBQUMsRUFBaUIsSUFBSyxZQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxFQUFsQixDQUFrQixFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDcEgsSUFBSSxDQUFDLFFBQVEsQ0FBQyxvQ0FBd0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLGtCQUFrQixFQUFFLGNBQU0sWUFBSSxDQUFDLGtCQUFrQixDQUFDLGdCQUFnQixFQUFFLEVBQTFDLENBQTBDLENBQUMsQ0FBQyxDQUFDO1FBQzdILElBQUksQ0FBQyxRQUFRLENBQUMsb0NBQXdCLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxtQkFBbUIsRUFBRSxVQUFDLENBQW1CLElBQUssWUFBSSxDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxFQUE1QyxDQUE0QyxDQUFDLENBQUMsQ0FBQztRQUNuSixJQUFJLENBQUMsUUFBUSxDQUFDLG9DQUF3QixDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsZ0JBQWdCLEVBQUUsY0FBTSxZQUFJLENBQUMsa0JBQWtCLENBQUMsY0FBYyxFQUFFLEVBQXhDLENBQXdDLENBQUMsQ0FBQyxDQUFDO1FBQ3pILElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFNBQVMsRUFBRSxjQUFNLFlBQUksQ0FBQyxrQkFBa0IsQ0FBQyx5QkFBeUIsRUFBRSxFQUFuRCxDQUFtRCxDQUFDLENBQUMsQ0FBQztRQUNoSCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxTQUFTLEVBQUUsVUFBQyxJQUFJLElBQUssWUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUE5QyxDQUE4QyxDQUFDLENBQUMsQ0FBQztJQUNqSCxDQUFDO0lBT00sdUJBQUksR0FBWCxVQUFZLE1BQW1CO1FBQS9CLGlCQThIQztRQTdIQyxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDO1FBRXRDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2pCLE1BQU0sSUFBSSxLQUFLLENBQUMscUNBQXFDLENBQUMsQ0FBQztTQUN4RDtRQUdELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDO1FBQ3ZELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUM7UUFFNUMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksbUNBQWdCLEVBQUUsQ0FBQztRQUNoRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUFDLGNBQU0sWUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQS9DLENBQStDLENBQUMsQ0FBQztRQUMxRixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBR3RDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUl2QyxJQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztRQUNuRCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN0RCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3RELFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDNUMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUM1RCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBRTVELElBQUksQ0FBQyxhQUFhLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLENBQUM7UUFHakQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDdEQsUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFFekMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksbUNBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxRQUFRLEVBQUUsY0FBTSxZQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLEVBQWpDLENBQWlDLENBQUMsQ0FBQyxDQUFDO1FBQzdGLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBRW5ELElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsdUJBQXVCLENBQUMsQ0FBQztRQUVyRCxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzlELElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLGdCQUFnQixFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3RELElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNqRCxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNwRCxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDbEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxRQUFRLENBQUMsb0NBQXdCLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUUsVUFBQyxFQUFpQixJQUFLLFlBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsRUFBekIsQ0FBeUIsQ0FBQyxDQUFDLENBQUM7UUFDbEgsSUFBSSxDQUFDLFFBQVEsQ0FBQyxvQ0FBd0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLE1BQU0sRUFBRSxjQUFNLFlBQUksQ0FBQyxlQUFlLEVBQUUsRUFBdEIsQ0FBc0IsQ0FBQyxDQUFDLENBQUM7UUFDN0YsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFakQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUN4RCxJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxxQ0FBaUIsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM1RixJQUFJLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBRXpELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSx5QkFBVyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUdwRSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUVuQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQztRQUNqQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDMUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLG1CQUFRLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3RHLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2hFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRTdCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFlBQVksRUFBRSxjQUFNLFlBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLEVBQTVCLENBQTRCLENBQUMsQ0FBQyxDQUFDO1FBQzVGLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsRUFBRSxjQUFNLFlBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSSxDQUFDLElBQUksQ0FBQyxFQUE1QyxDQUE0QyxDQUFDLENBQUMsQ0FBQztRQUN4RyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLEVBQUUsY0FBTSxZQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxFQUF0QixDQUFzQixDQUFDLENBQUMsQ0FBQztRQUNoRixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxPQUFPLEVBQUUsY0FBTSxZQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxFQUF2QixDQUF1QixDQUFDLENBQUMsQ0FBQztRQUNsRixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxXQUFXLEVBQUUsY0FBTSxZQUFJLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsRUFBckQsQ0FBcUQsQ0FBQyxDQUFDLENBQUM7UUFHcEgsSUFBSSxDQUFDLFFBQVEsQ0FBQyxvQ0FBd0IsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLGNBQU0sWUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQXJELENBQXFELENBQUMsQ0FBQyxDQUFDO1FBQ3ZILElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxxQkFBcUIsQ0FBQyxpQkFBaUIsRUFBRSxjQUFNLFlBQUksQ0FBQyxRQUFRLENBQUMsaUJBQWlCLEVBQUUsRUFBakMsQ0FBaUMsQ0FBQyxDQUFDLENBQUM7UUFDbEgsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsRUFBRSxVQUFDLFVBQVUsSUFBSyxZQUFJLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxFQUE5QixDQUE4QixDQUFDLENBQUMsQ0FBQztRQUU3RyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxtQ0FBZ0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxRQUFRLENBQUMsb0NBQXdCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxXQUFXLEVBQUUsVUFBQyxDQUFhLElBQUssWUFBSSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBcEMsQ0FBb0MsQ0FBQyxDQUFDLENBQUM7UUFDNUgsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsU0FBUyxFQUFFLGNBQUksSUFBSSxZQUFJLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsRUFBN0UsQ0FBNkUsQ0FBQyxDQUFDLENBQUM7UUFDN0osSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsY0FBYyxFQUFFLGNBQUk7WUFJNUUsS0FBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1lBQzNCLEtBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDdEIsS0FBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUN6QixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ0osSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsUUFBUSxFQUFFO1lBQ2pELEtBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDL0IsS0FBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2xDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDSixJQUFJLENBQUMsUUFBUSxDQUFDLG9DQUF3QixDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsY0FBTSxZQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEVBQS9CLENBQStCLENBQUMsQ0FBQyxDQUFDO1FBRWhILElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSx5QkFBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUVsRCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUU7WUFHakMsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksMkNBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDN0Q7UUFHRCxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFHdkMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztRQUcvQixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFJbkIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBRW5CLENBQUM7SUFFTyxpQ0FBYyxHQUF0QjtRQUNFLFFBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUU7WUFDakMsS0FBSyxRQUFRO2dCQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxtQkFBUSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUFDLE1BQU07WUFDN0UsS0FBSyxLQUFLO2dCQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSx5QkFBVyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUFDLE1BQU07WUFDN0UsT0FBTyxDQUFDLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQyxpQ0FBOEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLE9BQUcsQ0FBQyxDQUFDO1NBQ3RGO1FBQ0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQU1PLDRCQUFTLEdBQWpCLFVBQWtCLEtBQWE7UUFDN0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDN0MsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2pCLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3RDO0lBQ0gsQ0FBQztJQVlNLDRCQUFTLEdBQWhCO1FBQUEsaUJBZ1ZDO1FBL1VDLElBQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDeEIsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUtqQixTQUFTLFVBQVUsQ0FBQyxFQUEyQjtZQUM3QyxJQUFJLE1BQU0sQ0FBQztZQUNYLElBQUksR0FBRyxDQUFDO1lBR1IsTUFBTSxHQUFHLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUd2QixHQUFHLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3hHLElBQUksQ0FBQyxHQUFHO2dCQUFFLE9BQU87WUFFakIsU0FBUyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztZQUV2QixRQUFjLEVBQUcsQ0FBQyxZQUFZLElBQUksRUFBRSxDQUFDLElBQUksRUFBRTtnQkFDekMsS0FBSyxXQUFXO29CQUNkLE9BQU8sR0FBRyxNQUFNLENBQUM7b0JBQ2pCLE1BQU07Z0JBQ1IsS0FBSyxTQUFTO29CQUdaLE9BQU8sR0FBRyxFQUFFLENBQUM7b0JBQ2IsTUFBTTtnQkFDUixLQUFLLE9BQU87b0JBSVYsTUFBTTthQUNUO1FBQ0gsQ0FBQztRQUlELFNBQVMsUUFBUSxDQUFDLEVBQWM7WUFDOUIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDO1lBQ3JCLElBQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5RyxJQUFJLENBQUMsR0FBRztnQkFBRSxPQUFPO1lBSWpCLE1BQU0sSUFBSSxFQUFFLENBQUM7WUFFYixTQUFTLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3pCLENBQUM7UUFJRCxTQUFTLE1BQU0sQ0FBQyxJQUFjLEVBQUUsRUFBVTtZQUN4QyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDbEIsSUFBSSxFQUFFLEtBQUssR0FBRyxFQUFFO29CQUNkLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ2IsT0FBTztpQkFDUjtnQkFDRCxJQUFJLEVBQUUsR0FBRyxHQUFHO29CQUFFLEVBQUUsR0FBRyxHQUFHLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7YUFDZjtpQkFBTTtnQkFDTCxJQUFJLEVBQUUsS0FBSyxJQUFJLEVBQUU7b0JBQ2YsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDYixPQUFPO2lCQUNSO2dCQUNELElBQUksRUFBRSxHQUFHLEdBQUcsRUFBRTtvQkFDWixJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2lCQUNmO3FCQUFNO29CQUNMLElBQUksRUFBRSxHQUFHLElBQUk7d0JBQUUsRUFBRSxHQUFHLElBQUksQ0FBQztvQkFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDNUIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztpQkFDL0I7YUFDRjtRQUNILENBQUM7UUFRRCxTQUFTLFNBQVMsQ0FBQyxNQUFjLEVBQUUsR0FBMkI7WUFPNUQsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUdwQixNQUFNLElBQUksQ0FBQyxDQUFDO2dCQUNaLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNaLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNaLElBQUksTUFBSSxHQUFHLG9CQUFFLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQztnQkFDMUIsSUFBSSxNQUFNLEtBQUssQ0FBQztvQkFBRSxNQUFJLElBQUksR0FBRyxDQUFDO3FCQUN6QixJQUFJLE1BQU0sS0FBSyxDQUFDO29CQUFFLE1BQUksSUFBSSxHQUFHLENBQUM7cUJBQzlCLElBQUksTUFBTSxLQUFLLENBQUM7b0JBQUUsTUFBSSxJQUFJLEdBQUcsQ0FBQztxQkFDOUIsSUFBSSxNQUFNLEtBQUssQ0FBQztvQkFBRSxPQUFPOztvQkFDekIsTUFBSSxJQUFJLEdBQUcsQ0FBQztnQkFDakIsTUFBSSxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQztnQkFDM0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFJLENBQUMsQ0FBQztnQkFDbkIsT0FBTzthQUNSO1lBRUQsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO2dCQUVwQixNQUFNLElBQUksQ0FBQyxDQUFDO2dCQUNaLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNaLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNaLElBQUksTUFBTSxLQUFLLENBQUM7b0JBQUUsTUFBTSxHQUFHLENBQUMsQ0FBQztxQkFDeEIsSUFBSSxNQUFNLEtBQUssQ0FBQztvQkFBRSxNQUFNLEdBQUcsQ0FBQyxDQUFDO3FCQUM3QixJQUFJLE1BQU0sS0FBSyxDQUFDO29CQUFFLE1BQU0sR0FBRyxDQUFDLENBQUM7cUJBQzdCLElBQUksTUFBTSxLQUFLLENBQUM7b0JBQUUsTUFBTSxHQUFHLENBQUMsQ0FBQztnQkFDbEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxvQkFBRSxDQUFDLEdBQUcsR0FBRyxHQUFHO3NCQUNiLE1BQU07c0JBQ04sR0FBRztzQkFDSCxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO3NCQUN0QixHQUFHO3NCQUNILEdBQUcsQ0FBQyxDQUFDO3NCQUNMLEdBQUc7c0JBQ0gsR0FBRyxDQUFDLENBQUM7c0JBQ0wsR0FBRztzQkFFRyxHQUFJLENBQUMsSUFBSSxJQUFJLENBQUM7c0JBQ3BCLElBQUksQ0FBQyxDQUFDO2dCQUNsQixPQUFPO2FBQ1I7WUFFRCxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQ25CLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNaLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNaLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQkFDUixHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQ1IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxvQkFBRSxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO2dCQUN0RSxPQUFPO2FBQ1I7WUFFRCxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ2pCLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNaLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNaLElBQUksQ0FBQyxPQUFPLENBQUMsb0JBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSTtzQkFDZCxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQztzQkFDbEQsR0FBRztzQkFDSCxHQUFHLENBQUMsQ0FBQztzQkFDTCxHQUFHO3NCQUNILEdBQUcsQ0FBQyxDQUFDO3NCQUNMLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQzlDLE9BQU87YUFDUjtZQUVELElBQU0sSUFBSSxHQUFhLEVBQUUsQ0FBQztZQUUxQixNQUFNLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQ3JCLE1BQU0sQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLE1BQU0sQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXBCLElBQUksQ0FBQyxPQUFPLENBQUMsb0JBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBSSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3hFLENBQUM7UUFFRCxTQUFTLFNBQVMsQ0FBQyxFQUFjO1lBQy9CLElBQUksTUFBTSxDQUFDO1lBQ1gsSUFBSSxLQUFLLENBQUM7WUFDVixJQUFJLElBQUksQ0FBQztZQUNULElBQUksSUFBSSxDQUFDO1lBQ1QsSUFBSSxHQUFHLENBQUM7WUFTUixRQUFjLEVBQUcsQ0FBQyxZQUFZLElBQUksRUFBRSxDQUFDLElBQUksRUFBRTtnQkFDekMsS0FBSyxXQUFXO29CQUNkLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBTSxLQUFLLElBQUksSUFBSSxFQUFFLENBQUMsTUFBTSxLQUFLLFNBQVM7d0JBQ3BELENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNO3dCQUNkLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLFNBQVM7NEJBQzNDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxHQUFHLENBQUM7NEJBQ2hCLENBQUMsQ0FBQyxJQUFJLENBQUM7b0JBRVAsSUFBSSxPQUFPLENBQUMsTUFBTSxFQUFFO3dCQUNsQixNQUFNLEdBQUcsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztxQkFDdkQ7b0JBQ0QsTUFBTTtnQkFDUixLQUFLLFNBQVM7b0JBQ1osTUFBTSxHQUFHLENBQUMsQ0FBQztvQkFDWCxNQUFNO2dCQUNSLEtBQUssZ0JBQWdCO29CQUNuQixNQUFNLEdBQUcsRUFBRSxDQUFDLE1BQU0sR0FBRyxDQUFDO3dCQUNwQixDQUFDLENBQUMsRUFBRTt3QkFDTixDQUFDLENBQUMsRUFBRSxDQUFDO29CQUNMLE1BQU07Z0JBQ1IsS0FBSyxPQUFPO29CQUNWLE1BQU0sR0FBZ0IsRUFBRyxDQUFDLE1BQU0sR0FBRyxDQUFDO3dCQUNsQyxDQUFDLENBQUMsRUFBRTt3QkFDTixDQUFDLENBQUMsRUFBRSxDQUFDO29CQUNMLE1BQU07YUFDVDtZQUlELEtBQUssR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1QixJQUFJLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsSUFBSSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzNCLEdBQUcsR0FBRyxLQUFLLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQztZQUcxQixJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBRW5CLEdBQUcsSUFBSSxJQUFJLENBQUM7YUFDYjtpQkFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRTtnQkFDNUIsR0FBRyxHQUFHLENBQUMsQ0FBQzthQUNUO1lBR0QsTUFBTSxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBRXBDLE9BQU8sTUFBTSxDQUFDO1FBQ2hCLENBQUM7UUFFRCxJQUFJLENBQUMsUUFBUSxDQUFDLG9DQUF3QixDQUFDLEVBQUUsRUFBRSxXQUFXLEVBQUUsVUFBQyxFQUFjO1lBSXJFLEVBQUUsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNwQixLQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFLYixJQUFJLENBQUMsS0FBSSxDQUFDLFdBQVcsSUFBSSxLQUFJLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsRUFBRSxDQUFDLEVBQUU7Z0JBQ3ZFLE9BQU87YUFDUjtZQUdELFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUlmLElBQUksS0FBSSxDQUFDLFVBQVUsRUFBRTtnQkFDYixFQUFHLENBQUMsWUFBWSxHQUFHLFNBQVMsQ0FBQztnQkFDbkMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dCQUNmLE9BQU8sS0FBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQzthQUN4QjtZQUtELElBQUksV0FBd0MsQ0FBQztZQUM3QyxJQUFJLEtBQUksQ0FBQyxXQUFXLEVBQUU7Z0JBQ3BCLFdBQVcsR0FBRyxVQUFDLEtBQWlCO29CQUc5QixJQUFJLENBQUMsS0FBSSxDQUFDLFdBQVcsRUFBRTt3QkFDckIsT0FBTztxQkFDUjtvQkFDRCxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ2xCLENBQUMsQ0FBQztnQkFHRixLQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxXQUFXLENBQUMsQ0FBQzthQUMzRDtZQUdELElBQU0sT0FBTyxHQUFHLFVBQUMsRUFBYztnQkFDN0IsSUFBSSxLQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsS0FBSSxDQUFDLFFBQVEsRUFBRTtvQkFDdEMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2lCQUNoQjtnQkFDRCxJQUFJLFdBQVcsRUFBRTtvQkFHZixLQUFJLENBQUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLFdBQVcsRUFBRSxXQUFXLENBQUMsQ0FBQztvQkFDN0QsV0FBVyxHQUFHLElBQUksQ0FBQztpQkFDcEI7Z0JBQ0QsS0FBSSxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ3ZELE9BQU8sS0FBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN6QixDQUFDLENBQUM7WUFDRixLQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztZQUVwRCxPQUFPLEtBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDekIsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQU1KLElBQUksQ0FBQyxRQUFRLENBQUMsb0NBQXdCLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRSxVQUFDLEVBQWM7WUFDakUsSUFBSSxDQUFDLEtBQUksQ0FBQyxXQUFXLEVBQUU7Z0JBR3JCLElBQUksQ0FBQyxLQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRTtvQkFDOUIsSUFBTSxNQUFNLEdBQUcsS0FBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztvQkFHbEQsSUFBSSxNQUFNLEtBQUssQ0FBQyxFQUFFO3dCQUNoQixPQUFPO3FCQUNSO29CQUdELElBQU0sUUFBUSxHQUFHLG9CQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsS0FBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsRUFBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQzlGLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztvQkFDZCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTt3QkFDekMsSUFBSSxJQUFJLFFBQVEsQ0FBQztxQkFDbEI7b0JBQ0QsS0FBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDcEI7Z0JBQ0QsT0FBTzthQUNSO1lBQ0QsSUFBSSxLQUFJLENBQUMsUUFBUSxJQUFJLEtBQUksQ0FBQyxXQUFXLElBQUksS0FBSSxDQUFDLFdBQVc7Z0JBQUUsT0FBTztZQUNsRSxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDZixFQUFFLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdEIsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUlKLElBQUksQ0FBQyxRQUFRLENBQUMsb0NBQXdCLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRSxVQUFDLEVBQWM7WUFDakUsSUFBSSxLQUFJLENBQUMsV0FBVztnQkFBRSxPQUFPO1lBQzdCLEtBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzFCLE9BQU8sS0FBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN6QixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRUosSUFBSSxDQUFDLFFBQVEsQ0FBQyxvQ0FBd0IsQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFFLFVBQUMsRUFBYztZQUN0RSxJQUFJLEtBQUksQ0FBQyxXQUFXO2dCQUFFLE9BQU87WUFDN0IsS0FBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDL0IsT0FBTyxLQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3pCLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFSixJQUFJLENBQUMsUUFBUSxDQUFDLG9DQUF3QixDQUFDLEVBQUUsRUFBRSxXQUFXLEVBQUUsVUFBQyxFQUFjO1lBQ3JFLElBQUksS0FBSSxDQUFDLFdBQVc7Z0JBQUUsT0FBTztZQUM3QixLQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUM5QixPQUFPLEtBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDekIsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNOLENBQUM7SUFRTSwwQkFBTyxHQUFkLFVBQWUsS0FBYSxFQUFFLEdBQVc7UUFDdkMsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2pCLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztTQUN2QztJQUNILENBQUM7SUFPTyxzQ0FBbUIsR0FBM0IsVUFBNEIsS0FBYSxFQUFFLEdBQVc7UUFDcEQsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2xCLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztTQUN4QztJQUNILENBQUM7SUFLTSxvQ0FBaUIsR0FBeEIsVUFBeUIsRUFBaUI7UUFDeEMsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLGtCQUFrQixDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQ3pFLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQztTQUM3QzthQUFNO1lBQ0wsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1NBQ2hEO0lBQ0gsQ0FBQztJQUtNLDZCQUFVLEdBQWpCO1FBQ0UsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDckIsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7WUFDckIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzVDO0lBQ0gsQ0FBQztJQU1NLHlCQUFNLEdBQWIsVUFBYyxTQUEwQjtRQUExQiw2Q0FBMEI7UUFDdEMsSUFBSSxPQUFvQixDQUFDO1FBQ3pCLElBQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsMEJBQTBCLEtBQUssU0FBUyxDQUFDO1FBQzNFLElBQUksWUFBWSxFQUFFO1lBQ2hCLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1lBQzFCLElBQUksQ0FBQyxPQUFPLElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsNkJBQW9CLENBQUMsS0FBSyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUU7Z0JBQ3pHLE9BQU8sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7Z0JBQ2hFLElBQUksQ0FBQyxVQUFVLEdBQUcsT0FBTyxDQUFDO2FBQzNCO1lBQ0QsT0FBTyxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7U0FDL0I7YUFBTTtZQUNMLE9BQU8sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7U0FDakU7UUFFRCxJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUN6RCxJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQztRQUUvRCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxLQUFLLENBQUMsRUFBRTtZQUUvQixJQUFNLG1CQUFtQixHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztZQUdyRCxJQUFJLFNBQVMsS0FBSyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2dCQUM5QyxJQUFJLFlBQVksRUFBRTtvQkFDaEIsSUFBSSxtQkFBbUIsRUFBRTt3QkFDdkIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO3FCQUMvQzt5QkFBTTt3QkFDTCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7cUJBQ3pDO2lCQUNGO3FCQUFNO29CQUNMLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztpQkFDakM7YUFDRjtpQkFBTTtnQkFDTCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsU0FBUyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUN4RjtZQUdELElBQUksQ0FBQyxtQkFBbUIsRUFBRTtnQkFDeEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztnQkFFcEIsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUU7b0JBQ3hCLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7aUJBQ3JCO2FBQ0Y7aUJBQU07Z0JBR0wsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO29CQUN2QixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztpQkFDeEQ7YUFDRjtTQUNGO2FBQU07WUFHTCxJQUFNLGtCQUFrQixHQUFHLFNBQVMsR0FBRyxNQUFNLEdBQUcsQ0FBQyxDQUF1QjtZQUN4RSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxrQkFBa0IsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4RSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDOUU7UUFJRCxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUN4QixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztTQUN2QztRQUdELElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7UUFRM0MsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBU00sOEJBQVcsR0FBbEIsVUFBbUIsSUFBWSxFQUFFLG1CQUE2QjtRQUM1RCxJQUFJLElBQUksR0FBRyxDQUFDLEVBQUU7WUFDWixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxLQUFLLENBQUMsRUFBRTtnQkFDM0IsT0FBTzthQUNSO1lBQ0QsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7U0FDNUI7YUFBTSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRTtZQUN4RCxJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztTQUM3QjtRQUVELElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQ25DLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUd2RixJQUFJLFFBQVEsS0FBSyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRTtZQUNsQyxPQUFPO1NBQ1I7UUFFRCxJQUFJLENBQUMsbUJBQW1CLEVBQUU7WUFDeEIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUN4QztRQUVELElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQU1NLDhCQUFXLEdBQWxCLFVBQW1CLFNBQWlCO1FBQ2xDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFLTSw4QkFBVyxHQUFsQjtRQUNFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFLTSxpQ0FBYyxHQUFyQjtRQUNFLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBRU0sK0JBQVksR0FBbkIsVUFBb0IsSUFBWTtRQUM5QixJQUFNLFlBQVksR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDOUMsSUFBSSxZQUFZLEtBQUssQ0FBQyxFQUFFO1lBQ3RCLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDaEM7SUFDSCxDQUFDO0lBTU0sd0JBQUssR0FBWixVQUFhLElBQVk7UUFBekIsaUJBK0JDO1FBN0JDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNwQixPQUFPO1NBQ1I7UUFHRCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1QsT0FBTztTQUNSO1FBRUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFLNUIsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sSUFBSSw0QkFBNEIsRUFBRTtZQUd0SCxJQUFJLENBQUMsT0FBTyxDQUFDLG9CQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDckIsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQztTQUNoQztRQUVELElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBRXpELElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7WUFFN0IsVUFBVSxDQUFDO2dCQUNULEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNyQixDQUFDLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQztJQUVTLDhCQUFXLEdBQXJCO1FBQUEsaUJBcUNDO1FBbkNDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNwQixJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQztTQUN2QjtRQUVELElBQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ2hFLE9BQU8sVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDNUIsSUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBSWhDLElBQUksSUFBSSxDQUFDLGtCQUFrQixJQUFJLFVBQVUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtnQkFDdkYsSUFBSSxDQUFDLE9BQU8sQ0FBQyxvQkFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNyQixJQUFJLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxDQUFDO2FBQ2pDO1lBRUQsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNuQyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBUWpDLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBRS9CLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNoQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ3BEO1FBQ0QsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFFL0IsVUFBVSxDQUFDLGNBQU0sWUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFsQixDQUFrQixFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3pDO2FBQU07WUFDTCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO1NBQy9CO0lBQ0gsQ0FBQztJQU1NLDBCQUFPLEdBQWQsVUFBZSxJQUFZO1FBQ3pCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFXTSw4Q0FBMkIsR0FBbEMsVUFBbUMscUJBQTRDO1FBQzdFLElBQUksQ0FBQyxzQkFBc0IsR0FBRyxxQkFBcUIsQ0FBQztJQUN0RCxDQUFDO0lBWU0sc0NBQW1CLEdBQTFCLFVBQTJCLEtBQWEsRUFBRSxPQUEyQixFQUFFLE9BQTZCO1FBQ2xHLElBQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUM5RSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQy9CLE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7SUFNTSx3Q0FBcUIsR0FBNUIsVUFBNkIsU0FBaUI7UUFDNUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQ25ELElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDaEM7SUFDSCxDQUFDO0lBRU0sMENBQXVCLEdBQTlCLFVBQStCLE9BQStCO1FBQzVELElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsdUJBQXVCLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDaEUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMvQixPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDO0lBRU0sNENBQXlCLEdBQWhDLFVBQWlDLFFBQWdCO1FBQy9DLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyx5QkFBeUIsQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUNyRCxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ2hDO0lBQ0gsQ0FBQztJQUVELHNCQUFXLDZCQUFPO2FBQWxCO1lBQ0UsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQztRQUM3QixDQUFDOzs7T0FBQTtJQUVNLDRCQUFTLEdBQWhCLFVBQWlCLGFBQXFCO1FBRXBDLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRTtZQUN2QyxPQUFPO1NBQ1I7UUFFRCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxDQUFDO0lBQ2xGLENBQUM7SUFLTSwrQkFBWSxHQUFuQjtRQUNFLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDNUUsQ0FBQztJQU1NLCtCQUFZLEdBQW5CO1FBQ0UsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUMxRSxDQUFDO0lBS00saUNBQWMsR0FBckI7UUFDRSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUN6QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxFQUFFLENBQUM7U0FDeEM7SUFDSCxDQUFDO0lBS00sNEJBQVMsR0FBaEI7UUFDRSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtZQUN6QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDbkM7SUFDSCxDQUFDO0lBRU0sOEJBQVcsR0FBbEIsVUFBbUIsS0FBYSxFQUFFLEdBQVc7UUFDM0MsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDekIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDL0M7SUFDSCxDQUFDO0lBUVMsMkJBQVEsR0FBbEIsVUFBbUIsS0FBb0I7UUFDckMsSUFBSSxJQUFJLENBQUMsc0JBQXNCLElBQUksSUFBSSxDQUFDLHNCQUFzQixDQUFDLEtBQUssQ0FBQyxLQUFLLEtBQUssRUFBRTtZQUMvRSxPQUFPLEtBQUssQ0FBQztTQUNkO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDM0MsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRTtnQkFDM0MsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO2FBQ3ZCO1lBQ0QsT0FBTyxLQUFLLENBQUM7U0FDZDtRQUVELElBQU0sTUFBTSxHQUFHLGdDQUFxQixDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUV0SCxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFROUIsSUFBSSxNQUFNLENBQUMsSUFBSSxNQUFpQyxJQUFJLE1BQU0sQ0FBQyxJQUFJLE1BQStCLEVBQUU7WUFDOUYsSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7WUFDbEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsSUFBSSxNQUErQixDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDMUYsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNqQztRQUVELElBQUksTUFBTSxDQUFDLElBQUksTUFBa0MsRUFBRTtZQUNqRCxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDbEI7UUFFRCxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxFQUFFO1lBQ2hELE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFFRCxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUU7WUFFakIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDMUI7UUFFRCxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtZQUNmLE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNsQixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUV6QixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFTyxxQ0FBa0IsR0FBMUIsVUFBMkIsT0FBaUIsRUFBRSxFQUFrQjtRQUM5RCxJQUFNLGFBQWEsR0FDZixDQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsSUFBSSxFQUFFLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUM7WUFDM0YsQ0FBQyxPQUFPLENBQUMsV0FBVyxJQUFJLEVBQUUsQ0FBQyxNQUFNLElBQUksRUFBRSxDQUFDLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUVwRSxJQUFJLEVBQUUsQ0FBQyxJQUFJLEtBQUssVUFBVSxFQUFFO1lBQzFCLE9BQU8sYUFBYSxDQUFDO1NBQ3RCO1FBR0QsT0FBTyxhQUFhLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBTU0sNEJBQVMsR0FBaEIsVUFBaUIsQ0FBUztRQUN4QixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUNoQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQU9NLDhCQUFXLEdBQWxCLFVBQW1CLENBQVMsRUFBRSxPQUFpQjtRQUM3QyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQztRQUMzQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3JCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1NBQ3hCO0lBQ0gsQ0FBQztJQUVTLHlCQUFNLEdBQWhCLFVBQWlCLEVBQWlCO1FBQ2hDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBUVMsNEJBQVMsR0FBbkIsVUFBb0IsRUFBaUI7UUFDbkMsSUFBSSxHQUFHLENBQUM7UUFFUixJQUFJLElBQUksQ0FBQyxzQkFBc0IsSUFBSSxJQUFJLENBQUMsc0JBQXNCLENBQUMsRUFBRSxDQUFDLEtBQUssS0FBSyxFQUFFO1lBQzVFLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFFRCxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRWhCLElBQUksRUFBRSxDQUFDLFFBQVEsRUFBRTtZQUNmLEdBQUcsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDO1NBQ25CO2FBQU0sSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLElBQUksSUFBSSxFQUFFLENBQUMsS0FBSyxLQUFLLFNBQVMsRUFBRTtZQUN0RCxHQUFHLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQztTQUNsQjthQUFNLElBQUksRUFBRSxDQUFDLEtBQUssS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLFFBQVEsS0FBSyxDQUFDLEVBQUU7WUFDOUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUM7U0FDaEI7YUFBTTtZQUNMLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFFRCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQ1YsQ0FBQyxFQUFFLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLENBQ3RGLEVBQUU7WUFDRCxPQUFPLEtBQUssQ0FBQztTQUNkO1FBRUQsR0FBRyxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQy9CLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVsQixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFNTSx1QkFBSSxHQUFYO1FBQUEsaUJBYUM7UUFaQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2xCLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRSxFQUFFO1lBQ3JCLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUFFLENBQUM7U0FDbkM7UUFFRCxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFBRTtZQUN0QixJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsQ0FBQztZQUNqRCxZQUFZLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDcEMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUM7Z0JBQ3hDLEtBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1lBQ3RELENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztTQUNUO0lBQ0gsQ0FBQztJQUtNLHNCQUFHLEdBQVYsVUFBVyxJQUFZLEVBQUUsSUFBVTtRQUNqQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLO1lBQUUsT0FBTztRQUNoQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHO1lBQUUsT0FBTztRQUNqRSxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFLTSx3QkFBSyxHQUFaLFVBQWEsSUFBWSxFQUFFLElBQVU7UUFDbkMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSztZQUFFLE9BQU87UUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSztZQUFFLE9BQU87UUFDbkUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBUU0seUJBQU0sR0FBYixVQUFjLENBQVMsRUFBRSxDQUFTO1FBQ2hDLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUN4QixPQUFPO1NBQ1I7UUFFRCxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFO1lBRXRDLElBQUksSUFBSSxDQUFDLFdBQVcsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxFQUFFO2dCQUM3RSxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDeEM7WUFDRCxPQUFPO1NBQ1I7UUFFRCxJQUFJLENBQUMsR0FBRyxDQUFDO1lBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqQixJQUFJLENBQUMsR0FBRyxDQUFDO1lBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVqQixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFMUIsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7UUFDZCxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUV0QyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDcEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3hDO1FBRUQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBQyxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQU1NLDhCQUFXLEdBQWxCLFVBQW1CLENBQVM7UUFDMUIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGFBQWE7WUFBRSxJQUFJLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVztZQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0lBT2pELENBQUM7SUFLTSwyQkFBUSxHQUFmO1FBQ0UsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBS00sd0JBQUssR0FBWjtRQUNFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUVsRCxPQUFPO1NBQ1I7UUFDRCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUM3QixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDdEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNsQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMscUJBQVksQ0FBQyxDQUFDLENBQUM7U0FDaEU7UUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQy9CLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDekMsQ0FBQztJQU1NLHFCQUFFLEdBQVQsVUFBVSxHQUFhO1FBQ3JCLElBQUksR0FBRyxFQUFFO1lBQ1AsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRSx1QkFBYyxFQUFFLHdCQUFlLEVBQUUsdUJBQWMsQ0FBQyxDQUFDO1NBQzVFO1FBQ0QsT0FBTyxDQUFDLHFCQUFZLEVBQUUsdUJBQWMsRUFBRSx3QkFBZSxFQUFFLHVCQUFjLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBTU0scUJBQUUsR0FBVCxVQUFVLElBQVk7UUFDcEIsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUQsQ0FBQztJQU1NLDBCQUFPLEdBQWQsVUFBZSxJQUFZO1FBRXpCLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUU7WUFDN0IsT0FBTztTQUNSO1FBR0QsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksRUFBRTtZQUMvRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxFQUFFLENBQUM7U0FDeEM7UUFHRCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFO1lBQzNDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztTQUN2QjtRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzFCLENBQUM7SUFNTSw4QkFBVyxHQUFsQixVQUFtQixLQUFhO1FBTzlCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFTTSx3QkFBSyxHQUFaO1FBQ0UsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUNoQixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFO1lBQzVDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDaEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1NBQ2Y7UUFFRCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDOUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQztTQUNqQjtJQUNILENBQUM7SUFPTSwrQkFBWSxHQUFuQjtRQUNFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUU7WUFJM0MsSUFBTSxrQkFBa0IsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztZQUM1RSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsa0JBQWtCLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDckcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3hDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUM1QzthQUFNO1lBQ0wsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQztTQUNqQjtJQUNILENBQUM7SUFLTSx3QkFBSyxHQUFaO1FBQ0UsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUM5QixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQzlCLElBQU0scUJBQXFCLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDO1FBQzFELElBQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7UUFDeEMsSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUNyQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDZCxJQUFJLENBQUMsc0JBQXNCLEdBQUcscUJBQXFCLENBQUM7UUFDcEQsSUFBSSxDQUFDLGFBQWEsR0FBRyxZQUFZLENBQUM7UUFDbEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDakIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsQ0FBQztTQUNoQztJQUNILENBQUM7SUFNTSx5QkFBTSxHQUFiO1FBQ0UsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDekMsQ0FBQztJQUdNLHlCQUFNLEdBQWIsVUFBYyxFQUFTLEVBQUUsS0FBZTtRQUN0QyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDeEMsT0FBTztTQUNSO1FBQ0QsRUFBRSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3BCLEVBQUUsQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUNyQixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFHTSw2QkFBVSxHQUFqQixVQUFrQixFQUFVLEVBQUUsRUFBVSxFQUFFLEVBQVU7UUFDbEQsSUFBTSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBRXpDLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQ3pFLE9BQU8sZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzlCO1FBRUQsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDO1FBQ3JCLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ1osSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsSUFBSSxDQUFTLENBQUM7UUFDZCxJQUFJLEVBQVUsQ0FBQztRQUNmLElBQUksRUFBVSxDQUFDO1FBQ2YsSUFBSSxFQUFVLENBQUM7UUFDZixJQUFJLElBQVksQ0FBQztRQUVqQixPQUFPLENBQUMsR0FBRyxrQ0FBbUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDMUMsQ0FBQyxHQUFHLGtDQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNoQyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNkLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxHQUFHLElBQUksQ0FBQztZQUNyQixFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUM7WUFHcEIsSUFBSSxHQUFHLGtCQUFrQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFFbEQsSUFBSSxJQUFJLEtBQUssQ0FBQyxFQUFFO2dCQUNkLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ1AsTUFBTTthQUNQO1lBRUQsSUFBSSxJQUFJLEdBQUcsS0FBSyxFQUFFO2dCQUNoQixLQUFLLEdBQUcsSUFBSSxDQUFDO2dCQUNiLEVBQUUsR0FBRyxDQUFDLENBQUM7YUFDUjtTQUNGO1FBRUQsT0FBTyxlQUFlLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ3BDLENBQUM7SUFFTyw4QkFBVyxHQUFuQjtRQUNFLE9BQU8sS0FBSyxDQUFDO0lBR2YsQ0FBQztJQUVPLDZCQUFVLEdBQWxCO1FBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsS0FBSyxPQUFPLENBQUM7SUFHNUMsQ0FBQztJQUNILGVBQUM7QUFBRCxDQUFDLENBcnlENkIsMkJBQVksR0FxeUR6QztBQXJ5RFksNEJBQVE7QUEyeURyQixTQUFTLHVCQUF1QixDQUFDLEVBQWlCO0lBQ2hELE9BQU8sRUFBRSxDQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ3RCLEVBQUUsQ0FBQyxPQUFPLEtBQUssRUFBRTtRQUNqQixFQUFFLENBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztBQUN0QixDQUFDO0FBU0QsSUFBTSxlQUFlLEdBQXFDLEVBQUUsQ0FBQztBQUc3RCxTQUFTLGtCQUFrQixDQUFDLEVBQVUsRUFBRSxFQUFVLEVBQUUsRUFBVSxFQUFFLEVBQVUsRUFBRSxFQUFVLEVBQUUsRUFBVTtJQUNoRyxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztVQUM5QixJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7VUFDM0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDbEMsQ0FBQyIsImZpbGUiOiIyNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0IFRoZSB4dGVybS5qcyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQ29weXJpZ2h0IChjKSAyMDEyLTIwMTMsIENocmlzdG9waGVyIEplZmZyZXkgKE1JVCBMaWNlbnNlKVxuICogQGxpY2Vuc2UgTUlUXG4gKlxuICogT3JpZ2luYWxseSBmb3JrZWQgZnJvbSAod2l0aCB0aGUgYXV0aG9yJ3MgcGVybWlzc2lvbik6XG4gKiAgIEZhYnJpY2UgQmVsbGFyZCdzIGphdmFzY3JpcHQgdnQxMDAgZm9yIGpzbGludXg6XG4gKiAgIGh0dHA6Ly9iZWxsYXJkLm9yZy9qc2xpbnV4L1xuICogICBDb3B5cmlnaHQgKGMpIDIwMTEgRmFicmljZSBCZWxsYXJkXG4gKiAgIFRoZSBvcmlnaW5hbCBkZXNpZ24gcmVtYWlucy4gVGhlIHRlcm1pbmFsIGl0c2VsZlxuICogICBoYXMgYmVlbiBleHRlbmRlZCB0byBpbmNsdWRlIHh0ZXJtIENTSSBjb2RlcywgYW1vbmdcbiAqICAgb3RoZXIgZmVhdHVyZXMuXG4gKlxuICogVGVybWluYWwgRW11bGF0aW9uIFJlZmVyZW5jZXM6XG4gKiAgIGh0dHA6Ly92dDEwMC5uZXQvXG4gKiAgIGh0dHA6Ly9pbnZpc2libGUtaXNsYW5kLm5ldC94dGVybS9jdGxzZXFzL2N0bHNlcXMudHh0XG4gKiAgIGh0dHA6Ly9pbnZpc2libGUtaXNsYW5kLm5ldC94dGVybS9jdGxzZXFzL2N0bHNlcXMuaHRtbFxuICogICBodHRwOi8vaW52aXNpYmxlLWlzbGFuZC5uZXQvdnR0ZXN0L1xuICogICBodHRwOi8vd3d3Lmlud2FwLmNvbS9wZHAxMC9hbnNpY29kZS50eHRcbiAqICAgaHR0cDovL2xpbnV4LmRpZS5uZXQvbWFuLzQvY29uc29sZV9jb2Rlc1xuICogICBodHRwOi8vbGludXguZGllLm5ldC9tYW4vNy91cnh2dFxuICovXG5cbmltcG9ydCB7IElJbnB1dEhhbmRsaW5nVGVybWluYWwsIElWaWV3cG9ydCwgSUNvbXBvc2l0aW9uSGVscGVyLCBJVGVybWluYWxPcHRpb25zLCBJVGVybWluYWwsIElCcm93c2VyLCBJTGlua2lmaWVyLCBJTGlua01hdGNoZXJPcHRpb25zLCBDdXN0b21LZXlFdmVudEhhbmRsZXIsIExpbmtNYXRjaGVySGFuZGxlciwgQ2hhckRhdGEsIENoYXJhY3RlckpvaW5lckhhbmRsZXIsIElCdWZmZXJMaW5lIH0gZnJvbSAnLi9UeXBlcyc7XG5pbXBvcnQgeyBJTW91c2Vab25lTWFuYWdlciB9IGZyb20gJy4vdWkvVHlwZXMnO1xuaW1wb3J0IHsgSVJlbmRlcmVyIH0gZnJvbSAnLi9yZW5kZXJlci9UeXBlcyc7XG5pbXBvcnQgeyBCdWZmZXJTZXQgfSBmcm9tICcuL0J1ZmZlclNldCc7XG5pbXBvcnQgeyBCdWZmZXIsIE1BWF9CVUZGRVJfU0laRSwgREVGQVVMVF9BVFRSLCBOVUxMX0NFTExfQ09ERSwgTlVMTF9DRUxMX1dJRFRILCBOVUxMX0NFTExfQ0hBUiwgQ0hBUl9EQVRBX0FUVFJfSU5ERVggfSBmcm9tICcuL0J1ZmZlcic7XG5pbXBvcnQgeyBDb21wb3NpdGlvbkhlbHBlciB9IGZyb20gJy4vQ29tcG9zaXRpb25IZWxwZXInO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi9jb21tb24vRXZlbnRFbWl0dGVyJztcbmltcG9ydCB7IFZpZXdwb3J0IH0gZnJvbSAnLi9WaWV3cG9ydCc7XG5pbXBvcnQgeyByaWdodENsaWNrSGFuZGxlciwgbW92ZVRleHRBcmVhVW5kZXJNb3VzZUN1cnNvciwgcGFzdGVIYW5kbGVyLCBjb3B5SGFuZGxlciB9IGZyb20gJy4vdWkvQ2xpcGJvYXJkJztcbmltcG9ydCB7IEMwIH0gZnJvbSAnLi9jb21tb24vZGF0YS9Fc2NhcGVTZXF1ZW5jZXMnO1xuaW1wb3J0IHsgSW5wdXRIYW5kbGVyIH0gZnJvbSAnLi9JbnB1dEhhbmRsZXInO1xuaW1wb3J0IHsgUmVuZGVyZXIgfSBmcm9tICcuL3JlbmRlcmVyL1JlbmRlcmVyJztcbmltcG9ydCB7IExpbmtpZmllciB9IGZyb20gJy4vTGlua2lmaWVyJztcbmltcG9ydCB7IFNlbGVjdGlvbk1hbmFnZXIgfSBmcm9tICcuL1NlbGVjdGlvbk1hbmFnZXInO1xuaW1wb3J0IHsgQ2hhck1lYXN1cmUgfSBmcm9tICcuL3VpL0NoYXJNZWFzdXJlJztcbmltcG9ydCAqIGFzIEJyb3dzZXIgZnJvbSAnLi9jb3JlL1BsYXRmb3JtJztcbmltcG9ydCB7IGFkZERpc3Bvc2FibGVEb21MaXN0ZW5lciB9IGZyb20gJy4vdWkvTGlmZWN5Y2xlJztcbmltcG9ydCAqIGFzIFN0cmluZ3MgZnJvbSAnLi9TdHJpbmdzJztcbmltcG9ydCB7IE1vdXNlSGVscGVyIH0gZnJvbSAnLi91dGlscy9Nb3VzZUhlbHBlcic7XG5pbXBvcnQgeyBjbG9uZSB9IGZyb20gJy4vdXRpbHMvQ2xvbmUnO1xuaW1wb3J0IHsgREVGQVVMVF9CRUxMX1NPVU5ELCBTb3VuZE1hbmFnZXIgfSBmcm9tICcuL1NvdW5kTWFuYWdlcic7XG5pbXBvcnQgeyBERUZBVUxUX0FOU0lfQ09MT1JTIH0gZnJvbSAnLi9yZW5kZXJlci9Db2xvck1hbmFnZXInO1xuaW1wb3J0IHsgTW91c2Vab25lTWFuYWdlciB9IGZyb20gJy4vdWkvTW91c2Vab25lTWFuYWdlcic7XG5pbXBvcnQgeyBBY2Nlc3NpYmlsaXR5TWFuYWdlciB9IGZyb20gJy4vQWNjZXNzaWJpbGl0eU1hbmFnZXInO1xuaW1wb3J0IHsgU2NyZWVuRHByTW9uaXRvciB9IGZyb20gJy4vdWkvU2NyZWVuRHByTW9uaXRvcic7XG5pbXBvcnQgeyBJVGhlbWUsIElNYXJrZXIsIElEaXNwb3NhYmxlIH0gZnJvbSAneHRlcm0nO1xuaW1wb3J0IHsgcmVtb3ZlVGVybWluYWxGcm9tQ2FjaGUgfSBmcm9tICcuL3JlbmRlcmVyL2F0bGFzL0NoYXJBdGxhc0NhY2hlJztcbmltcG9ydCB7IERvbVJlbmRlcmVyIH0gZnJvbSAnLi9yZW5kZXJlci9kb20vRG9tUmVuZGVyZXInO1xuaW1wb3J0IHsgSUtleWJvYXJkRXZlbnQgfSBmcm9tICcuL2NvbW1vbi9UeXBlcyc7XG5pbXBvcnQgeyBldmFsdWF0ZUtleWJvYXJkRXZlbnQgfSBmcm9tICcuL2NvcmUvaW5wdXQvS2V5Ym9hcmQnO1xuaW1wb3J0IHsgS2V5Ym9hcmRSZXN1bHRUeXBlLCBJQ2hhcnNldCB9IGZyb20gJy4vY29yZS9UeXBlcyc7XG5cbi8vIExldCBpdCB3b3JrIGluc2lkZSBOb2RlLmpzIGZvciBhdXRvbWF0ZWQgdGVzdGluZyBwdXJwb3Nlcy5cbmNvbnN0IGRvY3VtZW50ID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSA/IHdpbmRvdy5kb2N1bWVudCA6IG51bGw7XG5cbi8qKlxuICogVGhlIGFtb3VudCBvZiB3cml0ZSByZXF1ZXN0cyB0byBxdWV1ZSBiZWZvcmUgc2VuZGluZyBhbiBYT0ZGIHNpZ25hbCB0byB0aGVcbiAqIHB0eSBwcm9jZXNzLiBUaGlzIG51bWJlciBtdXN0IGJlIHNtYWxsIGluIG9yZGVyIGZvciBeQyBhbmQgc2ltaWxhciBzZXF1ZW5jZXNcbiAqIHRvIGJlIHJlc3BvbnNpdmUuXG4gKi9cbmNvbnN0IFdSSVRFX0JVRkZFUl9QQVVTRV9USFJFU0hPTEQgPSA1O1xuXG4vKipcbiAqIFRoZSBudW1iZXIgb2Ygd3JpdGVzIHRvIHBlcmZvcm0gaW4gYSBzaW5nbGUgYmF0Y2ggYmVmb3JlIGFsbG93aW5nIHRoZVxuICogcmVuZGVyZXIgdG8gY2F0Y2ggdXAgd2l0aCBhIDBtcyBzZXRUaW1lb3V0LlxuICovXG5jb25zdCBXUklURV9CQVRDSF9TSVpFID0gMzAwO1xuXG4vKipcbiAqIFRoZSBzZXQgb2Ygb3B0aW9ucyB0aGF0IG9ubHkgaGF2ZSBhbiBlZmZlY3Qgd2hlbiBzZXQgaW4gdGhlIFRlcm1pbmFsIGNvbnN0cnVjdG9yLlxuICovXG5jb25zdCBDT05TVFJVQ1RPUl9PTkxZX09QVElPTlMgPSBbJ2NvbHMnLCAncm93cyddO1xuXG5jb25zdCBERUZBVUxUX09QVElPTlM6IElUZXJtaW5hbE9wdGlvbnMgPSB7XG4gIGNvbHM6IDgwLFxuICByb3dzOiAyNCxcbiAgY29udmVydEVvbDogZmFsc2UsXG4gIHRlcm1OYW1lOiAneHRlcm0nLFxuICBjdXJzb3JCbGluazogZmFsc2UsXG4gIGN1cnNvclN0eWxlOiAnYmxvY2snLFxuICBiZWxsU291bmQ6IERFRkFVTFRfQkVMTF9TT1VORCxcbiAgYmVsbFN0eWxlOiAnbm9uZScsXG4gIGRyYXdCb2xkVGV4dEluQnJpZ2h0Q29sb3JzOiB0cnVlLFxuICBlbmFibGVCb2xkOiB0cnVlLFxuICBleHBlcmltZW50YWxDaGFyQXRsYXM6ICdzdGF0aWMnLFxuICBmb250RmFtaWx5OiAnY291cmllci1uZXcsIGNvdXJpZXIsIG1vbm9zcGFjZScsXG4gIGZvbnRTaXplOiAxNSxcbiAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gIGZvbnRXZWlnaHRCb2xkOiAnYm9sZCcsXG4gIGxpbmVIZWlnaHQ6IDEuMCxcbiAgbGV0dGVyU3BhY2luZzogMCxcbiAgc2Nyb2xsYmFjazogMTAwMCxcbiAgc2NyZWVuS2V5czogZmFsc2UsXG4gIHNjcmVlblJlYWRlck1vZGU6IGZhbHNlLFxuICBkZWJ1ZzogZmFsc2UsXG4gIG1hY09wdGlvbklzTWV0YTogZmFsc2UsXG4gIG1hY09wdGlvbkNsaWNrRm9yY2VzU2VsZWN0aW9uOiBmYWxzZSxcbiAgY2FuY2VsRXZlbnRzOiBmYWxzZSxcbiAgZGlzYWJsZVN0ZGluOiBmYWxzZSxcbiAgdXNlRmxvd0NvbnRyb2w6IGZhbHNlLFxuICBhbGxvd1RyYW5zcGFyZW5jeTogZmFsc2UsXG4gIHRhYlN0b3BXaWR0aDogOCxcbiAgdGhlbWU6IG51bGwsXG4gIHJpZ2h0Q2xpY2tTZWxlY3RzV29yZDogQnJvd3Nlci5pc01hYyxcbiAgcmVuZGVyZXJUeXBlOiAnY2FudmFzJyxcbiAgZXhwZXJpbWVudGFsQnVmZmVyTGluZUltcGw6ICdUeXBlZEFycmF5J1xufTtcblxuZXhwb3J0IGNsYXNzIFRlcm1pbmFsIGV4dGVuZHMgRXZlbnRFbWl0dGVyIGltcGxlbWVudHMgSVRlcm1pbmFsLCBJRGlzcG9zYWJsZSwgSUlucHV0SGFuZGxpbmdUZXJtaW5hbCB7XG4gIHB1YmxpYyB0ZXh0YXJlYTogSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgcHVibGljIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICBwdWJsaWMgc2NyZWVuRWxlbWVudDogSFRNTEVsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIFRoZSBIVE1MRWxlbWVudCB0aGF0IHRoZSB0ZXJtaW5hbCBpcyBjcmVhdGVkIGluLCBzZXQgYnkgVGVybWluYWwub3Blbi5cbiAgICovXG4gIHByaXZhdGUgX3BhcmVudDogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgX2NvbnRleHQ6IFdpbmRvdztcbiAgcHJpdmF0ZSBfZG9jdW1lbnQ6IERvY3VtZW50O1xuICBwcml2YXRlIF92aWV3cG9ydFNjcm9sbEFyZWE6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIF92aWV3cG9ydEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIF9oZWxwZXJDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIF9jb21wb3NpdGlvblZpZXc6IEhUTUxFbGVtZW50O1xuXG4gIHByaXZhdGUgX3Zpc3VhbEJlbGxUaW1lcjogbnVtYmVyO1xuXG4gIHB1YmxpYyBicm93c2VyOiBJQnJvd3NlciA9IDxhbnk+QnJvd3NlcjtcblxuICBwdWJsaWMgb3B0aW9uczogSVRlcm1pbmFsT3B0aW9ucztcblxuICAvLyBUT0RPOiBUaGlzIGNhbiBiZSBjaGFuZ2VkIHRvIGFuIGVudW0gb3IgYm9vbGVhbiwgMCBhbmQgMSBzZWVtIHRvIGJlIHRoZSBvbmx5IG9wdGlvbnNcbiAgcHVibGljIGN1cnNvclN0YXRlOiBudW1iZXI7XG4gIHB1YmxpYyBjdXJzb3JIaWRkZW46IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSBfY3VzdG9tS2V5RXZlbnRIYW5kbGVyOiBDdXN0b21LZXlFdmVudEhhbmRsZXI7XG5cbiAgLy8gbW9kZXNcbiAgcHVibGljIGFwcGxpY2F0aW9uS2V5cGFkOiBib29sZWFuO1xuICBwdWJsaWMgYXBwbGljYXRpb25DdXJzb3I6IGJvb2xlYW47XG4gIHB1YmxpYyBvcmlnaW5Nb2RlOiBib29sZWFuO1xuICBwdWJsaWMgaW5zZXJ0TW9kZTogYm9vbGVhbjtcbiAgcHVibGljIHdyYXBhcm91bmRNb2RlOiBib29sZWFuOyAvLyBkZWZhdWx0czogeHRlcm0gLSB0cnVlLCB2dDEwMCAtIGZhbHNlXG4gIHB1YmxpYyBicmFja2V0ZWRQYXN0ZU1vZGU6IGJvb2xlYW47XG5cbiAgLy8gY2hhcnNldFxuICAvLyBUaGUgY3VycmVudCBjaGFyc2V0XG4gIHB1YmxpYyBjaGFyc2V0OiBJQ2hhcnNldDtcbiAgcHVibGljIGdjaGFyc2V0OiBudW1iZXI7XG4gIHB1YmxpYyBnbGV2ZWw6IG51bWJlcjtcbiAgcHVibGljIGNoYXJzZXRzOiBJQ2hhcnNldFtdO1xuXG4gIC8vIG1vdXNlIHByb3BlcnRpZXNcbiAgcHJpdmF0ZSBfZGVjTG9jYXRvcjogYm9vbGVhbjsgLy8gVGhpcyBpcyB1bnN0YWJsZSBhbmQgbmV2ZXIgc2V0XG4gIHB1YmxpYyB4MTBNb3VzZTogYm9vbGVhbjtcbiAgcHVibGljIHZ0MjAwTW91c2U6IGJvb2xlYW47XG4gIHByaXZhdGUgX3Z0MzAwTW91c2U6IGJvb2xlYW47IC8vIFRoaXMgaXMgdW5zdGFibGUgYW5kIG5ldmVyIHNldFxuICBwdWJsaWMgbm9ybWFsTW91c2U6IGJvb2xlYW47XG4gIHB1YmxpYyBtb3VzZUV2ZW50czogYm9vbGVhbjtcbiAgcHVibGljIHNlbmRGb2N1czogYm9vbGVhbjtcbiAgcHVibGljIHV0Zk1vdXNlOiBib29sZWFuO1xuICBwdWJsaWMgc2dyTW91c2U6IGJvb2xlYW47XG4gIHB1YmxpYyB1cnh2dE1vdXNlOiBib29sZWFuO1xuXG4gIC8vIG1pc2NcbiAgcHJpdmF0ZSBfcmVmcmVzaFN0YXJ0OiBudW1iZXI7XG4gIHByaXZhdGUgX3JlZnJlc2hFbmQ6IG51bWJlcjtcbiAgcHVibGljIHNhdmVkQ29sczogbnVtYmVyO1xuXG4gIHB1YmxpYyBjdXJBdHRyOiBudW1iZXI7XG5cbiAgcHVibGljIHBhcmFtczogKHN0cmluZyB8IG51bWJlcilbXTtcbiAgcHVibGljIGN1cnJlbnRQYXJhbTogc3RyaW5nIHwgbnVtYmVyO1xuXG4gIC8vIHVzZXIgaW5wdXQgc3RhdGVzXG4gIHB1YmxpYyB3cml0ZUJ1ZmZlcjogc3RyaW5nW107XG4gIHByaXZhdGUgX3dyaXRlSW5Qcm9ncmVzczogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciBfeHRlcm0uanNfIHNlbnQgWE9GRiBpbiBvcmRlciB0byBjYXRjaCB1cCB3aXRoIHRoZSBwdHkgcHJvY2Vzcy5cbiAgICogVGhpcyBpcyBhIGRpc3RpbmN0IHN0YXRlIGZyb20gd3JpdGVTdG9wcGVkIHNvIHRoYXQgaWYgdGhlIHVzZXIgcmVxdWVzdGVkXG4gICAqIFhPRkYgdmlhIF5TIHRoYXQgaXQgd2lsbCBub3QgYXV0b21hdGljYWxseSByZXN1bWUgd2hlbiB0aGUgd3JpdGVCdWZmZXIgZ29lc1xuICAgKiBiZWxvdyB0aHJlc2hvbGQuXG4gICAqL1xuICBwcml2YXRlIF94b2ZmU2VudFRvQ2F0Y2hVcDogYm9vbGVhbjtcblxuICAvKiogV2hldGhlciB3cml0aW5nIGhhcyBiZWVuIHN0b3BwZWQgYXMgYSByZXN1bHQgb2YgWE9GRiAqL1xuICAvLyBwcml2YXRlIF93cml0ZVN0b3BwZWQ6IGJvb2xlYW47XG5cbiAgLy8gU3RvcmUgaWYgdXNlciB3ZW50IGJyb3dzaW5nIGhpc3RvcnkgaW4gc2Nyb2xsYmFja1xuICBwcml2YXRlIF91c2VyU2Nyb2xsaW5nOiBib29sZWFuO1xuXG4gIHByaXZhdGUgX2lucHV0SGFuZGxlcjogSW5wdXRIYW5kbGVyO1xuICBwdWJsaWMgc291bmRNYW5hZ2VyOiBTb3VuZE1hbmFnZXI7XG4gIHB1YmxpYyByZW5kZXJlcjogSVJlbmRlcmVyO1xuICBwdWJsaWMgc2VsZWN0aW9uTWFuYWdlcjogU2VsZWN0aW9uTWFuYWdlcjtcbiAgcHVibGljIGxpbmtpZmllcjogSUxpbmtpZmllcjtcbiAgcHVibGljIGJ1ZmZlcnM6IEJ1ZmZlclNldDtcbiAgcHVibGljIHZpZXdwb3J0OiBJVmlld3BvcnQ7XG4gIHByaXZhdGUgX2NvbXBvc2l0aW9uSGVscGVyOiBJQ29tcG9zaXRpb25IZWxwZXI7XG4gIHB1YmxpYyBjaGFyTWVhc3VyZTogQ2hhck1lYXN1cmU7XG4gIHByaXZhdGUgX21vdXNlWm9uZU1hbmFnZXI6IElNb3VzZVpvbmVNYW5hZ2VyO1xuICBwdWJsaWMgbW91c2VIZWxwZXI6IE1vdXNlSGVscGVyO1xuICBwcml2YXRlIF9hY2Nlc3NpYmlsaXR5TWFuYWdlcjogQWNjZXNzaWJpbGl0eU1hbmFnZXI7XG4gIHByaXZhdGUgX3NjcmVlbkRwck1vbml0b3I6IFNjcmVlbkRwck1vbml0b3I7XG4gIHByaXZhdGUgX3RoZW1lOiBJVGhlbWU7XG5cbiAgLy8gYnVmZmVybGluZSB0byBjbG9uZS9jb3B5IGZyb20gZm9yIG5ldyBibGFuayBsaW5lc1xuICBwcml2YXRlIF9ibGFua0xpbmU6IElCdWZmZXJMaW5lID0gbnVsbDtcblxuICBwdWJsaWMgY29sczogbnVtYmVyO1xuICBwdWJsaWMgcm93czogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGBUZXJtaW5hbGAgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyBBbiBvYmplY3QgY29udGFpbmluZyBhIHNldCBvZiBvcHRpb25zLCB0aGUgYXZhaWxhYmxlIG9wdGlvbnMgYXJlOlxuICAgKiAgIC0gYGN1cnNvckJsaW5rYCAoYm9vbGVhbik6IFdoZXRoZXIgdGhlIHRlcm1pbmFsIGN1cnNvciBibGlua3NcbiAgICogICAtIGBjb2xzYCAobnVtYmVyKTogVGhlIG51bWJlciBvZiBjb2x1bW5zIG9mIHRoZSB0ZXJtaW5hbCAoaG9yaXpvbnRhbCBzaXplKVxuICAgKiAgIC0gYHJvd3NgIChudW1iZXIpOiBUaGUgbnVtYmVyIG9mIHJvd3Mgb2YgdGhlIHRlcm1pbmFsICh2ZXJ0aWNhbCBzaXplKVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqIEBjbGFzcyBYdGVybSBYdGVybVxuICAgKiBAYWxpYXMgbW9kdWxlOnh0ZXJtL3NyYy94dGVybVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgb3B0aW9uczogSVRlcm1pbmFsT3B0aW9ucyA9IHt9XG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vcHRpb25zID0gY2xvbmUob3B0aW9ucyk7XG4gICAgdGhpcy5fc2V0dXAoKTtcbiAgfVxuXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB0aGlzLl9jdXN0b21LZXlFdmVudEhhbmRsZXIgPSBudWxsO1xuICAgIHJlbW92ZVRlcm1pbmFsRnJvbUNhY2hlKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlciA9ICgpID0+IHt9O1xuICAgIHRoaXMud3JpdGUgPSAoKSA9PiB7fTtcbiAgICBpZiAodGhpcy5lbGVtZW50ICYmIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgZGlzcG9zZSBpbnN0ZWFkLlxuICAgKi9cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5kaXNwb3NlKCk7XG4gIH1cblxuICBwcml2YXRlIF9zZXR1cCgpOiB2b2lkIHtcbiAgICBPYmplY3Qua2V5cyhERUZBVUxUX09QVElPTlMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKHRoaXMub3B0aW9uc1trZXldID09PSBudWxsIHx8IHRoaXMub3B0aW9uc1trZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zW2tleV0gPSBERUZBVUxUX09QVElPTlNba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHRoaXMuY29udGV4dCA9IG9wdGlvbnMuY29udGV4dCB8fCB3aW5kb3c7XG4gICAgLy8gdGhpcy5kb2N1bWVudCA9IG9wdGlvbnMuZG9jdW1lbnQgfHwgZG9jdW1lbnQ7XG4gICAgLy8gVE9ETzogV0h5IG5vdCBkb2N1bWVudC5ib2R5P1xuICAgIHRoaXMuX3BhcmVudCA9IGRvY3VtZW50ID8gZG9jdW1lbnQuYm9keSA6IG51bGw7XG5cbiAgICB0aGlzLmNvbHMgPSB0aGlzLm9wdGlvbnMuY29scztcbiAgICB0aGlzLnJvd3MgPSB0aGlzLm9wdGlvbnMucm93cztcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuaGFuZGxlcikge1xuICAgICAgdGhpcy5vbignZGF0YScsIHRoaXMub3B0aW9ucy5oYW5kbGVyKTtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnNvclN0YXRlID0gMDtcbiAgICB0aGlzLmN1cnNvckhpZGRlbiA9IGZhbHNlO1xuICAgIHRoaXMuX2N1c3RvbUtleUV2ZW50SGFuZGxlciA9IG51bGw7XG5cbiAgICAvLyBtb2Rlc1xuICAgIHRoaXMuYXBwbGljYXRpb25LZXlwYWQgPSBmYWxzZTtcbiAgICB0aGlzLmFwcGxpY2F0aW9uQ3Vyc29yID0gZmFsc2U7XG4gICAgdGhpcy5vcmlnaW5Nb2RlID0gZmFsc2U7XG4gICAgdGhpcy5pbnNlcnRNb2RlID0gZmFsc2U7XG4gICAgdGhpcy53cmFwYXJvdW5kTW9kZSA9IHRydWU7IC8vIGRlZmF1bHRzOiB4dGVybSAtIHRydWUsIHZ0MTAwIC0gZmFsc2VcbiAgICB0aGlzLmJyYWNrZXRlZFBhc3RlTW9kZSA9IGZhbHNlO1xuXG4gICAgLy8gY2hhcnNldFxuICAgIHRoaXMuY2hhcnNldCA9IG51bGw7XG4gICAgdGhpcy5nY2hhcnNldCA9IG51bGw7XG4gICAgdGhpcy5nbGV2ZWwgPSAwO1xuICAgIC8vIFRPRE86IENhbiB0aGlzIGJlIGp1c3QgW10/XG4gICAgdGhpcy5jaGFyc2V0cyA9IFtudWxsXTtcblxuICAgIHRoaXMuY3VyQXR0ciA9IERFRkFVTFRfQVRUUjtcblxuICAgIHRoaXMucGFyYW1zID0gW107XG4gICAgdGhpcy5jdXJyZW50UGFyYW0gPSAwO1xuXG4gICAgLy8gdXNlciBpbnB1dCBzdGF0ZXNcbiAgICB0aGlzLndyaXRlQnVmZmVyID0gW107XG4gICAgdGhpcy5fd3JpdGVJblByb2dyZXNzID0gZmFsc2U7XG5cbiAgICB0aGlzLl94b2ZmU2VudFRvQ2F0Y2hVcCA9IGZhbHNlO1xuICAgIC8vIHRoaXMuX3dyaXRlU3RvcHBlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3VzZXJTY3JvbGxpbmcgPSBmYWxzZTtcblxuICAgIHRoaXMuX2lucHV0SGFuZGxlciA9IG5ldyBJbnB1dEhhbmRsZXIodGhpcyk7XG4gICAgdGhpcy5yZWdpc3Rlcih0aGlzLl9pbnB1dEhhbmRsZXIpO1xuICAgIC8vIFJldXNlIHJlbmRlcmVyIGlmIHRoZSBUZXJtaW5hbCBpcyBiZWluZyByZWNyZWF0ZWQgdmlhIGEgcmVzZXQgY2FsbC5cbiAgICB0aGlzLnJlbmRlcmVyID0gdGhpcy5yZW5kZXJlciB8fCBudWxsO1xuICAgIHRoaXMuc2VsZWN0aW9uTWFuYWdlciA9IHRoaXMuc2VsZWN0aW9uTWFuYWdlciB8fCBudWxsO1xuICAgIHRoaXMubGlua2lmaWVyID0gdGhpcy5saW5raWZpZXIgfHwgbmV3IExpbmtpZmllcih0aGlzKTtcbiAgICB0aGlzLl9tb3VzZVpvbmVNYW5hZ2VyID0gdGhpcy5fbW91c2Vab25lTWFuYWdlciB8fCBudWxsO1xuICAgIHRoaXMuc291bmRNYW5hZ2VyID0gdGhpcy5zb3VuZE1hbmFnZXIgfHwgbmV3IFNvdW5kTWFuYWdlcih0aGlzKTtcblxuICAgIC8vIENyZWF0ZSB0aGUgdGVybWluYWwncyBidWZmZXJzIGFuZCBzZXQgdGhlIGN1cnJlbnQgYnVmZmVyXG4gICAgdGhpcy5idWZmZXJzID0gbmV3IEJ1ZmZlclNldCh0aGlzKTtcbiAgICBpZiAodGhpcy5zZWxlY3Rpb25NYW5hZ2VyKSB7XG4gICAgICB0aGlzLnNlbGVjdGlvbk1hbmFnZXIuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgIHRoaXMuc2VsZWN0aW9uTWFuYWdlci5pbml0QnVmZmVyc0xpc3RlbmVycygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZW5pZW5jZSBwcm9wZXJ0eSB0byBhY3RpdmUgYnVmZmVyLlxuICAgKi9cbiAgcHVibGljIGdldCBidWZmZXIoKTogQnVmZmVyIHtcbiAgICByZXR1cm4gdGhpcy5idWZmZXJzLmFjdGl2ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBiYWNrX2NvbG9yX2VyYXNlIGZlYXR1cmUgZm9yIHh0ZXJtLlxuICAgKi9cbiAgcHVibGljIGVyYXNlQXR0cigpOiBudW1iZXIge1xuICAgIC8vIGlmICh0aGlzLmlzKCdzY3JlZW4nKSkgcmV0dXJuIERFRkFVTFRfQVRUUjtcbiAgICByZXR1cm4gKERFRkFVTFRfQVRUUiAmIH4weDFmZikgfCAodGhpcy5jdXJBdHRyICYgMHgxZmYpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvY3VzIHRoZSB0ZXJtaW5hbC4gRGVsZWdhdGVzIGZvY3VzIGhhbmRsaW5nIHRvIHRoZSB0ZXJtaW5hbCdzIERPTSBlbGVtZW50LlxuICAgKi9cbiAgcHVibGljIGZvY3VzKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnRleHRhcmVhKSB7XG4gICAgICB0aGlzLnRleHRhcmVhLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldCBpc0ZvY3VzZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMudGV4dGFyZWEgJiYgZG9jdW1lbnQuaGFzRm9jdXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYW4gb3B0aW9uJ3MgdmFsdWUgZnJvbSB0aGUgdGVybWluYWwuXG4gICAqIEBwYXJhbSBrZXkgVGhlIG9wdGlvbiBrZXkuXG4gICAqL1xuICBwdWJsaWMgZ2V0T3B0aW9uKGtleTogc3RyaW5nKTogYW55IHtcbiAgICBpZiAoIShrZXkgaW4gREVGQVVMVF9PUFRJT05TKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBvcHRpb24gd2l0aCBrZXkgXCInICsga2V5ICsgJ1wiJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMub3B0aW9uc1trZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYW4gb3B0aW9uIG9uIHRoZSB0ZXJtaW5hbC5cbiAgICogQHBhcmFtIGtleSBUaGUgb3B0aW9uIGtleS5cbiAgICogQHBhcmFtIHZhbHVlIFRoZSBvcHRpb24gdmFsdWUuXG4gICAqL1xuICBwdWJsaWMgc2V0T3B0aW9uKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZCB7XG4gICAgaWYgKCEoa2V5IGluIERFRkFVTFRfT1BUSU9OUykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gb3B0aW9uIHdpdGgga2V5IFwiJyArIGtleSArICdcIicpO1xuICAgIH1cbiAgICBpZiAoQ09OU1RSVUNUT1JfT05MWV9PUFRJT05TLmluZGV4T2Yoa2V5KSAhPT0gLTEpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYE9wdGlvbiBcIiR7a2V5fVwiIGNhbiBvbmx5IGJlIHNldCBpbiB0aGUgY29uc3RydWN0b3JgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9uc1trZXldID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgY2FzZSAnYmVsbFN0eWxlJzpcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIHZhbHVlID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY3Vyc29yU3R5bGUnOlxuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgdmFsdWUgPSAnYmxvY2snO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZm9udFdlaWdodCc6XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICB2YWx1ZSA9ICdub3JtYWwnO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZm9udFdlaWdodEJvbGQnOlxuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgdmFsdWUgPSAnYm9sZCc7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdsaW5lSGVpZ2h0JzpcbiAgICAgICAgaWYgKHZhbHVlIDwgMSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgJHtrZXl9IGNhbm5vdCBiZSBsZXNzIHRoYW4gMSwgdmFsdWU6ICR7dmFsdWV9YCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlICdyZW5kZXJlclR5cGUnOlxuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgdmFsdWUgPSAnY2FudmFzJztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RhYlN0b3BXaWR0aCc6XG4gICAgICAgIGlmICh2YWx1ZSA8IDEpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYCR7a2V5fSBjYW5ub3QgYmUgbGVzcyB0aGFuIDEsIHZhbHVlOiAke3ZhbHVlfWApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RoZW1lJzpcbiAgICAgICAgLy8gSWYgb3BlbiBoYXMgYmVlbiBjYWxsZWQgd2UgZG8gbm90IHdhbnQgdG8gc2V0IG9wdGlvbnMudGhlbWUgYXMgdGhlXG4gICAgICAgIC8vIHNvdXJjZSBvZiB0cnV0aCBpcyBvd25lZCBieSB0aGUgcmVuZGVyZXIuXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyKSB7XG4gICAgICAgICAgdGhpcy5fc2V0VGhlbWUoPElUaGVtZT52YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2Nyb2xsYmFjayc6XG4gICAgICAgIHZhbHVlID0gTWF0aC5taW4odmFsdWUsIE1BWF9CVUZGRVJfU0laRSk7XG5cbiAgICAgICAgaWYgKHZhbHVlIDwgMCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgJHtrZXl9IGNhbm5vdCBiZSBsZXNzIHRoYW4gMCwgdmFsdWU6ICR7dmFsdWV9YCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnNba2V5XSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICBjb25zdCBuZXdCdWZmZXJMZW5ndGggPSB0aGlzLnJvd3MgKyB2YWx1ZTtcbiAgICAgICAgICBpZiAodGhpcy5idWZmZXIubGluZXMubGVuZ3RoID4gbmV3QnVmZmVyTGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBhbW91bnRUb1RyaW0gPSB0aGlzLmJ1ZmZlci5saW5lcy5sZW5ndGggLSBuZXdCdWZmZXJMZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBuZWVkc1JlZnJlc2ggPSAodGhpcy5idWZmZXIueWRpc3AgLSBhbW91bnRUb1RyaW0gPCAwKTtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLmxpbmVzLnRyaW1TdGFydChhbW91bnRUb1RyaW0pO1xuICAgICAgICAgICAgdGhpcy5idWZmZXIueWJhc2UgPSBNYXRoLm1heCh0aGlzLmJ1ZmZlci55YmFzZSAtIGFtb3VudFRvVHJpbSwgMCk7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci55ZGlzcCA9IE1hdGgubWF4KHRoaXMuYnVmZmVyLnlkaXNwIC0gYW1vdW50VG9UcmltLCAwKTtcbiAgICAgICAgICAgIGlmIChuZWVkc1JlZnJlc2gpIHtcbiAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKDAsIHRoaXMucm93cyAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5vcHRpb25zW2tleV0gPSB2YWx1ZTtcbiAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgY2FzZSAnZm9udEZhbWlseSc6XG4gICAgICBjYXNlICdmb250U2l6ZSc6XG4gICAgICAgIC8vIFdoZW4gdGhlIGZvbnQgY2hhbmdlcyB0aGUgc2l6ZSBvZiB0aGUgY2VsbHMgbWF5IGNoYW5nZSB3aGljaCByZXF1aXJlcyBhIHJlbmRlcmVyIGNsZWFyXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5jbGVhcigpO1xuICAgICAgICAgIHRoaXMuY2hhck1lYXN1cmUubWVhc3VyZSh0aGlzLm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZHJhd0JvbGRUZXh0SW5CcmlnaHRDb2xvcnMnOlxuICAgICAgY2FzZSAnZXhwZXJpbWVudGFsQ2hhckF0bGFzJzpcbiAgICAgIGNhc2UgJ2VuYWJsZUJvbGQnOlxuICAgICAgY2FzZSAnbGV0dGVyU3BhY2luZyc6XG4gICAgICBjYXNlICdsaW5lSGVpZ2h0JzpcbiAgICAgIGNhc2UgJ2ZvbnRXZWlnaHQnOlxuICAgICAgY2FzZSAnZm9udFdlaWdodEJvbGQnOlxuICAgICAgICAvLyBXaGVuIHRoZSBmb250IGNoYW5nZXMgdGhlIHNpemUgb2YgdGhlIGNlbGxzIG1heSBjaGFuZ2Ugd2hpY2ggcmVxdWlyZXMgYSByZW5kZXJlciBjbGVhclxuICAgICAgICBpZiAodGhpcy5yZW5kZXJlcikge1xuICAgICAgICAgIHRoaXMucmVuZGVyZXIuY2xlYXIoKTtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLm9uUmVzaXplKHRoaXMuY29scywgdGhpcy5yb3dzKTtcbiAgICAgICAgICB0aGlzLnJlZnJlc2goMCwgdGhpcy5yb3dzIC0gMSk7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ3JlbmRlcmVyVHlwZSc6XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyKSB7XG4gICAgICAgICAgdGhpcy51bnJlZ2lzdGVyKHRoaXMucmVuZGVyZXIpO1xuICAgICAgICAgIHRoaXMucmVuZGVyZXIuZGlzcG9zZSgpO1xuICAgICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldHVwUmVuZGVyZXIoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbkNoYXJTaXplQ2hhbmdlZCgpO1xuICAgICAgICBpZiAodGhpcy5fdGhlbWUpIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFRoZW1lKHRoaXMuX3RoZW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vdXNlSGVscGVyLnNldFJlbmRlcmVyKHRoaXMucmVuZGVyZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Njcm9sbGJhY2snOlxuICAgICAgICB0aGlzLmJ1ZmZlcnMucmVzaXplKHRoaXMuY29scywgdGhpcy5yb3dzKTtcbiAgICAgICAgaWYgKHRoaXMudmlld3BvcnQpIHtcbiAgICAgICAgICB0aGlzLnZpZXdwb3J0LnN5bmNTY3JvbGxBcmVhKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzY3JlZW5SZWFkZXJNb2RlJzpcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLl9hY2Nlc3NpYmlsaXR5TWFuYWdlcikge1xuICAgICAgICAgICAgdGhpcy5fYWNjZXNzaWJpbGl0eU1hbmFnZXIgPSBuZXcgQWNjZXNzaWJpbGl0eU1hbmFnZXIodGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLl9hY2Nlc3NpYmlsaXR5TWFuYWdlcikge1xuICAgICAgICAgICAgdGhpcy5fYWNjZXNzaWJpbGl0eU1hbmFnZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fYWNjZXNzaWJpbGl0eU1hbmFnZXIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RhYlN0b3BXaWR0aCc6IHRoaXMuYnVmZmVycy5zZXR1cFRhYlN0b3BzKCk7IGJyZWFrO1xuICAgICAgY2FzZSAnZXhwZXJpbWVudGFsQnVmZmVyTGluZUltcGwnOlxuICAgICAgICB0aGlzLmJ1ZmZlcnMubm9ybWFsLnNldEJ1ZmZlckxpbmVGYWN0b3J5KHZhbHVlKTtcbiAgICAgICAgdGhpcy5idWZmZXJzLmFsdC5zZXRCdWZmZXJMaW5lRmFjdG9yeSh2YWx1ZSk7XG4gICAgICAgIHRoaXMuX2JsYW5rTGluZSA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBJbmZvcm0gcmVuZGVyZXIgb2YgY2hhbmdlc1xuICAgIGlmICh0aGlzLnJlbmRlcmVyKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLm9uT3B0aW9uc0NoYW5nZWQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQmluZHMgdGhlIGRlc2lyZWQgZm9jdXMgYmVoYXZpb3Igb24gYSBnaXZlbiB0ZXJtaW5hbCBvYmplY3QuXG4gICAqL1xuICBwcml2YXRlIF9vblRleHRBcmVhRm9jdXMoZXY6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zZW5kRm9jdXMpIHtcbiAgICAgIHRoaXMuaGFuZGxlcihDMC5FU0MgKyAnW0knKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVDdXJzb3JTdHlsZShldik7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZvY3VzJyk7XG4gICAgdGhpcy5zaG93Q3Vyc29yKCk7XG4gICAgdGhpcy5lbWl0KCdmb2N1cycpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJsdXIgdGhlIHRlcm1pbmFsLCBjYWxsaW5nIHRoZSBibHVyIGZ1bmN0aW9uIG9uIHRoZSB0ZXJtaW5hbCdzIHVuZGVybHlpbmdcbiAgICogdGV4dGFyZWEuXG4gICAqL1xuICBwdWJsaWMgYmx1cigpOiB2b2lkIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0YXJlYS5ibHVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQmluZHMgdGhlIGRlc2lyZWQgYmx1ciBiZWhhdmlvciBvbiBhIGdpdmVuIHRlcm1pbmFsIG9iamVjdC5cbiAgICovXG4gIHByaXZhdGUgX29uVGV4dEFyZWFCbHVyKCk6IHZvaWQge1xuICAgIC8vIFRleHQgY2FuIHNhZmVseSBiZSByZW1vdmVkIG9uIGJsdXIuIERvaW5nIGl0IGVhcmxpZXIgY291bGQgaW50ZXJmZXJlIHdpdGhcbiAgICAvLyBzY3JlZW4gcmVhZGVycyByZWFkaW5nIGl0IG91dC5cbiAgICB0aGlzLnRleHRhcmVhLnZhbHVlID0gJyc7XG4gICAgdGhpcy5yZWZyZXNoKHRoaXMuYnVmZmVyLnksIHRoaXMuYnVmZmVyLnkpO1xuICAgIGlmICh0aGlzLnNlbmRGb2N1cykge1xuICAgICAgdGhpcy5oYW5kbGVyKEMwLkVTQyArICdbTycpO1xuICAgIH1cbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZm9jdXMnKTtcbiAgICB0aGlzLmVtaXQoJ2JsdXInKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGRlZmF1bHQgYmVoYXZpb3JcbiAgICovXG4gIHByaXZhdGUgX2luaXRHbG9iYWwoKTogdm9pZCB7XG4gICAgdGhpcy5fYmluZEtleXMoKTtcblxuICAgIC8vIEJpbmQgY2xpcGJvYXJkIGZ1bmN0aW9uYWxpdHlcbiAgICB0aGlzLnJlZ2lzdGVyKGFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcih0aGlzLmVsZW1lbnQsICdjb3B5JywgKGV2ZW50OiBDbGlwYm9hcmRFdmVudCkgPT4ge1xuICAgICAgLy8gSWYgbW91c2UgZXZlbnRzIGFyZSBhY3RpdmUgaXQgbWVhbnMgdGhlIHNlbGVjdGlvbiBtYW5hZ2VyIGlzIGRpc2FibGVkIGFuZFxuICAgICAgLy8gY29weSBzaG91bGQgYmUgaGFuZGxlZCBieSB0aGUgaG9zdCBwcm9ncmFtLlxuICAgICAgaWYgKCF0aGlzLmhhc1NlbGVjdGlvbigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvcHlIYW5kbGVyKGV2ZW50LCB0aGlzLCB0aGlzLnNlbGVjdGlvbk1hbmFnZXIpO1xuICAgIH0pKTtcbiAgICBjb25zdCBwYXN0ZUhhbmRsZXJXcmFwcGVyID0gKGV2ZW50OiBDbGlwYm9hcmRFdmVudCkgPT4gcGFzdGVIYW5kbGVyKGV2ZW50LCB0aGlzKTtcbiAgICB0aGlzLnJlZ2lzdGVyKGFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcih0aGlzLnRleHRhcmVhLCAncGFzdGUnLCBwYXN0ZUhhbmRsZXJXcmFwcGVyKSk7XG4gICAgdGhpcy5yZWdpc3RlcihhZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIodGhpcy5lbGVtZW50LCAncGFzdGUnLCBwYXN0ZUhhbmRsZXJXcmFwcGVyKSk7XG5cbiAgICAvLyBIYW5kbGUgcmlnaHQgY2xpY2sgY29udGV4dCBtZW51c1xuICAgIGlmIChCcm93c2VyLmlzRmlyZWZveCkge1xuICAgICAgLy8gRmlyZWZveCBkb2Vzbid0IGFwcGVhciB0byBmaXJlIHRoZSBjb250ZXh0bWVudSBldmVudCBvbiByaWdodCBjbGlja1xuICAgICAgdGhpcy5yZWdpc3RlcihhZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIodGhpcy5lbGVtZW50LCAnbW91c2Vkb3duJywgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5idXR0b24gPT09IDIpIHtcbiAgICAgICAgICByaWdodENsaWNrSGFuZGxlcihldmVudCwgdGhpcy50ZXh0YXJlYSwgdGhpcy5zZWxlY3Rpb25NYW5hZ2VyLCB0aGlzLm9wdGlvbnMucmlnaHRDbGlja1NlbGVjdHNXb3JkKTtcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlZ2lzdGVyKGFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcih0aGlzLmVsZW1lbnQsICdjb250ZXh0bWVudScsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICByaWdodENsaWNrSGFuZGxlcihldmVudCwgdGhpcy50ZXh0YXJlYSwgdGhpcy5zZWxlY3Rpb25NYW5hZ2VyLCB0aGlzLm9wdGlvbnMucmlnaHRDbGlja1NlbGVjdHNXb3JkKTtcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICAvLyBNb3ZlIHRoZSB0ZXh0YXJlYSB1bmRlciB0aGUgY3Vyc29yIHdoZW4gbWlkZGxlIGNsaWNraW5nIG9uIExpbnV4IHRvIGVuc3VyZVxuICAgIC8vIG1pZGRsZSBjbGljayB0byBwYXN0ZSBzZWxlY3Rpb24gd29ya3MuIFRoaXMgb25seSBhcHBlYXJzIHRvIHdvcmsgaW4gQ2hyb21lXG4gICAgLy8gYXQgdGhlIHRpbWUgaXMgd3JpdGluZy5cbiAgICBpZiAoQnJvd3Nlci5pc0xpbnV4KSB7XG4gICAgICAvLyBVc2UgYXV4Y2xpY2sgZXZlbnQgb3ZlciBtb3VzZWRvd24gdGhlIGxhdHRlciBkb2Vzbid0IHNlZW0gdG8gd29yay4gTm90ZVxuICAgICAgLy8gdGhhdCB0aGUgcmVndWxhciBjbGljayBldmVudCBkb2Vzbid0IGZpcmUgZm9yIHRoZSBtaWRkbGUgbW91c2UgYnV0dG9uLlxuICAgICAgdGhpcy5yZWdpc3RlcihhZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIodGhpcy5lbGVtZW50LCAnYXV4Y2xpY2snLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiA9PT0gMSkge1xuICAgICAgICAgIG1vdmVUZXh0QXJlYVVuZGVyTW91c2VDdXJzb3IoZXZlbnQsIHRoaXMudGV4dGFyZWEpO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGtleSBoYW5kbGluZyB0byB0aGUgdGVybWluYWxcbiAgICovXG4gIHByaXZhdGUgX2JpbmRLZXlzKCk6IHZvaWQge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMucmVnaXN0ZXIoYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKHRoaXMuZWxlbWVudCwgJ2tleWRvd24nLCBmdW5jdGlvbiAoZXY6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSB0aGlzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlbGYuX2tleURvd24oZXYpO1xuICAgIH0sIHRydWUpKTtcblxuICAgIHRoaXMucmVnaXN0ZXIoYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKHRoaXMuZWxlbWVudCwgJ2tleXByZXNzJywgZnVuY3Rpb24gKGV2OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGhpcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWxmLl9rZXlQcmVzcyhldik7XG4gICAgfSwgdHJ1ZSkpO1xuXG4gICAgdGhpcy5yZWdpc3RlcihhZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIodGhpcy5lbGVtZW50LCAna2V5dXAnLCAoZXY6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGlmICghd2FzTW9kaWZpZXJLZXlPbmx5RXZlbnQoZXYpKSB7XG4gICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgIH1cblxuICAgICAgc2VsZi5fa2V5VXAoZXYpO1xuICAgIH0sIHRydWUpKTtcblxuICAgIHRoaXMucmVnaXN0ZXIoYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKHRoaXMudGV4dGFyZWEsICdrZXlkb3duJywgKGV2OiBLZXlib2FyZEV2ZW50KSA9PiB0aGlzLl9rZXlEb3duKGV2KSwgdHJ1ZSkpO1xuICAgIHRoaXMucmVnaXN0ZXIoYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKHRoaXMudGV4dGFyZWEsICdrZXlwcmVzcycsIChldjogS2V5Ym9hcmRFdmVudCkgPT4gdGhpcy5fa2V5UHJlc3MoZXYpLCB0cnVlKSk7XG4gICAgdGhpcy5yZWdpc3RlcihhZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIodGhpcy50ZXh0YXJlYSwgJ2NvbXBvc2l0aW9uc3RhcnQnLCAoKSA9PiB0aGlzLl9jb21wb3NpdGlvbkhlbHBlci5jb21wb3NpdGlvbnN0YXJ0KCkpKTtcbiAgICB0aGlzLnJlZ2lzdGVyKGFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcih0aGlzLnRleHRhcmVhLCAnY29tcG9zaXRpb251cGRhdGUnLCAoZTogQ29tcG9zaXRpb25FdmVudCkgPT4gdGhpcy5fY29tcG9zaXRpb25IZWxwZXIuY29tcG9zaXRpb251cGRhdGUoZSkpKTtcbiAgICB0aGlzLnJlZ2lzdGVyKGFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcih0aGlzLnRleHRhcmVhLCAnY29tcG9zaXRpb25lbmQnLCAoKSA9PiB0aGlzLl9jb21wb3NpdGlvbkhlbHBlci5jb21wb3NpdGlvbmVuZCgpKSk7XG4gICAgdGhpcy5yZWdpc3Rlcih0aGlzLmFkZERpc3Bvc2FibGVMaXN0ZW5lcigncmVmcmVzaCcsICgpID0+IHRoaXMuX2NvbXBvc2l0aW9uSGVscGVyLnVwZGF0ZUNvbXBvc2l0aW9uRWxlbWVudHMoKSkpO1xuICAgIHRoaXMucmVnaXN0ZXIodGhpcy5hZGREaXNwb3NhYmxlTGlzdGVuZXIoJ3JlZnJlc2gnLCAoZGF0YSkgPT4gdGhpcy5fcXVldWVMaW5raWZpY2F0aW9uKGRhdGEuc3RhcnQsIGRhdGEuZW5kKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSB0ZXJtaW5hbCB3aXRoaW4gYW4gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHBhcmVudCBUaGUgZWxlbWVudCB0byBjcmVhdGUgdGhlIHRlcm1pbmFsIHdpdGhpbi5cbiAgICovXG4gIHB1YmxpYyBvcGVuKHBhcmVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQgfHwgdGhpcy5fcGFyZW50O1xuXG4gICAgaWYgKCF0aGlzLl9wYXJlbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGVybWluYWwgcmVxdWlyZXMgYSBwYXJlbnQgZWxlbWVudC4nKTtcbiAgICB9XG5cbiAgICAvLyBHcmFiIGdsb2JhbCBlbGVtZW50c1xuICAgIHRoaXMuX2NvbnRleHQgPSB0aGlzLl9wYXJlbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcbiAgICB0aGlzLl9kb2N1bWVudCA9IHRoaXMuX3BhcmVudC5vd25lckRvY3VtZW50O1xuXG4gICAgdGhpcy5fc2NyZWVuRHByTW9uaXRvciA9IG5ldyBTY3JlZW5EcHJNb25pdG9yKCk7XG4gICAgdGhpcy5fc2NyZWVuRHByTW9uaXRvci5zZXRMaXN0ZW5lcigoKSA9PiB0aGlzLmVtaXQoJ2RwcmNoYW5nZScsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSk7XG4gICAgdGhpcy5yZWdpc3Rlcih0aGlzLl9zY3JlZW5EcHJNb25pdG9yKTtcblxuICAgIC8vIENyZWF0ZSBtYWluIGVsZW1lbnQgY29udGFpbmVyXG4gICAgdGhpcy5lbGVtZW50ID0gdGhpcy5fZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5lbGVtZW50LmRpciA9ICdsdHInOyAgIC8vIHh0ZXJtLmNzcyBhc3N1bWVzIExUUlxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0ZXJtaW5hbCcpO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd4dGVybScpO1xuICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICB0aGlzLl9wYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcblxuICAgIC8vIFBlcmZvcm1hbmNlOiBVc2UgYSBkb2N1bWVudCBmcmFnbWVudCB0byBidWlsZCB0aGUgdGVybWluYWxcbiAgICAvLyB2aWV3cG9ydCBhbmQgaGVscGVyIGVsZW1lbnRzIGRldGFjaGVkIGZyb20gdGhlIERPTVxuICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIHRoaXMuX3ZpZXdwb3J0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX3ZpZXdwb3J0RWxlbWVudC5jbGFzc0xpc3QuYWRkKCd4dGVybS12aWV3cG9ydCcpO1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHRoaXMuX3ZpZXdwb3J0RWxlbWVudCk7XG4gICAgdGhpcy5fdmlld3BvcnRTY3JvbGxBcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fdmlld3BvcnRTY3JvbGxBcmVhLmNsYXNzTGlzdC5hZGQoJ3h0ZXJtLXNjcm9sbC1hcmVhJyk7XG4gICAgdGhpcy5fdmlld3BvcnRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3ZpZXdwb3J0U2Nyb2xsQXJlYSk7XG5cbiAgICB0aGlzLnNjcmVlbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnNjcmVlbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgneHRlcm0tc2NyZWVuJyk7XG4gICAgLy8gQ3JlYXRlIHRoZSBjb250YWluZXIgdGhhdCB3aWxsIGhvbGQgaGVscGVycyBsaWtlIHRoZSB0ZXh0YXJlYSBmb3JcbiAgICAvLyBjYXB0dXJpbmcgRE9NIEV2ZW50cy4gVGhlbiBwcm9kdWNlIHRoZSBoZWxwZXJzLlxuICAgIHRoaXMuX2hlbHBlckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2hlbHBlckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd4dGVybS1oZWxwZXJzJyk7XG4gICAgdGhpcy5zY3JlZW5FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX2hlbHBlckNvbnRhaW5lcik7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQodGhpcy5zY3JlZW5FbGVtZW50KTtcblxuICAgIHRoaXMuX21vdXNlWm9uZU1hbmFnZXIgPSBuZXcgTW91c2Vab25lTWFuYWdlcih0aGlzKTtcbiAgICB0aGlzLnJlZ2lzdGVyKHRoaXMuX21vdXNlWm9uZU1hbmFnZXIpO1xuICAgIHRoaXMucmVnaXN0ZXIodGhpcy5hZGREaXNwb3NhYmxlTGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHRoaXMuX21vdXNlWm9uZU1hbmFnZXIuY2xlYXJBbGwoKSkpO1xuICAgIHRoaXMubGlua2lmaWVyLmF0dGFjaFRvRG9tKHRoaXMuX21vdXNlWm9uZU1hbmFnZXIpO1xuXG4gICAgdGhpcy50ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgdGhpcy50ZXh0YXJlYS5jbGFzc0xpc3QuYWRkKCd4dGVybS1oZWxwZXItdGV4dGFyZWEnKTtcbiAgICAvLyBUT0RPOiBOZXcgQVBJIHRvIHNldCB0aXRsZT8gVGhpcyBjb3VsZCBzYXkgXCJUZXJtaW5hbCBiYXNoIGlucHV0XCIsIGV0Yy5cbiAgICB0aGlzLnRleHRhcmVhLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIFN0cmluZ3MucHJvbXB0TGFiZWwpO1xuICAgIHRoaXMudGV4dGFyZWEuc2V0QXR0cmlidXRlKCdhcmlhLW11bHRpbGluZScsICdmYWxzZScpO1xuICAgIHRoaXMudGV4dGFyZWEuc2V0QXR0cmlidXRlKCdhdXRvY29ycmVjdCcsICdvZmYnKTtcbiAgICB0aGlzLnRleHRhcmVhLnNldEF0dHJpYnV0ZSgnYXV0b2NhcGl0YWxpemUnLCAnb2ZmJyk7XG4gICAgdGhpcy50ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ3NwZWxsY2hlY2snLCAnZmFsc2UnKTtcbiAgICB0aGlzLnRleHRhcmVhLnRhYkluZGV4ID0gMDtcbiAgICB0aGlzLnJlZ2lzdGVyKGFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcih0aGlzLnRleHRhcmVhLCAnZm9jdXMnLCAoZXY6IEtleWJvYXJkRXZlbnQpID0+IHRoaXMuX29uVGV4dEFyZWFGb2N1cyhldikpKTtcbiAgICB0aGlzLnJlZ2lzdGVyKGFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcih0aGlzLnRleHRhcmVhLCAnYmx1cicsICgpID0+IHRoaXMuX29uVGV4dEFyZWFCbHVyKCkpKTtcbiAgICB0aGlzLl9oZWxwZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50ZXh0YXJlYSk7XG5cbiAgICB0aGlzLl9jb21wb3NpdGlvblZpZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLl9jb21wb3NpdGlvblZpZXcuY2xhc3NMaXN0LmFkZCgnY29tcG9zaXRpb24tdmlldycpO1xuICAgIHRoaXMuX2NvbXBvc2l0aW9uSGVscGVyID0gbmV3IENvbXBvc2l0aW9uSGVscGVyKHRoaXMudGV4dGFyZWEsIHRoaXMuX2NvbXBvc2l0aW9uVmlldywgdGhpcyk7XG4gICAgdGhpcy5faGVscGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2NvbXBvc2l0aW9uVmlldyk7XG5cbiAgICB0aGlzLmNoYXJNZWFzdXJlID0gbmV3IENoYXJNZWFzdXJlKGRvY3VtZW50LCB0aGlzLl9oZWxwZXJDb250YWluZXIpO1xuXG4gICAgLy8gUGVyZm9ybWFuY2U6IEFkZCB2aWV3cG9ydCBhbmQgaGVscGVyIGVsZW1lbnRzIGZyb20gdGhlIGZyYWdtZW50XG4gICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcblxuICAgIHRoaXMuX3NldHVwUmVuZGVyZXIoKTtcbiAgICB0aGlzLl90aGVtZSA9IHRoaXMub3B0aW9ucy50aGVtZTtcbiAgICB0aGlzLm9wdGlvbnMudGhlbWUgPSBudWxsO1xuICAgIHRoaXMudmlld3BvcnQgPSBuZXcgVmlld3BvcnQodGhpcywgdGhpcy5fdmlld3BvcnRFbGVtZW50LCB0aGlzLl92aWV3cG9ydFNjcm9sbEFyZWEsIHRoaXMuY2hhck1lYXN1cmUpO1xuICAgIHRoaXMudmlld3BvcnQub25UaGVtZUNoYW5nZWQodGhpcy5yZW5kZXJlci5jb2xvck1hbmFnZXIuY29sb3JzKTtcbiAgICB0aGlzLnJlZ2lzdGVyKHRoaXMudmlld3BvcnQpO1xuXG4gICAgdGhpcy5yZWdpc3Rlcih0aGlzLmFkZERpc3Bvc2FibGVMaXN0ZW5lcignY3Vyc29ybW92ZScsICgpID0+IHRoaXMucmVuZGVyZXIub25DdXJzb3JNb3ZlKCkpKTtcbiAgICB0aGlzLnJlZ2lzdGVyKHRoaXMuYWRkRGlzcG9zYWJsZUxpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB0aGlzLnJlbmRlcmVyLm9uUmVzaXplKHRoaXMuY29scywgdGhpcy5yb3dzKSkpO1xuICAgIHRoaXMucmVnaXN0ZXIodGhpcy5hZGREaXNwb3NhYmxlTGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB0aGlzLnJlbmRlcmVyLm9uQmx1cigpKSk7XG4gICAgdGhpcy5yZWdpc3Rlcih0aGlzLmFkZERpc3Bvc2FibGVMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB0aGlzLnJlbmRlcmVyLm9uRm9jdXMoKSkpO1xuICAgIHRoaXMucmVnaXN0ZXIodGhpcy5hZGREaXNwb3NhYmxlTGlzdGVuZXIoJ2RwcmNoYW5nZScsICgpID0+IHRoaXMucmVuZGVyZXIub25XaW5kb3dSZXNpemUod2luZG93LmRldmljZVBpeGVsUmF0aW8pKSk7XG4gICAgLy8gZHByY2hhbmdlIHNob3VsZCBoYW5kbGUgdGhpcyBjYXNlLCB3ZSBuZWVkIHRoaXMgYXMgd2VsbCBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRoZVxuICAgIC8vIG1hdGNoTWVkaWEgcXVlcnkuXG4gICAgdGhpcy5yZWdpc3RlcihhZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIod2luZG93LCAncmVzaXplJywgKCkgPT4gdGhpcy5yZW5kZXJlci5vbldpbmRvd1Jlc2l6ZSh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbykpKTtcbiAgICB0aGlzLnJlZ2lzdGVyKHRoaXMuY2hhck1lYXN1cmUuYWRkRGlzcG9zYWJsZUxpc3RlbmVyKCdjaGFyc2l6ZWNoYW5nZWQnLCAoKSA9PiB0aGlzLnJlbmRlcmVyLm9uQ2hhclNpemVDaGFuZ2VkKCkpKTtcbiAgICB0aGlzLnJlZ2lzdGVyKHRoaXMucmVuZGVyZXIuYWRkRGlzcG9zYWJsZUxpc3RlbmVyKCdyZXNpemUnLCAoZGltZW5zaW9ucykgPT4gdGhpcy52aWV3cG9ydC5zeW5jU2Nyb2xsQXJlYSgpKSk7XG5cbiAgICB0aGlzLnNlbGVjdGlvbk1hbmFnZXIgPSBuZXcgU2VsZWN0aW9uTWFuYWdlcih0aGlzLCB0aGlzLmNoYXJNZWFzdXJlKTtcbiAgICB0aGlzLnJlZ2lzdGVyKGFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcih0aGlzLmVsZW1lbnQsICdtb3VzZWRvd24nLCAoZTogTW91c2VFdmVudCkgPT4gdGhpcy5zZWxlY3Rpb25NYW5hZ2VyLm9uTW91c2VEb3duKGUpKSk7XG4gICAgdGhpcy5yZWdpc3Rlcih0aGlzLnNlbGVjdGlvbk1hbmFnZXIuYWRkRGlzcG9zYWJsZUxpc3RlbmVyKCdyZWZyZXNoJywgZGF0YSA9PiB0aGlzLnJlbmRlcmVyLm9uU2VsZWN0aW9uQ2hhbmdlZChkYXRhLnN0YXJ0LCBkYXRhLmVuZCwgZGF0YS5jb2x1bW5TZWxlY3RNb2RlKSkpO1xuICAgIHRoaXMucmVnaXN0ZXIodGhpcy5zZWxlY3Rpb25NYW5hZ2VyLmFkZERpc3Bvc2FibGVMaXN0ZW5lcignbmV3c2VsZWN0aW9uJywgdGV4dCA9PiB7XG4gICAgICAvLyBJZiB0aGVyZSdzIGEgbmV3IHNlbGVjdGlvbiwgcHV0IGl0IGludG8gdGhlIHRleHRhcmVhLCBmb2N1cyBhbmQgc2VsZWN0IGl0XG4gICAgICAvLyBpbiBvcmRlciB0byByZWdpc3RlciBpdCBhcyBhIHNlbGVjdGlvbiBvbiB0aGUgT1MuIFRoaXMgZXZlbnQgaXMgZmlyZWRcbiAgICAgIC8vIG9ubHkgb24gTGludXggdG8gZW5hYmxlIG1pZGRsZSBjbGljayB0byBwYXN0ZSBzZWxlY3Rpb24uXG4gICAgICB0aGlzLnRleHRhcmVhLnZhbHVlID0gdGV4dDtcbiAgICAgIHRoaXMudGV4dGFyZWEuZm9jdXMoKTtcbiAgICAgIHRoaXMudGV4dGFyZWEuc2VsZWN0KCk7XG4gICAgfSkpO1xuICAgIHRoaXMucmVnaXN0ZXIodGhpcy5hZGREaXNwb3NhYmxlTGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcbiAgICAgIHRoaXMudmlld3BvcnQuc3luY1Njcm9sbEFyZWEoKTtcbiAgICAgIHRoaXMuc2VsZWN0aW9uTWFuYWdlci5yZWZyZXNoKCk7XG4gICAgfSkpO1xuICAgIHRoaXMucmVnaXN0ZXIoYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKHRoaXMuX3ZpZXdwb3J0RWxlbWVudCwgJ3Njcm9sbCcsICgpID0+IHRoaXMuc2VsZWN0aW9uTWFuYWdlci5yZWZyZXNoKCkpKTtcblxuICAgIHRoaXMubW91c2VIZWxwZXIgPSBuZXcgTW91c2VIZWxwZXIodGhpcy5yZW5kZXJlcik7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnNjcmVlblJlYWRlck1vZGUpIHtcbiAgICAgIC8vIE5vdGUgdGhhdCB0aGlzIG11c3QgYmUgZG9uZSAqYWZ0ZXIqIHRoZSByZW5kZXJlciBpcyBjcmVhdGVkIGluIG9yZGVyIHRvXG4gICAgICAvLyBlbnN1cmUgdGhlIGNvcnJlY3Qgb3JkZXIgb2YgdGhlIGRwcmNoYW5nZSBldmVudFxuICAgICAgdGhpcy5fYWNjZXNzaWJpbGl0eU1hbmFnZXIgPSBuZXcgQWNjZXNzaWJpbGl0eU1hbmFnZXIodGhpcyk7XG4gICAgfVxuXG4gICAgLy8gTWVhc3VyZSB0aGUgY2hhcmFjdGVyIHNpemVcbiAgICB0aGlzLmNoYXJNZWFzdXJlLm1lYXN1cmUodGhpcy5vcHRpb25zKTtcblxuICAgIC8vIFNldHVwIGxvb3AgdGhhdCBkcmF3cyB0byBzY3JlZW5cbiAgICB0aGlzLnJlZnJlc2goMCwgdGhpcy5yb3dzIC0gMSk7XG5cbiAgICAvLyBJbml0aWFsaXplIGdsb2JhbCBhY3Rpb25zIHRoYXQgbmVlZCB0byBiZSB0YWtlbiBvbiB0aGUgZG9jdW1lbnQuXG4gICAgdGhpcy5faW5pdEdsb2JhbCgpO1xuXG4gICAgLy8gTGlzdGVuIGZvciBtb3VzZSBldmVudHMgYW5kIHRyYW5zbGF0ZVxuICAgIC8vIHRoZW0gaW50byB0ZXJtaW5hbCBtb3VzZSBwcm90b2NvbHMuXG4gICAgdGhpcy5iaW5kTW91c2UoKTtcblxuICB9XG5cbiAgcHJpdmF0ZSBfc2V0dXBSZW5kZXJlcigpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKHRoaXMub3B0aW9ucy5yZW5kZXJlclR5cGUpIHtcbiAgICAgIGNhc2UgJ2NhbnZhcyc6IHRoaXMucmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIodGhpcywgdGhpcy5vcHRpb25zLnRoZW1lKTsgYnJlYWs7XG4gICAgICBjYXNlICdkb20nOiB0aGlzLnJlbmRlcmVyID0gbmV3IERvbVJlbmRlcmVyKHRoaXMsIHRoaXMub3B0aW9ucy50aGVtZSk7IGJyZWFrO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgcmVuZGVyZXJUeXBlIFwiJHt0aGlzLm9wdGlvbnMucmVuZGVyZXJUeXBlfVwiYCk7XG4gICAgfVxuICAgIHRoaXMucmVnaXN0ZXIodGhpcy5yZW5kZXJlcik7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdGhlbWUgb24gdGhlIHJlbmRlcmVyLiBUaGUgcmVuZGVyZXIgbXVzdCBoYXZlIGJlZW4gaW5pdGlhbGl6ZWQuXG4gICAqIEBwYXJhbSB0aGVtZSBUaGUgdGhlbWUgdG8gc2V0LlxuICAgKi9cbiAgcHJpdmF0ZSBfc2V0VGhlbWUodGhlbWU6IElUaGVtZSk6IHZvaWQge1xuICAgIHRoaXMuX3RoZW1lID0gdGhlbWU7XG4gICAgY29uc3QgY29sb3JzID0gdGhpcy5yZW5kZXJlci5zZXRUaGVtZSh0aGVtZSk7XG4gICAgaWYgKHRoaXMudmlld3BvcnQpIHtcbiAgICAgIHRoaXMudmlld3BvcnQub25UaGVtZUNoYW5nZWQoY29sb3JzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogWFRlcm0gbW91c2UgZXZlbnRzXG4gICAqIGh0dHA6Ly9pbnZpc2libGUtaXNsYW5kLm5ldC94dGVybS9jdGxzZXFzL2N0bHNlcXMuaHRtbCNNb3VzZSUyMFRyYWNraW5nXG4gICAqIFRvIGJldHRlciB1bmRlcnN0YW5kIHRoZXNlXG4gICAqIHRoZSB4dGVybSBjb2RlIGlzIHZlcnkgaGVscGZ1bDpcbiAgICogUmVsZXZhbnQgZmlsZXM6XG4gICAqICAgYnV0dG9uLmMsIGNoYXJwcm9jLmMsIG1pc2MuY1xuICAgKiBSZWxldmFudCBmdW5jdGlvbnMgaW4geHRlcm0vYnV0dG9uLmM6XG4gICAqICAgQnRuQ29kZSwgRW1pdEJ1dHRvbkNvZGUsIEVkaXRvckJ1dHRvbiwgU2VuZE1vdXNlUG9zaXRpb25cbiAgICovXG4gIHB1YmxpYyBiaW5kTW91c2UoKTogdm9pZCB7XG4gICAgY29uc3QgZWwgPSB0aGlzLmVsZW1lbnQ7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IHByZXNzZWQgPSAzMjtcblxuICAgIC8vIG1vdXNldXAsIG1vdXNlZG93biwgd2hlZWxcbiAgICAvLyBsZWZ0IGNsaWNrOiBeW1tNIDM8XltbTSMzPFxuICAgIC8vIHdoZWVsIHVwOiBeW1tNYDM+XG4gICAgZnVuY3Rpb24gc2VuZEJ1dHRvbihldjogTW91c2VFdmVudCB8IFdoZWVsRXZlbnQpOiB2b2lkIHtcbiAgICAgIGxldCBidXR0b247XG4gICAgICBsZXQgcG9zO1xuXG4gICAgICAvLyBnZXQgdGhlIHh0ZXJtLXN0eWxlIGJ1dHRvblxuICAgICAgYnV0dG9uID0gZ2V0QnV0dG9uKGV2KTtcblxuICAgICAgLy8gZ2V0IG1vdXNlIGNvb3JkaW5hdGVzXG4gICAgICBwb3MgPSBzZWxmLm1vdXNlSGVscGVyLmdldFJhd0J5dGVDb29yZHMoZXYsIHNlbGYuc2NyZWVuRWxlbWVudCwgc2VsZi5jaGFyTWVhc3VyZSwgc2VsZi5jb2xzLCBzZWxmLnJvd3MpO1xuICAgICAgaWYgKCFwb3MpIHJldHVybjtcblxuICAgICAgc2VuZEV2ZW50KGJ1dHRvbiwgcG9zKTtcblxuICAgICAgc3dpdGNoICgoPGFueT5ldikub3ZlcnJpZGVUeXBlIHx8IGV2LnR5cGUpIHtcbiAgICAgICAgY2FzZSAnbW91c2Vkb3duJzpcbiAgICAgICAgICBwcmVzc2VkID0gYnV0dG9uO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtb3VzZXVwJzpcbiAgICAgICAgICAvLyBrZWVwIGl0IGF0IHRoZSBsZWZ0XG4gICAgICAgICAgLy8gYnV0dG9uLCBqdXN0IGluIGNhc2UuXG4gICAgICAgICAgcHJlc3NlZCA9IDMyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd3aGVlbCc6XG4gICAgICAgICAgLy8gbm90aGluZy4gZG9uJ3RcbiAgICAgICAgICAvLyBpbnRlcmZlcmUgd2l0aFxuICAgICAgICAgIC8vIGBwcmVzc2VkYC5cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBtb3Rpb24gZXhhbXBsZSBvZiBhIGxlZnQgY2xpY2s6XG4gICAgLy8gXltbTSAzPF5bW01ANDxeW1tNQDU8XltbTUA2PF5bW01ANzxeW1tNIzc8XG4gICAgZnVuY3Rpb24gc2VuZE1vdmUoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICAgIGxldCBidXR0b24gPSBwcmVzc2VkO1xuICAgICAgY29uc3QgcG9zID0gc2VsZi5tb3VzZUhlbHBlci5nZXRSYXdCeXRlQ29vcmRzKGV2LCBzZWxmLnNjcmVlbkVsZW1lbnQsIHNlbGYuY2hhck1lYXN1cmUsIHNlbGYuY29scywgc2VsZi5yb3dzKTtcbiAgICAgIGlmICghcG9zKSByZXR1cm47XG5cbiAgICAgIC8vIGJ1dHRvbnMgbWFya2VkIGFzIG1vdGlvbnNcbiAgICAgIC8vIGFyZSBpbmNyZW1lbnRlZCBieSAzMlxuICAgICAgYnV0dG9uICs9IDMyO1xuXG4gICAgICBzZW5kRXZlbnQoYnV0dG9uLCBwb3MpO1xuICAgIH1cblxuICAgIC8vIGVuY29kZSBidXR0b24gYW5kXG4gICAgLy8gcG9zaXRpb24gdG8gY2hhcmFjdGVyc1xuICAgIGZ1bmN0aW9uIGVuY29kZShkYXRhOiBudW1iZXJbXSwgY2g6IG51bWJlcik6IHZvaWQge1xuICAgICAgaWYgKCFzZWxmLnV0Zk1vdXNlKSB7XG4gICAgICAgIGlmIChjaCA9PT0gMjU1KSB7XG4gICAgICAgICAgZGF0YS5wdXNoKDApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2ggPiAxMjcpIGNoID0gMTI3O1xuICAgICAgICBkYXRhLnB1c2goY2gpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNoID09PSAyMDQ3KSB7XG4gICAgICAgICAgZGF0YS5wdXNoKDApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2ggPCAxMjcpIHtcbiAgICAgICAgICBkYXRhLnB1c2goY2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChjaCA+IDIwNDcpIGNoID0gMjA0NztcbiAgICAgICAgICBkYXRhLnB1c2goMHhDMCB8IChjaCA+PiA2KSk7XG4gICAgICAgICAgZGF0YS5wdXNoKDB4ODAgfCAoY2ggJiAweDNGKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzZW5kIGEgbW91c2UgZXZlbnQ6XG4gICAgLy8gcmVndWxhci91dGY4OiBeW1tNIENiIEN4IEN5XG4gICAgLy8gdXJ4dnQ6IF5bWyBDYiA7IEN4IDsgQ3kgTVxuICAgIC8vIHNncjogXltbIENiIDsgQ3ggOyBDeSBNL21cbiAgICAvLyB2dDMwMDogXltbIDI0KDEvMy81KX4gWyBDeCAsIEN5IF0gXFxyXG4gICAgLy8gbG9jYXRvcjogQ1NJIFAgZSA7IFAgYiA7IFAgciA7IFAgYyA7IFAgcCAmIHdcbiAgICBmdW5jdGlvbiBzZW5kRXZlbnQoYnV0dG9uOiBudW1iZXIsIHBvczoge3g6IG51bWJlciwgeTogbnVtYmVyfSk6IHZvaWQge1xuICAgICAgLy8gc2VsZi5lbWl0KCdtb3VzZScsIHtcbiAgICAgIC8vICAgeDogcG9zLnggLSAzMixcbiAgICAgIC8vICAgeTogcG9zLnggLSAzMixcbiAgICAgIC8vICAgYnV0dG9uOiBidXR0b25cbiAgICAgIC8vIH0pO1xuXG4gICAgICBpZiAoc2VsZi5fdnQzMDBNb3VzZSkge1xuICAgICAgICAvLyBOT1RFOiBVbnN0YWJsZS5cbiAgICAgICAgLy8gaHR0cDovL3d3dy52dDEwMC5uZXQvZG9jcy92dDN4eC1ncC9jaGFwdGVyMTUuaHRtbFxuICAgICAgICBidXR0b24gJj0gMztcbiAgICAgICAgcG9zLnggLT0gMzI7XG4gICAgICAgIHBvcy55IC09IDMyO1xuICAgICAgICBsZXQgZGF0YSA9IEMwLkVTQyArICdbMjQnO1xuICAgICAgICBpZiAoYnV0dG9uID09PSAwKSBkYXRhICs9ICcxJztcbiAgICAgICAgZWxzZSBpZiAoYnV0dG9uID09PSAxKSBkYXRhICs9ICczJztcbiAgICAgICAgZWxzZSBpZiAoYnV0dG9uID09PSAyKSBkYXRhICs9ICc1JztcbiAgICAgICAgZWxzZSBpZiAoYnV0dG9uID09PSAzKSByZXR1cm47XG4gICAgICAgIGVsc2UgZGF0YSArPSAnMCc7XG4gICAgICAgIGRhdGEgKz0gJ35bJyArIHBvcy54ICsgJywnICsgcG9zLnkgKyAnXVxccic7XG4gICAgICAgIHNlbGYuaGFuZGxlcihkYXRhKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi5fZGVjTG9jYXRvcikge1xuICAgICAgICAvLyBOT1RFOiBVbnN0YWJsZS5cbiAgICAgICAgYnV0dG9uICY9IDM7XG4gICAgICAgIHBvcy54IC09IDMyO1xuICAgICAgICBwb3MueSAtPSAzMjtcbiAgICAgICAgaWYgKGJ1dHRvbiA9PT0gMCkgYnV0dG9uID0gMjtcbiAgICAgICAgZWxzZSBpZiAoYnV0dG9uID09PSAxKSBidXR0b24gPSA0O1xuICAgICAgICBlbHNlIGlmIChidXR0b24gPT09IDIpIGJ1dHRvbiA9IDY7XG4gICAgICAgIGVsc2UgaWYgKGJ1dHRvbiA9PT0gMykgYnV0dG9uID0gMztcbiAgICAgICAgc2VsZi5oYW5kbGVyKEMwLkVTQyArICdbJ1xuICAgICAgICAgICAgICAgICAgKyBidXR0b25cbiAgICAgICAgICAgICAgICAgICsgJzsnXG4gICAgICAgICAgICAgICAgICArIChidXR0b24gPT09IDMgPyA0IDogMClcbiAgICAgICAgICAgICAgICAgICsgJzsnXG4gICAgICAgICAgICAgICAgICArIHBvcy55XG4gICAgICAgICAgICAgICAgICArICc7J1xuICAgICAgICAgICAgICAgICAgKyBwb3MueFxuICAgICAgICAgICAgICAgICAgKyAnOydcbiAgICAgICAgICAgICAgICAgIC8vIE5vdCBzdXJlIHdoYXQgcGFnZSBpcyBtZWFudCB0byBiZVxuICAgICAgICAgICAgICAgICAgKyAoPGFueT5wb3MpLnBhZ2UgfHwgMFxuICAgICAgICAgICAgICAgICAgKyAnJncnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZi51cnh2dE1vdXNlKSB7XG4gICAgICAgIHBvcy54IC09IDMyO1xuICAgICAgICBwb3MueSAtPSAzMjtcbiAgICAgICAgcG9zLngrKztcbiAgICAgICAgcG9zLnkrKztcbiAgICAgICAgc2VsZi5oYW5kbGVyKEMwLkVTQyArICdbJyArIGJ1dHRvbiArICc7JyArIHBvcy54ICsgJzsnICsgcG9zLnkgKyAnTScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxmLnNnck1vdXNlKSB7XG4gICAgICAgIHBvcy54IC09IDMyO1xuICAgICAgICBwb3MueSAtPSAzMjtcbiAgICAgICAgc2VsZi5oYW5kbGVyKEMwLkVTQyArICdbPCdcbiAgICAgICAgICAgICAgICAgICsgKCgoYnV0dG9uICYgMykgPT09IDMgPyBidXR0b24gJiB+MyA6IGJ1dHRvbikgLSAzMilcbiAgICAgICAgICAgICAgICAgICsgJzsnXG4gICAgICAgICAgICAgICAgICArIHBvcy54XG4gICAgICAgICAgICAgICAgICArICc7J1xuICAgICAgICAgICAgICAgICAgKyBwb3MueVxuICAgICAgICAgICAgICAgICAgKyAoKGJ1dHRvbiAmIDMpID09PSAzID8gJ20nIDogJ00nKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YTogbnVtYmVyW10gPSBbXTtcblxuICAgICAgZW5jb2RlKGRhdGEsIGJ1dHRvbik7XG4gICAgICBlbmNvZGUoZGF0YSwgcG9zLngpO1xuICAgICAgZW5jb2RlKGRhdGEsIHBvcy55KTtcblxuICAgICAgc2VsZi5oYW5kbGVyKEMwLkVTQyArICdbTScgKyBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgZGF0YSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEJ1dHRvbihldjogTW91c2VFdmVudCk6IG51bWJlciB7XG4gICAgICBsZXQgYnV0dG9uO1xuICAgICAgbGV0IHNoaWZ0O1xuICAgICAgbGV0IG1ldGE7XG4gICAgICBsZXQgY3RybDtcbiAgICAgIGxldCBtb2Q7XG5cbiAgICAgIC8vIHR3byBsb3cgYml0czpcbiAgICAgIC8vIDAgPSBsZWZ0XG4gICAgICAvLyAxID0gbWlkZGxlXG4gICAgICAvLyAyID0gcmlnaHRcbiAgICAgIC8vIDMgPSByZWxlYXNlXG4gICAgICAvLyB3aGVlbCB1cC9kb3duOlxuICAgICAgLy8gMSwgYW5kIDIgLSB3aXRoIDY0IGFkZGVkXG4gICAgICBzd2l0Y2ggKCg8YW55PmV2KS5vdmVycmlkZVR5cGUgfHwgZXYudHlwZSkge1xuICAgICAgICBjYXNlICdtb3VzZWRvd24nOlxuICAgICAgICAgIGJ1dHRvbiA9IGV2LmJ1dHRvbiAhPT0gbnVsbCAmJiBldi5idXR0b24gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyArZXYuYnV0dG9uXG4gICAgICAgICAgOiBldi53aGljaCAhPT0gbnVsbCAmJiBldi53aGljaCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGV2LndoaWNoIC0gMVxuICAgICAgICAgIDogbnVsbDtcblxuICAgICAgICAgIGlmIChCcm93c2VyLmlzTVNJRSkge1xuICAgICAgICAgICAgYnV0dG9uID0gYnV0dG9uID09PSAxID8gMCA6IGJ1dHRvbiA9PT0gNCA/IDEgOiBidXR0b247XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtb3VzZXVwJzpcbiAgICAgICAgICBidXR0b24gPSAzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdET01Nb3VzZVNjcm9sbCc6XG4gICAgICAgICAgYnV0dG9uID0gZXYuZGV0YWlsIDwgMFxuICAgICAgICAgICAgPyA2NFxuICAgICAgICAgIDogNjU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3doZWVsJzpcbiAgICAgICAgICBidXR0b24gPSAoPFdoZWVsRXZlbnQ+ZXYpLmRlbHRhWSA8IDBcbiAgICAgICAgICAgID8gNjRcbiAgICAgICAgICA6IDY1O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICAvLyBuZXh0IHRocmVlIGJpdHMgYXJlIHRoZSBtb2RpZmllcnM6XG4gICAgICAvLyA0ID0gc2hpZnQsIDggPSBtZXRhLCAxNiA9IGNvbnRyb2xcbiAgICAgIHNoaWZ0ID0gZXYuc2hpZnRLZXkgPyA0IDogMDtcbiAgICAgIG1ldGEgPSBldi5tZXRhS2V5ID8gOCA6IDA7XG4gICAgICBjdHJsID0gZXYuY3RybEtleSA/IDE2IDogMDtcbiAgICAgIG1vZCA9IHNoaWZ0IHwgbWV0YSB8IGN0cmw7XG5cbiAgICAgIC8vIG5vIG1vZHNcbiAgICAgIGlmIChzZWxmLnZ0MjAwTW91c2UpIHtcbiAgICAgICAgLy8gY3RybCBvbmx5XG4gICAgICAgIG1vZCAmPSBjdHJsO1xuICAgICAgfSBlbHNlIGlmICghc2VsZi5ub3JtYWxNb3VzZSkge1xuICAgICAgICBtb2QgPSAwO1xuICAgICAgfVxuXG4gICAgICAvLyBpbmNyZW1lbnQgdG8gU1BcbiAgICAgIGJ1dHRvbiA9ICgzMiArIChtb2QgPDwgMikpICsgYnV0dG9uO1xuXG4gICAgICByZXR1cm4gYnV0dG9uO1xuICAgIH1cblxuICAgIHRoaXMucmVnaXN0ZXIoYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKGVsLCAnbW91c2Vkb3duJywgKGV2OiBNb3VzZUV2ZW50KSA9PiB7XG5cbiAgICAgIC8vIFByZXZlbnQgdGhlIGZvY3VzIG9uIHRoZSB0ZXh0YXJlYSBmcm9tIGdldHRpbmcgbG9zdFxuICAgICAgLy8gYW5kIG1ha2Ugc3VyZSB3ZSBnZXQgZm9jdXNlZCBvbiBtb3VzZWRvd25cbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmZvY3VzKCk7XG5cbiAgICAgIC8vIERvbid0IHNlbmQgdGhlIG1vdXNlIGJ1dHRvbiB0byB0aGUgcHR5IGlmIG1vdXNlIGV2ZW50cyBhcmUgZGlzYWJsZWQgb3JcbiAgICAgIC8vIGlmIHRoZSBzZWxlY3Rpb24gbWFuYWdlciBpcyBoYXZpbmcgc2VsZWN0aW9uIGZvcmNlZCAoaWUuIGEgbW9kaWZpZXIgaXNcbiAgICAgIC8vIGhlbGQpLlxuICAgICAgaWYgKCF0aGlzLm1vdXNlRXZlbnRzIHx8IHRoaXMuc2VsZWN0aW9uTWFuYWdlci5zaG91bGRGb3JjZVNlbGVjdGlvbihldikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBzZW5kIHRoZSBidXR0b25cbiAgICAgIHNlbmRCdXR0b24oZXYpO1xuXG4gICAgICAvLyBmaXggZm9yIG9kZCBidWdcbiAgICAgIC8vIGlmICh0aGlzLnZ0MjAwTW91c2UgJiYgIXRoaXMubm9ybWFsTW91c2UpIHtcbiAgICAgIGlmICh0aGlzLnZ0MjAwTW91c2UpIHtcbiAgICAgICAgKDxhbnk+ZXYpLm92ZXJyaWRlVHlwZSA9ICdtb3VzZXVwJztcbiAgICAgICAgc2VuZEJ1dHRvbihldik7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbmNlbChldik7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IEFsbCBtb3VzZSBoYW5kbGluZyBzaG91bGQgYmUgcHVsbGVkIGludG8gaXRzIG93biBmaWxlLlxuXG4gICAgICAvLyBiaW5kIGV2ZW50c1xuICAgICAgbGV0IG1vdmVIYW5kbGVyOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQ7XG4gICAgICBpZiAodGhpcy5ub3JtYWxNb3VzZSkge1xuICAgICAgICBtb3ZlSGFuZGxlciA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgbm9ybWFsIG1vdXNlIG1vZGUgaXMgb24uIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgbW91c2UgaXMgaGVsZCBkb3duIHdoZW4gdGhlXG4gICAgICAgICAgLy8gdGVybWluYWwgZXhpdHMgbm9ybWFsTW91c2UgbW9kZS5cbiAgICAgICAgICBpZiAoIXRoaXMubm9ybWFsTW91c2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VuZE1vdmUoZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPOiB0aGVzZSBldmVudCBsaXN0ZW5lcnMgc2hvdWxkIGJlIG1hbmFnZWQgYnkgdGhlIGRpc3Bvc2FibGUsIHRoZSBUZXJtaW5hbCByZWZlcmVuY2UgbWF5XG4gICAgICAgIC8vIGJlIGtlcHQgYXJvdWQgaWYgVGVybWluYWwuZGlzcG9zZSBpcyBmaXJlZCB3aGVuIHRoZSBtb3VzZSBpcyBkb3duXG4gICAgICAgIHRoaXMuX2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdmVIYW5kbGVyKTtcbiAgICAgIH1cblxuICAgICAgLy8geDEwIGNvbXBhdGliaWxpdHkgbW9kZSBjYW4ndCBzZW5kIGJ1dHRvbiByZWxlYXNlc1xuICAgICAgY29uc3QgaGFuZGxlciA9IChldjogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5ub3JtYWxNb3VzZSAmJiAhdGhpcy54MTBNb3VzZSkge1xuICAgICAgICAgIHNlbmRCdXR0b24oZXYpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb3ZlSGFuZGxlcikge1xuICAgICAgICAgIC8vIEV2ZW4gdGhvdWdoIHRoaXMgc2hvdWxkIG9ubHkgYmUgYXR0YWNoZWQgd2hlbiB0aGlzLm5vcm1hbE1vdXNlIGlzIHRydWUsIGhvbGRpbmcgdGhlXG4gICAgICAgICAgLy8gbW91c2UgYnV0dG9uIGRvd24gd2hlbiBub3JtYWxNb3VzZSBjaGFuZ2VzIGNhbiBoYXBwZW4uIEp1c3QgYWx3YXlzIHRyeSB0byByZW1vdmUgaXQuXG4gICAgICAgICAgdGhpcy5fZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgbW92ZUhhbmRsZXIpO1xuICAgICAgICAgIG1vdmVIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlcik7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbmNlbChldik7XG4gICAgICB9O1xuICAgICAgdGhpcy5fZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZXIpO1xuXG4gICAgICByZXR1cm4gdGhpcy5jYW5jZWwoZXYpO1xuICAgIH0pKTtcblxuICAgIC8vIGlmICh0aGlzLm5vcm1hbE1vdXNlKSB7XG4gICAgLy8gIG9uKHRoaXMuZG9jdW1lbnQsICdtb3VzZW1vdmUnLCBzZW5kTW92ZSk7XG4gICAgLy8gfVxuXG4gICAgdGhpcy5yZWdpc3RlcihhZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIoZWwsICd3aGVlbCcsIChldjogV2hlZWxFdmVudCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLm1vdXNlRXZlbnRzKSB7XG4gICAgICAgIC8vIENvbnZlcnQgd2hlZWwgZXZlbnRzIGludG8gdXAvZG93biBldmVudHMgd2hlbiB0aGUgYnVmZmVyIGRvZXMgbm90IGhhdmUgc2Nyb2xsYmFjaywgdGhpc1xuICAgICAgICAvLyBlbmFibGVzIHNjcm9sbGluZyBpbiBhcHBzIGhvc3RlZCBpbiB0aGUgYWx0IGJ1ZmZlciBzdWNoIGFzIHZpbSBvciB0bXV4LlxuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyLmhhc1Njcm9sbGJhY2spIHtcbiAgICAgICAgICBjb25zdCBhbW91bnQgPSB0aGlzLnZpZXdwb3J0LmdldExpbmVzU2Nyb2xsZWQoZXYpO1xuXG4gICAgICAgICAgLy8gRG8gbm90aGluZyBpZiB0aGVyZSdzIG5vIHZlcnRpY2FsIHNjcm9sbFxuICAgICAgICAgIGlmIChhbW91bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDb25zdHJ1Y3QgYW5kIHNlbmQgc2VxdWVuY2VzXG4gICAgICAgICAgY29uc3Qgc2VxdWVuY2UgPSBDMC5FU0MgKyAodGhpcy5hcHBsaWNhdGlvbkN1cnNvciA/ICdPJyA6ICdbJykgKyAoIGV2LmRlbHRhWSA8IDAgPyAnQScgOiAnQicpO1xuICAgICAgICAgIGxldCBkYXRhID0gJyc7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLmFicyhhbW91bnQpOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEgKz0gc2VxdWVuY2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaGFuZGxlcihkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy54MTBNb3VzZSB8fCB0aGlzLl92dDMwME1vdXNlIHx8IHRoaXMuX2RlY0xvY2F0b3IpIHJldHVybjtcbiAgICAgIHNlbmRCdXR0b24oZXYpO1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICB9KSk7XG5cbiAgICAvLyBhbGxvdyB3aGVlbCBzY3JvbGxpbmcgaW5cbiAgICAvLyB0aGUgc2hlbGwgZm9yIGV4YW1wbGVcbiAgICB0aGlzLnJlZ2lzdGVyKGFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcihlbCwgJ3doZWVsJywgKGV2OiBXaGVlbEV2ZW50KSA9PiB7XG4gICAgICBpZiAodGhpcy5tb3VzZUV2ZW50cykgcmV0dXJuO1xuICAgICAgdGhpcy52aWV3cG9ydC5vbldoZWVsKGV2KTtcbiAgICAgIHJldHVybiB0aGlzLmNhbmNlbChldik7XG4gICAgfSkpO1xuXG4gICAgdGhpcy5yZWdpc3RlcihhZGREaXNwb3NhYmxlRG9tTGlzdGVuZXIoZWwsICd0b3VjaHN0YXJ0JywgKGV2OiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgICBpZiAodGhpcy5tb3VzZUV2ZW50cykgcmV0dXJuO1xuICAgICAgdGhpcy52aWV3cG9ydC5vblRvdWNoU3RhcnQoZXYpO1xuICAgICAgcmV0dXJuIHRoaXMuY2FuY2VsKGV2KTtcbiAgICB9KSk7XG5cbiAgICB0aGlzLnJlZ2lzdGVyKGFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcihlbCwgJ3RvdWNobW92ZScsIChldjogVG91Y2hFdmVudCkgPT4ge1xuICAgICAgaWYgKHRoaXMubW91c2VFdmVudHMpIHJldHVybjtcbiAgICAgIHRoaXMudmlld3BvcnQub25Ub3VjaE1vdmUoZXYpO1xuICAgICAgcmV0dXJuIHRoaXMuY2FuY2VsKGV2KTtcbiAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogVGVsbHMgdGhlIHJlbmRlcmVyIHRvIHJlZnJlc2ggdGVybWluYWwgY29udGVudCBiZXR3ZWVuIHR3byByb3dzIChpbmNsdXNpdmUpIGF0IHRoZSBuZXh0XG4gICAqIG9wcG9ydHVuaXR5LlxuICAgKiBAcGFyYW0gc3RhcnQgVGhlIHJvdyB0byBzdGFydCBmcm9tIChiZXR3ZWVuIDAgYW5kIHRoaXMucm93cyAtIDEpLlxuICAgKiBAcGFyYW0gZW5kIFRoZSByb3cgdG8gZW5kIGF0IChiZXR3ZWVuIHN0YXJ0IGFuZCB0aGlzLnJvd3MgLSAxKS5cbiAgICovXG4gIHB1YmxpYyByZWZyZXNoKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucmVuZGVyZXIpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIucmVmcmVzaFJvd3Moc3RhcnQsIGVuZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFF1ZXVlcyBsaW5raWZpY2F0aW9uIGZvciB0aGUgc3BlY2lmaWVkIHJvd3MuXG4gICAqIEBwYXJhbSBzdGFydCBUaGUgcm93IHRvIHN0YXJ0IGZyb20gKGJldHdlZW4gMCBhbmQgdGhpcy5yb3dzIC0gMSkuXG4gICAqIEBwYXJhbSBlbmQgVGhlIHJvdyB0byBlbmQgYXQgKGJldHdlZW4gc3RhcnQgYW5kIHRoaXMucm93cyAtIDEpLlxuICAgKi9cbiAgcHJpdmF0ZSBfcXVldWVMaW5raWZpY2F0aW9uKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubGlua2lmaWVyKSB7XG4gICAgICB0aGlzLmxpbmtpZmllci5saW5raWZ5Um93cyhzdGFydCwgZW5kKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hhbmdlIHRoZSBjdXJzb3Igc3R5bGUgZm9yIGRpZmZlcmVudCBzZWxlY3Rpb24gbW9kZXNcbiAgICovXG4gIHB1YmxpYyB1cGRhdGVDdXJzb3JTdHlsZShldjogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNlbGVjdGlvbk1hbmFnZXIgJiYgdGhpcy5zZWxlY3Rpb25NYW5hZ2VyLnNob3VsZENvbHVtblNlbGVjdChldikpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjb2x1bW4tc2VsZWN0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdjb2x1bW4tc2VsZWN0Jyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc3BsYXkgdGhlIGN1cnNvciBlbGVtZW50XG4gICAqL1xuICBwdWJsaWMgc2hvd0N1cnNvcigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY3Vyc29yU3RhdGUpIHtcbiAgICAgIHRoaXMuY3Vyc29yU3RhdGUgPSAxO1xuICAgICAgdGhpcy5yZWZyZXNoKHRoaXMuYnVmZmVyLnksIHRoaXMuYnVmZmVyLnkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGwgdGhlIHRlcm1pbmFsIGRvd24gMSByb3csIGNyZWF0aW5nIGEgYmxhbmsgbGluZS5cbiAgICogQHBhcmFtIGlzV3JhcHBlZCBXaGV0aGVyIHRoZSBuZXcgbGluZSBpcyB3cmFwcGVkIGZyb20gdGhlIHByZXZpb3VzIGxpbmUuXG4gICAqL1xuICBwdWJsaWMgc2Nyb2xsKGlzV3JhcHBlZDogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgbGV0IG5ld0xpbmU6IElCdWZmZXJMaW5lO1xuICAgIGNvbnN0IHVzZVJlY3ljbGluZyA9IHRoaXMub3B0aW9ucy5leHBlcmltZW50YWxCdWZmZXJMaW5lSW1wbCAhPT0gJ0pzQXJyYXknO1xuICAgIGlmICh1c2VSZWN5Y2xpbmcpIHtcbiAgICAgIG5ld0xpbmUgPSB0aGlzLl9ibGFua0xpbmU7XG4gICAgICBpZiAoIW5ld0xpbmUgfHwgbmV3TGluZS5sZW5ndGggIT09IHRoaXMuY29scyB8fCBuZXdMaW5lLmdldCgwKVtDSEFSX0RBVEFfQVRUUl9JTkRFWF0gIT09IHRoaXMuZXJhc2VBdHRyKCkpIHtcbiAgICAgICAgbmV3TGluZSA9IHRoaXMuYnVmZmVyLmdldEJsYW5rTGluZSh0aGlzLmVyYXNlQXR0cigpLCBpc1dyYXBwZWQpO1xuICAgICAgICB0aGlzLl9ibGFua0xpbmUgPSBuZXdMaW5lO1xuICAgICAgfVxuICAgICAgbmV3TGluZS5pc1dyYXBwZWQgPSBpc1dyYXBwZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0xpbmUgPSB0aGlzLmJ1ZmZlci5nZXRCbGFua0xpbmUodGhpcy5lcmFzZUF0dHIoKSwgaXNXcmFwcGVkKTtcbiAgICB9XG5cbiAgICBjb25zdCB0b3BSb3cgPSB0aGlzLmJ1ZmZlci55YmFzZSArIHRoaXMuYnVmZmVyLnNjcm9sbFRvcDtcbiAgICBjb25zdCBib3R0b21Sb3cgPSB0aGlzLmJ1ZmZlci55YmFzZSArIHRoaXMuYnVmZmVyLnNjcm9sbEJvdHRvbTtcblxuICAgIGlmICh0aGlzLmJ1ZmZlci5zY3JvbGxUb3AgPT09IDApIHtcbiAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIHRoZSBidWZmZXIgaXMgZ29pbmcgdG8gYmUgdHJpbW1lZCBhZnRlciBpbnNlcnRpb24uXG4gICAgICBjb25zdCB3aWxsQnVmZmVyQmVUcmltbWVkID0gdGhpcy5idWZmZXIubGluZXMuaXNGdWxsO1xuXG4gICAgICAvLyBJbnNlcnQgdGhlIGxpbmUgdXNpbmcgdGhlIGZhc3Rlc3QgbWV0aG9kXG4gICAgICBpZiAoYm90dG9tUm93ID09PSB0aGlzLmJ1ZmZlci5saW5lcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIGlmICh1c2VSZWN5Y2xpbmcpIHtcbiAgICAgICAgICBpZiAod2lsbEJ1ZmZlckJlVHJpbW1lZCkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIubGluZXMucmVjeWNsZSgpLmNvcHlGcm9tKG5ld0xpbmUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5saW5lcy5wdXNoKG5ld0xpbmUuY2xvbmUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuYnVmZmVyLmxpbmVzLnB1c2gobmV3TGluZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYnVmZmVyLmxpbmVzLnNwbGljZShib3R0b21Sb3cgKyAxLCAwLCAodXNlUmVjeWNsaW5nKSA/IG5ld0xpbmUuY2xvbmUoKSA6IG5ld0xpbmUpO1xuICAgICAgfVxuXG4gICAgICAvLyBPbmx5IGFkanVzdCB5YmFzZSBhbmQgeWRpc3Agd2hlbiB0aGUgYnVmZmVyIGlzIG5vdCB0cmltbWVkXG4gICAgICBpZiAoIXdpbGxCdWZmZXJCZVRyaW1tZWQpIHtcbiAgICAgICAgdGhpcy5idWZmZXIueWJhc2UrKztcbiAgICAgICAgLy8gT25seSBzY3JvbGwgdGhlIHlkaXNwIHdpdGggeWJhc2UgaWYgdGhlIHVzZXIgaGFzIG5vdCBzY3JvbGxlZCB1cFxuICAgICAgICBpZiAoIXRoaXMuX3VzZXJTY3JvbGxpbmcpIHtcbiAgICAgICAgICB0aGlzLmJ1ZmZlci55ZGlzcCsrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXaGVuIHRoZSBidWZmZXIgaXMgZnVsbCBhbmQgdGhlIHVzZXIgaGFzIHNjcm9sbGVkIHVwLCBrZWVwIHRoZSB0ZXh0XG4gICAgICAgIC8vIHN0YWJsZSB1bmxlc3MgeWRpc3AgaXMgcmlnaHQgYXQgdGhlIHRvcFxuICAgICAgICBpZiAodGhpcy5fdXNlclNjcm9sbGluZykge1xuICAgICAgICAgIHRoaXMuYnVmZmVyLnlkaXNwID0gTWF0aC5tYXgodGhpcy5idWZmZXIueWRpc3AgLSAxLCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzY3JvbGxUb3AgaXMgbm9uLXplcm8gd2hpY2ggbWVhbnMgbm8gbGluZSB3aWxsIGJlIGdvaW5nIHRvIHRoZVxuICAgICAgLy8gc2Nyb2xsYmFjaywgaW5zdGVhZCB3ZSBjYW4ganVzdCBzaGlmdCB0aGVtIGluLXBsYWNlLlxuICAgICAgY29uc3Qgc2Nyb2xsUmVnaW9uSGVpZ2h0ID0gYm90dG9tUm93IC0gdG9wUm93ICsgMS8qYXMgaXQncyB6ZXJvLWJhc2VkKi87XG4gICAgICB0aGlzLmJ1ZmZlci5saW5lcy5zaGlmdEVsZW1lbnRzKHRvcFJvdyArIDEsIHNjcm9sbFJlZ2lvbkhlaWdodCAtIDEsIC0xKTtcbiAgICAgIHRoaXMuYnVmZmVyLmxpbmVzLnNldChib3R0b21Sb3csICh1c2VSZWN5Y2xpbmcpID8gbmV3TGluZS5jbG9uZSgpIDogbmV3TGluZSk7XG4gICAgfVxuXG4gICAgLy8gTW92ZSB0aGUgdmlld3BvcnQgdG8gdGhlIGJvdHRvbSBvZiB0aGUgYnVmZmVyIHVubGVzcyB0aGUgdXNlciBpc1xuICAgIC8vIHNjcm9sbGluZy5cbiAgICBpZiAoIXRoaXMuX3VzZXJTY3JvbGxpbmcpIHtcbiAgICAgIHRoaXMuYnVmZmVyLnlkaXNwID0gdGhpcy5idWZmZXIueWJhc2U7XG4gICAgfVxuXG4gICAgLy8gRmxhZyByb3dzIHRoYXQgbmVlZCB1cGRhdGluZ1xuICAgIHRoaXMudXBkYXRlUmFuZ2UodGhpcy5idWZmZXIuc2Nyb2xsVG9wKTtcbiAgICB0aGlzLnVwZGF0ZVJhbmdlKHRoaXMuYnVmZmVyLnNjcm9sbEJvdHRvbSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGV2ZW50IGlzIGVtaXR0ZWQgd2hlbmV2ZXIgdGhlIHRlcm1pbmFsIGlzIHNjcm9sbGVkLlxuICAgICAqIFRoZSBvbmUgcGFyYW1ldGVyIHBhc3NlZCBpcyB0aGUgbmV3IHkgZGlzcGxheSBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBldmVudCBzY3JvbGxcbiAgICAgKi9cbiAgICB0aGlzLmVtaXQoJ3Njcm9sbCcsIHRoaXMuYnVmZmVyLnlkaXNwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGwgdGhlIGRpc3BsYXkgb2YgdGhlIHRlcm1pbmFsXG4gICAqIEBwYXJhbSBkaXNwIFRoZSBudW1iZXIgb2YgbGluZXMgdG8gc2Nyb2xsIGRvd24gKG5lZ2F0aXZlIHNjcm9sbCB1cCkuXG4gICAqIEBwYXJhbSBzdXBwcmVzc1Njcm9sbEV2ZW50IERvbid0IGVtaXQgdGhlIHNjcm9sbCBldmVudCBhcyBzY3JvbGxMaW5lcy4gVGhpcyBpcyB1c2VkXG4gICAqIHRvIGF2b2lkIHVud2FudGVkIGV2ZW50cyBiZWluZyBoYW5kbGVkIGJ5IHRoZSB2aWV3cG9ydCB3aGVuIHRoZSBldmVudCB3YXMgdHJpZ2dlcmVkIGZyb20gdGhlXG4gICAqIHZpZXdwb3J0IG9yaWdpbmFsbHkuXG4gICAqL1xuICBwdWJsaWMgc2Nyb2xsTGluZXMoZGlzcDogbnVtYmVyLCBzdXBwcmVzc1Njcm9sbEV2ZW50PzogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmIChkaXNwIDwgMCkge1xuICAgICAgaWYgKHRoaXMuYnVmZmVyLnlkaXNwID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3VzZXJTY3JvbGxpbmcgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZGlzcCArIHRoaXMuYnVmZmVyLnlkaXNwID49IHRoaXMuYnVmZmVyLnliYXNlKSB7XG4gICAgICB0aGlzLl91c2VyU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkWWRpc3AgPSB0aGlzLmJ1ZmZlci55ZGlzcDtcbiAgICB0aGlzLmJ1ZmZlci55ZGlzcCA9IE1hdGgubWF4KE1hdGgubWluKHRoaXMuYnVmZmVyLnlkaXNwICsgZGlzcCwgdGhpcy5idWZmZXIueWJhc2UpLCAwKTtcblxuICAgIC8vIE5vIGNoYW5nZSBvY2N1cnJlZCwgZG9uJ3QgdHJpZ2dlciBzY3JvbGwvcmVmcmVzaFxuICAgIGlmIChvbGRZZGlzcCA9PT0gdGhpcy5idWZmZXIueWRpc3ApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXN1cHByZXNzU2Nyb2xsRXZlbnQpIHtcbiAgICAgIHRoaXMuZW1pdCgnc2Nyb2xsJywgdGhpcy5idWZmZXIueWRpc3ApO1xuICAgIH1cblxuICAgIHRoaXMucmVmcmVzaCgwLCB0aGlzLnJvd3MgLSAxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGwgdGhlIGRpc3BsYXkgb2YgdGhlIHRlcm1pbmFsIGJ5IGEgbnVtYmVyIG9mIHBhZ2VzLlxuICAgKiBAcGFyYW0gcGFnZUNvdW50IFRoZSBudW1iZXIgb2YgcGFnZXMgdG8gc2Nyb2xsIChuZWdhdGl2ZSBzY3JvbGxzIHVwKS5cbiAgICovXG4gIHB1YmxpYyBzY3JvbGxQYWdlcyhwYWdlQ291bnQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc2Nyb2xsTGluZXMocGFnZUNvdW50ICogKHRoaXMucm93cyAtIDEpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGxzIHRoZSBkaXNwbGF5IG9mIHRoZSB0ZXJtaW5hbCB0byB0aGUgdG9wLlxuICAgKi9cbiAgcHVibGljIHNjcm9sbFRvVG9wKCk6IHZvaWQge1xuICAgIHRoaXMuc2Nyb2xsTGluZXMoLXRoaXMuYnVmZmVyLnlkaXNwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGxzIHRoZSBkaXNwbGF5IG9mIHRoZSB0ZXJtaW5hbCB0byB0aGUgYm90dG9tLlxuICAgKi9cbiAgcHVibGljIHNjcm9sbFRvQm90dG9tKCk6IHZvaWQge1xuICAgIHRoaXMuc2Nyb2xsTGluZXModGhpcy5idWZmZXIueWJhc2UgLSB0aGlzLmJ1ZmZlci55ZGlzcCk7XG4gIH1cblxuICBwdWJsaWMgc2Nyb2xsVG9MaW5lKGxpbmU6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHNjcm9sbEFtb3VudCA9IGxpbmUgLSB0aGlzLmJ1ZmZlci55ZGlzcDtcbiAgICBpZiAoc2Nyb2xsQW1vdW50ICE9PSAwKSB7XG4gICAgICB0aGlzLnNjcm9sbExpbmVzKHNjcm9sbEFtb3VudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdyaXRlcyB0ZXh0IHRvIHRoZSB0ZXJtaW5hbC5cbiAgICogQHBhcmFtIGRhdGEgVGhlIHRleHQgdG8gd3JpdGUgdG8gdGhlIHRlcm1pbmFsLlxuICAgKi9cbiAgcHVibGljIHdyaXRlKGRhdGE6IHN0cmluZyk6IHZvaWQge1xuICAgIC8vIEVuc3VyZSB0aGUgdGVybWluYWwgaXNuJ3QgZGlzcG9zZWRcbiAgICBpZiAodGhpcy5faXNEaXNwb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElnbm9yZSBmYWxzeSBkYXRhIHZhbHVlcyAoaW5jbHVkaW5nIHRoZSBlbXB0eSBzdHJpbmcpXG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy53cml0ZUJ1ZmZlci5wdXNoKGRhdGEpO1xuXG4gICAgLy8gU2VuZCBYT0ZGIHRvIHBhdXNlIHRoZSBwdHkgcHJvY2VzcyBpZiB0aGUgd3JpdGUgYnVmZmVyIGJlY29tZXMgdG9vIGxhcmdlIHNvXG4gICAgLy8geHRlcm0uanMgY2FuIGNhdGNoIHVwIGJlZm9yZSBtb3JlIGRhdGEgaXMgc2VudC4gVGhpcyBpcyBuZWNlc3NhcnkgaW4gb3JkZXJcbiAgICAvLyB0byBrZWVwIHNpZ25hbHMgc3VjaCBhcyBeQyByZXNwb25zaXZlLlxuICAgIGlmICh0aGlzLm9wdGlvbnMudXNlRmxvd0NvbnRyb2wgJiYgIXRoaXMuX3hvZmZTZW50VG9DYXRjaFVwICYmIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoID49IFdSSVRFX0JVRkZFUl9QQVVTRV9USFJFU0hPTEQpIHtcbiAgICAgIC8vIFhPRkYgLSBzdG9wIHB0eSBwaXBlXG4gICAgICAvLyBYT04gd2lsbCBiZSB0cmlnZ2VyZWQgYnkgZW11bGF0b3IgYmVmb3JlIHByb2Nlc3NpbmcgZGF0YSBjaHVua1xuICAgICAgdGhpcy5oYW5kbGVyKEMwLkRDMyk7XG4gICAgICB0aGlzLl94b2ZmU2VudFRvQ2F0Y2hVcCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl93cml0ZUluUHJvZ3Jlc3MgJiYgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBLaWNrIG9mZiBhIHdyaXRlIHdoaWNoIHdpbGwgd3JpdGUgYWxsIGRhdGEgaW4gc2VxdWVuY2UgcmVjdXJzaXZlbHlcbiAgICAgIHRoaXMuX3dyaXRlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAvLyBLaWNrIG9mZiBhbiBhc3luYyBpbm5lcldyaXRlIHNvIG1vcmUgd3JpdGVzIGNhbiBjb21lIGluIHdoaWxlIHByb2Nlc3NpbmcgZGF0YVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuX2lubmVyV3JpdGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfaW5uZXJXcml0ZSgpOiB2b2lkIHtcbiAgICAvLyBFbnN1cmUgdGhlIHRlcm1pbmFsIGlzbid0IGRpc3Bvc2VkXG4gICAgaWYgKHRoaXMuX2lzRGlzcG9zZWQpIHtcbiAgICAgIHRoaXMud3JpdGVCdWZmZXIgPSBbXTtcbiAgICB9XG5cbiAgICBjb25zdCB3cml0ZUJhdGNoID0gdGhpcy53cml0ZUJ1ZmZlci5zcGxpY2UoMCwgV1JJVEVfQkFUQ0hfU0laRSk7XG4gICAgd2hpbGUgKHdyaXRlQmF0Y2gubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgZGF0YSA9IHdyaXRlQmF0Y2guc2hpZnQoKTtcblxuICAgICAgLy8gSWYgWE9GRiB3YXMgc2VudCBpbiBvcmRlciB0byBjYXRjaCB1cCB3aXRoIHRoZSBwdHkgcHJvY2VzcywgcmVzdW1lIGl0IGlmXG4gICAgICAvLyB0aGUgd3JpdGVCdWZmZXIgaXMgZW1wdHkgdG8gYWxsb3cgbW9yZSBkYXRhIHRvIGNvbWUgaW4uXG4gICAgICBpZiAodGhpcy5feG9mZlNlbnRUb0NhdGNoVXAgJiYgd3JpdGVCYXRjaC5sZW5ndGggPT09IDAgJiYgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5oYW5kbGVyKEMwLkRDMSk7XG4gICAgICAgIHRoaXMuX3hvZmZTZW50VG9DYXRjaFVwID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3JlZnJlc2hTdGFydCA9IHRoaXMuYnVmZmVyLnk7XG4gICAgICB0aGlzLl9yZWZyZXNoRW5kID0gdGhpcy5idWZmZXIueTtcblxuICAgICAgLy8gSEFDSzogU2V0IHRoZSBwYXJzZXIgc3RhdGUgYmFzZWQgb24gaXQncyBzdGF0ZSBhdCB0aGUgdGltZSBvZiByZXR1cm4uXG4gICAgICAvLyBUaGlzIHdvcmtzIGFyb3VuZCB0aGUgYnVnICM2NjIgd2hpY2ggc2F3IHRoZSBwYXJzZXIgc3RhdGUgcmVzZXQgaW4gdGhlXG4gICAgICAvLyBtaWRkbGUgb2YgcGFyc2luZyBlc2NhcGUgc2VxdWVuY2UgaW4gdHdvIGNodW5rcy4gRm9yIHNvbWUgcmVhc29uIHRoZVxuICAgICAgLy8gc3RhdGUgb2YgdGhlIHBhcnNlciByZXNldHMgdG8gMCBhZnRlciBleGl0aW5nIHBhcnNlci5wYXJzZS4gVGhpcyBjaGFuZ2VcbiAgICAgIC8vIGp1c3Qgc2V0cyB0aGUgc3RhdGUgYmFjayBiYXNlZCBvbiB0aGUgY29ycmVjdCByZXR1cm4gc3RhdGVtZW50LlxuXG4gICAgICB0aGlzLl9pbnB1dEhhbmRsZXIucGFyc2UoZGF0YSk7XG5cbiAgICAgIHRoaXMudXBkYXRlUmFuZ2UodGhpcy5idWZmZXIueSk7XG4gICAgICB0aGlzLnJlZnJlc2godGhpcy5fcmVmcmVzaFN0YXJ0LCB0aGlzLl9yZWZyZXNoRW5kKTtcbiAgICB9XG4gICAgaWYgKHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgLy8gQWxsb3cgcmVuZGVyZXIgdG8gY2F0Y2ggdXAgYmVmb3JlIHByb2Nlc3NpbmcgdGhlIG5leHQgYmF0Y2hcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5faW5uZXJXcml0ZSgpLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fd3JpdGVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdyaXRlcyB0ZXh0IHRvIHRoZSB0ZXJtaW5hbCwgZm9sbG93ZWQgYnkgYSBicmVhayBsaW5lIGNoYXJhY3RlciAoXFxuKS5cbiAgICogQHBhcmFtIGRhdGEgVGhlIHRleHQgdG8gd3JpdGUgdG8gdGhlIHRlcm1pbmFsLlxuICAgKi9cbiAgcHVibGljIHdyaXRlbG4oZGF0YTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy53cml0ZShkYXRhICsgJ1xcclxcbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIGEgY3VzdG9tIGtleSBldmVudCBoYW5kbGVyIHdoaWNoIGlzIHJ1biBiZWZvcmUga2V5cyBhcmUgcHJvY2Vzc2VkLFxuICAgKiBnaXZpbmcgY29uc3VtZXJzIG9mIHh0ZXJtLmpzIHVsdGltYXRlIGNvbnRyb2wgYXMgdG8gd2hhdCBrZXlzIHNob3VsZCBiZVxuICAgKiBwcm9jZXNzZWQgYnkgdGhlIHRlcm1pbmFsIGFuZCB3aGF0IGtleXMgc2hvdWxkIG5vdC5cbiAgICogQHBhcmFtIGN1c3RvbUtleUV2ZW50SGFuZGxlciBUaGUgY3VzdG9tIEtleWJvYXJkRXZlbnQgaGFuZGxlciB0byBhdHRhY2guXG4gICAqIFRoaXMgaXMgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgS2V5Ym9hcmRFdmVudCwgYWxsb3dpbmcgY29uc3VtZXJzIHRvIHN0b3BcbiAgICogcHJvcG9nYXRpb24gYW5kL29yIHByZXZlbnQgdGhlIGRlZmF1bHQgYWN0aW9uLiBUaGUgZnVuY3Rpb24gcmV0dXJucyB3aGV0aGVyXG4gICAqIHRoZSBldmVudCBzaG91bGQgYmUgcHJvY2Vzc2VkIGJ5IHh0ZXJtLmpzLlxuICAgKi9cbiAgcHVibGljIGF0dGFjaEN1c3RvbUtleUV2ZW50SGFuZGxlcihjdXN0b21LZXlFdmVudEhhbmRsZXI6IEN1c3RvbUtleUV2ZW50SGFuZGxlcik6IHZvaWQge1xuICAgIHRoaXMuX2N1c3RvbUtleUV2ZW50SGFuZGxlciA9IGN1c3RvbUtleUV2ZW50SGFuZGxlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBsaW5rIG1hdGNoZXIsIGFsbG93aW5nIGN1c3RvbSBsaW5rIHBhdHRlcm5zIHRvIGJlIG1hdGNoZWQgYW5kXG4gICAqIGhhbmRsZWQuXG4gICAqIEBwYXJhbSByZWdleCBUaGUgcmVndWxhciBleHByZXNzaW9uIHRvIHNlYXJjaCBmb3IsIHNwZWNpZmljYWxseVxuICAgKiB0aGlzIHNlYXJjaGVzIHRoZSB0ZXh0Q29udGVudCBvZiB0aGUgcm93cy4gWW91IHdpbGwgd2FudCB0byB1c2UgXFxzIHRvIG1hdGNoXG4gICAqIGEgc3BhY2UgJyAnIGNoYXJhY3RlciBmb3IgZXhhbXBsZS5cbiAgICogQHBhcmFtIGhhbmRsZXIgVGhlIGNhbGxiYWNrIHdoZW4gdGhlIGxpbmsgaXMgY2FsbGVkLlxuICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgbGluayBtYXRjaGVyLlxuICAgKiBAcmV0dXJuIFRoZSBJRCBvZiB0aGUgbmV3IG1hdGNoZXIsIHRoaXMgY2FuIGJlIHVzZWQgdG8gZGVyZWdpc3Rlci5cbiAgICovXG4gIHB1YmxpYyByZWdpc3RlckxpbmtNYXRjaGVyKHJlZ2V4OiBSZWdFeHAsIGhhbmRsZXI6IExpbmtNYXRjaGVySGFuZGxlciwgb3B0aW9ucz86IElMaW5rTWF0Y2hlck9wdGlvbnMpOiBudW1iZXIge1xuICAgIGNvbnN0IG1hdGNoZXJJZCA9IHRoaXMubGlua2lmaWVyLnJlZ2lzdGVyTGlua01hdGNoZXIocmVnZXgsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHRoaXMucmVmcmVzaCgwLCB0aGlzLnJvd3MgLSAxKTtcbiAgICByZXR1cm4gbWF0Y2hlcklkO1xuICB9XG5cbiAgLyoqXG4gICAqIERlcmVnaXN0ZXJzIGEgbGluayBtYXRjaGVyIGlmIGl0IGhhcyBiZWVuIHJlZ2lzdGVyZWQuXG4gICAqIEBwYXJhbSBtYXRjaGVySWQgVGhlIGxpbmsgbWF0Y2hlcidzIElEIChyZXR1cm5lZCBhZnRlciByZWdpc3RlcilcbiAgICovXG4gIHB1YmxpYyBkZXJlZ2lzdGVyTGlua01hdGNoZXIobWF0Y2hlcklkOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5saW5raWZpZXIuZGVyZWdpc3RlckxpbmtNYXRjaGVyKG1hdGNoZXJJZCkpIHtcbiAgICAgIHRoaXMucmVmcmVzaCgwLCB0aGlzLnJvd3MgLSAxKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcmVnaXN0ZXJDaGFyYWN0ZXJKb2luZXIoaGFuZGxlcjogQ2hhcmFjdGVySm9pbmVySGFuZGxlcik6IG51bWJlciB7XG4gICAgY29uc3Qgam9pbmVySWQgPSB0aGlzLnJlbmRlcmVyLnJlZ2lzdGVyQ2hhcmFjdGVySm9pbmVyKGhhbmRsZXIpO1xuICAgIHRoaXMucmVmcmVzaCgwLCB0aGlzLnJvd3MgLSAxKTtcbiAgICByZXR1cm4gam9pbmVySWQ7XG4gIH1cblxuICBwdWJsaWMgZGVyZWdpc3RlckNoYXJhY3RlckpvaW5lcihqb2luZXJJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucmVuZGVyZXIuZGVyZWdpc3RlckNoYXJhY3RlckpvaW5lcihqb2luZXJJZCkpIHtcbiAgICAgIHRoaXMucmVmcmVzaCgwLCB0aGlzLnJvd3MgLSAxKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0IG1hcmtlcnMoKTogSU1hcmtlcltdIHtcbiAgICByZXR1cm4gdGhpcy5idWZmZXIubWFya2VycztcbiAgfVxuXG4gIHB1YmxpYyBhZGRNYXJrZXIoY3Vyc29yWU9mZnNldDogbnVtYmVyKTogSU1hcmtlciB7XG4gICAgLy8gRGlzYWxsb3cgbWFya2VycyBvbiB0aGUgYWx0IGJ1ZmZlclxuICAgIGlmICh0aGlzLmJ1ZmZlciAhPT0gdGhpcy5idWZmZXJzLm5vcm1hbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmJ1ZmZlci5hZGRNYXJrZXIodGhpcy5idWZmZXIueWJhc2UgKyB0aGlzLmJ1ZmZlci55ICsgY3Vyc29yWU9mZnNldCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB3aGV0aGVyIHRoZSB0ZXJtaW5hbCBoYXMgYW4gYWN0aXZlIHNlbGVjdGlvbi5cbiAgICovXG4gIHB1YmxpYyBoYXNTZWxlY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uTWFuYWdlciA/IHRoaXMuc2VsZWN0aW9uTWFuYWdlci5oYXNTZWxlY3Rpb24gOiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB0ZXJtaW5hbCdzIGN1cnJlbnQgc2VsZWN0aW9uLCB0aGlzIGlzIHVzZWZ1bCBmb3IgaW1wbGVtZW50aW5nIGNvcHlcbiAgICogYmVoYXZpb3Igb3V0c2lkZSBvZiB4dGVybS5qcy5cbiAgICovXG4gIHB1YmxpYyBnZXRTZWxlY3Rpb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb25NYW5hZ2VyID8gdGhpcy5zZWxlY3Rpb25NYW5hZ2VyLnNlbGVjdGlvblRleHQgOiAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGN1cnJlbnQgdGVybWluYWwgc2VsZWN0aW9uLlxuICAgKi9cbiAgcHVibGljIGNsZWFyU2VsZWN0aW9uKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNlbGVjdGlvbk1hbmFnZXIpIHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uTWFuYWdlci5jbGVhclNlbGVjdGlvbigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3RzIGFsbCB0ZXh0IHdpdGhpbiB0aGUgdGVybWluYWwuXG4gICAqL1xuICBwdWJsaWMgc2VsZWN0QWxsKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnNlbGVjdGlvbk1hbmFnZXIpIHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uTWFuYWdlci5zZWxlY3RBbGwoKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc2VsZWN0TGluZXMoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zZWxlY3Rpb25NYW5hZ2VyKSB7XG4gICAgICB0aGlzLnNlbGVjdGlvbk1hbmFnZXIuc2VsZWN0TGluZXMoc3RhcnQsIGVuZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBhIGtleWRvd24gZXZlbnRcbiAgICogS2V5IFJlc291cmNlczpcbiAgICogICAtIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvRE9NL0tleWJvYXJkRXZlbnRcbiAgICogQHBhcmFtIGV2IFRoZSBrZXlkb3duIGV2ZW50IHRvIGJlIGhhbmRsZWQuXG4gICAqL1xuICBwcm90ZWN0ZWQgX2tleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5fY3VzdG9tS2V5RXZlbnRIYW5kbGVyICYmIHRoaXMuX2N1c3RvbUtleUV2ZW50SGFuZGxlcihldmVudCkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9jb21wb3NpdGlvbkhlbHBlci5rZXlkb3duKGV2ZW50KSkge1xuICAgICAgaWYgKHRoaXMuYnVmZmVyLnliYXNlICE9PSB0aGlzLmJ1ZmZlci55ZGlzcCkge1xuICAgICAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gZXZhbHVhdGVLZXlib2FyZEV2ZW50KGV2ZW50LCB0aGlzLmFwcGxpY2F0aW9uQ3Vyc29yLCB0aGlzLmJyb3dzZXIuaXNNYWMsIHRoaXMub3B0aW9ucy5tYWNPcHRpb25Jc01ldGEpO1xuXG4gICAgdGhpcy51cGRhdGVDdXJzb3JTdHlsZShldmVudCk7XG5cbiAgICAvLyBpZiAocmVzdWx0LmtleSA9PT0gQzAuREMzKSB7IC8vIFhPRkZcbiAgICAvLyAgIHRoaXMuX3dyaXRlU3RvcHBlZCA9IHRydWU7XG4gICAgLy8gfSBlbHNlIGlmIChyZXN1bHQua2V5ID09PSBDMC5EQzEpIHsgLy8gWE9OXG4gICAgLy8gICB0aGlzLl93cml0ZVN0b3BwZWQgPSBmYWxzZTtcbiAgICAvLyB9XG5cbiAgICBpZiAocmVzdWx0LnR5cGUgPT09IEtleWJvYXJkUmVzdWx0VHlwZS5QQUdFX0RPV04gfHwgcmVzdWx0LnR5cGUgPT09IEtleWJvYXJkUmVzdWx0VHlwZS5QQUdFX1VQKSB7XG4gICAgICBjb25zdCBzY3JvbGxDb3VudCA9IHRoaXMucm93cyAtIDE7XG4gICAgICB0aGlzLnNjcm9sbExpbmVzKHJlc3VsdC50eXBlID09PSBLZXlib2FyZFJlc3VsdFR5cGUuUEFHRV9VUCA/IC1zY3JvbGxDb3VudCA6IHNjcm9sbENvdW50KTtcbiAgICAgIHJldHVybiB0aGlzLmNhbmNlbChldmVudCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHJlc3VsdC50eXBlID09PSBLZXlib2FyZFJlc3VsdFR5cGUuU0VMRUNUX0FMTCkge1xuICAgICAgdGhpcy5zZWxlY3RBbGwoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5faXNUaGlyZExldmVsU2hpZnQodGhpcy5icm93c2VyLCBldmVudCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChyZXN1bHQuY2FuY2VsKSB7XG4gICAgICAvLyBUaGUgZXZlbnQgaXMgY2FuY2VsZWQgYXQgdGhlIGVuZCBhbHJlYWR5LCBpcyB0aGlzIG5lY2Vzc2FyeT9cbiAgICAgIHRoaXMuY2FuY2VsKGV2ZW50LCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3VsdC5rZXkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdCgna2V5ZG93bicsIGV2ZW50KTtcbiAgICB0aGlzLmVtaXQoJ2tleScsIHJlc3VsdC5rZXksIGV2ZW50KTtcbiAgICB0aGlzLnNob3dDdXJzb3IoKTtcbiAgICB0aGlzLmhhbmRsZXIocmVzdWx0LmtleSk7XG5cbiAgICByZXR1cm4gdGhpcy5jYW5jZWwoZXZlbnQsIHRydWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBfaXNUaGlyZExldmVsU2hpZnQoYnJvd3NlcjogSUJyb3dzZXIsIGV2OiBJS2V5Ym9hcmRFdmVudCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHRoaXJkTGV2ZWxLZXkgPVxuICAgICAgICAoYnJvd3Nlci5pc01hYyAmJiAhdGhpcy5vcHRpb25zLm1hY09wdGlvbklzTWV0YSAmJiBldi5hbHRLZXkgJiYgIWV2LmN0cmxLZXkgJiYgIWV2Lm1ldGFLZXkpIHx8XG4gICAgICAgIChicm93c2VyLmlzTVNXaW5kb3dzICYmIGV2LmFsdEtleSAmJiBldi5jdHJsS2V5ICYmICFldi5tZXRhS2V5KTtcblxuICAgIGlmIChldi50eXBlID09PSAna2V5cHJlc3MnKSB7XG4gICAgICByZXR1cm4gdGhpcmRMZXZlbEtleTtcbiAgICB9XG5cbiAgICAvLyBEb24ndCBpbnZva2UgZm9yIGFycm93cywgcGFnZURvd24sIGhvbWUsIGJhY2tzcGFjZSwgZXRjLiAob24gbm9uLWtleXByZXNzIGV2ZW50cylcbiAgICByZXR1cm4gdGhpcmRMZXZlbEtleSAmJiAoIWV2LmtleUNvZGUgfHwgZXYua2V5Q29kZSA+IDQ3KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIEcgbGV2ZWwgb2YgdGhlIHRlcm1pbmFsXG4gICAqIEBwYXJhbSBnXG4gICAqL1xuICBwdWJsaWMgc2V0Z0xldmVsKGc6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuZ2xldmVsID0gZztcbiAgICB0aGlzLmNoYXJzZXQgPSB0aGlzLmNoYXJzZXRzW2ddO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY2hhcnNldCBmb3IgdGhlIGdpdmVuIEcgbGV2ZWwgb2YgdGhlIHRlcm1pbmFsXG4gICAqIEBwYXJhbSBnXG4gICAqIEBwYXJhbSBjaGFyc2V0XG4gICAqL1xuICBwdWJsaWMgc2V0Z0NoYXJzZXQoZzogbnVtYmVyLCBjaGFyc2V0OiBJQ2hhcnNldCk6IHZvaWQge1xuICAgIHRoaXMuY2hhcnNldHNbZ10gPSBjaGFyc2V0O1xuICAgIGlmICh0aGlzLmdsZXZlbCA9PT0gZykge1xuICAgICAgdGhpcy5jaGFyc2V0ID0gY2hhcnNldDtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgX2tleVVwKGV2OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVDdXJzb3JTdHlsZShldik7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGEga2V5cHJlc3MgZXZlbnQuXG4gICAqIEtleSBSZXNvdXJjZXM6XG4gICAqICAgLSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0RPTS9LZXlib2FyZEV2ZW50XG4gICAqIEBwYXJhbSBldiBUaGUga2V5cHJlc3MgZXZlbnQgdG8gYmUgaGFuZGxlZC5cbiAgICovXG4gIHByb3RlY3RlZCBfa2V5UHJlc3MoZXY6IEtleWJvYXJkRXZlbnQpOiBib29sZWFuIHtcbiAgICBsZXQga2V5O1xuXG4gICAgaWYgKHRoaXMuX2N1c3RvbUtleUV2ZW50SGFuZGxlciAmJiB0aGlzLl9jdXN0b21LZXlFdmVudEhhbmRsZXIoZXYpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuY2FuY2VsKGV2KTtcblxuICAgIGlmIChldi5jaGFyQ29kZSkge1xuICAgICAga2V5ID0gZXYuY2hhckNvZGU7XG4gICAgfSBlbHNlIGlmIChldi53aGljaCA9PT0gbnVsbCB8fCBldi53aGljaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBrZXkgPSBldi5rZXlDb2RlO1xuICAgIH0gZWxzZSBpZiAoZXYud2hpY2ggIT09IDAgJiYgZXYuY2hhckNvZGUgIT09IDApIHtcbiAgICAgIGtleSA9IGV2LndoaWNoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFrZXkgfHwgKFxuICAgICAgKGV2LmFsdEtleSB8fCBldi5jdHJsS2V5IHx8IGV2Lm1ldGFLZXkpICYmICF0aGlzLl9pc1RoaXJkTGV2ZWxTaGlmdCh0aGlzLmJyb3dzZXIsIGV2KVxuICAgICkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBrZXkgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGtleSk7XG5cbiAgICB0aGlzLmVtaXQoJ2tleXByZXNzJywga2V5LCBldik7XG4gICAgdGhpcy5lbWl0KCdrZXknLCBrZXksIGV2KTtcbiAgICB0aGlzLnNob3dDdXJzb3IoKTtcbiAgICB0aGlzLmhhbmRsZXIoa2V5KTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJpbmcgdGhlIGJlbGwuXG4gICAqIE5vdGU6IFdlIGNvdWxkIGRvIHN3ZWV0IHRoaW5ncyB3aXRoIHdlYmF1ZGlvIGhlcmVcbiAgICovXG4gIHB1YmxpYyBiZWxsKCk6IHZvaWQge1xuICAgIHRoaXMuZW1pdCgnYmVsbCcpO1xuICAgIGlmICh0aGlzLl9zb3VuZEJlbGwoKSkge1xuICAgICAgdGhpcy5zb3VuZE1hbmFnZXIucGxheUJlbGxTb3VuZCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl92aXN1YWxCZWxsKCkpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd2aXN1YWwtYmVsbC1hY3RpdmUnKTtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl92aXN1YWxCZWxsVGltZXIpO1xuICAgICAgdGhpcy5fdmlzdWFsQmVsbFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgndmlzdWFsLWJlbGwtYWN0aXZlJyk7XG4gICAgICB9LCAyMDApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2cgdGhlIGN1cnJlbnQgc3RhdGUgdG8gdGhlIGNvbnNvbGUuXG4gICAqL1xuICBwdWJsaWMgbG9nKHRleHQ6IHN0cmluZywgZGF0YT86IGFueSk6IHZvaWQge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmRlYnVnKSByZXR1cm47XG4gICAgaWYgKCF0aGlzLl9jb250ZXh0LmNvbnNvbGUgfHwgIXRoaXMuX2NvbnRleHQuY29uc29sZS5sb2cpIHJldHVybjtcbiAgICB0aGlzLl9jb250ZXh0LmNvbnNvbGUubG9nKHRleHQsIGRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvZyB0aGUgY3VycmVudCBzdGF0ZSBhcyBlcnJvciB0byB0aGUgY29uc29sZS5cbiAgICovXG4gIHB1YmxpYyBlcnJvcih0ZXh0OiBzdHJpbmcsIGRhdGE/OiBhbnkpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5kZWJ1ZykgcmV0dXJuO1xuICAgIGlmICghdGhpcy5fY29udGV4dC5jb25zb2xlIHx8ICF0aGlzLl9jb250ZXh0LmNvbnNvbGUuZXJyb3IpIHJldHVybjtcbiAgICB0aGlzLl9jb250ZXh0LmNvbnNvbGUuZXJyb3IodGV4dCwgZGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogUmVzaXplcyB0aGUgdGVybWluYWwuXG4gICAqXG4gICAqIEBwYXJhbSB4IFRoZSBudW1iZXIgb2YgY29sdW1ucyB0byByZXNpemUgdG8uXG4gICAqIEBwYXJhbSB5IFRoZSBudW1iZXIgb2Ygcm93cyB0byByZXNpemUgdG8uXG4gICAqL1xuICBwdWJsaWMgcmVzaXplKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKGlzTmFOKHgpIHx8IGlzTmFOKHkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHggPT09IHRoaXMuY29scyAmJiB5ID09PSB0aGlzLnJvd3MpIHtcbiAgICAgIC8vIENoZWNrIGlmIHdlIHN0aWxsIG5lZWQgdG8gbWVhc3VyZSB0aGUgY2hhciBzaXplIChmaXhlcyAjNzg1KS5cbiAgICAgIGlmICh0aGlzLmNoYXJNZWFzdXJlICYmICghdGhpcy5jaGFyTWVhc3VyZS53aWR0aCB8fCAhdGhpcy5jaGFyTWVhc3VyZS5oZWlnaHQpKSB7XG4gICAgICAgIHRoaXMuY2hhck1lYXN1cmUubWVhc3VyZSh0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh4IDwgMSkgeCA9IDE7XG4gICAgaWYgKHkgPCAxKSB5ID0gMTtcblxuICAgIHRoaXMuYnVmZmVycy5yZXNpemUoeCwgeSk7XG5cbiAgICB0aGlzLmNvbHMgPSB4O1xuICAgIHRoaXMucm93cyA9IHk7XG4gICAgdGhpcy5idWZmZXJzLnNldHVwVGFiU3RvcHModGhpcy5jb2xzKTtcblxuICAgIGlmICh0aGlzLmNoYXJNZWFzdXJlKSB7XG4gICAgICB0aGlzLmNoYXJNZWFzdXJlLm1lYXN1cmUodGhpcy5vcHRpb25zKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlZnJlc2goMCwgdGhpcy5yb3dzIC0gMSk7XG4gICAgdGhpcy5lbWl0KCdyZXNpemUnLCB7Y29sczogeCwgcm93czogeX0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHJhbmdlIG9mIHJvd3MgdG8gcmVmcmVzaFxuICAgKiBAcGFyYW0geSBUaGUgbnVtYmVyIG9mIHJvd3MgdG8gcmVmcmVzaCBuZXh0LlxuICAgKi9cbiAgcHVibGljIHVwZGF0ZVJhbmdlKHk6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh5IDwgdGhpcy5fcmVmcmVzaFN0YXJ0KSB0aGlzLl9yZWZyZXNoU3RhcnQgPSB5O1xuICAgIGlmICh5ID4gdGhpcy5fcmVmcmVzaEVuZCkgdGhpcy5fcmVmcmVzaEVuZCA9IHk7XG4gICAgLy8gaWYgKHkgPiB0aGlzLnJlZnJlc2hFbmQpIHtcbiAgICAvLyAgIHRoaXMucmVmcmVzaEVuZCA9IHk7XG4gICAgLy8gICBpZiAoeSA+IHRoaXMucm93cyAtIDEpIHtcbiAgICAvLyAgICAgdGhpcy5yZWZyZXNoRW5kID0gdGhpcy5yb3dzIC0gMTtcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSByYW5nZSBvZiByZWZyZXNoaW5nIHRvIHRoZSBtYXhpbXVtIHZhbHVlXG4gICAqL1xuICBwdWJsaWMgbWF4UmFuZ2UoKTogdm9pZCB7XG4gICAgdGhpcy5fcmVmcmVzaFN0YXJ0ID0gMDtcbiAgICB0aGlzLl9yZWZyZXNoRW5kID0gdGhpcy5yb3dzIC0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciB0aGUgZW50aXJlIGJ1ZmZlciwgbWFraW5nIHRoZSBwcm9tcHQgbGluZSB0aGUgbmV3IGZpcnN0IGxpbmUuXG4gICAqL1xuICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuYnVmZmVyLnliYXNlID09PSAwICYmIHRoaXMuYnVmZmVyLnkgPT09IDApIHtcbiAgICAgIC8vIERvbid0IGNsZWFyIGlmIGl0J3MgYWxyZWFkeSBjbGVhclxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmJ1ZmZlci5saW5lcy5zZXQoMCwgdGhpcy5idWZmZXIubGluZXMuZ2V0KHRoaXMuYnVmZmVyLnliYXNlICsgdGhpcy5idWZmZXIueSkpO1xuICAgIHRoaXMuYnVmZmVyLmxpbmVzLmxlbmd0aCA9IDE7XG4gICAgdGhpcy5idWZmZXIueWRpc3AgPSAwO1xuICAgIHRoaXMuYnVmZmVyLnliYXNlID0gMDtcbiAgICB0aGlzLmJ1ZmZlci55ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMucm93czsgaSsrKSB7XG4gICAgICB0aGlzLmJ1ZmZlci5saW5lcy5wdXNoKHRoaXMuYnVmZmVyLmdldEJsYW5rTGluZShERUZBVUxUX0FUVFIpKTtcbiAgICB9XG4gICAgdGhpcy5yZWZyZXNoKDAsIHRoaXMucm93cyAtIDEpO1xuICAgIHRoaXMuZW1pdCgnc2Nyb2xsJywgdGhpcy5idWZmZXIueWRpc3ApO1xuICB9XG5cbiAgLyoqXG4gICAqIElmIGN1ciByZXR1cm4gdGhlIGJhY2sgY29sb3IgeHRlcm0gZmVhdHVyZSBhdHRyaWJ1dGUuIEVsc2UgcmV0dXJuIGRlZmF1bHQgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0gY3VyXG4gICAqL1xuICBwdWJsaWMgY2goY3VyPzogYm9vbGVhbik6IENoYXJEYXRhIHtcbiAgICBpZiAoY3VyKSB7XG4gICAgICByZXR1cm4gW3RoaXMuZXJhc2VBdHRyKCksIE5VTExfQ0VMTF9DSEFSLCBOVUxMX0NFTExfV0lEVEgsIE5VTExfQ0VMTF9DT0RFXTtcbiAgICB9XG4gICAgcmV0dXJuIFtERUZBVUxUX0FUVFIsIE5VTExfQ0VMTF9DSEFSLCBOVUxMX0NFTExfV0lEVEgsIE5VTExfQ0VMTF9DT0RFXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmFsdWF0ZSBpZiB0aGUgY3VycmVudCB0ZXJtaW5hbCBpcyB0aGUgZ2l2ZW4gYXJndW1lbnQuXG4gICAqIEBwYXJhbSB0ZXJtIFRoZSB0ZXJtaW5hbCBuYW1lIHRvIGV2YWx1YXRlXG4gICAqL1xuICBwdWJsaWMgaXModGVybTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICh0aGlzLm9wdGlvbnMudGVybU5hbWUgKyAnJykuaW5kZXhPZih0ZXJtKSA9PT0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0IHRoZSAnZGF0YScgZXZlbnQgYW5kIHBvcHVsYXRlIHRoZSBnaXZlbiBkYXRhLlxuICAgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBwb3B1bGF0ZSBpbiB0aGUgZXZlbnQuXG4gICAqL1xuICBwdWJsaWMgaGFuZGxlcihkYXRhOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAvLyBQcmV2ZW50cyBhbGwgZXZlbnRzIHRvIHB0eSBwcm9jZXNzIGlmIHN0ZGluIGlzIGRpc2FibGVkXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kaXNhYmxlU3RkaW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDbGVhciB0aGUgc2VsZWN0aW9uIGlmIHRoZSBzZWxlY3Rpb24gbWFuYWdlciBpcyBhdmFpbGFibGUgYW5kIGhhcyBhbiBhY3RpdmUgc2VsZWN0aW9uXG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uTWFuYWdlciAmJiB0aGlzLnNlbGVjdGlvbk1hbmFnZXIuaGFzU2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLnNlbGVjdGlvbk1hbmFnZXIuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9XG5cbiAgICAvLyBJbnB1dCBpcyBiZWluZyBzZW50IHRvIHRoZSB0ZXJtaW5hbCwgdGhlIHRlcm1pbmFsIHNob3VsZCBmb2N1cyB0aGUgcHJvbXB0LlxuICAgIGlmICh0aGlzLmJ1ZmZlci55YmFzZSAhPT0gdGhpcy5idWZmZXIueWRpc3ApIHtcbiAgICAgIHRoaXMuc2Nyb2xsVG9Cb3R0b20oKTtcbiAgICB9XG4gICAgdGhpcy5lbWl0KCdkYXRhJywgZGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogRW1pdCB0aGUgJ3RpdGxlJyBldmVudCBhbmQgcG9wdWxhdGUgdGhlIGdpdmVuIHRpdGxlLlxuICAgKiBAcGFyYW0gdGl0bGUgVGhlIHRpdGxlIHRvIHBvcHVsYXRlIGluIHRoZSBldmVudC5cbiAgICovXG4gIHB1YmxpYyBoYW5kbGVUaXRsZSh0aXRsZTogc3RyaW5nKTogdm9pZCB7XG4gICAgLyoqXG4gICAgICogVGhpcyBldmVudCBpcyBlbWl0dGVkIHdoZW4gdGhlIHRpdGxlIG9mIHRoZSB0ZXJtaW5hbCBpcyBjaGFuZ2VkXG4gICAgICogZnJvbSBpbnNpZGUgdGhlIHRlcm1pbmFsLiBUaGUgcGFyYW1ldGVyIGlzIHRoZSBuZXcgdGl0bGUuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgdGl0bGVcbiAgICAgKi9cbiAgICB0aGlzLmVtaXQoJ3RpdGxlJywgdGl0bGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVTQ1xuICAgKi9cblxuICAvKipcbiAgICogRVNDIEQgSW5kZXggKElORCBpcyAweDg0KS5cbiAgICovXG4gIHB1YmxpYyBpbmRleCgpOiB2b2lkIHtcbiAgICB0aGlzLmJ1ZmZlci55Kys7XG4gICAgaWYgKHRoaXMuYnVmZmVyLnkgPiB0aGlzLmJ1ZmZlci5zY3JvbGxCb3R0b20pIHtcbiAgICAgIHRoaXMuYnVmZmVyLnktLTtcbiAgICAgIHRoaXMuc2Nyb2xsKCk7XG4gICAgfVxuICAgIC8vIElmIHRoZSBlbmQgb2YgdGhlIGxpbmUgaXMgaGl0LCBwcmV2ZW50IHRoaXMgYWN0aW9uIGZyb20gd3JhcHBpbmcgYXJvdW5kIHRvIHRoZSBuZXh0IGxpbmUuXG4gICAgaWYgKHRoaXMuYnVmZmVyLnggPj0gdGhpcy5jb2xzKSB7XG4gICAgICB0aGlzLmJ1ZmZlci54LS07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVTQyBNIFJldmVyc2UgSW5kZXggKFJJIGlzIDB4OGQpLlxuICAgKlxuICAgKiBNb3ZlIHRoZSBjdXJzb3IgdXAgb25lIHJvdywgaW5zZXJ0aW5nIGEgbmV3IGJsYW5rIGxpbmUgaWYgbmVjZXNzYXJ5LlxuICAgKi9cbiAgcHVibGljIHJldmVyc2VJbmRleCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5idWZmZXIueSA9PT0gdGhpcy5idWZmZXIuc2Nyb2xsVG9wKSB7XG4gICAgICAvLyBwb3NzaWJseSBtb3ZlIHRoZSBjb2RlIGJlbG93IHRvIHRlcm0ucmV2ZXJzZVNjcm9sbCgpO1xuICAgICAgLy8gdGVzdDogZWNobyAtbmUgJ1xcZVsxOzFIXFxlWzQ0bVxcZU1cXGVbMG0nXG4gICAgICAvLyBibGFua0xpbmUodHJ1ZSkgaXMgeHRlcm0vbGludXggYmVoYXZpb3JcbiAgICAgIGNvbnN0IHNjcm9sbFJlZ2lvbkhlaWdodCA9IHRoaXMuYnVmZmVyLnNjcm9sbEJvdHRvbSAtIHRoaXMuYnVmZmVyLnNjcm9sbFRvcDtcbiAgICAgIHRoaXMuYnVmZmVyLmxpbmVzLnNoaWZ0RWxlbWVudHModGhpcy5idWZmZXIueSArIHRoaXMuYnVmZmVyLnliYXNlLCBzY3JvbGxSZWdpb25IZWlnaHQsIDEpO1xuICAgICAgdGhpcy5idWZmZXIubGluZXMuc2V0KHRoaXMuYnVmZmVyLnkgKyB0aGlzLmJ1ZmZlci55YmFzZSwgdGhpcy5idWZmZXIuZ2V0QmxhbmtMaW5lKHRoaXMuZXJhc2VBdHRyKCkpKTtcbiAgICAgIHRoaXMudXBkYXRlUmFuZ2UodGhpcy5idWZmZXIuc2Nyb2xsVG9wKTtcbiAgICAgIHRoaXMudXBkYXRlUmFuZ2UodGhpcy5idWZmZXIuc2Nyb2xsQm90dG9tKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5idWZmZXIueS0tO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFU0MgYyBGdWxsIFJlc2V0IChSSVMpLlxuICAgKi9cbiAgcHVibGljIHJlc2V0KCk6IHZvaWQge1xuICAgIHRoaXMub3B0aW9ucy5yb3dzID0gdGhpcy5yb3dzO1xuICAgIHRoaXMub3B0aW9ucy5jb2xzID0gdGhpcy5jb2xzO1xuICAgIGNvbnN0IGN1c3RvbUtleUV2ZW50SGFuZGxlciA9IHRoaXMuX2N1c3RvbUtleUV2ZW50SGFuZGxlcjtcbiAgICBjb25zdCBpbnB1dEhhbmRsZXIgPSB0aGlzLl9pbnB1dEhhbmRsZXI7XG4gICAgY29uc3QgY3Vyc29yU3RhdGUgPSB0aGlzLmN1cnNvclN0YXRlO1xuICAgIHRoaXMuX3NldHVwKCk7XG4gICAgdGhpcy5fY3VzdG9tS2V5RXZlbnRIYW5kbGVyID0gY3VzdG9tS2V5RXZlbnRIYW5kbGVyO1xuICAgIHRoaXMuX2lucHV0SGFuZGxlciA9IGlucHV0SGFuZGxlcjtcbiAgICB0aGlzLmN1cnNvclN0YXRlID0gY3Vyc29yU3RhdGU7XG4gICAgdGhpcy5yZWZyZXNoKDAsIHRoaXMucm93cyAtIDEpO1xuICAgIGlmICh0aGlzLnZpZXdwb3J0KSB7XG4gICAgICB0aGlzLnZpZXdwb3J0LnN5bmNTY3JvbGxBcmVhKCk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogRVNDIEggVGFiIFNldCAoSFRTIGlzIDB4ODgpLlxuICAgKi9cbiAgcHVibGljIHRhYlNldCgpOiB2b2lkIHtcbiAgICB0aGlzLmJ1ZmZlci50YWJzW3RoaXMuYnVmZmVyLnhdID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIFRPRE86IFJlbW92ZSBjYW5jZWwgZnVuY3Rpb24gYW5kIGNhbmNlbEV2ZW50cyBvcHRpb25cbiAgcHVibGljIGNhbmNlbChldjogRXZlbnQsIGZvcmNlPzogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmNhbmNlbEV2ZW50cyAmJiAhZm9yY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBUT0RPOiBSZW1vdmUgd2hlbiB0cnVlIGNvbG9yIGlzIGltcGxlbWVudGVkXG4gIHB1YmxpYyBtYXRjaENvbG9yKHIxOiBudW1iZXIsIGcxOiBudW1iZXIsIGIxOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IGhhc2ggPSAocjEgPDwgMTYpIHwgKGcxIDw8IDgpIHwgYjE7XG5cbiAgICBpZiAobWF0Y2hDb2xvckNhY2hlW2hhc2hdICE9PSBudWxsICYmIG1hdGNoQ29sb3JDYWNoZVtoYXNoXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbWF0Y2hDb2xvckNhY2hlW2hhc2hdO1xuICAgIH1cblxuICAgIGxldCBsZGlmZiA9IEluZmluaXR5O1xuICAgIGxldCBsaSA9IC0xO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgYzogbnVtYmVyO1xuICAgIGxldCByMjogbnVtYmVyO1xuICAgIGxldCBnMjogbnVtYmVyO1xuICAgIGxldCBiMjogbnVtYmVyO1xuICAgIGxldCBkaWZmOiBudW1iZXI7XG5cbiAgICBmb3IgKDsgaSA8IERFRkFVTFRfQU5TSV9DT0xPUlMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGMgPSBERUZBVUxUX0FOU0lfQ09MT1JTW2ldLnJnYmE7XG4gICAgICByMiA9IGMgPj4+IDI0O1xuICAgICAgZzIgPSBjID4+PiAxNiAmIDB4RkY7XG4gICAgICBiMiA9IGMgPj4+IDggJiAweEZGO1xuICAgICAgLy8gYXNzdW1lIHRoYXQgYWxwaGEgaXMgMHhGRlxuXG4gICAgICBkaWZmID0gbWF0Y2hDb2xvckRpc3RhbmNlKHIxLCBnMSwgYjEsIHIyLCBnMiwgYjIpO1xuXG4gICAgICBpZiAoZGlmZiA9PT0gMCkge1xuICAgICAgICBsaSA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlmZiA8IGxkaWZmKSB7XG4gICAgICAgIGxkaWZmID0gZGlmZjtcbiAgICAgICAgbGkgPSBpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXRjaENvbG9yQ2FjaGVbaGFzaF0gPSBsaTtcbiAgfVxuXG4gIHByaXZhdGUgX3Zpc3VhbEJlbGwoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIHJldHVybiB0aGlzLm9wdGlvbnMuYmVsbFN0eWxlID09PSAndmlzdWFsJyB8fFxuICAgIC8vICAgICB0aGlzLm9wdGlvbnMuYmVsbFN0eWxlID09PSAnYm90aCc7XG4gIH1cblxuICBwcml2YXRlIF9zb3VuZEJlbGwoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5iZWxsU3R5bGUgPT09ICdzb3VuZCc7XG4gICAgLy8gcmV0dXJuIHRoaXMub3B0aW9ucy5iZWxsU3R5bGUgPT09ICdzb3VuZCcgfHxcbiAgICAvLyAgICAgdGhpcy5vcHRpb25zLmJlbGxTdHlsZSA9PT0gJ2JvdGgnO1xuICB9XG59XG5cbi8qKlxuICogSGVscGVyc1xuICovXG5cbmZ1bmN0aW9uIHdhc01vZGlmaWVyS2V5T25seUV2ZW50KGV2OiBLZXlib2FyZEV2ZW50KTogYm9vbGVhbiB7XG4gIHJldHVybiBldi5rZXlDb2RlID09PSAxNiB8fCAvLyBTaGlmdFxuICAgIGV2LmtleUNvZGUgPT09IDE3IHx8IC8vIEN0cmxcbiAgICBldi5rZXlDb2RlID09PSAxODsgLy8gQWx0XG59XG5cbi8qKlxuICogVE9ETzpcbiAqIFRoZSBiZWxvdyBjb2xvci1yZWxhdGVkIGNvZGUgY2FuIGJlIHJlbW92ZWQgd2hlbiB0cnVlIGNvbG9yIGlzIGltcGxlbWVudGVkLlxuICogSXQncyBvbmx5IHB1cnBvc2UgaXMgdG8gbWF0Y2ggdHJ1ZSBjb2xvciByZXF1ZXN0cyB3aXRoIHRoZSBjbG9zZXN0IG1hdGNoaW5nXG4gKiBBTlNJIGNvbG9yIGNvZGUuXG4gKi9cblxuY29uc3QgbWF0Y2hDb2xvckNhY2hlOiB7W2NvbG9yUkdCSGFzaDogbnVtYmVyXTogbnVtYmVyfSA9IHt9O1xuXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE2MzM4MjhcbmZ1bmN0aW9uIG1hdGNoQ29sb3JEaXN0YW5jZShyMTogbnVtYmVyLCBnMTogbnVtYmVyLCBiMTogbnVtYmVyLCByMjogbnVtYmVyLCBnMjogbnVtYmVyLCBiMjogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGgucG93KDMwICogKHIxIC0gcjIpLCAyKVxuICAgICsgTWF0aC5wb3coNTkgKiAoZzEgLSBnMiksIDIpXG4gICAgKyBNYXRoLnBvdygxMSAqIChiMSAtIGIyKSwgMik7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL1Rlcm1pbmFsLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26\n")},function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar Buffer_1 = __webpack_require__(0);\nvar EventEmitter_1 = __webpack_require__(2);\nvar BufferSet = (function (_super) {\n    __extends(BufferSet, _super);\n    function BufferSet(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._normal = new Buffer_1.Buffer(_this._terminal, true);\n        _this._normal.fillViewportRows();\n        _this._alt = new Buffer_1.Buffer(_this._terminal, false);\n        _this._activeBuffer = _this._normal;\n        _this.setupTabStops();\n        return _this;\n    }\n    Object.defineProperty(BufferSet.prototype, "alt", {\n        get: function () {\n            return this._alt;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, "active", {\n        get: function () {\n            return this._activeBuffer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BufferSet.prototype, "normal", {\n        get: function () {\n            return this._normal;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BufferSet.prototype.activateNormalBuffer = function () {\n        if (this._activeBuffer === this._normal) {\n            return;\n        }\n        this._normal.x = this._alt.x;\n        this._normal.y = this._alt.y;\n        this._alt.clear();\n        this._activeBuffer = this._normal;\n        this.emit(\'activate\', {\n            activeBuffer: this._normal,\n            inactiveBuffer: this._alt\n        });\n    };\n    BufferSet.prototype.activateAltBuffer = function (fillAttr) {\n        if (this._activeBuffer === this._alt) {\n            return;\n        }\n        this._alt.fillViewportRows(fillAttr);\n        this._alt.x = this._normal.x;\n        this._alt.y = this._normal.y;\n        this._activeBuffer = this._alt;\n        this.emit(\'activate\', {\n            activeBuffer: this._alt,\n            inactiveBuffer: this._normal\n        });\n    };\n    BufferSet.prototype.resize = function (newCols, newRows) {\n        this._normal.resize(newCols, newRows);\n        this._alt.resize(newCols, newRows);\n    };\n    BufferSet.prototype.setupTabStops = function (i) {\n        this._normal.setupTabStops(i);\n        this._alt.setupTabStops(i);\n    };\n    return BufferSet;\n}(EventEmitter_1.EventEmitter));\nexports.BufferSet = BufferSet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL0J1ZmZlclNldC50cz9lNmNlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQU1BLHNDQUFrQztBQUNsQyw0Q0FBcUQ7QUFNckQ7SUFBK0IsNkJBQVk7SUFTekMsbUJBQW9CLFNBQW9CO1FBQXhDLFlBQ0UsaUJBQU8sU0FVUjtRQVhtQixlQUFTLEdBQVQsU0FBUyxDQUFXO1FBRXRDLEtBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxlQUFNLENBQUMsS0FBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRCxLQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFJaEMsS0FBSSxDQUFDLElBQUksR0FBRyxJQUFJLGVBQU0sQ0FBQyxLQUFJLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzlDLEtBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSSxDQUFDLE9BQU8sQ0FBQztRQUVsQyxLQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7O0lBQ3ZCLENBQUM7SUFLRCxzQkFBVywwQkFBRzthQUFkO1lBQ0UsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ25CLENBQUM7OztPQUFBO0lBS0Qsc0JBQVcsNkJBQU07YUFBakI7WUFDRSxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUM7UUFDNUIsQ0FBQzs7O09BQUE7SUFLRCxzQkFBVyw2QkFBTTthQUFqQjtZQUNFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUN0QixDQUFDOzs7T0FBQTtJQUtNLHdDQUFvQixHQUEzQjtRQUNFLElBQUksSUFBSSxDQUFDLGFBQWEsS0FBSyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ3ZDLE9BQU87U0FDUjtRQUNELElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBSTdCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ3BCLFlBQVksRUFBRSxJQUFJLENBQUMsT0FBTztZQUMxQixjQUFjLEVBQUUsSUFBSSxDQUFDLElBQUk7U0FDMUIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUtNLHFDQUFpQixHQUF4QixVQUF5QixRQUFpQjtRQUN4QyxJQUFJLElBQUksQ0FBQyxhQUFhLEtBQUssSUFBSSxDQUFDLElBQUksRUFBRTtZQUNwQyxPQUFPO1NBQ1I7UUFHRCxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUMvQixJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUNwQixZQUFZLEVBQUUsSUFBSSxDQUFDLElBQUk7WUFDdkIsY0FBYyxFQUFFLElBQUksQ0FBQyxPQUFPO1NBQzdCLENBQUMsQ0FBQztJQUNMLENBQUM7SUFPTSwwQkFBTSxHQUFiLFVBQWMsT0FBZSxFQUFFLE9BQWU7UUFDNUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBTU0saUNBQWEsR0FBcEIsVUFBcUIsQ0FBVTtRQUM3QixJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBQ0gsZ0JBQUM7QUFBRCxDQUFDLENBcEc4QiwyQkFBWSxHQW9HMUM7QUFwR1ksOEJBQVMiLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IElUZXJtaW5hbCwgSUJ1ZmZlclNldCB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnLi9CdWZmZXInO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi9jb21tb24vRXZlbnRFbWl0dGVyJztcblxuLyoqXG4gKiBUaGUgQnVmZmVyU2V0IHJlcHJlc2VudHMgdGhlIHNldCBvZiB0d28gYnVmZmVycyB1c2VkIGJ5IHh0ZXJtIHRlcm1pbmFscyAobm9ybWFsIGFuZCBhbHQpIGFuZFxuICogcHJvdmlkZXMgYWxzbyB1dGlsaXRpZXMgZm9yIHdvcmtpbmcgd2l0aCB0aGVtLlxuICovXG5leHBvcnQgY2xhc3MgQnVmZmVyU2V0IGV4dGVuZHMgRXZlbnRFbWl0dGVyIGltcGxlbWVudHMgSUJ1ZmZlclNldCB7XG4gIHByaXZhdGUgX25vcm1hbDogQnVmZmVyO1xuICBwcml2YXRlIF9hbHQ6IEJ1ZmZlcjtcbiAgcHJpdmF0ZSBfYWN0aXZlQnVmZmVyOiBCdWZmZXI7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBCdWZmZXJTZXQgZm9yIHRoZSBnaXZlbiB0ZXJtaW5hbC5cbiAgICogQHBhcmFtIF90ZXJtaW5hbCAtIFRoZSB0ZXJtaW5hbCB0aGUgQnVmZmVyU2V0IHdpbGwgYmVsb25nIHRvXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF90ZXJtaW5hbDogSVRlcm1pbmFsKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9ub3JtYWwgPSBuZXcgQnVmZmVyKHRoaXMuX3Rlcm1pbmFsLCB0cnVlKTtcbiAgICB0aGlzLl9ub3JtYWwuZmlsbFZpZXdwb3J0Um93cygpO1xuXG4gICAgLy8gVGhlIGFsdCBidWZmZXIgc2hvdWxkIG5ldmVyIGhhdmUgc2Nyb2xsYmFjay5cbiAgICAvLyBTZWUgaHR0cDovL2ludmlzaWJsZS1pc2xhbmQubmV0L3h0ZXJtL2N0bHNlcXMvY3Rsc2Vxcy5odG1sI2gyLVRoZS1BbHRlcm5hdGUtU2NyZWVuLUJ1ZmZlclxuICAgIHRoaXMuX2FsdCA9IG5ldyBCdWZmZXIodGhpcy5fdGVybWluYWwsIGZhbHNlKTtcbiAgICB0aGlzLl9hY3RpdmVCdWZmZXIgPSB0aGlzLl9ub3JtYWw7XG5cbiAgICB0aGlzLnNldHVwVGFiU3RvcHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBhbHQgQnVmZmVyIG9mIHRoZSBCdWZmZXJTZXRcbiAgICovXG4gIHB1YmxpYyBnZXQgYWx0KCk6IEJ1ZmZlciB7XG4gICAgcmV0dXJuIHRoaXMuX2FsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBub3JtYWwgQnVmZmVyIG9mIHRoZSBCdWZmZXJTZXRcbiAgICovXG4gIHB1YmxpYyBnZXQgYWN0aXZlKCk6IEJ1ZmZlciB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGl2ZUJ1ZmZlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50bHkgYWN0aXZlIEJ1ZmZlciBvZiB0aGUgQnVmZmVyU2V0XG4gICAqL1xuICBwdWJsaWMgZ2V0IG5vcm1hbCgpOiBCdWZmZXIge1xuICAgIHJldHVybiB0aGlzLl9ub3JtYWw7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbm9ybWFsIEJ1ZmZlciBvZiB0aGUgQnVmZmVyU2V0IGFzIGl0cyBjdXJyZW50bHkgYWN0aXZlIEJ1ZmZlclxuICAgKi9cbiAgcHVibGljIGFjdGl2YXRlTm9ybWFsQnVmZmVyKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9hY3RpdmVCdWZmZXIgPT09IHRoaXMuX25vcm1hbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9ub3JtYWwueCA9IHRoaXMuX2FsdC54O1xuICAgIHRoaXMuX25vcm1hbC55ID0gdGhpcy5fYWx0Lnk7XG4gICAgLy8gVGhlIGFsdCBidWZmZXIgc2hvdWxkIGFsd2F5cyBiZSBjbGVhcmVkIHdoZW4gd2Ugc3dpdGNoIHRvIHRoZSBub3JtYWxcbiAgICAvLyBidWZmZXIuIFRoaXMgZnJlZXMgdXAgbWVtb3J5IHNpbmNlIHRoZSBhbHQgYnVmZmVyIHNob3VsZCBhbHdheXMgYmUgbmV3XG4gICAgLy8gd2hlbiBhY3RpdmF0ZWQuXG4gICAgdGhpcy5fYWx0LmNsZWFyKCk7XG4gICAgdGhpcy5fYWN0aXZlQnVmZmVyID0gdGhpcy5fbm9ybWFsO1xuICAgIHRoaXMuZW1pdCgnYWN0aXZhdGUnLCB7XG4gICAgICBhY3RpdmVCdWZmZXI6IHRoaXMuX25vcm1hbCxcbiAgICAgIGluYWN0aXZlQnVmZmVyOiB0aGlzLl9hbHRcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBhbHQgQnVmZmVyIG9mIHRoZSBCdWZmZXJTZXQgYXMgaXRzIGN1cnJlbnRseSBhY3RpdmUgQnVmZmVyXG4gICAqL1xuICBwdWJsaWMgYWN0aXZhdGVBbHRCdWZmZXIoZmlsbEF0dHI/OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlQnVmZmVyID09PSB0aGlzLl9hbHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gU2luY2UgdGhlIGFsdCBidWZmZXIgaXMgYWx3YXlzIGNsZWFyZWQgd2hlbiB0aGUgbm9ybWFsIGJ1ZmZlciBpc1xuICAgIC8vIGFjdGl2YXRlZCwgd2Ugd2FudCB0byBmaWxsIGl0IHdoZW4gc3dpdGNoaW5nIHRvIGl0LlxuICAgIHRoaXMuX2FsdC5maWxsVmlld3BvcnRSb3dzKGZpbGxBdHRyKTtcbiAgICB0aGlzLl9hbHQueCA9IHRoaXMuX25vcm1hbC54O1xuICAgIHRoaXMuX2FsdC55ID0gdGhpcy5fbm9ybWFsLnk7XG4gICAgdGhpcy5fYWN0aXZlQnVmZmVyID0gdGhpcy5fYWx0O1xuICAgIHRoaXMuZW1pdCgnYWN0aXZhdGUnLCB7XG4gICAgICBhY3RpdmVCdWZmZXI6IHRoaXMuX2FsdCxcbiAgICAgIGluYWN0aXZlQnVmZmVyOiB0aGlzLl9ub3JtYWxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNpemVzIGJvdGggbm9ybWFsIGFuZCBhbHQgYnVmZmVycywgYWRqdXN0aW5nIHRoZWlyIGRhdGEgYWNjb3JkaW5nbHkuXG4gICAqIEBwYXJhbSBuZXdDb2xzIFRoZSBuZXcgbnVtYmVyIG9mIGNvbHVtbnMuXG4gICAqIEBwYXJhbSBuZXdSb3dzIFRoZSBuZXcgbnVtYmVyIG9mIHJvd3MuXG4gICAqL1xuICBwdWJsaWMgcmVzaXplKG5ld0NvbHM6IG51bWJlciwgbmV3Um93czogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fbm9ybWFsLnJlc2l6ZShuZXdDb2xzLCBuZXdSb3dzKTtcbiAgICB0aGlzLl9hbHQucmVzaXplKG5ld0NvbHMsIG5ld1Jvd3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHVwIHRoZSB0YWIgc3RvcHMuXG4gICAqIEBwYXJhbSBpIFRoZSBpbmRleCB0byBzdGFydCBzZXR0aW5nIHVwIHRhYiBzdG9wcyBmcm9tLlxuICAgKi9cbiAgcHVibGljIHNldHVwVGFiU3RvcHMoaT86IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuX25vcm1hbC5zZXR1cFRhYlN0b3BzKGkpO1xuICAgIHRoaXMuX2FsdC5zZXR1cFRhYlN0b3BzKGkpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL0J1ZmZlclNldC50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///27\n')},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter_1 = __webpack_require__(2);\nvar CircularList = (function (_super) {\n    __extends(CircularList, _super);\n    function CircularList(_maxLength) {\n        var _this = _super.call(this) || this;\n        _this._maxLength = _maxLength;\n        _this._array = new Array(_this._maxLength);\n        _this._startIndex = 0;\n        _this._length = 0;\n        return _this;\n    }\n    Object.defineProperty(CircularList.prototype, \"maxLength\", {\n        get: function () {\n            return this._maxLength;\n        },\n        set: function (newMaxLength) {\n            if (this._maxLength === newMaxLength) {\n                return;\n            }\n            var newArray = new Array(newMaxLength);\n            for (var i = 0; i < Math.min(newMaxLength, this.length); i++) {\n                newArray[i] = this._array[this._getCyclicIndex(i)];\n            }\n            this._array = newArray;\n            this._maxLength = newMaxLength;\n            this._startIndex = 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CircularList.prototype, \"length\", {\n        get: function () {\n            return this._length;\n        },\n        set: function (newLength) {\n            if (newLength > this._length) {\n                for (var i = this._length; i < newLength; i++) {\n                    this._array[i] = undefined;\n                }\n            }\n            this._length = newLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.get = function (index) {\n        return this._array[this._getCyclicIndex(index)];\n    };\n    CircularList.prototype.set = function (index, value) {\n        this._array[this._getCyclicIndex(index)] = value;\n    };\n    CircularList.prototype.push = function (value) {\n        this._array[this._getCyclicIndex(this._length)] = value;\n        if (this._length === this._maxLength) {\n            this._startIndex = ++this._startIndex % this._maxLength;\n            this.emit('trim', 1);\n        }\n        else {\n            this._length++;\n        }\n    };\n    CircularList.prototype.recycle = function () {\n        if (this._length !== this._maxLength) {\n            throw new Error('Can only recycle when the buffer is full');\n        }\n        this._startIndex = ++this._startIndex % this._maxLength;\n        this.emit('trim', 1);\n        return this._array[this._getCyclicIndex(this._length - 1)];\n    };\n    Object.defineProperty(CircularList.prototype, \"isFull\", {\n        get: function () {\n            return this._length === this._maxLength;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CircularList.prototype.pop = function () {\n        return this._array[this._getCyclicIndex(this._length-- - 1)];\n    };\n    CircularList.prototype.splice = function (start, deleteCount) {\n        var items = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            items[_i - 2] = arguments[_i];\n        }\n        if (deleteCount) {\n            for (var i = start; i < this._length - deleteCount; i++) {\n                this._array[this._getCyclicIndex(i)] = this._array[this._getCyclicIndex(i + deleteCount)];\n            }\n            this._length -= deleteCount;\n        }\n        if (items && items.length) {\n            for (var i = this._length - 1; i >= start; i--) {\n                this._array[this._getCyclicIndex(i + items.length)] = this._array[this._getCyclicIndex(i)];\n            }\n            for (var i = 0; i < items.length; i++) {\n                this._array[this._getCyclicIndex(start + i)] = items[i];\n            }\n            if (this._length + items.length > this._maxLength) {\n                var countToTrim = (this._length + items.length) - this._maxLength;\n                this._startIndex += countToTrim;\n                this._length = this._maxLength;\n                this.emit('trim', countToTrim);\n            }\n            else {\n                this._length += items.length;\n            }\n        }\n    };\n    CircularList.prototype.trimStart = function (count) {\n        if (count > this._length) {\n            count = this._length;\n        }\n        this._startIndex += count;\n        this._length -= count;\n        this.emit('trim', count);\n    };\n    CircularList.prototype.shiftElements = function (start, count, offset) {\n        if (count <= 0) {\n            return;\n        }\n        if (start < 0 || start >= this._length) {\n            throw new Error('start argument out of range');\n        }\n        if (start + offset < 0) {\n            throw new Error('Cannot shift elements in list beyond index 0');\n        }\n        if (offset > 0) {\n            for (var i = count - 1; i >= 0; i--) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n            var expandListBy = (start + count + offset) - this._length;\n            if (expandListBy > 0) {\n                this._length += expandListBy;\n                while (this._length > this._maxLength) {\n                    this._length--;\n                    this._startIndex++;\n                    this.emit('trim', 1);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < count; i++) {\n                this.set(start + i + offset, this.get(start + i));\n            }\n        }\n    };\n    CircularList.prototype._getCyclicIndex = function (index) {\n        return (this._startIndex + index) % this._maxLength;\n    };\n    return CircularList;\n}(EventEmitter_1.EventEmitter));\nexports.CircularList = CircularList;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL2NvbW1vbi9DaXJjdWxhckxpc3QudHM/NTMxMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFLQSw0Q0FBOEM7QUFPOUM7SUFBcUMsZ0NBQVk7SUFLL0Msc0JBQ1UsVUFBa0I7UUFENUIsWUFHRSxpQkFBTyxTQUlSO1FBTlMsZ0JBQVUsR0FBVixVQUFVLENBQVE7UUFHMUIsS0FBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLEtBQUssQ0FBSSxLQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDNUMsS0FBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7UUFDckIsS0FBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7O0lBQ25CLENBQUM7SUFFRCxzQkFBVyxtQ0FBUzthQUFwQjtZQUNFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUN6QixDQUFDO2FBRUQsVUFBcUIsWUFBb0I7WUFFdkMsSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLFlBQVksRUFBRTtnQkFDcEMsT0FBTzthQUNSO1lBSUQsSUFBTSxRQUFRLEdBQUcsSUFBSSxLQUFLLENBQWdCLFlBQVksQ0FBQyxDQUFDO1lBQ3hELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzVELFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNwRDtZQUNELElBQUksQ0FBQyxNQUFNLEdBQUcsUUFBUSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxVQUFVLEdBQUcsWUFBWSxDQUFDO1lBQy9CLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZCLENBQUM7OztP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LE9BQU8sSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFO29CQUNyQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7b0JBQ2YsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO29CQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQztpQkFDdEI7YUFDRjtTQUNGO2FBQU07WUFDTCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUM5QixJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDLEdBQUcsTUFBTSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDbkQ7U0FDRjtJQUNILENBQUM7SUFRTyxzQ0FBZSxHQUF2QixVQUF3QixLQUFhO1FBQ25DLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDdEQsQ0FBQztJQUNILG1CQUFDO0FBQUQsQ0FBQyxDQWhOb0MsMkJBQVksR0FnTmhEO0FBaE5ZLG9DQUFZIiwiZmlsZSI6IjI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICcuL0V2ZW50RW1pdHRlcic7XG5pbXBvcnQgeyBJQ2lyY3VsYXJMaXN0IH0gZnJvbSAnLi9UeXBlcyc7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGNpcmN1bGFyIGxpc3Q7IGEgbGlzdCB3aXRoIGEgbWF4aW11bSBzaXplIHRoYXQgd3JhcHMgYXJvdW5kIHdoZW4gcHVzaCBpcyBjYWxsZWQsXG4gKiBvdmVycmlkaW5nIHZhbHVlcyBhdCB0aGUgc3RhcnQgb2YgdGhlIGxpc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBDaXJjdWxhckxpc3Q8VD4gZXh0ZW5kcyBFdmVudEVtaXR0ZXIgaW1wbGVtZW50cyBJQ2lyY3VsYXJMaXN0PFQ+IHtcbiAgcHJvdGVjdGVkIF9hcnJheTogKFQgfCB1bmRlZmluZWQpW107XG4gIHByaXZhdGUgX3N0YXJ0SW5kZXg6IG51bWJlcjtcbiAgcHJpdmF0ZSBfbGVuZ3RoOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBfbWF4TGVuZ3RoOiBudW1iZXJcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9hcnJheSA9IG5ldyBBcnJheTxUPih0aGlzLl9tYXhMZW5ndGgpO1xuICAgIHRoaXMuX3N0YXJ0SW5kZXggPSAwO1xuICAgIHRoaXMuX2xlbmd0aCA9IDA7XG4gIH1cblxuICBwdWJsaWMgZ2V0IG1heExlbmd0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9tYXhMZW5ndGg7XG4gIH1cblxuICBwdWJsaWMgc2V0IG1heExlbmd0aChuZXdNYXhMZW5ndGg6IG51bWJlcikge1xuICAgIC8vIFRoZXJlIHdhcyBubyBjaGFuZ2UgaW4gbWF4TGVuZ3RoLCByZXR1cm4gZWFybHkuXG4gICAgaWYgKHRoaXMuX21heExlbmd0aCA9PT0gbmV3TWF4TGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUmVjb25zdHJ1Y3QgYXJyYXksIHN0YXJ0aW5nIGF0IGluZGV4IDAuIE9ubHkgdHJhbnNmZXIgdmFsdWVzIGZyb20gdGhlXG4gICAgLy8gaW5kZXhlcyAwIHRvIGxlbmd0aC5cbiAgICBjb25zdCBuZXdBcnJheSA9IG5ldyBBcnJheTxUIHwgdW5kZWZpbmVkPihuZXdNYXhMZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4obmV3TWF4TGVuZ3RoLCB0aGlzLmxlbmd0aCk7IGkrKykge1xuICAgICAgbmV3QXJyYXlbaV0gPSB0aGlzLl9hcnJheVt0aGlzLl9nZXRDeWNsaWNJbmRleChpKV07XG4gICAgfVxuICAgIHRoaXMuX2FycmF5ID0gbmV3QXJyYXk7XG4gICAgdGhpcy5fbWF4TGVuZ3RoID0gbmV3TWF4TGVuZ3RoO1xuICAgIHRoaXMuX3N0YXJ0SW5kZXggPSAwO1xuICB9XG5cbiAgcHVibGljIGdldCBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fbGVuZ3RoO1xuICB9XG5cbiAgcHVibGljIHNldCBsZW5ndGgobmV3TGVuZ3RoOiBudW1iZXIpIHtcbiAgICBpZiAobmV3TGVuZ3RoID4gdGhpcy5fbGVuZ3RoKSB7XG4gICAgICBmb3IgKGxldCBpID0gdGhpcy5fbGVuZ3RoOyBpIDwgbmV3TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fYXJyYXlbaV0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2xlbmd0aCA9IG5ld0xlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBhbiBpbmRleC5cbiAgICpcbiAgICogTm90ZSB0aGF0IGZvciBwZXJmb3JtYW5jZSByZWFzb25zIHRoZXJlIGlzIG5vIGJvdW5kcyBjaGVja2luZyBoZXJlLCB0aGUgaW5kZXggcmVmZXJlbmNlIGlzXG4gICAqIGNpcmN1bGFyIHNvIHRoaXMgc2hvdWxkIGFsd2F5cyByZXR1cm4gYSB2YWx1ZSBhbmQgbmV2ZXIgdGhyb3cuXG4gICAqIEBwYXJhbSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICogQHJldHVybiBUaGUgdmFsdWUgY29ycmVzcG9uZGluZyB0byB0aGUgaW5kZXguXG4gICAqL1xuICBwdWJsaWMgZ2V0KGluZGV4OiBudW1iZXIpOiBUIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5fYXJyYXlbdGhpcy5fZ2V0Q3ljbGljSW5kZXgoaW5kZXgpXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB2YWx1ZSBhdCBhbiBpbmRleC5cbiAgICpcbiAgICogTm90ZSB0aGF0IGZvciBwZXJmb3JtYW5jZSByZWFzb25zIHRoZXJlIGlzIG5vIGJvdW5kcyBjaGVja2luZyBoZXJlLCB0aGUgaW5kZXggcmVmZXJlbmNlIGlzXG4gICAqIGNpcmN1bGFyIHNvIHRoaXMgc2hvdWxkIGFsd2F5cyByZXR1cm4gYSB2YWx1ZSBhbmQgbmV2ZXIgdGhyb3cuXG4gICAqIEBwYXJhbSBpbmRleCBUaGUgaW5kZXggdG8gc2V0LlxuICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICovXG4gIHB1YmxpYyBzZXQoaW5kZXg6IG51bWJlciwgdmFsdWU6IFQgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICB0aGlzLl9hcnJheVt0aGlzLl9nZXRDeWNsaWNJbmRleChpbmRleCldID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogUHVzaGVzIGEgbmV3IHZhbHVlIG9udG8gdGhlIGxpc3QsIHdyYXBwaW5nIGFyb3VuZCB0byB0aGUgc3RhcnQgb2YgdGhlIGFycmF5LCBvdmVycmlkaW5nIGluZGV4IDBcbiAgICogaWYgdGhlIG1heGltdW0gbGVuZ3RoIGlzIHJlYWNoZWQuXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHVzaCBvbnRvIHRoZSBsaXN0LlxuICAgKi9cbiAgcHVibGljIHB1c2godmFsdWU6IFQpOiB2b2lkIHtcbiAgICB0aGlzLl9hcnJheVt0aGlzLl9nZXRDeWNsaWNJbmRleCh0aGlzLl9sZW5ndGgpXSA9IHZhbHVlO1xuICAgIGlmICh0aGlzLl9sZW5ndGggPT09IHRoaXMuX21heExlbmd0aCkge1xuICAgICAgdGhpcy5fc3RhcnRJbmRleCA9ICsrdGhpcy5fc3RhcnRJbmRleCAlIHRoaXMuX21heExlbmd0aDtcbiAgICAgIHRoaXMuZW1pdCgndHJpbScsIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sZW5ndGgrKztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWR2YW5jZSByaW5nYnVmZmVyIGluZGV4IGFuZCByZXR1cm4gY3VycmVudCBlbGVtZW50IGZvciByZWN5Y2xpbmcuXG4gICAqIE5vdGU6IFRoZSBidWZmZXIgbXVzdCBiZSBmdWxsIGZvciB0aGlzIG1ldGhvZCB0byB3b3JrLlxuICAgKiBAdGhyb3dzIFdoZW4gdGhlIGJ1ZmZlciBpcyBub3QgZnVsbC5cbiAgICovXG4gIHB1YmxpYyByZWN5Y2xlKCk6IFQge1xuICAgIGlmICh0aGlzLl9sZW5ndGggIT09IHRoaXMuX21heExlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSByZWN5Y2xlIHdoZW4gdGhlIGJ1ZmZlciBpcyBmdWxsJyk7XG4gICAgfVxuICAgIHRoaXMuX3N0YXJ0SW5kZXggPSArK3RoaXMuX3N0YXJ0SW5kZXggJSB0aGlzLl9tYXhMZW5ndGg7XG4gICAgdGhpcy5lbWl0KCd0cmltJywgMSk7XG4gICAgcmV0dXJuIHRoaXMuX2FycmF5W3RoaXMuX2dldEN5Y2xpY0luZGV4KHRoaXMuX2xlbmd0aCAtIDEpXSE7XG4gIH1cblxuICAvKipcbiAgICogUmluZ2J1ZmZlciBpcyBhdCBtYXggbGVuZ3RoLlxuICAgKi9cbiAgcHVibGljIGdldCBpc0Z1bGwoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2xlbmd0aCA9PT0gdGhpcy5fbWF4TGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW5kIHJldHVybnMgdGhlIGxhc3QgdmFsdWUgb24gdGhlIGxpc3QuXG4gICAqIEByZXR1cm4gVGhlIHBvcHBlZCB2YWx1ZS5cbiAgICovXG4gIHB1YmxpYyBwb3AoKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuX2FycmF5W3RoaXMuX2dldEN5Y2xpY0luZGV4KHRoaXMuX2xlbmd0aC0tIC0gMSldO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYW5kL29yIGluc2VydHMgaXRlbXMgYXQgYSBwYXJ0aWN1bGFyIGluZGV4IChpbiB0aGF0IG9yZGVyKS4gVW5saWtlXG4gICAqIEFycmF5LnByb3RvdHlwZS5zcGxpY2UsIHRoaXMgb3BlcmF0aW9uIGRvZXMgbm90IHJldHVybiB0aGUgZGVsZXRlZCBpdGVtcyBhcyBhIG5ldyBhcnJheSBpblxuICAgKiBvcmRlciB0byBzYXZlIGNyZWF0aW5nIGEgbmV3IGFycmF5LiBOb3RlIHRoYXQgdGhpcyBvcGVyYXRpb24gbWF5IHNoaWZ0IGFsbCB2YWx1ZXMgaW4gdGhlIGxpc3RcbiAgICogaW4gdGhlIHdvcnN0IGNhc2UuXG4gICAqIEBwYXJhbSBzdGFydCBUaGUgaW5kZXggdG8gZGVsZXRlIGFuZC9vciBpbnNlcnQuXG4gICAqIEBwYXJhbSBkZWxldGVDb3VudCBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRlbGV0ZS5cbiAgICogQHBhcmFtIGl0ZW1zIFRoZSBpdGVtcyB0byBpbnNlcnQuXG4gICAqL1xuICBwdWJsaWMgc3BsaWNlKHN0YXJ0OiBudW1iZXIsIGRlbGV0ZUNvdW50OiBudW1iZXIsIC4uLml0ZW1zOiBUW10pOiB2b2lkIHtcbiAgICAvLyBEZWxldGUgaXRlbXNcbiAgICBpZiAoZGVsZXRlQ291bnQpIHtcbiAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IHRoaXMuX2xlbmd0aCAtIGRlbGV0ZUNvdW50OyBpKyspIHtcbiAgICAgICAgdGhpcy5fYXJyYXlbdGhpcy5fZ2V0Q3ljbGljSW5kZXgoaSldID0gdGhpcy5fYXJyYXlbdGhpcy5fZ2V0Q3ljbGljSW5kZXgoaSArIGRlbGV0ZUNvdW50KV07XG4gICAgICB9XG4gICAgICB0aGlzLl9sZW5ndGggLT0gZGVsZXRlQ291bnQ7XG4gICAgfVxuXG4gICAgaWYgKGl0ZW1zICYmIGl0ZW1zLmxlbmd0aCkge1xuICAgICAgLy8gQWRkIGl0ZW1zXG4gICAgICBmb3IgKGxldCBpID0gdGhpcy5fbGVuZ3RoIC0gMTsgaSA+PSBzdGFydDsgaS0tKSB7XG4gICAgICAgIHRoaXMuX2FycmF5W3RoaXMuX2dldEN5Y2xpY0luZGV4KGkgKyBpdGVtcy5sZW5ndGgpXSA9IHRoaXMuX2FycmF5W3RoaXMuX2dldEN5Y2xpY0luZGV4KGkpXTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fYXJyYXlbdGhpcy5fZ2V0Q3ljbGljSW5kZXgoc3RhcnQgKyBpKV0gPSBpdGVtc1tpXTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRqdXN0IGxlbmd0aCBhcyBuZWVkZWRcbiAgICAgIGlmICh0aGlzLl9sZW5ndGggKyBpdGVtcy5sZW5ndGggPiB0aGlzLl9tYXhMZW5ndGgpIHtcbiAgICAgICAgY29uc3QgY291bnRUb1RyaW0gPSAodGhpcy5fbGVuZ3RoICsgaXRlbXMubGVuZ3RoKSAtIHRoaXMuX21heExlbmd0aDtcbiAgICAgICAgdGhpcy5fc3RhcnRJbmRleCArPSBjb3VudFRvVHJpbTtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gdGhpcy5fbWF4TGVuZ3RoO1xuICAgICAgICB0aGlzLmVtaXQoJ3RyaW0nLCBjb3VudFRvVHJpbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9sZW5ndGggKz0gaXRlbXMubGVuZ3RoO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmltcyBhIG51bWJlciBvZiBpdGVtcyBmcm9tIHRoZSBzdGFydCBvZiB0aGUgbGlzdC5cbiAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgaXRlbXMgdG8gcmVtb3ZlLlxuICAgKi9cbiAgcHVibGljIHRyaW1TdGFydChjb3VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKGNvdW50ID4gdGhpcy5fbGVuZ3RoKSB7XG4gICAgICBjb3VudCA9IHRoaXMuX2xlbmd0aDtcbiAgICB9XG4gICAgdGhpcy5fc3RhcnRJbmRleCArPSBjb3VudDtcbiAgICB0aGlzLl9sZW5ndGggLT0gY291bnQ7XG4gICAgdGhpcy5lbWl0KCd0cmltJywgY291bnQpO1xuICB9XG5cbiAgcHVibGljIHNoaWZ0RWxlbWVudHMoc3RhcnQ6IG51bWJlciwgY291bnQ6IG51bWJlciwgb2Zmc2V0OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAoY291bnQgPD0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMuX2xlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdGFydCBhcmd1bWVudCBvdXQgb2YgcmFuZ2UnKTtcbiAgICB9XG4gICAgaWYgKHN0YXJ0ICsgb2Zmc2V0IDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2hpZnQgZWxlbWVudHMgaW4gbGlzdCBiZXlvbmQgaW5kZXggMCcpO1xuICAgIH1cblxuICAgIGlmIChvZmZzZXQgPiAwKSB7XG4gICAgICBmb3IgKGxldCBpID0gY291bnQgLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB0aGlzLnNldChzdGFydCArIGkgKyBvZmZzZXQsIHRoaXMuZ2V0KHN0YXJ0ICsgaSkpO1xuICAgICAgfVxuICAgICAgY29uc3QgZXhwYW5kTGlzdEJ5ID0gKHN0YXJ0ICsgY291bnQgKyBvZmZzZXQpIC0gdGhpcy5fbGVuZ3RoO1xuICAgICAgaWYgKGV4cGFuZExpc3RCeSA+IDApIHtcbiAgICAgICAgdGhpcy5fbGVuZ3RoICs9IGV4cGFuZExpc3RCeTtcbiAgICAgICAgd2hpbGUgKHRoaXMuX2xlbmd0aCA+IHRoaXMuX21heExlbmd0aCkge1xuICAgICAgICAgIHRoaXMuX2xlbmd0aC0tO1xuICAgICAgICAgIHRoaXMuX3N0YXJ0SW5kZXgrKztcbiAgICAgICAgICB0aGlzLmVtaXQoJ3RyaW0nLCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgdGhpcy5zZXQoc3RhcnQgKyBpICsgb2Zmc2V0LCB0aGlzLmdldChzdGFydCArIGkpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY3ljbGljIGluZGV4IGZvciB0aGUgc3BlY2lmaWVkIHJlZ3VsYXIgaW5kZXguIFRoZSBjeWNsaWMgaW5kZXggY2FuIHRoZW4gYmUgdXNlZCBvbiB0aGVcbiAgICogYmFja2luZyBhcnJheSB0byBnZXQgdGhlIGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSByZWd1bGFyIGluZGV4LlxuICAgKiBAcGFyYW0gaW5kZXggVGhlIHJlZ3VsYXIgaW5kZXguXG4gICAqIEByZXR1cm5zIFRoZSBjeWNsaWMgaW5kZXguXG4gICAqL1xuICBwcml2YXRlIF9nZXRDeWNsaWNJbmRleChpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gKHRoaXMuX3N0YXJ0SW5kZXggKyBpbmRleCkgJSB0aGlzLl9tYXhMZW5ndGg7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvY29tbW9uL0NpcmN1bGFyTGlzdC50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///28\n")},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = __webpack_require__(0);\nvar BufferLineJSArray = (function () {\n    function BufferLineJSArray(cols, fillCharData, isWrapped) {\n        this.isWrapped = false;\n        this._data = [];\n        if (!fillCharData) {\n            fillCharData = [0, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE];\n        }\n        for (var i = 0; i < cols; i++) {\n            this._push(fillCharData);\n        }\n        if (isWrapped) {\n            this.isWrapped = true;\n        }\n        this.length = this._data.length;\n    }\n    BufferLineJSArray.prototype._pop = function () {\n        var data = this._data.pop();\n        this.length = this._data.length;\n        return data;\n    };\n    BufferLineJSArray.prototype._push = function (data) {\n        this._data.push(data);\n        this.length = this._data.length;\n    };\n    BufferLineJSArray.prototype._splice = function (start, deleteCount) {\n        var items = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            items[_i - 2] = arguments[_i];\n        }\n        var _a;\n        var removed = (_a = this._data).splice.apply(_a, [start, deleteCount].concat(items));\n        this.length = this._data.length;\n        return removed;\n    };\n    BufferLineJSArray.prototype.get = function (index) {\n        return this._data[index];\n    };\n    BufferLineJSArray.prototype.set = function (index, data) {\n        this._data[index] = data;\n    };\n    BufferLineJSArray.prototype.insertCells = function (pos, n, ch) {\n        while (n--) {\n            this._splice(pos, 0, ch);\n            this._pop();\n        }\n    };\n    BufferLineJSArray.prototype.deleteCells = function (pos, n, fillCharData) {\n        while (n--) {\n            this._splice(pos, 1);\n            this._push(fillCharData);\n        }\n    };\n    BufferLineJSArray.prototype.replaceCells = function (start, end, fillCharData) {\n        while (start < end && start < this.length) {\n            this.set(start++, fillCharData);\n        }\n    };\n    BufferLineJSArray.prototype.resize = function (cols, fillCharData, shrink) {\n        if (shrink === void 0) { shrink = false; }\n        while (this._data.length < cols) {\n            this._data.push(fillCharData);\n        }\n        if (shrink) {\n            while (this._data.length > cols) {\n                this._data.pop();\n            }\n        }\n        this.length = this._data.length;\n    };\n    BufferLineJSArray.prototype.fill = function (fillCharData) {\n        for (var i = 0; i < this.length; ++i) {\n            this.set(i, fillCharData);\n        }\n    };\n    BufferLineJSArray.prototype.copyFrom = function (line) {\n        this._data = line._data.slice(0);\n        this.length = line.length;\n        this.isWrapped = line.isWrapped;\n    };\n    BufferLineJSArray.prototype.clone = function () {\n        var newLine = new BufferLineJSArray(0);\n        newLine.copyFrom(this);\n        return newLine;\n    };\n    return BufferLineJSArray;\n}());\nexports.BufferLineJSArray = BufferLineJSArray;\nvar CELL_SIZE = 3;\nvar BufferLine = (function () {\n    function BufferLine(cols, fillCharData, isWrapped) {\n        if (isWrapped === void 0) { isWrapped = false; }\n        this.isWrapped = isWrapped;\n        this._data = null;\n        this._combined = {};\n        if (!fillCharData) {\n            fillCharData = [0, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE];\n        }\n        if (cols) {\n            this._data = new Uint32Array(cols * CELL_SIZE);\n            for (var i = 0; i < cols; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n        this.length = cols;\n    }\n    BufferLine.prototype.get = function (index) {\n        var stringData = this._data[index * CELL_SIZE + 1];\n        return [\n            this._data[index * CELL_SIZE + 0],\n            (stringData & 0x80000000)\n                ? this._combined[index]\n                : (stringData) ? String.fromCharCode(stringData) : '',\n            this._data[index * CELL_SIZE + 2],\n            (stringData & 0x80000000)\n                ? this._combined[index].charCodeAt(this._combined[index].length - 1)\n                : stringData\n        ];\n    };\n    BufferLine.prototype.set = function (index, value) {\n        this._data[index * CELL_SIZE + 0] = value[0];\n        if (value[1].length > 1) {\n            this._combined[index] = value[1];\n            this._data[index * CELL_SIZE + 1] = index | 0x80000000;\n        }\n        else {\n            this._data[index * CELL_SIZE + 1] = value[1].charCodeAt(0);\n        }\n        this._data[index * CELL_SIZE + 2] = value[2];\n    };\n    BufferLine.prototype.insertCells = function (pos, n, fillCharData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            for (var i = this.length - pos - n - 1; i >= 0; --i) {\n                this.set(pos + n + i, this.get(pos + i));\n            }\n            for (var i = 0; i < n; ++i) {\n                this.set(pos + i, fillCharData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n    };\n    BufferLine.prototype.deleteCells = function (pos, n, fillCharData) {\n        pos %= this.length;\n        if (n < this.length - pos) {\n            for (var i = 0; i < this.length - pos - n; ++i) {\n                this.set(pos + i, this.get(pos + n + i));\n            }\n            for (var i = this.length - n; i < this.length; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n        else {\n            for (var i = pos; i < this.length; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n    };\n    BufferLine.prototype.replaceCells = function (start, end, fillCharData) {\n        while (start < end && start < this.length) {\n            this.set(start++, fillCharData);\n        }\n    };\n    BufferLine.prototype.resize = function (cols, fillCharData, shrink) {\n        if (shrink === void 0) { shrink = false; }\n        if (cols === this.length || (!shrink && cols < this.length)) {\n            return;\n        }\n        if (cols > this.length) {\n            var data = new Uint32Array(cols * CELL_SIZE);\n            if (this.length) {\n                if (cols * CELL_SIZE < this._data.length) {\n                    data.set(this._data.subarray(0, cols * CELL_SIZE));\n                }\n                else {\n                    data.set(this._data);\n                }\n            }\n            this._data = data;\n            for (var i = this.length; i < cols; ++i) {\n                this.set(i, fillCharData);\n            }\n        }\n        else if (shrink) {\n            if (cols) {\n                var data = new Uint32Array(cols * CELL_SIZE);\n                data.set(this._data.subarray(0, cols * CELL_SIZE));\n                this._data = data;\n            }\n            else {\n                this._data = null;\n            }\n        }\n        this.length = cols;\n    };\n    BufferLine.prototype.fill = function (fillCharData) {\n        this._combined = {};\n        for (var i = 0; i < this.length; ++i) {\n            this.set(i, fillCharData);\n        }\n    };\n    BufferLine.prototype.copyFrom = function (line) {\n        if (this.length !== line.length) {\n            this._data = new Uint32Array(line._data);\n        }\n        else {\n            this._data.set(line._data);\n        }\n        this.length = line.length;\n        this._combined = {};\n        for (var el in line._combined) {\n            this._combined[el] = line._combined[el];\n        }\n        this.isWrapped = line.isWrapped;\n    };\n    BufferLine.prototype.clone = function () {\n        var newLine = new BufferLine(0);\n        newLine._data = new Uint32Array(this._data);\n        newLine.length = this.length;\n        for (var el in this._combined) {\n            newLine._combined[el] = this._combined[el];\n        }\n        newLine.isWrapped = this.isWrapped;\n        return newLine;\n    };\n    return BufferLine;\n}());\nexports.BufferLine = BufferLine;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL0J1ZmZlckxpbmUudHM/ZjE3YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUtBLHNDQUEyRTtBQU8zRTtJQUtFLDJCQUFZLElBQVksRUFBRSxZQUF1QixFQUFFLFNBQW1CO1FBSC9ELGNBQVMsR0FBRyxLQUFLLENBQUM7UUFJdkIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDaEIsSUFBSSxDQUFDLFlBQVksRUFBRTtZQUNqQixZQUFZLEdBQUcsQ0FBQyxDQUFDLEVBQUUsdUJBQWMsRUFBRSx3QkFBZSxFQUFFLHVCQUFjLENBQUMsQ0FBQztTQUNyRTtRQUNELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDN0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUMxQjtRQUNELElBQUksU0FBUyxFQUFFO1lBQ2IsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7U0FDdkI7UUFDRCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO0lBQ2xDLENBQUM7SUFFTyxnQ0FBSSxHQUFaO1FBQ0UsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUM5QixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBQ2hDLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVPLGlDQUFLLEdBQWIsVUFBYyxJQUFjO1FBQzFCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFDbEMsQ0FBQztJQUVPLG1DQUFPLEdBQWYsVUFBZ0IsS0FBYSxFQUFFLFdBQW1CO1FBQUUsZUFBb0I7YUFBcEIsVUFBb0IsRUFBcEIscUJBQW9CLEVBQXBCLElBQW9CO1lBQXBCLDhCQUFvQjs7O1FBQ3RFLElBQU0sT0FBTyxHQUFHLFVBQUksQ0FBQyxLQUFLLEVBQUMsTUFBTSxZQUFDLEtBQUssRUFBRSxXQUFXLFNBQUssS0FBSyxFQUFDLENBQUM7UUFDaEUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUNoQyxPQUFPLE9BQU8sQ0FBQztJQUNqQixDQUFDO0lBRU0sK0JBQUcsR0FBVixVQUFXLEtBQWE7UUFDdEIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFTSwrQkFBRyxHQUFWLFVBQVcsS0FBYSxFQUFFLElBQWM7UUFDdEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDM0IsQ0FBQztJQUdNLHVDQUFXLEdBQWxCLFVBQW1CLEdBQVcsRUFBRSxDQUFTLEVBQUUsRUFBWTtRQUNyRCxPQUFPLENBQUMsRUFBRSxFQUFFO1lBQ1YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNiO0lBQ0gsQ0FBQztJQUdNLHVDQUFXLEdBQWxCLFVBQW1CLEdBQVcsRUFBRSxDQUFTLEVBQUUsWUFBc0I7UUFDL0QsT0FBTyxDQUFDLEVBQUUsRUFBRTtZQUNWLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3JCLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7U0FDMUI7SUFDSCxDQUFDO0lBR00sd0NBQVksR0FBbkIsVUFBb0IsS0FBYSxFQUFFLEdBQVcsRUFBRSxZQUFzQjtRQUNwRSxPQUFPLEtBQUssR0FBRyxHQUFHLElBQUssS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDMUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsRUFBRSxZQUFZLENBQUMsQ0FBQztTQUNqQztJQUNILENBQUM7SUFHTSxrQ0FBTSxHQUFiLFVBQWMsSUFBWSxFQUFFLFlBQXNCLEVBQUUsTUFBdUI7UUFBdkIsdUNBQXVCO1FBQ3pFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxFQUFFO1lBQy9CLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQy9CO1FBQ0QsSUFBSSxNQUFNLEVBQUU7WUFDVixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLElBQUksRUFBRTtnQkFDL0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQzthQUNsQjtTQUNGO1FBQ0QsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUNsQyxDQUFDO0lBRU0sZ0NBQUksR0FBWCxVQUFZLFlBQXNCO1FBQ2hDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFFO1lBQ3BDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO1NBQzNCO0lBQ0gsQ0FBQztJQUVNLG9DQUFRLEdBQWYsVUFBZ0IsSUFBdUI7UUFDckMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDMUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ2xDLENBQUM7SUFFTSxpQ0FBSyxHQUFaO1FBQ0UsSUFBTSxPQUFPLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZCLE9BQU8sT0FBTyxDQUFDO0lBQ2pCLENBQUM7SUFDSCx3QkFBQztBQUFELENBQUM7QUFqR1ksOENBQWlCO0FBb0c5QixJQUFNLFNBQVMsR0FBRyxDQUFDLENBQUM7QUFZcEI7SUFLRSxvQkFBWSxJQUFZLEVBQUUsWUFBdUIsRUFBUyxTQUEwQjtRQUExQiw2Q0FBMEI7UUFBMUIsY0FBUyxHQUFULFNBQVMsQ0FBaUI7UUFKMUUsVUFBSyxHQUF1QixJQUFJLENBQUM7UUFDakMsY0FBUyxHQUE4QixFQUFFLENBQUM7UUFJbEQsSUFBSSxDQUFDLFlBQVksRUFBRTtZQUNqQixZQUFZLEdBQUcsQ0FBQyxDQUFDLEVBQUUsdUJBQWMsRUFBRSx3QkFBZSxFQUFFLHVCQUFjLENBQUMsQ0FBQztTQUNyRTtRQUNELElBQUksSUFBSSxFQUFFO1lBQ1IsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLFdBQVcsQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLENBQUM7WUFDL0MsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxFQUFFLENBQUMsRUFBRTtnQkFDN0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUM7YUFDM0I7U0FDRjtRQUNELElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFFTSx3QkFBRyxHQUFWLFVBQVcsS0FBYTtRQUN0QixJQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxTQUFTLElBQWMsQ0FBQyxDQUFDO1FBQy9ELE9BQU87WUFDTCxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxTQUFTLElBQWEsQ0FBQztZQUMxQyxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7Z0JBQ3ZCLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztnQkFDdkIsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDdkQsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsU0FBUyxJQUFhLENBQUM7WUFDMUMsQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO2dCQUN2QixDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO2dCQUNwRSxDQUFDLENBQUMsVUFBVTtTQUNmLENBQUM7SUFDSixDQUFDO0lBRU0sd0JBQUcsR0FBVixVQUFXLEtBQWEsRUFBRSxLQUFlO1FBQ3ZDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLFNBQVMsSUFBYSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RELElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDdkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsU0FBUyxJQUFjLENBQUMsR0FBRyxLQUFLLEdBQUcsVUFBVSxDQUFDO1NBQ2xFO2FBQU07WUFDTCxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxTQUFTLElBQWMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdEU7UUFDRCxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxTQUFTLElBQWEsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBRU0sZ0NBQVcsR0FBbEIsVUFBbUIsR0FBVyxFQUFFLENBQVMsRUFBRSxZQUFzQjtRQUMvRCxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUNuQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsRUFBRTtZQUN6QixLQUFLLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRTtnQkFDbkQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzFDO1lBQ0QsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRTtnQkFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO2FBQ2pDO1NBQ0Y7YUFBTTtZQUNMLEtBQUssSUFBSSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFFO2dCQUN0QyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQzthQUMzQjtTQUNGO0lBQ0gsQ0FBQztJQUVNLGdDQUFXLEdBQWxCLFVBQW1CLEdBQVcsRUFBRSxDQUFTLEVBQUUsWUFBc0I7UUFDL0QsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDbkIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUU7WUFDekIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRTtnQkFDOUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzFDO1lBQ0QsS0FBSyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsRUFBRTtnQkFDbEQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUM7YUFDM0I7U0FDRjthQUFNO1lBQ0wsS0FBSyxJQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7Z0JBQ3RDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDO2FBQzNCO1NBQ0Y7SUFDSCxDQUFDO0lBRU0saUNBQVksR0FBbkIsVUFBb0IsS0FBYSxFQUFFLEdBQVcsRUFBRSxZQUFzQjtRQUNwRSxPQUFPLEtBQUssR0FBRyxHQUFHLElBQUssS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDMUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsRUFBRSxZQUFZLENBQUMsQ0FBQztTQUNqQztJQUNILENBQUM7SUFFTSwyQkFBTSxHQUFiLFVBQWMsSUFBWSxFQUFFLFlBQXNCLEVBQUUsTUFBdUI7UUFBdkIsdUNBQXVCO1FBQ3pFLElBQUksSUFBSSxLQUFLLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLE1BQU0sSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQzNELE9BQU87U0FDUjtRQUNELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDdEIsSUFBTSxJQUFJLEdBQUcsSUFBSSxXQUFXLENBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxDQUFDO1lBQy9DLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDZixJQUFJLElBQUksR0FBRyxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUU7b0JBQ3hDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLElBQUksR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDO2lCQUNwRDtxQkFBTTtvQkFDTCxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDdEI7YUFDRjtZQUNELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1lBQ2xCLEtBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLEVBQUUsQ0FBQyxFQUFFO2dCQUN2QyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQzthQUMzQjtTQUNGO2FBQU0sSUFBSSxNQUFNLEVBQUU7WUFDakIsSUFBSSxJQUFJLEVBQUU7Z0JBQ1IsSUFBTSxJQUFJLEdBQUcsSUFBSSxXQUFXLENBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxDQUFDO2dCQUMvQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxJQUFJLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQztnQkFDbkQsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7YUFDbkI7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7YUFDbkI7U0FDRjtRQUNELElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFHTSx5QkFBSSxHQUFYLFVBQVksWUFBc0I7UUFDaEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFDcEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDcEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUM7U0FDM0I7SUFDSCxDQUFDO0lBR00sNkJBQVEsR0FBZixVQUFnQixJQUFnQjtRQUM5QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUMxQzthQUFNO1lBRUwsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzVCO1FBQ0QsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQzFCLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLEtBQUssSUFBTSxFQUFFLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUMvQixJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDbEMsQ0FBQztJQUdNLDBCQUFLLEdBQVo7UUFDRSxJQUFNLE9BQU8sR0FBRyxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUdsQyxPQUFPLENBQUMsS0FBSyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM1QyxPQUFPLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDN0IsS0FBSyxJQUFNLEVBQUUsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQy9CLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUM1QztRQUNELE9BQU8sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUNuQyxPQUFPLE9BQU8sQ0FBQztJQUNqQixDQUFDO0lBQ0gsaUJBQUM7QUFBRCxDQUFDO0FBbkpZLGdDQUFVIiwiZmlsZSI6IjI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuaW1wb3J0IHsgQ2hhckRhdGEsIElCdWZmZXJMaW5lIH0gZnJvbSAnLi9UeXBlcyc7XG5pbXBvcnQgeyBOVUxMX0NFTExfQ09ERSwgTlVMTF9DRUxMX1dJRFRILCBOVUxMX0NFTExfQ0hBUiB9IGZyb20gJy4vQnVmZmVyJztcblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSB0ZXJtaW5hbCBsaW5lLlxuICpcbiAqIEBkZXByZWNhdGVkIHRvIGJlIHJlbW92ZWQgd2l0aCBvbmUgb2YgdGhlIG5leHQgcmVsZWFzZXNcbiAqL1xuZXhwb3J0IGNsYXNzIEJ1ZmZlckxpbmVKU0FycmF5IGltcGxlbWVudHMgSUJ1ZmZlckxpbmUge1xuICBwcm90ZWN0ZWQgX2RhdGE6IENoYXJEYXRhW107XG4gIHB1YmxpYyBpc1dyYXBwZWQgPSBmYWxzZTtcbiAgcHVibGljIGxlbmd0aDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGNvbHM6IG51bWJlciwgZmlsbENoYXJEYXRhPzogQ2hhckRhdGEsIGlzV3JhcHBlZD86IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9kYXRhID0gW107XG4gICAgaWYgKCFmaWxsQ2hhckRhdGEpIHtcbiAgICAgIGZpbGxDaGFyRGF0YSA9IFswLCBOVUxMX0NFTExfQ0hBUiwgTlVMTF9DRUxMX1dJRFRILCBOVUxMX0NFTExfQ09ERV07XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sczsgaSsrKSB7XG4gICAgICB0aGlzLl9wdXNoKGZpbGxDaGFyRGF0YSk7ICAvLyBOb3RlOiB0aGUgY3RvciBjaCBpcyBub3QgY2xvbmVkIChyZXNlbWJsZXMgb2xkIGJlaGF2aW9yKVxuICAgIH1cbiAgICBpZiAoaXNXcmFwcGVkKSB7XG4gICAgICB0aGlzLmlzV3JhcHBlZCA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMubGVuZ3RoID0gdGhpcy5fZGF0YS5sZW5ndGg7XG4gIH1cblxuICBwcml2YXRlIF9wb3AoKTogQ2hhckRhdGEgfCB1bmRlZmluZWQgIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5fZGF0YS5wb3AoKTtcbiAgICB0aGlzLmxlbmd0aCA9IHRoaXMuX2RhdGEubGVuZ3RoO1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgcHJpdmF0ZSBfcHVzaChkYXRhOiBDaGFyRGF0YSk6IHZvaWQge1xuICAgIHRoaXMuX2RhdGEucHVzaChkYXRhKTtcbiAgICB0aGlzLmxlbmd0aCA9IHRoaXMuX2RhdGEubGVuZ3RoO1xuICB9XG5cbiAgcHJpdmF0ZSBfc3BsaWNlKHN0YXJ0OiBudW1iZXIsIGRlbGV0ZUNvdW50OiBudW1iZXIsIC4uLml0ZW1zOiBDaGFyRGF0YVtdKTogQ2hhckRhdGFbXSB7XG4gICAgY29uc3QgcmVtb3ZlZCA9IHRoaXMuX2RhdGEuc3BsaWNlKHN0YXJ0LCBkZWxldGVDb3VudCwgLi4uaXRlbXMpO1xuICAgIHRoaXMubGVuZ3RoID0gdGhpcy5fZGF0YS5sZW5ndGg7XG4gICAgcmV0dXJuIHJlbW92ZWQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0KGluZGV4OiBudW1iZXIpOiBDaGFyRGF0YSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGFbaW5kZXhdO1xuICB9XG5cbiAgcHVibGljIHNldChpbmRleDogbnVtYmVyLCBkYXRhOiBDaGFyRGF0YSk6IHZvaWQge1xuICAgIHRoaXMuX2RhdGFbaW5kZXhdID0gZGF0YTtcbiAgfVxuXG4gIC8qKiBpbnNlcnQgbiBjZWxscyBjaCBhdCBwb3MsIHJpZ2h0IGNlbGxzIGFyZSBsb3N0IChzdGFibGUgbGVuZ3RoKSAgKi9cbiAgcHVibGljIGluc2VydENlbGxzKHBvczogbnVtYmVyLCBuOiBudW1iZXIsIGNoOiBDaGFyRGF0YSk6IHZvaWQge1xuICAgIHdoaWxlIChuLS0pIHtcbiAgICAgIHRoaXMuX3NwbGljZShwb3MsIDAsIGNoKTtcbiAgICAgIHRoaXMuX3BvcCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBkZWxldGUgbiBjZWxscyBhdCBwb3MsIHJpZ2h0IHNpZGUgaXMgZmlsbGVkIHdpdGggZmlsbCAoc3RhYmxlIGxlbmd0aCkgKi9cbiAgcHVibGljIGRlbGV0ZUNlbGxzKHBvczogbnVtYmVyLCBuOiBudW1iZXIsIGZpbGxDaGFyRGF0YTogQ2hhckRhdGEpOiB2b2lkIHtcbiAgICB3aGlsZSAobi0tKSB7XG4gICAgICB0aGlzLl9zcGxpY2UocG9zLCAxKTtcbiAgICAgIHRoaXMuX3B1c2goZmlsbENoYXJEYXRhKTtcbiAgICB9XG4gIH1cblxuICAvKiogcmVwbGFjZSBjZWxscyBmcm9tIHBvcyB0byBwb3MgKyBuIC0gMSB3aXRoIGZpbGwgKi9cbiAgcHVibGljIHJlcGxhY2VDZWxscyhzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlciwgZmlsbENoYXJEYXRhOiBDaGFyRGF0YSk6IHZvaWQge1xuICAgIHdoaWxlIChzdGFydCA8IGVuZCAgJiYgc3RhcnQgPCB0aGlzLmxlbmd0aCkge1xuICAgICAgdGhpcy5zZXQoc3RhcnQrKywgZmlsbENoYXJEYXRhKTsgIC8vIE5vdGU6IGZpbGwgaXMgbm90IGNsb25lZCAocmVzZW1ibGVzIG9sZCBiZWhhdmlvcilcbiAgICB9XG4gIH1cblxuICAvKiogcmVzaXplIGxpbmUgdG8gY29scyBmaWxsaW5nIG5ldyBjZWxscyB3aXRoIGZpbGwgKi9cbiAgcHVibGljIHJlc2l6ZShjb2xzOiBudW1iZXIsIGZpbGxDaGFyRGF0YTogQ2hhckRhdGEsIHNocmluazogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgd2hpbGUgKHRoaXMuX2RhdGEubGVuZ3RoIDwgY29scykge1xuICAgICAgdGhpcy5fZGF0YS5wdXNoKGZpbGxDaGFyRGF0YSk7XG4gICAgfVxuICAgIGlmIChzaHJpbmspIHtcbiAgICAgIHdoaWxlICh0aGlzLl9kYXRhLmxlbmd0aCA+IGNvbHMpIHtcbiAgICAgICAgdGhpcy5fZGF0YS5wb3AoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5sZW5ndGggPSB0aGlzLl9kYXRhLmxlbmd0aDtcbiAgfVxuXG4gIHB1YmxpYyBmaWxsKGZpbGxDaGFyRGF0YTogQ2hhckRhdGEpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHRoaXMuc2V0KGksIGZpbGxDaGFyRGF0YSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGNvcHlGcm9tKGxpbmU6IEJ1ZmZlckxpbmVKU0FycmF5KTogdm9pZCB7XG4gICAgdGhpcy5fZGF0YSA9IGxpbmUuX2RhdGEuc2xpY2UoMCk7XG4gICAgdGhpcy5sZW5ndGggPSBsaW5lLmxlbmd0aDtcbiAgICB0aGlzLmlzV3JhcHBlZCA9IGxpbmUuaXNXcmFwcGVkO1xuICB9XG5cbiAgcHVibGljIGNsb25lKCk6IElCdWZmZXJMaW5lIHtcbiAgICBjb25zdCBuZXdMaW5lID0gbmV3IEJ1ZmZlckxpbmVKU0FycmF5KDApO1xuICAgIG5ld0xpbmUuY29weUZyb20odGhpcyk7XG4gICAgcmV0dXJuIG5ld0xpbmU7XG4gIH1cbn1cblxuLyoqIHR5cGVkIGFycmF5IHNsb3RzIHRha2VuIGJ5IG9uZSBjZWxsICovXG5jb25zdCBDRUxMX1NJWkUgPSAzO1xuXG4vKiogY2VsbCBtZW1iZXIgaW5kaWNlcyAqL1xuY29uc3QgZW51bSBDZWxsIHtcbiAgRkxBR1MgPSAwLFxuICBTVFJJTkcgPSAxLFxuICBXSURUSCA9IDJcbn1cblxuLyoqXG4gKiBUeXBlZCBhcnJheSBiYXNlZCBidWZmZXJsaW5lIGltcGxlbWVudGF0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQnVmZmVyTGluZSBpbXBsZW1lbnRzIElCdWZmZXJMaW5lIHtcbiAgcHJvdGVjdGVkIF9kYXRhOiBVaW50MzJBcnJheSB8IG51bGwgPSBudWxsO1xuICBwcm90ZWN0ZWQgX2NvbWJpbmVkOiB7W2luZGV4OiBudW1iZXJdOiBzdHJpbmd9ID0ge307XG4gIHB1YmxpYyBsZW5ndGg6IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcihjb2xzOiBudW1iZXIsIGZpbGxDaGFyRGF0YT86IENoYXJEYXRhLCBwdWJsaWMgaXNXcmFwcGVkOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBpZiAoIWZpbGxDaGFyRGF0YSkge1xuICAgICAgZmlsbENoYXJEYXRhID0gWzAsIE5VTExfQ0VMTF9DSEFSLCBOVUxMX0NFTExfV0lEVEgsIE5VTExfQ0VMTF9DT0RFXTtcbiAgICB9XG4gICAgaWYgKGNvbHMpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSBuZXcgVWludDMyQXJyYXkoY29scyAqIENFTExfU0laRSk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbHM7ICsraSkge1xuICAgICAgICB0aGlzLnNldChpLCBmaWxsQ2hhckRhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmxlbmd0aCA9IGNvbHM7XG4gIH1cblxuICBwdWJsaWMgZ2V0KGluZGV4OiBudW1iZXIpOiBDaGFyRGF0YSB7XG4gICAgY29uc3Qgc3RyaW5nRGF0YSA9IHRoaXMuX2RhdGFbaW5kZXggKiBDRUxMX1NJWkUgKyBDZWxsLlNUUklOR107XG4gICAgcmV0dXJuIFtcbiAgICAgIHRoaXMuX2RhdGFbaW5kZXggKiBDRUxMX1NJWkUgKyBDZWxsLkZMQUdTXSxcbiAgICAgIChzdHJpbmdEYXRhICYgMHg4MDAwMDAwMClcbiAgICAgICAgPyB0aGlzLl9jb21iaW5lZFtpbmRleF1cbiAgICAgICAgOiAoc3RyaW5nRGF0YSkgPyBTdHJpbmcuZnJvbUNoYXJDb2RlKHN0cmluZ0RhdGEpIDogJycsXG4gICAgICB0aGlzLl9kYXRhW2luZGV4ICogQ0VMTF9TSVpFICsgQ2VsbC5XSURUSF0sXG4gICAgICAoc3RyaW5nRGF0YSAmIDB4ODAwMDAwMDApXG4gICAgICAgID8gdGhpcy5fY29tYmluZWRbaW5kZXhdLmNoYXJDb2RlQXQodGhpcy5fY29tYmluZWRbaW5kZXhdLmxlbmd0aCAtIDEpXG4gICAgICAgIDogc3RyaW5nRGF0YVxuICAgIF07XG4gIH1cblxuICBwdWJsaWMgc2V0KGluZGV4OiBudW1iZXIsIHZhbHVlOiBDaGFyRGF0YSk6IHZvaWQge1xuICAgIHRoaXMuX2RhdGFbaW5kZXggKiBDRUxMX1NJWkUgKyBDZWxsLkZMQUdTXSA9IHZhbHVlWzBdO1xuICAgIGlmICh2YWx1ZVsxXS5sZW5ndGggPiAxKSB7XG4gICAgICB0aGlzLl9jb21iaW5lZFtpbmRleF0gPSB2YWx1ZVsxXTtcbiAgICAgIHRoaXMuX2RhdGFbaW5kZXggKiBDRUxMX1NJWkUgKyBDZWxsLlNUUklOR10gPSBpbmRleCB8IDB4ODAwMDAwMDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2RhdGFbaW5kZXggKiBDRUxMX1NJWkUgKyBDZWxsLlNUUklOR10gPSB2YWx1ZVsxXS5jaGFyQ29kZUF0KDApO1xuICAgIH1cbiAgICB0aGlzLl9kYXRhW2luZGV4ICogQ0VMTF9TSVpFICsgQ2VsbC5XSURUSF0gPSB2YWx1ZVsyXTtcbiAgfVxuXG4gIHB1YmxpYyBpbnNlcnRDZWxscyhwb3M6IG51bWJlciwgbjogbnVtYmVyLCBmaWxsQ2hhckRhdGE6IENoYXJEYXRhKTogdm9pZCB7XG4gICAgcG9zICU9IHRoaXMubGVuZ3RoO1xuICAgIGlmIChuIDwgdGhpcy5sZW5ndGggLSBwb3MpIHtcbiAgICAgIGZvciAobGV0IGkgPSB0aGlzLmxlbmd0aCAtIHBvcyAtIG4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB0aGlzLnNldChwb3MgKyBuICsgaSwgdGhpcy5nZXQocG9zICsgaSkpO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgdGhpcy5zZXQocG9zICsgaSwgZmlsbENoYXJEYXRhKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IHBvczsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdGhpcy5zZXQoaSwgZmlsbENoYXJEYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZGVsZXRlQ2VsbHMocG9zOiBudW1iZXIsIG46IG51bWJlciwgZmlsbENoYXJEYXRhOiBDaGFyRGF0YSk6IHZvaWQge1xuICAgIHBvcyAlPSB0aGlzLmxlbmd0aDtcbiAgICBpZiAobiA8IHRoaXMubGVuZ3RoIC0gcG9zKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoIC0gcG9zIC0gbjsgKytpKSB7XG4gICAgICAgIHRoaXMuc2V0KHBvcyArIGksIHRoaXMuZ2V0KHBvcyArIG4gKyBpKSk7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gdGhpcy5sZW5ndGggLSBuOyBpIDwgdGhpcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB0aGlzLnNldChpLCBmaWxsQ2hhckRhdGEpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gcG9zOyBpIDwgdGhpcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB0aGlzLnNldChpLCBmaWxsQ2hhckRhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZXBsYWNlQ2VsbHMoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIsIGZpbGxDaGFyRGF0YTogQ2hhckRhdGEpOiB2b2lkIHtcbiAgICB3aGlsZSAoc3RhcnQgPCBlbmQgICYmIHN0YXJ0IDwgdGhpcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuc2V0KHN0YXJ0KyssIGZpbGxDaGFyRGF0YSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlc2l6ZShjb2xzOiBudW1iZXIsIGZpbGxDaGFyRGF0YTogQ2hhckRhdGEsIHNocmluazogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgaWYgKGNvbHMgPT09IHRoaXMubGVuZ3RoIHx8ICghc2hyaW5rICYmIGNvbHMgPCB0aGlzLmxlbmd0aCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNvbHMgPiB0aGlzLmxlbmd0aCkge1xuICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50MzJBcnJheShjb2xzICogQ0VMTF9TSVpFKTtcbiAgICAgIGlmICh0aGlzLmxlbmd0aCkge1xuICAgICAgICBpZiAoY29scyAqIENFTExfU0laRSA8IHRoaXMuX2RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgZGF0YS5zZXQodGhpcy5fZGF0YS5zdWJhcnJheSgwLCBjb2xzICogQ0VMTF9TSVpFKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YS5zZXQodGhpcy5fZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgICAgZm9yIChsZXQgaSA9IHRoaXMubGVuZ3RoOyBpIDwgY29sczsgKytpKSB7XG4gICAgICAgIHRoaXMuc2V0KGksIGZpbGxDaGFyRGF0YSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzaHJpbmspIHtcbiAgICAgIGlmIChjb2xzKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDMyQXJyYXkoY29scyAqIENFTExfU0laRSk7XG4gICAgICAgIGRhdGEuc2V0KHRoaXMuX2RhdGEuc3ViYXJyYXkoMCwgY29scyAqIENFTExfU0laRSkpO1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmxlbmd0aCA9IGNvbHM7XG4gIH1cblxuICAvKiogZmlsbCBhIGxpbmUgd2l0aCBmaWxsQ2hhckRhdGEgKi9cbiAgcHVibGljIGZpbGwoZmlsbENoYXJEYXRhOiBDaGFyRGF0YSk6IHZvaWQge1xuICAgIHRoaXMuX2NvbWJpbmVkID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XG4gICAgICB0aGlzLnNldChpLCBmaWxsQ2hhckRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBhbHRlciB0byBhIGZ1bGwgY29weSBvZiBsaW5lICAqL1xuICBwdWJsaWMgY29weUZyb20obGluZTogQnVmZmVyTGluZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLmxlbmd0aCAhPT0gbGluZS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX2RhdGEgPSBuZXcgVWludDMyQXJyYXkobGluZS5fZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVzZSBoaWdoIHNwZWVkIGNvcHkgaWYgbGVuZ3RocyBhcmUgZXF1YWxcbiAgICAgIHRoaXMuX2RhdGEuc2V0KGxpbmUuX2RhdGEpO1xuICAgIH1cbiAgICB0aGlzLmxlbmd0aCA9IGxpbmUubGVuZ3RoO1xuICAgIHRoaXMuX2NvbWJpbmVkID0ge307XG4gICAgZm9yIChjb25zdCBlbCBpbiBsaW5lLl9jb21iaW5lZCkge1xuICAgICAgdGhpcy5fY29tYmluZWRbZWxdID0gbGluZS5fY29tYmluZWRbZWxdO1xuICAgIH1cbiAgICB0aGlzLmlzV3JhcHBlZCA9IGxpbmUuaXNXcmFwcGVkO1xuICB9XG5cbiAgLyoqIGNyZWF0ZSBhIG5ldyBjbG9uZSAqL1xuICBwdWJsaWMgY2xvbmUoKTogSUJ1ZmZlckxpbmUge1xuICAgIGNvbnN0IG5ld0xpbmUgPSBuZXcgQnVmZmVyTGluZSgwKTtcbiAgICAvLyBjcmVhdGlvbiBvZiBuZXcgdHlwZWQgYXJyYXkgZnJvbSBhbm90aGVyIGlzIGFjdHVhbGx5IHByZXR0eSBzbG93IDooXG4gICAgLy8gc3RpbGwgZmFzdGVyIHRoYW4gY29weWluZyB2YWx1ZXMgb25lIGJ5IG9uZVxuICAgIG5ld0xpbmUuX2RhdGEgPSBuZXcgVWludDMyQXJyYXkodGhpcy5fZGF0YSk7XG4gICAgbmV3TGluZS5sZW5ndGggPSB0aGlzLmxlbmd0aDtcbiAgICBmb3IgKGNvbnN0IGVsIGluIHRoaXMuX2NvbWJpbmVkKSB7XG4gICAgICBuZXdMaW5lLl9jb21iaW5lZFtlbF0gPSB0aGlzLl9jb21iaW5lZFtlbF07XG4gICAgfVxuICAgIG5ld0xpbmUuaXNXcmFwcGVkID0gdGhpcy5pc1dyYXBwZWQ7XG4gICAgcmV0dXJuIG5ld0xpbmU7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvQnVmZmVyTGluZS50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///29\n")},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CompositionHelper = (function () {\n    function CompositionHelper(_textarea, _compositionView, _terminal) {\n        this._textarea = _textarea;\n        this._compositionView = _compositionView;\n        this._terminal = _terminal;\n        this._isComposing = false;\n        this._isSendingComposition = false;\n        this._compositionPosition = { start: null, end: null };\n    }\n    CompositionHelper.prototype.compositionstart = function () {\n        this._isComposing = true;\n        this._compositionPosition.start = this._textarea.value.length;\n        this._compositionView.textContent = '';\n        this._compositionView.classList.add('active');\n    };\n    CompositionHelper.prototype.compositionupdate = function (ev) {\n        var _this = this;\n        this._compositionView.textContent = ev.data;\n        this.updateCompositionElements();\n        setTimeout(function () {\n            _this._compositionPosition.end = _this._textarea.value.length;\n        }, 0);\n    };\n    CompositionHelper.prototype.compositionend = function () {\n        this._finalizeComposition(true);\n    };\n    CompositionHelper.prototype.keydown = function (ev) {\n        if (this._isComposing || this._isSendingComposition) {\n            if (ev.keyCode === 229) {\n                return false;\n            }\n            else if (ev.keyCode === 16 || ev.keyCode === 17 || ev.keyCode === 18) {\n                return false;\n            }\n            this._finalizeComposition(false);\n        }\n        if (ev.keyCode === 229) {\n            this._handleAnyTextareaChanges();\n            return false;\n        }\n        return true;\n    };\n    CompositionHelper.prototype._finalizeComposition = function (waitForPropogation) {\n        var _this = this;\n        this._compositionView.classList.remove('active');\n        this._isComposing = false;\n        this._clearTextareaPosition();\n        if (!waitForPropogation) {\n            this._isSendingComposition = false;\n            var input = this._textarea.value.substring(this._compositionPosition.start, this._compositionPosition.end);\n            this._terminal.handler(input);\n        }\n        else {\n            var currentCompositionPosition_1 = {\n                start: this._compositionPosition.start,\n                end: this._compositionPosition.end\n            };\n            this._isSendingComposition = true;\n            setTimeout(function () {\n                if (_this._isSendingComposition) {\n                    _this._isSendingComposition = false;\n                    var input = void 0;\n                    if (_this._isComposing) {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start, currentCompositionPosition_1.end);\n                    }\n                    else {\n                        input = _this._textarea.value.substring(currentCompositionPosition_1.start);\n                    }\n                    _this._terminal.handler(input);\n                }\n            }, 0);\n        }\n    };\n    CompositionHelper.prototype._handleAnyTextareaChanges = function () {\n        var _this = this;\n        var oldValue = this._textarea.value;\n        setTimeout(function () {\n            if (!_this._isComposing) {\n                var newValue = _this._textarea.value;\n                var diff = newValue.replace(oldValue, '');\n                if (diff.length > 0) {\n                    _this._terminal.handler(diff);\n                }\n            }\n        }, 0);\n    };\n    CompositionHelper.prototype.updateCompositionElements = function (dontRecurse) {\n        var _this = this;\n        if (!this._isComposing) {\n            return;\n        }\n        if (this._terminal.buffer.isCursorInViewport) {\n            var cellHeight = Math.ceil(this._terminal.charMeasure.height * this._terminal.options.lineHeight);\n            var cursorTop = this._terminal.buffer.y * cellHeight;\n            var cursorLeft = this._terminal.buffer.x * this._terminal.charMeasure.width;\n            this._compositionView.style.left = cursorLeft + 'px';\n            this._compositionView.style.top = cursorTop + 'px';\n            this._compositionView.style.height = cellHeight + 'px';\n            this._compositionView.style.lineHeight = cellHeight + 'px';\n            var compositionViewBounds = this._compositionView.getBoundingClientRect();\n            this._textarea.style.left = cursorLeft + 'px';\n            this._textarea.style.top = cursorTop + 'px';\n            this._textarea.style.width = compositionViewBounds.width + 'px';\n            this._textarea.style.height = compositionViewBounds.height + 'px';\n            this._textarea.style.lineHeight = compositionViewBounds.height + 'px';\n        }\n        if (!dontRecurse) {\n            setTimeout(function () { return _this.updateCompositionElements(true); }, 0);\n        }\n    };\n    CompositionHelper.prototype._clearTextareaPosition = function () {\n        this._textarea.style.left = '';\n        this._textarea.style.top = '';\n    };\n    return CompositionHelper;\n}());\nexports.CompositionHelper = CompositionHelper;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL0NvbXBvc2l0aW9uSGVscGVyLnRzPzM1MmQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFpQkE7SUF3QkUsMkJBQ1UsU0FBOEIsRUFDOUIsZ0JBQTZCLEVBQzdCLFNBQW9CO1FBRnBCLGNBQVMsR0FBVCxTQUFTLENBQXFCO1FBQzlCLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBYTtRQUM3QixjQUFTLEdBQVQsU0FBUyxDQUFXO1FBRTVCLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1FBQzFCLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxLQUFLLENBQUM7UUFDbkMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUM7SUFDekQsQ0FBQztJQUtNLDRDQUFnQixHQUF2QjtRQUNFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBQzlELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFNTSw2Q0FBaUIsR0FBeEIsVUFBeUIsRUFBb0I7UUFBN0MsaUJBTUM7UUFMQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUM7UUFDNUMsSUFBSSxDQUFDLHlCQUF5QixFQUFFLENBQUM7UUFDakMsVUFBVSxDQUFDO1lBQ1QsS0FBSSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsR0FBRyxLQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDOUQsQ0FBQyxF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QUFJLENBQUM7WUFHM0QsSUFBTSxxQkFBcUIsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLEVBQUUsQ0FBQztZQUM1RSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsVUFBVSxHQUFHLElBQUksQ0FBQztZQUM5QyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsU0FBUyxHQUFHLElBQUksQ0FBQztZQUM1QyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcscUJBQXFCLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztZQUNoRSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcscUJBQXFCLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUNsRSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcscUJBQXFCLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUN2RTtRQUVELElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDaEIsVUFBVSxDQUFDLGNBQU0sWUFBSSxDQUFDLHlCQUF5QixDQUFDLElBQUksQ0FBQyxFQUFwQyxDQUFvQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQzNEO0lBQ0gsQ0FBQztJQU1PLGtEQUFzQixHQUE5QjtRQUNFLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7UUFDL0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0lBQ0gsd0JBQUM7QUFBRCxDQUFDO0FBbk5ZLDhDQUFpQiIsImZpbGUiOiIzMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE2IFRoZSB4dGVybS5qcyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuaW1wb3J0IHsgSVRlcm1pbmFsIH0gZnJvbSAnLi9UeXBlcyc7XG5cbmludGVyZmFjZSBJUG9zaXRpb24ge1xuICBzdGFydDogbnVtYmVyO1xuICBlbmQ6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBFbmNhcHN1bGF0ZXMgdGhlIGxvZ2ljIGZvciBoYW5kbGluZyBjb21wb3NpdGlvbnN0YXJ0LCBjb21wb3NpdGlvbnVwZGF0ZSBhbmQgY29tcG9zaXRpb25lbmRcbiAqIGV2ZW50cywgZGlzcGxheWluZyB0aGUgaW4tcHJvZ3Jlc3MgY29tcG9zaXRpb24gdG8gdGhlIFVJIGFuZCBmb3J3YXJkaW5nIHRoZSBmaW5hbCBjb21wb3NpdGlvblxuICogdG8gdGhlIGhhbmRsZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21wb3NpdGlvbkhlbHBlciB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIGlucHV0IGNvbXBvc2l0aW9uIGlzIGN1cnJlbnRseSBoYXBwZW5pbmcsIGVnLiB2aWEgYSBtb2JpbGUga2V5Ym9hcmQsIHNwZWVjaCBpbnB1dCBvclxuICAgKiBJTUUuIFRoaXMgdmFyaWFibGUgZGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBjb21wb3NpdGlvblRleHQgc2hvdWxkIGJlIGRpc3BsYXllZCBvbiB0aGUgVUkuXG4gICAqL1xuICBwcml2YXRlIF9pc0NvbXBvc2luZzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIHBvc2l0aW9uIHdpdGhpbiB0aGUgaW5wdXQgdGV4dGFyZWEncyB2YWx1ZSBvZiB0aGUgY3VycmVudCBjb21wb3NpdGlvbi5cbiAgICovXG4gIHByaXZhdGUgX2NvbXBvc2l0aW9uUG9zaXRpb246IElQb3NpdGlvbjtcblxuICAvKipcbiAgICogV2hldGhlciBhIGNvbXBvc2l0aW9uIGlzIGluIHRoZSBwcm9jZXNzIG9mIGJlaW5nIHNlbnQsIHNldHRpbmcgdGhpcyB0byBmYWxzZSB3aWxsIGNhbmNlbCBhbnlcbiAgICogaW4tcHJvZ3Jlc3MgY29tcG9zaXRpb24uXG4gICAqL1xuICBwcml2YXRlIF9pc1NlbmRpbmdDb21wb3NpdGlvbjogYm9vbGVhbjtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBDb21wb3NpdGlvbkhlbHBlci5cbiAgICogQHBhcmFtIF90ZXh0YXJlYSBUaGUgdGV4dGFyZWEgdGhhdCB4dGVybSB1c2VzIGZvciBpbnB1dC5cbiAgICogQHBhcmFtIF9jb21wb3NpdGlvblZpZXcgVGhlIGVsZW1lbnQgdG8gZGlzcGxheSB0aGUgaW4tcHJvZ3Jlc3MgY29tcG9zaXRpb24gaW4uXG4gICAqIEBwYXJhbSBfdGVybWluYWwgVGhlIFRlcm1pbmFsIHRvIGZvcndhcmQgdGhlIGZpbmlzaGVkIGNvbXBvc2l0aW9uIHRvLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBfdGV4dGFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQsXG4gICAgcHJpdmF0ZSBfY29tcG9zaXRpb25WaWV3OiBIVE1MRWxlbWVudCxcbiAgICBwcml2YXRlIF90ZXJtaW5hbDogSVRlcm1pbmFsXG4gICkge1xuICAgIHRoaXMuX2lzQ29tcG9zaW5nID0gZmFsc2U7XG4gICAgdGhpcy5faXNTZW5kaW5nQ29tcG9zaXRpb24gPSBmYWxzZTtcbiAgICB0aGlzLl9jb21wb3NpdGlvblBvc2l0aW9uID0geyBzdGFydDogbnVsbCwgZW5kOiBudWxsIH07XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgY29tcG9zaXRpb25zdGFydCBldmVudCwgYWN0aXZhdGluZyB0aGUgY29tcG9zaXRpb24gdmlldy5cbiAgICovXG4gIHB1YmxpYyBjb21wb3NpdGlvbnN0YXJ0KCk6IHZvaWQge1xuICAgIHRoaXMuX2lzQ29tcG9zaW5nID0gdHJ1ZTtcbiAgICB0aGlzLl9jb21wb3NpdGlvblBvc2l0aW9uLnN0YXJ0ID0gdGhpcy5fdGV4dGFyZWEudmFsdWUubGVuZ3RoO1xuICAgIHRoaXMuX2NvbXBvc2l0aW9uVmlldy50ZXh0Q29udGVudCA9ICcnO1xuICAgIHRoaXMuX2NvbXBvc2l0aW9uVmlldy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBjb21wb3NpdGlvbnVwZGF0ZSBldmVudCwgdXBkYXRpbmcgdGhlIGNvbXBvc2l0aW9uIHZpZXcuXG4gICAqIEBwYXJhbSBldiBUaGUgZXZlbnQuXG4gICAqL1xuICBwdWJsaWMgY29tcG9zaXRpb251cGRhdGUoZXY6IENvbXBvc2l0aW9uRXZlbnQpOiB2b2lkIHtcbiAgICB0aGlzLl9jb21wb3NpdGlvblZpZXcudGV4dENvbnRlbnQgPSBldi5kYXRhO1xuICAgIHRoaXMudXBkYXRlQ29tcG9zaXRpb25FbGVtZW50cygpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5fY29tcG9zaXRpb25Qb3NpdGlvbi5lbmQgPSB0aGlzLl90ZXh0YXJlYS52YWx1ZS5sZW5ndGg7XG4gICAgfSwgMCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgY29tcG9zaXRpb25lbmQgZXZlbnQsIGhpZGluZyB0aGUgY29tcG9zaXRpb24gdmlldyBhbmQgc2VuZGluZyB0aGUgY29tcG9zaXRpb24gdG9cbiAgICogdGhlIGhhbmRsZXIuXG4gICAqL1xuICBwdWJsaWMgY29tcG9zaXRpb25lbmQoKTogdm9pZCB7XG4gICAgdGhpcy5fZmluYWxpemVDb21wb3NpdGlvbih0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBrZXlkb3duIGV2ZW50LCByb3V0aW5nIGFueSBuZWNlc3NhcnkgZXZlbnRzIHRvIHRoZSBDb21wb3NpdGlvbkhlbHBlciBmdW5jdGlvbnMuXG4gICAqIEBwYXJhbSBldiBUaGUga2V5ZG93biBldmVudC5cbiAgICogQHJldHVybiBXaGV0aGVyIHRoZSBUZXJtaW5hbCBzaG91bGQgY29udGludWUgcHJvY2Vzc2luZyB0aGUga2V5ZG93biBldmVudC5cbiAgICovXG4gIHB1YmxpYyBrZXlkb3duKGV2OiBLZXlib2FyZEV2ZW50KTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuX2lzQ29tcG9zaW5nIHx8IHRoaXMuX2lzU2VuZGluZ0NvbXBvc2l0aW9uKSB7XG4gICAgICBpZiAoZXYua2V5Q29kZSA9PT0gMjI5KSB7XG4gICAgICAgIC8vIENvbnRpbnVlIGNvbXBvc2luZyBpZiB0aGUga2V5Q29kZSBpcyB0aGUgXCJjb21wb3NpdGlvbiBjaGFyYWN0ZXJcIlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGV2LmtleUNvZGUgPT09IDE2IHx8IGV2LmtleUNvZGUgPT09IDE3IHx8IGV2LmtleUNvZGUgPT09IDE4KSB7XG4gICAgICAgIC8vIENvbnRpbnVlIGNvbXBvc2luZyBpZiB0aGUga2V5Q29kZSBpcyBhIG1vZGlmaWVyIGtleVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBGaW5pc2ggY29tcG9zaXRpb24gaW1tZWRpYXRlbHkuIFRoaXMgaXMgbWFpbmx5IGhlcmUgZm9yIHRoZSBjYXNlIHdoZXJlIGVudGVyIGlzXG4gICAgICAvLyBwcmVzc2VkIGFuZCB0aGUgaGFuZGxlciBuZWVkcyB0byBiZSB0cmlnZ2VyZWQgYmVmb3JlIHRoZSBjb21tYW5kIGlzIGV4ZWN1dGVkLlxuICAgICAgdGhpcy5fZmluYWxpemVDb21wb3NpdGlvbihmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKGV2LmtleUNvZGUgPT09IDIyOSkge1xuICAgICAgLy8gSWYgdGhlIFwiY29tcG9zaXRpb24gY2hhcmFjdGVyXCIgaXMgdXNlZCBidXQgZ2V0cyB0byB0aGlzIHBvaW50IGl0IG1lYW5zIGEgbm9uLWNvbXBvc2l0aW9uXG4gICAgICAvLyBjaGFyYWN0ZXIgKGVnLiBudW1iZXJzIGFuZCBwdW5jdHVhdGlvbikgd2FzIHByZXNzZWQgd2hlbiB0aGUgSU1FIHdhcyBhY3RpdmUuXG4gICAgICB0aGlzLl9oYW5kbGVBbnlUZXh0YXJlYUNoYW5nZXMoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5hbGl6ZXMgdGhlIGNvbXBvc2l0aW9uLCByZXN1bWluZyByZWd1bGFyIGlucHV0IGFjdGlvbnMuIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSBjb21wb3NpdGlvblxuICAgKiBpcyBlbmRpbmcuXG4gICAqIEBwYXJhbSB3YWl0Rm9yUHJvcG9nYXRpb24gV2hldGhlciB0byB3YWl0IGZvciBldmVudHMgdG8gcHJvcG9nYXRlIGJlZm9yZSBzZW5kaW5nXG4gICAqICAgdGhlIGlucHV0LiBUaGlzIHNob3VsZCBiZSBmYWxzZSBpZiBhIG5vbi1jb21wb3NpdGlvbiBrZXlzdHJva2UgaXMgZW50ZXJlZCBiZWZvcmUgdGhlXG4gICAqICAgY29tcG9zaXRpb25lbmQgZXZlbnQgaXMgdHJpZ2dlcmVkLCBzdWNoIGFzIGVudGVyLCBzbyB0aGF0IHRoZSBjb21wb3NpdGlvbiBpcyBzZW5kIGJlZm9yZVxuICAgKiAgIHRoZSBjb21tYW5kIGlzIGV4ZWN1dGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBfZmluYWxpemVDb21wb3NpdGlvbih3YWl0Rm9yUHJvcG9nYXRpb246IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLl9jb21wb3NpdGlvblZpZXcuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgdGhpcy5faXNDb21wb3NpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9jbGVhclRleHRhcmVhUG9zaXRpb24oKTtcblxuICAgIGlmICghd2FpdEZvclByb3BvZ2F0aW9uKSB7XG4gICAgICAvLyBDYW5jZWwgYW55IGRlbGF5ZWQgY29tcG9zaXRpb24gc2VuZCByZXF1ZXN0cyBhbmQgc2VuZCB0aGUgaW5wdXQgaW1tZWRpYXRlbHkuXG4gICAgICB0aGlzLl9pc1NlbmRpbmdDb21wb3NpdGlvbiA9IGZhbHNlO1xuICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLl90ZXh0YXJlYS52YWx1ZS5zdWJzdHJpbmcodGhpcy5fY29tcG9zaXRpb25Qb3NpdGlvbi5zdGFydCwgdGhpcy5fY29tcG9zaXRpb25Qb3NpdGlvbi5lbmQpO1xuICAgICAgdGhpcy5fdGVybWluYWwuaGFuZGxlcihpbnB1dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE1ha2UgYSBkZWVwIGNvcHkgb2YgdGhlIGNvbXBvc2l0aW9uIHBvc2l0aW9uIGhlcmUgYXMgYSBuZXcgY29tcG9zaXRpb25zdGFydCBldmVudCBtYXlcbiAgICAgIC8vIGZpcmUgYmVmb3JlIHRoZSBzZXRUaW1lb3V0IGV4ZWN1dGVzLlxuICAgICAgY29uc3QgY3VycmVudENvbXBvc2l0aW9uUG9zaXRpb24gPSB7XG4gICAgICAgIHN0YXJ0OiB0aGlzLl9jb21wb3NpdGlvblBvc2l0aW9uLnN0YXJ0LFxuICAgICAgICBlbmQ6IHRoaXMuX2NvbXBvc2l0aW9uUG9zaXRpb24uZW5kXG4gICAgICB9O1xuXG4gICAgICAvLyBTaW5jZSBjb21wb3NpdGlvbiogZXZlbnRzIGhhcHBlbiBiZWZvcmUgdGhlIGNoYW5nZXMgdGFrZSBwbGFjZSBpbiB0aGUgdGV4dGFyZWEgb24gbW9zdFxuICAgICAgLy8gYnJvd3NlcnMsIHVzZSBhIHNldFRpbWVvdXQgd2l0aCAwbXMgdGltZSB0byBhbGxvdyB0aGUgbmF0aXZlIGNvbXBvc2l0aW9uZW5kIGV2ZW50IHRvXG4gICAgICAvLyBjb21wbGV0ZS4gVGhpcyBlbnN1cmVzIHRoZSBjb3JyZWN0IGNoYXJhY3RlciBpcyByZXRyaWV2ZWQsIHRoaXMgc29sdXRpb24gd2FzIHVzZWRcbiAgICAgIC8vIGJlY2F1c2U6XG4gICAgICAvLyAtIFRoZSBjb21wb3NpdGlvbmVuZCBldmVudCdzIGRhdGEgcHJvcGVydHkgaXMgdW5yZWxpYWJsZSwgYXQgbGVhc3Qgb24gQ2hyb21pdW1cbiAgICAgIC8vIC0gVGhlIGxhc3QgY29tcG9zaXRpb251cGRhdGUgZXZlbnQncyBkYXRhIHByb3BlcnR5IGRvZXMgbm90IGFsd2F5cyBhY2N1cmF0ZWx5IGRlc2NyaWJlXG4gICAgICAvLyAgIHRoZSBjaGFyYWN0ZXIsIGEgY291bnRlciBleGFtcGxlIGJlaW5nIEtvcmVhbiB3aGVyZSBhbiBlbmRpbmcgY29uc29uc2FudCBjYW4gbW92ZSB0b1xuICAgICAgLy8gICB0aGUgZm9sbG93aW5nIGNoYXJhY3RlciBpZiB0aGUgZm9sbG93aW5nIGlucHV0IGlzIGEgdm93ZWwuXG4gICAgICB0aGlzLl9pc1NlbmRpbmdDb21wb3NpdGlvbiA9IHRydWU7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGlucHV0IGhhcyBub3QgYWxyZWFkeSBiZWVuIHNlbnRcbiAgICAgICAgaWYgKHRoaXMuX2lzU2VuZGluZ0NvbXBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy5faXNTZW5kaW5nQ29tcG9zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgICBsZXQgaW5wdXQ7XG4gICAgICAgICAgaWYgKHRoaXMuX2lzQ29tcG9zaW5nKSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIGVuZCBwb3NpdGlvbiB0byBnZXQgdGhlIHN0cmluZyBpZiBhIG5ldyBjb21wb3NpdGlvbiBoYXMgc3RhcnRlZC5cbiAgICAgICAgICAgIGlucHV0ID0gdGhpcy5fdGV4dGFyZWEudmFsdWUuc3Vic3RyaW5nKGN1cnJlbnRDb21wb3NpdGlvblBvc2l0aW9uLnN0YXJ0LCBjdXJyZW50Q29tcG9zaXRpb25Qb3NpdGlvbi5lbmQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEb24ndCB1c2UgdGhlIGVuZCBwb3NpdGlvbiBoZXJlIGluIG9yZGVyIHRvIHBpY2sgdXAgYW55IGNoYXJhY3RlcnMgYWZ0ZXIgdGhlXG4gICAgICAgICAgICAvLyBjb21wb3NpdGlvbiBoYXMgZmluaXNoZWQsIGZvciBleGFtcGxlIHdoZW4gdHlwaW5nIGEgbm9uLWNvbXBvc2l0aW9uIGNoYXJhY3RlclxuICAgICAgICAgICAgLy8gKGVnLiAyKSBhZnRlciBhIGNvbXBvc2l0aW9uIGNoYXJhY3Rlci5cbiAgICAgICAgICAgIGlucHV0ID0gdGhpcy5fdGV4dGFyZWEudmFsdWUuc3Vic3RyaW5nKGN1cnJlbnRDb21wb3NpdGlvblBvc2l0aW9uLnN0YXJ0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuaGFuZGxlcihpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBhbnkgY2hhbmdlcyBtYWRlIHRvIHRoZSB0ZXh0YXJlYSBhZnRlciB0aGUgY3VycmVudCBldmVudCBjaGFpbiBpcyBhbGxvd2VkIHRvIGNvbXBsZXRlLlxuICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBub3QgY3VycmVudGx5IGNvbXBvc2luZyBidXQgYSBrZXlkb3duIGV2ZW50IHdpdGggdGhlIFwiY29tcG9zaXRpb25cbiAgICogY2hhcmFjdGVyXCIgKDIyOSkgaXMgdHJpZ2dlcmVkLCBpbiBvcmRlciB0byBhbGxvdyBub24tY29tcG9zaXRpb24gdGV4dCB0byBiZSBlbnRlcmVkIHdoZW4gYW5cbiAgICogSU1FIGlzIGFjdGl2ZS5cbiAgICovXG4gIHByaXZhdGUgX2hhbmRsZUFueVRleHRhcmVhQ2hhbmdlcygpOiB2b2lkIHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMuX3RleHRhcmVhLnZhbHVlO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8gSWdub3JlIGlmIGEgY29tcG9zaXRpb24gaGFzIHN0YXJ0ZWQgc2luY2UgdGhlIHRpbWVvdXRcbiAgICAgIGlmICghdGhpcy5faXNDb21wb3NpbmcpIHtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB0aGlzLl90ZXh0YXJlYS52YWx1ZTtcbiAgICAgICAgY29uc3QgZGlmZiA9IG5ld1ZhbHVlLnJlcGxhY2Uob2xkVmFsdWUsICcnKTtcbiAgICAgICAgaWYgKGRpZmYubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLmhhbmRsZXIoZGlmZik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb3NpdGlvbnMgdGhlIGNvbXBvc2l0aW9uIHZpZXcgb24gdG9wIG9mIHRoZSBjdXJzb3IgYW5kIHRoZSB0ZXh0YXJlYSBqdXN0IGJlbG93IGl0IChzbyB0aGVcbiAgICogSU1FIGhlbHBlciBkaWFsb2cgaXMgcG9zaXRpb25lZCBjb3JyZWN0bHkpLlxuICAgKiBAcGFyYW0gZG9udFJlY3Vyc2UgV2hldGhlciB0byB1c2Ugc2V0VGltZW91dCB0byByZWN1cnNpdmVseSB0cmlnZ2VyIGFub3RoZXIgdXBkYXRlLCB0aGlzIGlzXG4gICAqICAgbmVjZXNzYXJ5IGFzIHRoZSBJTUUgZXZlbnRzIGFjcm9zcyBicm93c2VycyBhcmUgbm90IGNvbnNpc3RlbnRseSB0cmlnZ2VyZWQuXG4gICAqL1xuICBwdWJsaWMgdXBkYXRlQ29tcG9zaXRpb25FbGVtZW50cyhkb250UmVjdXJzZT86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX2lzQ29tcG9zaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci5pc0N1cnNvckluVmlld3BvcnQpIHtcbiAgICAgIGNvbnN0IGNlbGxIZWlnaHQgPSBNYXRoLmNlaWwodGhpcy5fdGVybWluYWwuY2hhck1lYXN1cmUuaGVpZ2h0ICogdGhpcy5fdGVybWluYWwub3B0aW9ucy5saW5lSGVpZ2h0KTtcbiAgICAgIGNvbnN0IGN1cnNvclRvcCA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55ICogY2VsbEhlaWdodDtcbiAgICAgIGNvbnN0IGN1cnNvckxlZnQgPSB0aGlzLl90ZXJtaW5hbC5idWZmZXIueCAqIHRoaXMuX3Rlcm1pbmFsLmNoYXJNZWFzdXJlLndpZHRoO1xuXG4gICAgICB0aGlzLl9jb21wb3NpdGlvblZpZXcuc3R5bGUubGVmdCA9IGN1cnNvckxlZnQgKyAncHgnO1xuICAgICAgdGhpcy5fY29tcG9zaXRpb25WaWV3LnN0eWxlLnRvcCA9IGN1cnNvclRvcCArICdweCc7XG4gICAgICB0aGlzLl9jb21wb3NpdGlvblZpZXcuc3R5bGUuaGVpZ2h0ID0gY2VsbEhlaWdodCArICdweCc7XG4gICAgICB0aGlzLl9jb21wb3NpdGlvblZpZXcuc3R5bGUubGluZUhlaWdodCA9IGNlbGxIZWlnaHQgKyAncHgnO1xuICAgICAgLy8gU3luYyB0aGUgdGV4dGFyZWEgdG8gdGhlIGV4YWN0IHBvc2l0aW9uIG9mIHRoZSBjb21wb3NpdGlvbiB2aWV3IHNvIHRoZSBJTUUga25vd3Mgd2hlcmUgdGhlXG4gICAgICAvLyB0ZXh0IGlzLlxuICAgICAgY29uc3QgY29tcG9zaXRpb25WaWV3Qm91bmRzID0gdGhpcy5fY29tcG9zaXRpb25WaWV3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdGhpcy5fdGV4dGFyZWEuc3R5bGUubGVmdCA9IGN1cnNvckxlZnQgKyAncHgnO1xuICAgICAgdGhpcy5fdGV4dGFyZWEuc3R5bGUudG9wID0gY3Vyc29yVG9wICsgJ3B4JztcbiAgICAgIHRoaXMuX3RleHRhcmVhLnN0eWxlLndpZHRoID0gY29tcG9zaXRpb25WaWV3Qm91bmRzLndpZHRoICsgJ3B4JztcbiAgICAgIHRoaXMuX3RleHRhcmVhLnN0eWxlLmhlaWdodCA9IGNvbXBvc2l0aW9uVmlld0JvdW5kcy5oZWlnaHQgKyAncHgnO1xuICAgICAgdGhpcy5fdGV4dGFyZWEuc3R5bGUubGluZUhlaWdodCA9IGNvbXBvc2l0aW9uVmlld0JvdW5kcy5oZWlnaHQgKyAncHgnO1xuICAgIH1cblxuICAgIGlmICghZG9udFJlY3Vyc2UpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy51cGRhdGVDb21wb3NpdGlvbkVsZW1lbnRzKHRydWUpLCAwKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIHRoZSB0ZXh0YXJlYSdzIHBvc2l0aW9uIHNvIHRoYXQgdGhlIGN1cnNvciBkb2VzIG5vdCBibGluayBvbiBJRS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgX2NsZWFyVGV4dGFyZWFQb3NpdGlvbigpOiB2b2lkIHtcbiAgICB0aGlzLl90ZXh0YXJlYS5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgdGhpcy5fdGV4dGFyZWEuc3R5bGUudG9wID0gJyc7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvQ29tcG9zaXRpb25IZWxwZXIudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///30\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = __webpack_require__(3);\nvar Lifecycle_2 = __webpack_require__(6);\nvar FALLBACK_SCROLL_BAR_WIDTH = 15;\nvar Viewport = (function (_super) {\n    __extends(Viewport, _super);\n    function Viewport(_terminal, _viewportElement, _scrollArea, _charMeasure) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._viewportElement = _viewportElement;\n        _this._scrollArea = _scrollArea;\n        _this._charMeasure = _charMeasure;\n        _this.scrollBarWidth = 0;\n        _this._currentRowHeight = 0;\n        _this._lastRecordedBufferLength = 0;\n        _this._lastRecordedViewportHeight = 0;\n        _this._lastRecordedBufferHeight = 0;\n        _this._lastScrollTop = 0;\n        _this._wheelPartialScroll = 0;\n        _this._refreshAnimationFrame = null;\n        _this._ignoreNextScrollEvent = false;\n        _this.scrollBarWidth = (_this._viewportElement.offsetWidth - _this._scrollArea.offsetWidth) || FALLBACK_SCROLL_BAR_WIDTH;\n        _this.register(Lifecycle_2.addDisposableDomListener(_this._viewportElement, 'scroll', _this._onScroll.bind(_this)));\n        setTimeout(function () { return _this.syncScrollArea(); }, 0);\n        return _this;\n    }\n    Viewport.prototype.onThemeChanged = function (colors) {\n        this._viewportElement.style.backgroundColor = colors.background.css;\n    };\n    Viewport.prototype._refresh = function () {\n        var _this = this;\n        if (this._refreshAnimationFrame === null) {\n            this._refreshAnimationFrame = requestAnimationFrame(function () { return _this._innerRefresh(); });\n        }\n    };\n    Viewport.prototype._innerRefresh = function () {\n        if (this._charMeasure.height > 0) {\n            this._currentRowHeight = this._terminal.renderer.dimensions.scaledCellHeight / window.devicePixelRatio;\n            this._lastRecordedViewportHeight = this._viewportElement.offsetHeight;\n            var newBufferHeight = Math.round(this._currentRowHeight * this._lastRecordedBufferLength) + (this._lastRecordedViewportHeight - this._terminal.renderer.dimensions.canvasHeight);\n            if (this._lastRecordedBufferHeight !== newBufferHeight) {\n                this._lastRecordedBufferHeight = newBufferHeight;\n                this._scrollArea.style.height = this._lastRecordedBufferHeight + 'px';\n            }\n        }\n        var scrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._viewportElement.scrollTop !== scrollTop) {\n            this._ignoreNextScrollEvent = true;\n            this._viewportElement.scrollTop = scrollTop;\n        }\n        this._refreshAnimationFrame = null;\n    };\n    Viewport.prototype.syncScrollArea = function () {\n        if (this._lastRecordedBufferLength !== this._terminal.buffer.lines.length) {\n            this._lastRecordedBufferLength = this._terminal.buffer.lines.length;\n            this._refresh();\n            return;\n        }\n        if (this._lastRecordedViewportHeight !== this._terminal.renderer.dimensions.canvasHeight) {\n            this._refresh();\n            return;\n        }\n        var newScrollTop = this._terminal.buffer.ydisp * this._currentRowHeight;\n        if (this._lastScrollTop !== newScrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._lastScrollTop !== this._viewportElement.scrollTop) {\n            this._refresh();\n            return;\n        }\n        if (this._terminal.renderer.dimensions.scaledCellHeight / window.devicePixelRatio !== this._currentRowHeight) {\n            this._refresh();\n            return;\n        }\n    };\n    Viewport.prototype._onScroll = function (ev) {\n        this._lastScrollTop = this._viewportElement.scrollTop;\n        if (!this._viewportElement.offsetParent) {\n            return;\n        }\n        if (this._ignoreNextScrollEvent) {\n            this._ignoreNextScrollEvent = false;\n            return;\n        }\n        var newRow = Math.round(this._lastScrollTop / this._currentRowHeight);\n        var diff = newRow - this._terminal.buffer.ydisp;\n        this._terminal.scrollLines(diff, true);\n    };\n    Viewport.prototype.onWheel = function (ev) {\n        var amount = this._getPixelsScrolled(ev);\n        if (amount === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += amount;\n        ev.preventDefault();\n    };\n    Viewport.prototype._getPixelsScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n            amount *= this._currentRowHeight;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._currentRowHeight * this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.getLinesScrolled = function (ev) {\n        if (ev.deltaY === 0) {\n            return 0;\n        }\n        var amount = ev.deltaY;\n        if (ev.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n            amount /= this._currentRowHeight + 0.0;\n            this._wheelPartialScroll += amount;\n            amount = Math.floor(Math.abs(this._wheelPartialScroll)) * (this._wheelPartialScroll > 0 ? 1 : -1);\n            this._wheelPartialScroll %= 1;\n        }\n        else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n            amount *= this._terminal.rows;\n        }\n        return amount;\n    };\n    Viewport.prototype.onTouchStart = function (ev) {\n        this._lastTouchY = ev.touches[0].pageY;\n    };\n    Viewport.prototype.onTouchMove = function (ev) {\n        var deltaY = this._lastTouchY - ev.touches[0].pageY;\n        this._lastTouchY = ev.touches[0].pageY;\n        if (deltaY === 0) {\n            return;\n        }\n        this._viewportElement.scrollTop += deltaY;\n        ev.preventDefault();\n    };\n    return Viewport;\n}(Lifecycle_1.Disposable));\nexports.Viewport = Viewport;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL1ZpZXdwb3J0LnRzPzhkMWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBUUEseUNBQWdEO0FBQ2hELHlDQUEwRDtBQUUxRCxJQUFNLHlCQUF5QixHQUFHLEVBQUUsQ0FBQztBQU1yQztJQUE4Qiw0QkFBVTtJQXdCdEMsa0JBQ1UsU0FBb0IsRUFDcEIsZ0JBQTZCLEVBQzdCLFdBQXdCLEVBQ3hCLFlBQXlCO1FBSm5DLFlBTUUsaUJBQU8sU0FVUjtRQWZTLGVBQVMsR0FBVCxTQUFTLENBQVc7UUFDcEIsc0JBQWdCLEdBQWhCLGdCQUFnQixDQUFhO1FBQzdCLGlCQUFXLEdBQVgsV0FBVyxDQUFhO1FBQ3hCLGtCQUFZLEdBQVosWUFBWSxDQUFhO1FBM0I1QixvQkFBYyxHQUFXLENBQUMsQ0FBQztRQUMxQix1QkFBaUIsR0FBVyxDQUFDLENBQUM7UUFDOUIsK0JBQXlCLEdBQVcsQ0FBQyxDQUFDO1FBQ3RDLGlDQUEyQixHQUFXLENBQUMsQ0FBQztRQUN4QywrQkFBeUIsR0FBVyxDQUFDLENBQUM7UUFFdEMsb0JBQWMsR0FBVyxDQUFDLENBQUM7UUFLM0IseUJBQW1CLEdBQVcsQ0FBQyxDQUFDO1FBRWhDLDRCQUFzQixHQUFrQixJQUFJLENBQUM7UUFDN0MsNEJBQXNCLEdBQVksS0FBSyxDQUFDO1FBb0I5QyxLQUFJLENBQUMsY0FBYyxHQUFHLENBQUMsS0FBSSxDQUFDLGdCQUFnQixDQUFDLFdBQVcsR0FBRyxLQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxJQUFJLHlCQUF5QixDQUFDO1FBQ3RILEtBQUksQ0FBQyxRQUFRLENBQUMsb0NBQXdCLENBQUMsS0FBSSxDQUFDLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxLQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFHcEcsVUFBVSxDQUFDLGNBQU0sWUFBSSxDQUFD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QUU7WUFDckQsTUFBTSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO1NBQy9CO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQU1NLCtCQUFZLEdBQW5CLFVBQW9CLEVBQWM7UUFDaEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUN6QyxDQUFDO0lBTU0sOEJBQVcsR0FBbEIsVUFBbUIsRUFBYztRQUMvQixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ3RELElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDdkMsSUFBSSxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ2hCLE9BQU87U0FDUjtRQUNELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLElBQUksTUFBTSxDQUFDO1FBQzFDLEVBQUUsQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBQ0gsZUFBQztBQUFELENBQUMsQ0EzTjZCLHNCQUFVLEdBMk52QztBQTNOWSw0QkFBUSIsImZpbGUiOiIzMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE2IFRoZSB4dGVybS5qcyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuaW1wb3J0IHsgSUNvbG9yU2V0IH0gZnJvbSAnLi9yZW5kZXJlci9UeXBlcyc7XG5pbXBvcnQgeyBJVGVybWluYWwsIElWaWV3cG9ydCB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHsgQ2hhck1lYXN1cmUgfSBmcm9tICcuL3VpL0NoYXJNZWFzdXJlJztcbmltcG9ydCB7IERpc3Bvc2FibGUgfSBmcm9tICcuL2NvbW1vbi9MaWZlY3ljbGUnO1xuaW1wb3J0IHsgYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyIH0gZnJvbSAnLi91aS9MaWZlY3ljbGUnO1xuXG5jb25zdCBGQUxMQkFDS19TQ1JPTExfQkFSX1dJRFRIID0gMTU7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgdmlld3BvcnQgb2YgYSB0ZXJtaW5hbCwgdGhlIHZpc2libGUgYXJlYSB3aXRoaW4gdGhlIGxhcmdlciBidWZmZXIgb2Ygb3V0cHV0LlxuICogTG9naWMgZm9yIHRoZSB2aXJ0dWFsIHNjcm9sbCBiYXIgaXMgaW5jbHVkZWQgaW4gdGhpcyBvYmplY3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBWaWV3cG9ydCBleHRlbmRzIERpc3Bvc2FibGUgaW1wbGVtZW50cyBJVmlld3BvcnQge1xuICBwdWJsaWMgc2Nyb2xsQmFyV2lkdGg6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX2N1cnJlbnRSb3dIZWlnaHQ6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX2xhc3RSZWNvcmRlZEJ1ZmZlckxlbmd0aDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfbGFzdFJlY29yZGVkVmlld3BvcnRIZWlnaHQ6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgX2xhc3RSZWNvcmRlZEJ1ZmZlckhlaWdodDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfbGFzdFRvdWNoWTogbnVtYmVyO1xuICBwcml2YXRlIF9sYXN0U2Nyb2xsVG9wOiBudW1iZXIgPSAwO1xuXG4gIC8vIFN0b3JlcyBhIHBhcnRpYWwgbGluZSBhbW91bnQgd2hlbiBzY3JvbGxpbmcsIHRoaXMgaXMgdXNlZCB0byBrZWVwIHRyYWNrIG9mIGhvdyBtdWNoIG9mIGEgbGluZVxuICAvLyBpcyBzY3JvbGxlZCBzbyB3ZSBjYW4gXCJzY3JvbGxcIiBvdmVyIHBhcnRpYWwgbGluZXMgYW5kIGZlZWwgbmF0dXJhbCBvbiB0b3VjaHBhZHMuIFRoaXMgaXMgYVxuICAvLyBxdWljayBmaXggYW5kIGNvdWxkIGhhdmUgYSBtb3JlIHJvYnVzdCBzb2x1dGlvbiBpbiBwbGFjZSB0aGF0IHJlc2V0IHRoZSB2YWx1ZSB3aGVuIG5lZWRlZC5cbiAgcHJpdmF0ZSBfd2hlZWxQYXJ0aWFsU2Nyb2xsOiBudW1iZXIgPSAwO1xuXG4gIHByaXZhdGUgX3JlZnJlc2hBbmltYXRpb25GcmFtZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgX2lnbm9yZU5leHRTY3JvbGxFdmVudDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFZpZXdwb3J0LlxuICAgKiBAcGFyYW0gX3Rlcm1pbmFsIFRoZSB0ZXJtaW5hbCB0aGlzIHZpZXdwb3J0IGJlbG9uZ3MgdG8uXG4gICAqIEBwYXJhbSBfdmlld3BvcnRFbGVtZW50IFRoZSBET00gZWxlbWVudCBhY3RpbmcgYXMgdGhlIHZpZXdwb3J0LlxuICAgKiBAcGFyYW0gX3Njcm9sbEFyZWEgVGhlIERPTSBlbGVtZW50IGFjdGluZyBhcyB0aGUgc2Nyb2xsIGFyZWEuXG4gICAqIEBwYXJhbSBfY2hhck1lYXN1cmUgQSBET00gZWxlbWVudCB1c2VkIHRvIG1lYXN1cmUgdGhlIGNoYXJhY3RlciBzaXplIG9mLiB0aGUgdGVybWluYWwuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIF90ZXJtaW5hbDogSVRlcm1pbmFsLFxuICAgIHByaXZhdGUgX3ZpZXdwb3J0RWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgcHJpdmF0ZSBfc2Nyb2xsQXJlYTogSFRNTEVsZW1lbnQsXG4gICAgcHJpdmF0ZSBfY2hhck1lYXN1cmU6IENoYXJNZWFzdXJlXG4gICkge1xuICAgIHN1cGVyKCk7XG5cbiAgICAvLyBNZWFzdXJlIHRoZSB3aWR0aCBvZiB0aGUgc2Nyb2xsYmFyLiBJZiBpdCBpcyAwIHdlIGNhbiBhc3N1bWUgaXQncyBhbiBPU1ggb3ZlcmxheSBzY3JvbGxiYXIuXG4gICAgLy8gVW5mb3J0dW5hdGVseSB0aGUgb3ZlcmxheSBzY3JvbGxiYXIgd291bGQgYmUgaGlkZGVuIHVuZGVybmVhdGggdGhlIHNjcmVlbiBlbGVtZW50IGluIHRoYXQgY2FzZSxcbiAgICAvLyB0aGVyZWZvcmUgd2UgYWNjb3VudCBmb3IgYSBzdGFuZGFyZCBhbW91bnQgdG8gbWFrZSBpdCB2aXNpYmxlXG4gICAgdGhpcy5zY3JvbGxCYXJXaWR0aCA9ICh0aGlzLl92aWV3cG9ydEVsZW1lbnQub2Zmc2V0V2lkdGggLSB0aGlzLl9zY3JvbGxBcmVhLm9mZnNldFdpZHRoKSB8fCBGQUxMQkFDS19TQ1JPTExfQkFSX1dJRFRIO1xuICAgIHRoaXMucmVnaXN0ZXIoYWRkRGlzcG9zYWJsZURvbUxpc3RlbmVyKHRoaXMuX3ZpZXdwb3J0RWxlbWVudCwgJ3Njcm9sbCcsIHRoaXMuX29uU2Nyb2xsLmJpbmQodGhpcykpKTtcblxuICAgIC8vIFBlcmZvcm0gdGhpcyBhc3luYyB0byBlbnN1cmUgdGhlIENoYXJNZWFzdXJlIGlzIHJlYWR5LlxuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zeW5jU2Nyb2xsQXJlYSgpLCAwKTtcbiAgfVxuXG4gIHB1YmxpYyBvblRoZW1lQ2hhbmdlZChjb2xvcnM6IElDb2xvclNldCk6IHZvaWQge1xuICAgIHRoaXMuX3ZpZXdwb3J0RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcnMuYmFja2dyb3VuZC5jc3M7XG4gIH1cblxuICAvKipcbiAgICogUmVmcmVzaGVzIHJvdyBoZWlnaHQsIHNldHRpbmcgbGluZS1oZWlnaHQsIHZpZXdwb3J0IGhlaWdodCBhbmQgc2Nyb2xsIGFyZWEgaGVpZ2h0IGlmXG4gICAqIG5lY2Vzc2FyeS5cbiAgICovXG4gIHByaXZhdGUgX3JlZnJlc2goKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX3JlZnJlc2hBbmltYXRpb25GcmFtZSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5fcmVmcmVzaEFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMuX2lubmVyUmVmcmVzaCgpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9pbm5lclJlZnJlc2goKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2NoYXJNZWFzdXJlLmhlaWdodCA+IDApIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRSb3dIZWlnaHQgPSB0aGlzLl90ZXJtaW5hbC5yZW5kZXJlci5kaW1lbnNpb25zLnNjYWxlZENlbGxIZWlnaHQgLyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgIHRoaXMuX2xhc3RSZWNvcmRlZFZpZXdwb3J0SGVpZ2h0ID0gdGhpcy5fdmlld3BvcnRFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgIGNvbnN0IG5ld0J1ZmZlckhlaWdodCA9IE1hdGgucm91bmQodGhpcy5fY3VycmVudFJvd0hlaWdodCAqIHRoaXMuX2xhc3RSZWNvcmRlZEJ1ZmZlckxlbmd0aCkgKyAodGhpcy5fbGFzdFJlY29yZGVkVmlld3BvcnRIZWlnaHQgLSB0aGlzLl90ZXJtaW5hbC5yZW5kZXJlci5kaW1lbnNpb25zLmNhbnZhc0hlaWdodCk7XG4gICAgICBpZiAodGhpcy5fbGFzdFJlY29yZGVkQnVmZmVySGVpZ2h0ICE9PSBuZXdCdWZmZXJIZWlnaHQpIHtcbiAgICAgICAgdGhpcy5fbGFzdFJlY29yZGVkQnVmZmVySGVpZ2h0ID0gbmV3QnVmZmVySGVpZ2h0O1xuICAgICAgICB0aGlzLl9zY3JvbGxBcmVhLnN0eWxlLmhlaWdodCA9IHRoaXMuX2xhc3RSZWNvcmRlZEJ1ZmZlckhlaWdodCArICdweCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3luYyBzY3JvbGxUb3BcbiAgICBjb25zdCBzY3JvbGxUb3AgPSB0aGlzLl90ZXJtaW5hbC5idWZmZXIueWRpc3AgKiB0aGlzLl9jdXJyZW50Um93SGVpZ2h0O1xuICAgIGlmICh0aGlzLl92aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wICE9PSBzY3JvbGxUb3ApIHtcbiAgICAgIC8vIElnbm9yZSB0aGUgbmV4dCBzY3JvbGwgZXZlbnQgd2hpY2ggd2lsbCBiZSB0cmlnZ2VyZWQgYnkgc2V0dGluZyB0aGUgc2Nyb2xsVG9wIGFzIHdlIGRvIG5vdFxuICAgICAgLy8gd2FudCB0aGlzIGV2ZW50IHRvIHNjcm9sbCB0aGUgdGVybWluYWxcbiAgICAgIHRoaXMuX2lnbm9yZU5leHRTY3JvbGxFdmVudCA9IHRydWU7XG4gICAgICB0aGlzLl92aWV3cG9ydEVsZW1lbnQuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgIH1cblxuICAgIHRoaXMuX3JlZnJlc2hBbmltYXRpb25GcmFtZSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBkaW1lbnNpb25zIGFuZCBzeW5jaHJvbml6ZXMgdGhlIHNjcm9sbCBhcmVhIGlmIG5lY2Vzc2FyeS5cbiAgICovXG4gIHB1YmxpYyBzeW5jU2Nyb2xsQXJlYSgpOiB2b2lkIHtcbiAgICAvLyBJZiBidWZmZXIgaGVpZ2h0IGNoYW5nZWRcbiAgICBpZiAodGhpcy5fbGFzdFJlY29yZGVkQnVmZmVyTGVuZ3RoICE9PSB0aGlzLl90ZXJtaW5hbC5idWZmZXIubGluZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9sYXN0UmVjb3JkZWRCdWZmZXJMZW5ndGggPSB0aGlzLl90ZXJtaW5hbC5idWZmZXIubGluZXMubGVuZ3RoO1xuICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHZpZXdwb3J0IGhlaWdodCBjaGFuZ2VkXG4gICAgaWYgKHRoaXMuX2xhc3RSZWNvcmRlZFZpZXdwb3J0SGVpZ2h0ICE9PSAoPGFueT50aGlzLl90ZXJtaW5hbCkucmVuZGVyZXIuZGltZW5zaW9ucy5jYW52YXNIZWlnaHQpIHtcbiAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgYnVmZmVyIHBvc2l0aW9uIGRvZXNuJ3QgbWF0Y2ggbGFzdCBzY3JvbGwgdG9wXG4gICAgY29uc3QgbmV3U2Nyb2xsVG9wID0gdGhpcy5fdGVybWluYWwuYnVmZmVyLnlkaXNwICogdGhpcy5fY3VycmVudFJvd0hlaWdodDtcbiAgICBpZiAodGhpcy5fbGFzdFNjcm9sbFRvcCAhPT0gbmV3U2Nyb2xsVG9wKSB7XG4gICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgZWxlbWVudCdzIHNjcm9sbCB0b3AgY2hhbmdlZCwgdGhpcyBjYW4gaGFwcGVuIHdoZW4gaGlkaW5nIHRoZSBlbGVtZW50XG4gICAgaWYgKHRoaXMuX2xhc3RTY3JvbGxUb3AgIT09IHRoaXMuX3ZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3ApIHtcbiAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiByb3cgaGVpZ2h0IGNoYW5nZWRcbiAgICBpZiAodGhpcy5fdGVybWluYWwucmVuZGVyZXIuZGltZW5zaW9ucy5zY2FsZWRDZWxsSGVpZ2h0IC8gd2luZG93LmRldmljZVBpeGVsUmF0aW8gIT09IHRoaXMuX2N1cnJlbnRSb3dIZWlnaHQpIHtcbiAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBzY3JvbGwgZXZlbnRzIG9uIHRoZSB2aWV3cG9ydCwgY2FsY3VsYXRpbmcgdGhlIG5ldyB2aWV3cG9ydCBhbmQgcmVxdWVzdGluZyB0aGVcbiAgICogdGVybWluYWwgdG8gc2Nyb2xsIHRvIGl0LlxuICAgKiBAcGFyYW0gZXYgVGhlIHNjcm9sbCBldmVudC5cbiAgICovXG4gIHByaXZhdGUgX29uU2Nyb2xsKGV2OiBFdmVudCk6IHZvaWQge1xuICAgIC8vIFJlY29yZCBjdXJyZW50IHNjcm9sbCB0b3AgcG9zaXRpb25cbiAgICB0aGlzLl9sYXN0U2Nyb2xsVG9wID0gdGhpcy5fdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcDtcblxuICAgIC8vIERvbid0IGF0dGVtcHQgdG8gc2Nyb2xsIGlmIHRoZSBlbGVtZW50IGlzIG5vdCB2aXNpYmxlLCBvdGhlcndpc2Ugc2Nyb2xsVG9wIHdpbGwgYmUgY29ycnVwdFxuICAgIC8vIHdoaWNoIGNhdXNlcyB0aGUgdGVybWluYWwgdG8gc2Nyb2xsIHRoZSBidWZmZXIgdG8gdGhlIHRvcFxuICAgIGlmICghdGhpcy5fdmlld3BvcnRFbGVtZW50Lm9mZnNldFBhcmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElnbm9yZSB0aGUgZXZlbnQgaWYgaXQgd2FzIGZsYWdnZWQgdG8gaWdub3JlICh3aGVuIHRoZSBzb3VyY2Ugb2YgdGhlIGV2ZW50IGlzIGZyb20gVmlld3BvcnQpXG4gICAgaWYgKHRoaXMuX2lnbm9yZU5leHRTY3JvbGxFdmVudCkge1xuICAgICAgdGhpcy5faWdub3JlTmV4dFNjcm9sbEV2ZW50ID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbmV3Um93ID0gTWF0aC5yb3VuZCh0aGlzLl9sYXN0U2Nyb2xsVG9wIC8gdGhpcy5fY3VycmVudFJvd0hlaWdodCk7XG4gICAgY29uc3QgZGlmZiA9IG5ld1JvdyAtIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55ZGlzcDtcbiAgICB0aGlzLl90ZXJtaW5hbC5zY3JvbGxMaW5lcyhkaWZmLCB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIG1vdXNlIHdoZWVsIGV2ZW50cyBieSBhZGp1c3RpbmcgdGhlIHZpZXdwb3J0J3Mgc2Nyb2xsVG9wIGFuZCBkZWxlZ2F0aW5nIHRoZSBhY3R1YWxcbiAgICogc2Nyb2xsaW5nIHRvIGBvblNjcm9sbGAsIHRoaXMgZXZlbnQgbmVlZHMgdG8gYmUgYXR0YWNoZWQgbWFudWFsbHkgYnkgdGhlIGNvbnN1bWVyIG9mXG4gICAqIGBWaWV3cG9ydGAuXG4gICAqIEBwYXJhbSBldiBUaGUgbW91c2Ugd2hlZWwgZXZlbnQuXG4gICAqL1xuICBwdWJsaWMgb25XaGVlbChldjogV2hlZWxFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IGFtb3VudCA9IHRoaXMuX2dldFBpeGVsc1Njcm9sbGVkKGV2KTtcbiAgICBpZiAoYW1vdW50ID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3ZpZXdwb3J0RWxlbWVudC5zY3JvbGxUb3AgKz0gYW1vdW50O1xuICAgIC8vIFByZXZlbnQgdGhlIHBhZ2UgZnJvbSBzY3JvbGxpbmcgd2hlbiB0aGUgdGVybWluYWwgc2Nyb2xsc1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRQaXhlbHNTY3JvbGxlZChldjogV2hlZWxFdmVudCk6IG51bWJlciB7XG4gICAgLy8gRG8gbm90aGluZyBpZiBpdCdzIG5vdCBhIHZlcnRpY2FsIHNjcm9sbCBldmVudFxuICAgIGlmIChldi5kZWx0YVkgPT09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIFdoZWVsRXZlbnQuRE9NX0RFTFRBX1BJWEVMXG4gICAgbGV0IGFtb3VudCA9IGV2LmRlbHRhWTtcbiAgICBpZiAoZXYuZGVsdGFNb2RlID09PSBXaGVlbEV2ZW50LkRPTV9ERUxUQV9MSU5FKSB7XG4gICAgICBhbW91bnQgKj0gdGhpcy5fY3VycmVudFJvd0hlaWdodDtcbiAgICB9IGVsc2UgaWYgKGV2LmRlbHRhTW9kZSA9PT0gV2hlZWxFdmVudC5ET01fREVMVEFfUEFHRSkge1xuICAgICAgYW1vdW50ICo9IHRoaXMuX2N1cnJlbnRSb3dIZWlnaHQgKiB0aGlzLl90ZXJtaW5hbC5yb3dzO1xuICAgIH1cbiAgICByZXR1cm4gYW1vdW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBwaXhlbHMgc2Nyb2xsZWQgYnkgdGhlIG1vdXNlIGV2ZW50IHRha2luZyBpbnRvIGFjY291bnQgd2hhdCB0eXBlIG9mIGRlbHRhXG4gICAqIGlzIGJlaW5nIHVzZWQuXG4gICAqIEBwYXJhbSBldiBUaGUgbW91c2Ugd2hlZWwgZXZlbnQuXG4gICAqL1xuICBwdWJsaWMgZ2V0TGluZXNTY3JvbGxlZChldjogV2hlZWxFdmVudCk6IG51bWJlciB7XG4gICAgLy8gRG8gbm90aGluZyBpZiBpdCdzIG5vdCBhIHZlcnRpY2FsIHNjcm9sbCBldmVudFxuICAgIGlmIChldi5kZWx0YVkgPT09IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIFdoZWVsRXZlbnQuRE9NX0RFTFRBX0xJTkVcbiAgICBsZXQgYW1vdW50ID0gZXYuZGVsdGFZO1xuICAgIGlmIChldi5kZWx0YU1vZGUgPT09IFdoZWVsRXZlbnQuRE9NX0RFTFRBX1BJWEVMKSB7XG4gICAgICBhbW91bnQgLz0gdGhpcy5fY3VycmVudFJvd0hlaWdodCArIDAuMDsgLy8gUHJldmVudCBpbnRlZ2VyIGRpdmlzaW9uXG4gICAgICB0aGlzLl93aGVlbFBhcnRpYWxTY3JvbGwgKz0gYW1vdW50O1xuICAgICAgYW1vdW50ID0gTWF0aC5mbG9vcihNYXRoLmFicyh0aGlzLl93aGVlbFBhcnRpYWxTY3JvbGwpKSAqICh0aGlzLl93aGVlbFBhcnRpYWxTY3JvbGwgPiAwID8gMSA6IC0xKTtcbiAgICAgIHRoaXMuX3doZWVsUGFydGlhbFNjcm9sbCAlPSAxO1xuICAgIH0gZWxzZSBpZiAoZXYuZGVsdGFNb2RlID09PSBXaGVlbEV2ZW50LkRPTV9ERUxUQV9QQUdFKSB7XG4gICAgICBhbW91bnQgKj0gdGhpcy5fdGVybWluYWwucm93cztcbiAgICB9XG4gICAgcmV0dXJuIGFtb3VudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSB0b3VjaHN0YXJ0IGV2ZW50LCByZWNvcmRpbmcgdGhlIHRvdWNoIG9jY3VycmVkLlxuICAgKiBAcGFyYW0gZXYgVGhlIHRvdWNoIGV2ZW50LlxuICAgKi9cbiAgcHVibGljIG9uVG91Y2hTdGFydChldjogVG91Y2hFdmVudCk6IHZvaWQge1xuICAgIHRoaXMuX2xhc3RUb3VjaFkgPSBldi50b3VjaGVzWzBdLnBhZ2VZO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIHRvdWNobW92ZSBldmVudCwgc2Nyb2xsaW5nIHRoZSB2aWV3cG9ydCBpZiB0aGUgcG9zaXRpb24gc2hpZnRlZC5cbiAgICogQHBhcmFtIGV2IFRoZSB0b3VjaCBldmVudC5cbiAgICovXG4gIHB1YmxpYyBvblRvdWNoTW92ZShldjogVG91Y2hFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IGRlbHRhWSA9IHRoaXMuX2xhc3RUb3VjaFkgLSBldi50b3VjaGVzWzBdLnBhZ2VZO1xuICAgIHRoaXMuX2xhc3RUb3VjaFkgPSBldi50b3VjaGVzWzBdLnBhZ2VZO1xuICAgIGlmIChkZWx0YVkgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fdmlld3BvcnRFbGVtZW50LnNjcm9sbFRvcCArPSBkZWx0YVk7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3h0ZXJtL3NyYy9WaWV3cG9ydC50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///31\n")},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction prepareTextForTerminal(text) {\n    return text.replace(/\\r?\\n/g, '\\r');\n}\nexports.prepareTextForTerminal = prepareTextForTerminal;\nfunction bracketTextForPaste(text, bracketedPasteMode) {\n    if (bracketedPasteMode) {\n        return '\\x1b[200~' + text + '\\x1b[201~';\n    }\n    return text;\n}\nexports.bracketTextForPaste = bracketTextForPaste;\nfunction copyHandler(ev, term, selectionManager) {\n    if (term.browser.isMSIE) {\n        window.clipboardData.setData('Text', selectionManager.selectionText);\n    }\n    else {\n        ev.clipboardData.setData('text/plain', selectionManager.selectionText);\n    }\n    ev.preventDefault();\n}\nexports.copyHandler = copyHandler;\nfunction pasteHandler(ev, term) {\n    ev.stopPropagation();\n    var text;\n    var dispatchPaste = function (text) {\n        text = prepareTextForTerminal(text);\n        text = bracketTextForPaste(text, term.bracketedPasteMode);\n        term.handler(text);\n        term.textarea.value = '';\n        term.emit('paste', text);\n        term.cancel(ev);\n    };\n    if (term.browser.isMSIE) {\n        if (window.clipboardData) {\n            text = window.clipboardData.getData('Text');\n            dispatchPaste(text);\n        }\n    }\n    else {\n        if (ev.clipboardData) {\n            text = ev.clipboardData.getData('text/plain');\n            dispatchPaste(text);\n        }\n    }\n}\nexports.pasteHandler = pasteHandler;\nfunction moveTextAreaUnderMouseCursor(ev, textarea) {\n    textarea.style.position = 'fixed';\n    textarea.style.width = '20px';\n    textarea.style.height = '20px';\n    textarea.style.left = (ev.clientX - 10) + 'px';\n    textarea.style.top = (ev.clientY - 10) + 'px';\n    textarea.style.zIndex = '1000';\n    textarea.focus();\n    setTimeout(function () {\n        textarea.style.position = null;\n        textarea.style.width = null;\n        textarea.style.height = null;\n        textarea.style.left = null;\n        textarea.style.top = null;\n        textarea.style.zIndex = null;\n    }, 200);\n}\nexports.moveTextAreaUnderMouseCursor = moveTextAreaUnderMouseCursor;\nfunction rightClickHandler(ev, textarea, selectionManager, shouldSelectWord) {\n    moveTextAreaUnderMouseCursor(ev, textarea);\n    if (shouldSelectWord && !selectionManager.isClickInSelection(ev)) {\n        selectionManager.selectWordAtCursor(ev);\n    }\n    textarea.value = selectionManager.selectionText;\n    textarea.select();\n}\nexports.rightClickHandler = rightClickHandler;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3VpL0NsaXBib2FyZC50cz8wNjM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBb0JBLFNBQWdCLHNCQUFzQixDQUFDLElBQVk7SUFDakQsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN0QyxDQUFDO0FBRkQsd0RBRUM7QUFNRCxTQUFnQixtQkFBbUIsQ0FBQyxJQUFZLEVBQUUsa0JBQTJCO0lBQzNFLElBQUksa0JBQWtCLEVBQUU7UUFDdEIsT0FBTyxXQUFXLEdBQUcsSUFBSSxHQUFHLFdBQVcsQ0FBQztLQUN6QztJQUNELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQUxELGtEQUtDO0FBTUQsU0FBZ0IsV0FBVyxDQUFDLEVBQWtCLEVBQUUsSUFBZSxFQUFFLGdCQUFtQztJQUNsRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFO1FBQ3ZCLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxnQkFBZ0IsQ0FBQyxhQUFhLENBQUMsQ0FBQztLQUN0RTtTQUFNO1FBQ0wsRUFBRSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxDQUFDO0tBQ3hFO0lBR0QsRUFBRSxDQUFDLGNBQWMsRUFBRSxDQUFDO0FBQ3RCLENBQUM7QUFURCxrQ0FTQztBQU9ELFNBQWdCLFlBQVksQ0FBQyxFQUFrQixFQUFFLElBQWU7SUFDOUQsRUFBRSxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBRXJCLElBQUksSUFBWSxDQUFDO0lBRWpCLElBQU0sYUFBYSxHQUFHLFVBQVMsSUFBWTtRQUN6QyxJQUFJLEdBQUcsc0JBQXNCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEMsSUFBSSxHQUFHLG1CQUFtQixDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUMxRCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25CLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6QixJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2xCLENBQUMsQ0FBQztJQUVGLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUU7UUFDdkIsSUFBSSxNQUFNLENBQUMsYUFBYSxFQUFFO1lBQ3hCLElBQUksR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUM1QyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDckI7S0FDRjtTQUFNO1FBQ0wsSUFBSSxFQUFFLENBQUMsYUFBYSxFQUFFO1lBQ3BCLElBQUksR0FBRyxFQUFFLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUM5QyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDckI7S0FDRjtBQUNILENBQUM7QUF6QkQsb0NBeUJDO0FBT0QsU0FBZ0IsNEJBQTRCLENBQUMsRUFBYyxFQUFFLFFBQTZCO0lBRXhGLFFBQVEsQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztJQUNsQyxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUM7SUFDOUIsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQy9CLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDL0MsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQztJQUM5QyxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFFL0IsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBSWpCLFVBQVUsQ0FBQztRQUNULFFBQVEsQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUMvQixRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDNUIsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQzdCLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUMzQixRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUM7UUFDMUIsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQy9CLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNWLENBQUM7QUFyQkQsb0VBcUJDO0FBU0QsU0FBZ0IsaUJBQWlCLENBQUMsRUFBYyxFQUFFLFFBQTZCLEVBQUUsZ0JBQW1DLEVBQUUsZ0JBQXlCO0lBQzdJLDRCQUE0QixDQUFDLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUUzQyxJQUFJLGdCQUFnQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLENBQUMsRUFBRSxDQUFDLEVBQUU7UUFDaEUsZ0JBQWdCLENBQUMsa0JBQWtCLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDekM7SUFHRCxRQUFRLENBQUMsS0FBSyxHQUFHLGdCQUFnQixDQUFDLGFBQWEsQ0FBQztJQUNoRCxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDcEIsQ0FBQztBQVZELDhDQVVDIiwiZmlsZSI6IjMyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBJVGVybWluYWwsIElTZWxlY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG5pbnRlcmZhY2UgSVdpbmRvdyBleHRlbmRzIFdpbmRvdyB7XG4gIGNsaXBib2FyZERhdGE/OiB7XG4gICAgZ2V0RGF0YShmb3JtYXQ6IHN0cmluZyk6IHN0cmluZztcbiAgICBzZXREYXRhKGZvcm1hdDogc3RyaW5nLCBkYXRhOiBzdHJpbmcpOiB2b2lkO1xuICB9O1xufVxuXG5kZWNsYXJlIHZhciB3aW5kb3c6IElXaW5kb3c7XG5cbi8qKlxuICogUHJlcGFyZXMgdGV4dCB0byBiZSBwYXN0ZWQgaW50byB0aGUgdGVybWluYWwgYnkgbm9ybWFsaXppbmcgdGhlIGxpbmUgZW5kaW5nc1xuICogQHBhcmFtIHRleHQgVGhlIHBhc3RlZCB0ZXh0IHRoYXQgbmVlZHMgcHJvY2Vzc2luZyBiZWZvcmUgaW5zZXJ0aW5nIGludG8gdGhlIHRlcm1pbmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVwYXJlVGV4dEZvclRlcm1pbmFsKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiB0ZXh0LnJlcGxhY2UoL1xccj9cXG4vZywgJ1xccicpO1xufVxuXG4vKipcbiAqIEJyYWNrZXQgdGV4dCBmb3IgcGFzdGUsIGlmIG5lY2Vzc2FyeSwgYXMgcGVyIGh0dHBzOi8vY2lydy5pbi9ibG9nL2JyYWNrZXRlZC1wYXN0ZVxuICogQHBhcmFtIHRleHQgVGhlIHBhc3RlZCB0ZXh0IHRvIGJyYWNrZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJyYWNrZXRUZXh0Rm9yUGFzdGUodGV4dDogc3RyaW5nLCBicmFja2V0ZWRQYXN0ZU1vZGU6IGJvb2xlYW4pOiBzdHJpbmcge1xuICBpZiAoYnJhY2tldGVkUGFzdGVNb2RlKSB7XG4gICAgcmV0dXJuICdcXHgxYlsyMDB+JyArIHRleHQgKyAnXFx4MWJbMjAxfic7XG4gIH1cbiAgcmV0dXJuIHRleHQ7XG59XG5cbi8qKlxuICogQmluZHMgY29weSBmdW5jdGlvbmFsaXR5IHRvIHRoZSBnaXZlbiB0ZXJtaW5hbC5cbiAqIEBwYXJhbSBldiBUaGUgb3JpZ2luYWwgY29weSBldmVudCB0byBiZSBoYW5kbGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3B5SGFuZGxlcihldjogQ2xpcGJvYXJkRXZlbnQsIHRlcm06IElUZXJtaW5hbCwgc2VsZWN0aW9uTWFuYWdlcjogSVNlbGVjdGlvbk1hbmFnZXIpOiB2b2lkIHtcbiAgaWYgKHRlcm0uYnJvd3Nlci5pc01TSUUpIHtcbiAgICB3aW5kb3cuY2xpcGJvYXJkRGF0YS5zZXREYXRhKCdUZXh0Jywgc2VsZWN0aW9uTWFuYWdlci5zZWxlY3Rpb25UZXh0KTtcbiAgfSBlbHNlIHtcbiAgICBldi5jbGlwYm9hcmREYXRhLnNldERhdGEoJ3RleHQvcGxhaW4nLCBzZWxlY3Rpb25NYW5hZ2VyLnNlbGVjdGlvblRleHQpO1xuICB9XG5cbiAgLy8gUHJldmVudCBvciB0aGUgb3JpZ2luYWwgdGV4dCB3aWxsIGJlIGNvcGllZC5cbiAgZXYucHJldmVudERlZmF1bHQoKTtcbn1cblxuLyoqXG4gKiBSZWRpcmVjdCB0aGUgY2xpcGJvYXJkJ3MgZGF0YSB0byB0aGUgdGVybWluYWwncyBpbnB1dCBoYW5kbGVyLlxuICogQHBhcmFtIGV2IFRoZSBvcmlnaW5hbCBwYXN0ZSBldmVudCB0byBiZSBoYW5kbGVkXG4gKiBAcGFyYW0gdGVybSBUaGUgdGVybWluYWwgb24gd2hpY2ggdG8gYXBwbHkgdGhlIGhhbmRsZWQgcGFzdGUgZXZlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhc3RlSGFuZGxlcihldjogQ2xpcGJvYXJkRXZlbnQsIHRlcm06IElUZXJtaW5hbCk6IHZvaWQge1xuICBldi5zdG9wUHJvcGFnYXRpb24oKTtcblxuICBsZXQgdGV4dDogc3RyaW5nO1xuXG4gIGNvbnN0IGRpc3BhdGNoUGFzdGUgPSBmdW5jdGlvbih0ZXh0OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0ZXh0ID0gcHJlcGFyZVRleHRGb3JUZXJtaW5hbCh0ZXh0KTtcbiAgICB0ZXh0ID0gYnJhY2tldFRleHRGb3JQYXN0ZSh0ZXh0LCB0ZXJtLmJyYWNrZXRlZFBhc3RlTW9kZSk7XG4gICAgdGVybS5oYW5kbGVyKHRleHQpO1xuICAgIHRlcm0udGV4dGFyZWEudmFsdWUgPSAnJztcbiAgICB0ZXJtLmVtaXQoJ3Bhc3RlJywgdGV4dCk7XG4gICAgdGVybS5jYW5jZWwoZXYpO1xuICB9O1xuXG4gIGlmICh0ZXJtLmJyb3dzZXIuaXNNU0lFKSB7XG4gICAgaWYgKHdpbmRvdy5jbGlwYm9hcmREYXRhKSB7XG4gICAgICB0ZXh0ID0gd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YSgnVGV4dCcpO1xuICAgICAgZGlzcGF0Y2hQYXN0ZSh0ZXh0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGV2LmNsaXBib2FyZERhdGEpIHtcbiAgICAgIHRleHQgPSBldi5jbGlwYm9hcmREYXRhLmdldERhdGEoJ3RleHQvcGxhaW4nKTtcbiAgICAgIGRpc3BhdGNoUGFzdGUodGV4dCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogTW92ZXMgdGhlIHRleHRhcmVhIHVuZGVyIHRoZSBtb3VzZSBjdXJzb3IgYW5kIGZvY3VzZXMgaXQuXG4gKiBAcGFyYW0gZXYgVGhlIG9yaWdpbmFsIHJpZ2h0IGNsaWNrIGV2ZW50IHRvIGJlIGhhbmRsZWQuXG4gKiBAcGFyYW0gdGV4dGFyZWEgVGhlIHRlcm1pbmFsJ3MgdGV4dGFyZWEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlVGV4dEFyZWFVbmRlck1vdXNlQ3Vyc29yKGV2OiBNb3VzZUV2ZW50LCB0ZXh0YXJlYTogSFRNTFRleHRBcmVhRWxlbWVudCk6IHZvaWQge1xuICAvLyBCcmluZyB0ZXh0YXJlYSBhdCB0aGUgY3Vyc29yIHBvc2l0aW9uXG4gIHRleHRhcmVhLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgdGV4dGFyZWEuc3R5bGUud2lkdGggPSAnMjBweCc7XG4gIHRleHRhcmVhLnN0eWxlLmhlaWdodCA9ICcyMHB4JztcbiAgdGV4dGFyZWEuc3R5bGUubGVmdCA9IChldi5jbGllbnRYIC0gMTApICsgJ3B4JztcbiAgdGV4dGFyZWEuc3R5bGUudG9wID0gKGV2LmNsaWVudFkgLSAxMCkgKyAncHgnO1xuICB0ZXh0YXJlYS5zdHlsZS56SW5kZXggPSAnMTAwMCc7XG5cbiAgdGV4dGFyZWEuZm9jdXMoKTtcblxuICAvLyBSZXNldCB0aGUgdGVybWluYWwgdGV4dGFyZWEncyBzdHlsaW5nXG4gIC8vIFRpbWVvdXQgbmVlZHMgdG8gYmUgbG9uZyBlbm91Z2ggZm9yIGNsaWNrIGV2ZW50IHRvIGJlIGhhbmRsZWQuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHRleHRhcmVhLnN0eWxlLnBvc2l0aW9uID0gbnVsbDtcbiAgICB0ZXh0YXJlYS5zdHlsZS53aWR0aCA9IG51bGw7XG4gICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gbnVsbDtcbiAgICB0ZXh0YXJlYS5zdHlsZS5sZWZ0ID0gbnVsbDtcbiAgICB0ZXh0YXJlYS5zdHlsZS50b3AgPSBudWxsO1xuICAgIHRleHRhcmVhLnN0eWxlLnpJbmRleCA9IG51bGw7XG4gIH0sIDIwMCk7XG59XG5cbi8qKlxuICogQmluZCB0byByaWdodC1jbGljayBldmVudCBhbmQgYWxsb3cgcmlnaHQtY2xpY2sgY29weSBhbmQgcGFzdGUuXG4gKiBAcGFyYW0gZXYgVGhlIG9yaWdpbmFsIHJpZ2h0IGNsaWNrIGV2ZW50IHRvIGJlIGhhbmRsZWQuXG4gKiBAcGFyYW0gdGV4dGFyZWEgVGhlIHRlcm1pbmFsJ3MgdGV4dGFyZWEuXG4gKiBAcGFyYW0gc2VsZWN0aW9uTWFuYWdlciBUaGUgdGVybWluYWwncyBzZWxlY3Rpb24gbWFuYWdlci5cbiAqIEBwYXJhbSBzaG91bGRTZWxlY3RXb3JkIElmIHRydWUgYW5kIHRoZXJlIGlzIG5vIHNlbGVjdGlvbiB0aGUgY3VycmVudCB3b3JkIHdpbGwgYmUgc2VsZWN0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJpZ2h0Q2xpY2tIYW5kbGVyKGV2OiBNb3VzZUV2ZW50LCB0ZXh0YXJlYTogSFRNTFRleHRBcmVhRWxlbWVudCwgc2VsZWN0aW9uTWFuYWdlcjogSVNlbGVjdGlvbk1hbmFnZXIsIHNob3VsZFNlbGVjdFdvcmQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgbW92ZVRleHRBcmVhVW5kZXJNb3VzZUN1cnNvcihldiwgdGV4dGFyZWEpO1xuXG4gIGlmIChzaG91bGRTZWxlY3RXb3JkICYmICFzZWxlY3Rpb25NYW5hZ2VyLmlzQ2xpY2tJblNlbGVjdGlvbihldikpIHtcbiAgICBzZWxlY3Rpb25NYW5hZ2VyLnNlbGVjdFdvcmRBdEN1cnNvcihldik7XG4gIH1cblxuICAvLyBHZXQgdGV4dGFyZWEgcmVhZHkgdG8gY29weSBmcm9tIHRoZSBjb250ZXh0IG1lbnVcbiAgdGV4dGFyZWEudmFsdWUgPSBzZWxlY3Rpb25NYW5hZ2VyLnNlbGVjdGlvblRleHQ7XG4gIHRleHRhcmVhLnNlbGVjdCgpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3h0ZXJtL3NyYy91aS9DbGlwYm9hcmQudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///32\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = __webpack_require__(7);\nvar Charsets_1 = __webpack_require__(34);\nvar Buffer_1 = __webpack_require__(0);\nvar CharWidth_1 = __webpack_require__(13);\nvar EscapeSequenceParser_1 = __webpack_require__(36);\nvar Lifecycle_1 = __webpack_require__(3);\nvar GLEVEL = { '(': 0, ')': 1, '*': 2, '+': 3, '-': 1, '.': 2 };\nvar RequestTerminfo = (function () {\n    function RequestTerminfo(_terminal) {\n        this._terminal = _terminal;\n    }\n    RequestTerminfo.prototype.hook = function (collect, params, flag) {\n        this._data = '';\n    };\n    RequestTerminfo.prototype.put = function (data, start, end) {\n        this._data += data.substring(start, end);\n    };\n    RequestTerminfo.prototype.unhook = function () {\n        this._terminal.handler(EscapeSequences_1.C0.ESC + \"P0+r\" + this._data + EscapeSequences_1.C0.ESC + \"\\\\\");\n    };\n    return RequestTerminfo;\n}());\nvar DECRQSS = (function () {\n    function DECRQSS(_terminal) {\n        this._terminal = _terminal;\n    }\n    DECRQSS.prototype.hook = function (collect, params, flag) {\n        this._data = '';\n    };\n    DECRQSS.prototype.put = function (data, start, end) {\n        this._data += data.substring(start, end);\n    };\n    DECRQSS.prototype.unhook = function () {\n        switch (this._data) {\n            case '\"q':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0\\\"q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case '\"p':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r61\\\"p\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'r':\n                var pt = '' + (this._terminal.buffer.scrollTop + 1) +\n                    ';' + (this._terminal.buffer.scrollBottom + 1) + 'r';\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + pt + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case 'm':\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r0m\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            case ' q':\n                var STYLES = { 'block': 2, 'underline': 4, 'bar': 6 };\n                var style = STYLES[this._terminal.getOption('cursorStyle')];\n                style -= this._terminal.getOption('cursorBlink');\n                return this._terminal.handler(EscapeSequences_1.C0.ESC + \"P1$r\" + style + \" q\" + EscapeSequences_1.C0.ESC + \"\\\\\");\n            default:\n                this._terminal.error('Unknown DCS $q %s', this._data);\n                this._terminal.handler(EscapeSequences_1.C0.ESC + \"P0$r\" + this._data + EscapeSequences_1.C0.ESC + \"\\\\\");\n        }\n    };\n    return DECRQSS;\n}());\nvar InputHandler = (function (_super) {\n    __extends(InputHandler, _super);\n    function InputHandler(_terminal, _parser) {\n        if (_parser === void 0) { _parser = new EscapeSequenceParser_1.EscapeSequenceParser(); }\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._parser = _parser;\n        _this.register(_this._parser);\n        _this._surrogateFirst = '';\n        _this._parser.setCsiHandlerFallback(function (collect, params, flag) {\n            _this._terminal.error('Unknown CSI code: ', { collect: collect, params: params, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setEscHandlerFallback(function (collect, flag) {\n            _this._terminal.error('Unknown ESC code: ', { collect: collect, flag: String.fromCharCode(flag) });\n        });\n        _this._parser.setExecuteHandlerFallback(function (code) {\n            _this._terminal.error('Unknown EXECUTE code: ', { code: code });\n        });\n        _this._parser.setOscHandlerFallback(function (identifier, data) {\n            _this._terminal.error('Unknown OSC code: ', { identifier: identifier, data: data });\n        });\n        _this._parser.setPrintHandler(function (data, start, end) { return _this.print(data, start, end); });\n        _this._parser.setCsiHandler('@', function (params, collect) { return _this.insertChars(params); });\n        _this._parser.setCsiHandler('A', function (params, collect) { return _this.cursorUp(params); });\n        _this._parser.setCsiHandler('B', function (params, collect) { return _this.cursorDown(params); });\n        _this._parser.setCsiHandler('C', function (params, collect) { return _this.cursorForward(params); });\n        _this._parser.setCsiHandler('D', function (params, collect) { return _this.cursorBackward(params); });\n        _this._parser.setCsiHandler('E', function (params, collect) { return _this.cursorNextLine(params); });\n        _this._parser.setCsiHandler('F', function (params, collect) { return _this.cursorPrecedingLine(params); });\n        _this._parser.setCsiHandler('G', function (params, collect) { return _this.cursorCharAbsolute(params); });\n        _this._parser.setCsiHandler('H', function (params, collect) { return _this.cursorPosition(params); });\n        _this._parser.setCsiHandler('I', function (params, collect) { return _this.cursorForwardTab(params); });\n        _this._parser.setCsiHandler('J', function (params, collect) { return _this.eraseInDisplay(params); });\n        _this._parser.setCsiHandler('K', function (params, collect) { return _this.eraseInLine(params); });\n        _this._parser.setCsiHandler('L', function (params, collect) { return _this.insertLines(params); });\n        _this._parser.setCsiHandler('M', function (params, collect) { return _this.deleteLines(params); });\n        _this._parser.setCsiHandler('P', function (params, collect) { return _this.deleteChars(params); });\n        _this._parser.setCsiHandler('S', function (params, collect) { return _this.scrollUp(params); });\n        _this._parser.setCsiHandler('T', function (params, collect) { return _this.scrollDown(params, collect); });\n        _this._parser.setCsiHandler('X', function (params, collect) { return _this.eraseChars(params); });\n        _this._parser.setCsiHandler('Z', function (params, collect) { return _this.cursorBackwardTab(params); });\n        _this._parser.setCsiHandler('`', function (params, collect) { return _this.charPosAbsolute(params); });\n        _this._parser.setCsiHandler('a', function (params, collect) { return _this.hPositionRelative(params); });\n        _this._parser.setCsiHandler('b', function (params, collect) { return _this.repeatPrecedingCharacter(params); });\n        _this._parser.setCsiHandler('c', function (params, collect) { return _this.sendDeviceAttributes(params, collect); });\n        _this._parser.setCsiHandler('d', function (params, collect) { return _this.linePosAbsolute(params); });\n        _this._parser.setCsiHandler('e', function (params, collect) { return _this.vPositionRelative(params); });\n        _this._parser.setCsiHandler('f', function (params, collect) { return _this.hVPosition(params); });\n        _this._parser.setCsiHandler('g', function (params, collect) { return _this.tabClear(params); });\n        _this._parser.setCsiHandler('h', function (params, collect) { return _this.setMode(params, collect); });\n        _this._parser.setCsiHandler('l', function (params, collect) { return _this.resetMode(params, collect); });\n        _this._parser.setCsiHandler('m', function (params, collect) { return _this.charAttributes(params); });\n        _this._parser.setCsiHandler('n', function (params, collect) { return _this.deviceStatus(params, collect); });\n        _this._parser.setCsiHandler('p', function (params, collect) { return _this.softReset(params, collect); });\n        _this._parser.setCsiHandler('q', function (params, collect) { return _this.setCursorStyle(params, collect); });\n        _this._parser.setCsiHandler('r', function (params, collect) { return _this.setScrollRegion(params, collect); });\n        _this._parser.setCsiHandler('s', function (params, collect) { return _this.saveCursor(params); });\n        _this._parser.setCsiHandler('u', function (params, collect) { return _this.restoreCursor(params); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BEL, function () { return _this.bell(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.LF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.VT, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.FF, function () { return _this.lineFeed(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.CR, function () { return _this.carriageReturn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.BS, function () { return _this.backspace(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.HT, function () { return _this.tab(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SO, function () { return _this.shiftOut(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C0.SI, function () { return _this.shiftIn(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.IND, function () { return _this.index(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.NEL, function () { return _this.nextLine(); });\n        _this._parser.setExecuteHandler(EscapeSequences_1.C1.HTS, function () { return _this.tabSet(); });\n        _this._parser.setOscHandler(0, function (data) { return _this.setTitle(data); });\n        _this._parser.setOscHandler(2, function (data) { return _this.setTitle(data); });\n        _this._parser.setEscHandler('7', function () { return _this.saveCursor([]); });\n        _this._parser.setEscHandler('8', function () { return _this.restoreCursor([]); });\n        _this._parser.setEscHandler('D', function () { return _this.index(); });\n        _this._parser.setEscHandler('E', function () { return _this.nextLine(); });\n        _this._parser.setEscHandler('H', function () { return _this.tabSet(); });\n        _this._parser.setEscHandler('M', function () { return _this.reverseIndex(); });\n        _this._parser.setEscHandler('=', function () { return _this.keypadApplicationMode(); });\n        _this._parser.setEscHandler('>', function () { return _this.keypadNumericMode(); });\n        _this._parser.setEscHandler('c', function () { return _this.reset(); });\n        _this._parser.setEscHandler('n', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('o', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('|', function () { return _this.setgLevel(3); });\n        _this._parser.setEscHandler('}', function () { return _this.setgLevel(2); });\n        _this._parser.setEscHandler('~', function () { return _this.setgLevel(1); });\n        _this._parser.setEscHandler('%@', function () { return _this.selectDefaultCharset(); });\n        _this._parser.setEscHandler('%G', function () { return _this.selectDefaultCharset(); });\n        var _loop_1 = function (flag) {\n            this_1._parser.setEscHandler('(' + flag, function () { return _this.selectCharset('(' + flag); });\n            this_1._parser.setEscHandler(')' + flag, function () { return _this.selectCharset(')' + flag); });\n            this_1._parser.setEscHandler('*' + flag, function () { return _this.selectCharset('*' + flag); });\n            this_1._parser.setEscHandler('+' + flag, function () { return _this.selectCharset('+' + flag); });\n            this_1._parser.setEscHandler('-' + flag, function () { return _this.selectCharset('-' + flag); });\n            this_1._parser.setEscHandler('.' + flag, function () { return _this.selectCharset('.' + flag); });\n            this_1._parser.setEscHandler('/' + flag, function () { return _this.selectCharset('/' + flag); });\n        };\n        var this_1 = this;\n        for (var flag in Charsets_1.CHARSETS) {\n            _loop_1(flag);\n        }\n        _this._parser.setErrorHandler(function (state) {\n            _this._terminal.error('Parsing error: ', state);\n            return state;\n        });\n        _this._parser.setDcsHandler('$q', new DECRQSS(_this._terminal));\n        _this._parser.setDcsHandler('+q', new RequestTerminfo(_this._terminal));\n        return _this;\n    }\n    InputHandler.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal = null;\n    };\n    InputHandler.prototype.parse = function (data) {\n        if (!this._terminal) {\n            return;\n        }\n        var buffer = this._terminal.buffer;\n        var cursorStartX = buffer.x;\n        var cursorStartY = buffer.y;\n        if (this._terminal.debug) {\n            this._terminal.log('data: ' + data);\n        }\n        if (this._surrogateFirst) {\n            data = this._surrogateFirst + data;\n            this._surrogateFirst = '';\n        }\n        this._parser.parse(data);\n        buffer = this._terminal.buffer;\n        if (buffer.x !== cursorStartX || buffer.y !== cursorStartY) {\n            this._terminal.emit('cursormove');\n        }\n    };\n    InputHandler.prototype.print = function (data, start, end) {\n        var char;\n        var code;\n        var chWidth;\n        var buffer = this._terminal.buffer;\n        var charset = this._terminal.charset;\n        var screenReaderMode = this._terminal.options.screenReaderMode;\n        var cols = this._terminal.cols;\n        var wraparoundMode = this._terminal.wraparoundMode;\n        var insertMode = this._terminal.insertMode;\n        var curAttr = this._terminal.curAttr;\n        var bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n        this._terminal.updateRange(buffer.y);\n        for (var stringPosition = start; stringPosition < end; ++stringPosition) {\n            char = data.charAt(stringPosition);\n            code = data.charCodeAt(stringPosition);\n            if (0xD800 <= code && code <= 0xDBFF) {\n                if (++stringPosition >= end) {\n                    this._surrogateFirst = char;\n                    continue;\n                }\n                var second = data.charCodeAt(stringPosition);\n                if (0xDC00 <= second && second <= 0xDFFF) {\n                    code = (code - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n                    char += data.charAt(stringPosition);\n                }\n                else {\n                    stringPosition--;\n                }\n            }\n            chWidth = CharWidth_1.wcwidth(code);\n            if (charset) {\n                char = charset[char] || char;\n                code = char.charCodeAt(0);\n            }\n            if (screenReaderMode) {\n                this._terminal.emit('a11y.char', char);\n            }\n            if (!chWidth && buffer.x) {\n                var chMinusOne = bufferRow.get(buffer.x - 1);\n                if (chMinusOne) {\n                    if (!chMinusOne[Buffer_1.CHAR_DATA_WIDTH_INDEX]) {\n                        var chMinusTwo = bufferRow.get(buffer.x - 2);\n                        if (chMinusTwo) {\n                            chMinusTwo[Buffer_1.CHAR_DATA_CHAR_INDEX] += char;\n                            chMinusTwo[Buffer_1.CHAR_DATA_CODE_INDEX] = code;\n                            bufferRow.set(buffer.x - 2, chMinusTwo);\n                        }\n                    }\n                    else {\n                        chMinusOne[Buffer_1.CHAR_DATA_CHAR_INDEX] += char;\n                        chMinusOne[Buffer_1.CHAR_DATA_CODE_INDEX] = code;\n                        bufferRow.set(buffer.x - 1, chMinusOne);\n                    }\n                }\n                continue;\n            }\n            if (buffer.x + chWidth - 1 >= cols) {\n                if (wraparoundMode) {\n                    buffer.x = 0;\n                    buffer.y++;\n                    if (buffer.y > buffer.scrollBottom) {\n                        buffer.y--;\n                        this._terminal.scroll(true);\n                    }\n                    else {\n                        buffer.lines.get(buffer.y).isWrapped = true;\n                    }\n                    bufferRow = buffer.lines.get(buffer.y + buffer.ybase);\n                }\n                else {\n                    if (chWidth === 2) {\n                        continue;\n                    }\n                }\n            }\n            if (insertMode) {\n                bufferRow.insertCells(buffer.x, chWidth, [curAttr, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n                var lastCell = bufferRow.get(cols - 1);\n                if (lastCell[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 2) {\n                    bufferRow.set(cols - 1, [curAttr, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n                }\n            }\n            bufferRow.set(buffer.x++, [curAttr, char, chWidth, code]);\n            if (chWidth > 0) {\n                while (--chWidth) {\n                    bufferRow.set(buffer.x++, [curAttr, '', 0, undefined]);\n                }\n            }\n        }\n        this._terminal.updateRange(buffer.y);\n    };\n    InputHandler.prototype.bell = function () {\n        this._terminal.bell();\n    };\n    InputHandler.prototype.lineFeed = function () {\n        var buffer = this._terminal.buffer;\n        if (this._terminal.options.convertEol) {\n            buffer.x = 0;\n        }\n        buffer.y++;\n        if (buffer.y > buffer.scrollBottom) {\n            buffer.y--;\n            this._terminal.scroll();\n        }\n        if (buffer.x >= this._terminal.cols) {\n            buffer.x--;\n        }\n        this._terminal.emit('linefeed');\n    };\n    InputHandler.prototype.carriageReturn = function () {\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.backspace = function () {\n        if (this._terminal.buffer.x > 0) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.tab = function () {\n        var originalX = this._terminal.buffer.x;\n        this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        if (this._terminal.options.screenReaderMode) {\n            this._terminal.emit('a11y.tab', this._terminal.buffer.x - originalX);\n        }\n    };\n    InputHandler.prototype.shiftOut = function () {\n        this._terminal.setgLevel(1);\n    };\n    InputHandler.prototype.shiftIn = function () {\n        this._terminal.setgLevel(0);\n    };\n    InputHandler.prototype.insertChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).insertCells(this._terminal.buffer.x, params[0] || 1, [this._terminal.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.cursorUp = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n    };\n    InputHandler.prototype.cursorDown = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.cursorForward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.cursorBackward = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n        this._terminal.buffer.x -= param;\n        if (this._terminal.buffer.x < 0) {\n            this._terminal.buffer.x = 0;\n        }\n    };\n    InputHandler.prototype.cursorNextLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorPrecedingLine = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y -= param;\n        if (this._terminal.buffer.y < 0) {\n            this._terminal.buffer.y = 0;\n        }\n        this._terminal.buffer.x = 0;\n    };\n    InputHandler.prototype.cursorCharAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n    };\n    InputHandler.prototype.cursorPosition = function (params) {\n        var col;\n        var row = params[0] - 1;\n        if (params.length >= 2) {\n            col = params[1] - 1;\n        }\n        else {\n            col = 0;\n        }\n        if (row < 0) {\n            row = 0;\n        }\n        else if (row >= this._terminal.rows) {\n            row = this._terminal.rows - 1;\n        }\n        if (col < 0) {\n            col = 0;\n        }\n        else if (col >= this._terminal.cols) {\n            col = this._terminal.cols - 1;\n        }\n        this._terminal.buffer.x = col;\n        this._terminal.buffer.y = row;\n    };\n    InputHandler.prototype.cursorForwardTab = function (params) {\n        var param = params[0] || 1;\n        while (param--) {\n            this._terminal.buffer.x = this._terminal.buffer.nextStop();\n        }\n    };\n    InputHandler.prototype._eraseInBufferLine = function (y, start, end, clearWrap) {\n        if (clearWrap === void 0) { clearWrap = false; }\n        var line = this._terminal.buffer.lines.get(this._terminal.buffer.ybase + y);\n        line.replaceCells(start, end, [this._terminal.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n        if (clearWrap) {\n            line.isWrapped = false;\n        }\n    };\n    InputHandler.prototype._resetBufferLine = function (y) {\n        this._eraseInBufferLine(y, 0, this._terminal.cols, true);\n    };\n    InputHandler.prototype.eraseInDisplay = function (params) {\n        var j;\n        switch (params[0]) {\n            case 0:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j++, this._terminal.buffer.x, this._terminal.cols, this._terminal.buffer.x === 0);\n                for (; j < this._terminal.rows; j++) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(j);\n                break;\n            case 1:\n                j = this._terminal.buffer.y;\n                this._terminal.updateRange(j);\n                this._eraseInBufferLine(j, 0, this._terminal.buffer.x + 1, true);\n                if (this._terminal.buffer.x + 1 >= this._terminal.cols) {\n                    this._terminal.buffer.lines.get(j + 1).isWrapped = false;\n                }\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 2:\n                j = this._terminal.rows;\n                this._terminal.updateRange(j - 1);\n                while (j--) {\n                    this._resetBufferLine(j);\n                }\n                this._terminal.updateRange(0);\n                break;\n            case 3:\n                var scrollBackSize = this._terminal.buffer.lines.length - this._terminal.rows;\n                if (scrollBackSize > 0) {\n                    this._terminal.buffer.lines.trimStart(scrollBackSize);\n                    this._terminal.buffer.ybase = Math.max(this._terminal.buffer.ybase - scrollBackSize, 0);\n                    this._terminal.buffer.ydisp = Math.max(this._terminal.buffer.ydisp - scrollBackSize, 0);\n                    this._terminal.emit('scroll', 0);\n                }\n                break;\n        }\n    };\n    InputHandler.prototype.eraseInLine = function (params) {\n        switch (params[0]) {\n            case 0:\n                this._eraseInBufferLine(this._terminal.buffer.y, this._terminal.buffer.x, this._terminal.cols);\n                break;\n            case 1:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.buffer.x + 1);\n                break;\n            case 2:\n                this._eraseInBufferLine(this._terminal.buffer.y, 0, this._terminal.cols);\n                break;\n        }\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.insertLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var scrollBottomRowsOffset = this._terminal.rows - 1 - buffer.scrollBottom;\n        var scrollBottomAbsolute = this._terminal.rows - 1 + buffer.ybase - scrollBottomRowsOffset + 1;\n        while (param--) {\n            buffer.lines.splice(scrollBottomAbsolute - 1, 1);\n            buffer.lines.splice(row, 0, buffer.getBlankLine(this._terminal.eraseAttr()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteLines = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        var buffer = this._terminal.buffer;\n        var row = buffer.y + buffer.ybase;\n        var j;\n        j = this._terminal.rows - 1 - buffer.scrollBottom;\n        j = this._terminal.rows - 1 + buffer.ybase - j;\n        while (param--) {\n            buffer.lines.splice(row, 1);\n            buffer.lines.splice(j, 0, buffer.getBlankLine(this._terminal.eraseAttr()));\n        }\n        this._terminal.updateRange(buffer.y);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.deleteChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).deleteCells(this._terminal.buffer.x, params[0] || 1, [this._terminal.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n        this._terminal.updateRange(this._terminal.buffer.y);\n    };\n    InputHandler.prototype.scrollUp = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.lines.splice(buffer.ybase + buffer.scrollTop, 1);\n            buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 0, buffer.getBlankLine(Buffer_1.DEFAULT_ATTR));\n        }\n        this._terminal.updateRange(buffer.scrollTop);\n        this._terminal.updateRange(buffer.scrollBottom);\n    };\n    InputHandler.prototype.scrollDown = function (params, collect) {\n        if (params.length < 2 && !collect) {\n            var param = params[0] || 1;\n            var buffer = this._terminal.buffer;\n            while (param--) {\n                buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 1);\n                buffer.lines.splice(buffer.ybase + buffer.scrollBottom, 0, buffer.getBlankLine(Buffer_1.DEFAULT_ATTR));\n            }\n            this._terminal.updateRange(buffer.scrollTop);\n            this._terminal.updateRange(buffer.scrollBottom);\n        }\n    };\n    InputHandler.prototype.eraseChars = function (params) {\n        this._terminal.buffer.lines.get(this._terminal.buffer.y + this._terminal.buffer.ybase).replaceCells(this._terminal.buffer.x, this._terminal.buffer.x + (params[0] || 1), [this._terminal.eraseAttr(), Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n    };\n    InputHandler.prototype.cursorBackwardTab = function (params) {\n        var param = params[0] || 1;\n        var buffer = this._terminal.buffer;\n        while (param--) {\n            buffer.x = buffer.prevStop();\n        }\n    };\n    InputHandler.prototype.charPosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x = param - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.hPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.x += param;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.repeatPrecedingCharacter = function (params) {\n        var buffer = this._terminal.buffer;\n        var line = buffer.lines.get(buffer.ybase + buffer.y);\n        line.replaceCells(buffer.x, buffer.x + (params[0] || 1), line.get(buffer.x - 1) || [Buffer_1.DEFAULT_ATTR, Buffer_1.NULL_CELL_CHAR, Buffer_1.NULL_CELL_WIDTH, Buffer_1.NULL_CELL_CODE]);\n    };\n    InputHandler.prototype.sendDeviceAttributes = function (params, collect) {\n        if (params[0] > 0) {\n            return;\n        }\n        if (!collect) {\n            if (this._terminal.is('xterm') || this._terminal.is('rxvt-unicode') || this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?1;2c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[?6c');\n            }\n        }\n        else if (collect === '>') {\n            if (this._terminal.is('xterm')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>0;276;0c');\n            }\n            else if (this._terminal.is('rxvt-unicode')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>85;95;0c');\n            }\n            else if (this._terminal.is('linux')) {\n                this._terminal.handler(params[0] + 'c');\n            }\n            else if (this._terminal.is('screen')) {\n                this._terminal.handler(EscapeSequences_1.C0.ESC + '[>83;40003;0c');\n            }\n        }\n    };\n    InputHandler.prototype.linePosAbsolute = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y = param - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n    };\n    InputHandler.prototype.vPositionRelative = function (params) {\n        var param = params[0];\n        if (param < 1) {\n            param = 1;\n        }\n        this._terminal.buffer.y += param;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x--;\n        }\n    };\n    InputHandler.prototype.hVPosition = function (params) {\n        if (params[0] < 1)\n            params[0] = 1;\n        if (params[1] < 1)\n            params[1] = 1;\n        this._terminal.buffer.y = params[0] - 1;\n        if (this._terminal.buffer.y >= this._terminal.rows) {\n            this._terminal.buffer.y = this._terminal.rows - 1;\n        }\n        this._terminal.buffer.x = params[1] - 1;\n        if (this._terminal.buffer.x >= this._terminal.cols) {\n            this._terminal.buffer.x = this._terminal.cols - 1;\n        }\n    };\n    InputHandler.prototype.tabClear = function (params) {\n        var param = params[0];\n        if (param <= 0) {\n            delete this._terminal.buffer.tabs[this._terminal.buffer.x];\n        }\n        else if (param === 3) {\n            this._terminal.buffer.tabs = {};\n        }\n    };\n    InputHandler.prototype.setMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.setMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = true;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = true;\n                    break;\n                case 2:\n                    this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(1, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(2, Charsets_1.DEFAULT_CHARSET);\n                    this._terminal.setgCharset(3, Charsets_1.DEFAULT_CHARSET);\n                    break;\n                case 3:\n                    this._terminal.savedCols = this._terminal.cols;\n                    this._terminal.resize(132, this._terminal.rows);\n                    break;\n                case 6:\n                    this._terminal.originMode = true;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = true;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Serial port requested application keypad.');\n                    this._terminal.applicationKeypad = true;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = params[0] === 9;\n                    this._terminal.vt200Mouse = params[0] === 1000;\n                    this._terminal.normalMouse = params[0] > 1000;\n                    this._terminal.mouseEvents = true;\n                    this._terminal.element.classList.add('enable-mouse-events');\n                    this._terminal.selectionManager.disable();\n                    this._terminal.log('Binding to mouse events.');\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = true;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = true;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = true;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = true;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = false;\n                    break;\n                case 1048:\n                    this.saveCursor(params);\n                    break;\n                case 1049:\n                    this.saveCursor(params);\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateAltBuffer(this._terminal.eraseAttr());\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = true;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.resetMode = function (params, collect) {\n        if (params.length > 1) {\n            for (var i = 0; i < params.length; i++) {\n                this.resetMode([params[i]]);\n            }\n            return;\n        }\n        if (!collect) {\n            switch (params[0]) {\n                case 4:\n                    this._terminal.insertMode = false;\n                    break;\n                case 20:\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 1:\n                    this._terminal.applicationCursor = false;\n                    break;\n                case 3:\n                    if (this._terminal.cols === 132 && this._terminal.savedCols) {\n                        this._terminal.resize(this._terminal.savedCols, this._terminal.rows);\n                    }\n                    delete this._terminal.savedCols;\n                    break;\n                case 6:\n                    this._terminal.originMode = false;\n                    break;\n                case 7:\n                    this._terminal.wraparoundMode = false;\n                    break;\n                case 12:\n                    break;\n                case 66:\n                    this._terminal.log('Switching back to normal keypad.');\n                    this._terminal.applicationKeypad = false;\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    break;\n                case 9:\n                case 1000:\n                case 1002:\n                case 1003:\n                    this._terminal.x10Mouse = false;\n                    this._terminal.vt200Mouse = false;\n                    this._terminal.normalMouse = false;\n                    this._terminal.mouseEvents = false;\n                    this._terminal.element.classList.remove('enable-mouse-events');\n                    this._terminal.selectionManager.enable();\n                    break;\n                case 1004:\n                    this._terminal.sendFocus = false;\n                    break;\n                case 1005:\n                    this._terminal.utfMouse = false;\n                    break;\n                case 1006:\n                    this._terminal.sgrMouse = false;\n                    break;\n                case 1015:\n                    this._terminal.urxvtMouse = false;\n                    break;\n                case 25:\n                    this._terminal.cursorHidden = true;\n                    break;\n                case 1048:\n                    this.restoreCursor(params);\n                    break;\n                case 1049:\n                case 47:\n                case 1047:\n                    this._terminal.buffers.activateNormalBuffer();\n                    if (params[0] === 1049) {\n                        this.restoreCursor(params);\n                    }\n                    this._terminal.refresh(0, this._terminal.rows - 1);\n                    if (this._terminal.viewport) {\n                        this._terminal.viewport.syncScrollArea();\n                    }\n                    this._terminal.showCursor();\n                    break;\n                case 2004:\n                    this._terminal.bracketedPasteMode = false;\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.charAttributes = function (params) {\n        if (params.length === 1 && params[0] === 0) {\n            this._terminal.curAttr = Buffer_1.DEFAULT_ATTR;\n            return;\n        }\n        var l = params.length;\n        var flags = this._terminal.curAttr >> 18;\n        var fg = (this._terminal.curAttr >> 9) & 0x1ff;\n        var bg = this._terminal.curAttr & 0x1ff;\n        var p;\n        for (var i = 0; i < l; i++) {\n            p = params[i];\n            if (p >= 30 && p <= 37) {\n                fg = p - 30;\n            }\n            else if (p >= 40 && p <= 47) {\n                bg = p - 40;\n            }\n            else if (p >= 90 && p <= 97) {\n                p += 8;\n                fg = p - 90;\n            }\n            else if (p >= 100 && p <= 107) {\n                p += 8;\n                bg = p - 100;\n            }\n            else if (p === 0) {\n                flags = Buffer_1.DEFAULT_ATTR >> 18;\n                fg = (Buffer_1.DEFAULT_ATTR >> 9) & 0x1ff;\n                bg = Buffer_1.DEFAULT_ATTR & 0x1ff;\n            }\n            else if (p === 1) {\n                flags |= 1;\n            }\n            else if (p === 3) {\n                flags |= 64;\n            }\n            else if (p === 4) {\n                flags |= 2;\n            }\n            else if (p === 5) {\n                flags |= 4;\n            }\n            else if (p === 7) {\n                flags |= 8;\n            }\n            else if (p === 8) {\n                flags |= 16;\n            }\n            else if (p === 2) {\n                flags |= 32;\n            }\n            else if (p === 22) {\n                flags &= ~1;\n                flags &= ~32;\n            }\n            else if (p === 23) {\n                flags &= ~64;\n            }\n            else if (p === 24) {\n                flags &= ~2;\n            }\n            else if (p === 25) {\n                flags &= ~4;\n            }\n            else if (p === 27) {\n                flags &= ~8;\n            }\n            else if (p === 28) {\n                flags &= ~16;\n            }\n            else if (p === 39) {\n                fg = (Buffer_1.DEFAULT_ATTR >> 9) & 0x1ff;\n            }\n            else if (p === 49) {\n                bg = Buffer_1.DEFAULT_ATTR & 0x1ff;\n            }\n            else if (p === 38) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    fg = this._terminal.matchColor(params[i] & 0xff, params[i + 1] & 0xff, params[i + 2] & 0xff);\n                    if (fg === -1)\n                        fg = 0x1ff;\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    fg = p;\n                }\n            }\n            else if (p === 48) {\n                if (params[i + 1] === 2) {\n                    i += 2;\n                    bg = this._terminal.matchColor(params[i] & 0xff, params[i + 1] & 0xff, params[i + 2] & 0xff);\n                    if (bg === -1)\n                        bg = 0x1ff;\n                    i += 2;\n                }\n                else if (params[i + 1] === 5) {\n                    i += 2;\n                    p = params[i] & 0xff;\n                    bg = p;\n                }\n            }\n            else if (p === 100) {\n                fg = (Buffer_1.DEFAULT_ATTR >> 9) & 0x1ff;\n                bg = Buffer_1.DEFAULT_ATTR & 0x1ff;\n            }\n            else {\n                this._terminal.error('Unknown SGR attribute: %d.', p);\n            }\n        }\n        this._terminal.curAttr = (flags << 18) | (fg << 9) | bg;\n    };\n    InputHandler.prototype.deviceStatus = function (params, collect) {\n        if (!collect) {\n            switch (params[0]) {\n                case 5:\n                    this._terminal.emit('data', EscapeSequences_1.C0.ESC + \"[0n\");\n                    break;\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._terminal.emit('data', EscapeSequences_1.C0.ESC + \"[\" + y + \";\" + x + \"R\");\n                    break;\n            }\n        }\n        else if (collect === '?') {\n            switch (params[0]) {\n                case 6:\n                    var y = this._terminal.buffer.y + 1;\n                    var x = this._terminal.buffer.x + 1;\n                    this._terminal.emit('data', EscapeSequences_1.C0.ESC + \"[?\" + y + \";\" + x + \"R\");\n                    break;\n                case 15:\n                    break;\n                case 25:\n                    break;\n                case 26:\n                    break;\n                case 53:\n                    break;\n            }\n        }\n    };\n    InputHandler.prototype.softReset = function (params, collect) {\n        if (collect === '!') {\n            this._terminal.cursorHidden = false;\n            this._terminal.insertMode = false;\n            this._terminal.originMode = false;\n            this._terminal.wraparoundMode = true;\n            this._terminal.applicationKeypad = false;\n            if (this._terminal.viewport) {\n                this._terminal.viewport.syncScrollArea();\n            }\n            this._terminal.applicationCursor = false;\n            this._terminal.buffer.scrollTop = 0;\n            this._terminal.buffer.scrollBottom = this._terminal.rows - 1;\n            this._terminal.curAttr = Buffer_1.DEFAULT_ATTR;\n            this._terminal.buffer.x = this._terminal.buffer.y = 0;\n            this._terminal.charset = null;\n            this._terminal.glevel = 0;\n            this._terminal.charsets = [null];\n        }\n    };\n    InputHandler.prototype.setCursorStyle = function (params, collect) {\n        if (collect === ' ') {\n            var param = params[0] < 1 ? 1 : params[0];\n            switch (param) {\n                case 1:\n                case 2:\n                    this._terminal.setOption('cursorStyle', 'block');\n                    break;\n                case 3:\n                case 4:\n                    this._terminal.setOption('cursorStyle', 'underline');\n                    break;\n                case 5:\n                case 6:\n                    this._terminal.setOption('cursorStyle', 'bar');\n                    break;\n            }\n            var isBlinking = param % 2 === 1;\n            this._terminal.setOption('cursorBlink', isBlinking);\n        }\n    };\n    InputHandler.prototype.setScrollRegion = function (params, collect) {\n        if (collect)\n            return;\n        this._terminal.buffer.scrollTop = (params[0] || 1) - 1;\n        this._terminal.buffer.scrollBottom = (params[1] && params[1] <= this._terminal.rows ? params[1] : this._terminal.rows) - 1;\n        this._terminal.buffer.x = 0;\n        this._terminal.buffer.y = 0;\n    };\n    InputHandler.prototype.saveCursor = function (params) {\n        this._terminal.buffer.savedX = this._terminal.buffer.x;\n        this._terminal.buffer.savedY = this._terminal.buffer.y;\n        this._terminal.buffer.savedCurAttr = this._terminal.curAttr;\n    };\n    InputHandler.prototype.restoreCursor = function (params) {\n        this._terminal.buffer.x = this._terminal.buffer.savedX || 0;\n        this._terminal.buffer.y = this._terminal.buffer.savedY || 0;\n        this._terminal.curAttr = this._terminal.buffer.savedCurAttr || Buffer_1.DEFAULT_ATTR;\n    };\n    InputHandler.prototype.setTitle = function (data) {\n        this._terminal.handleTitle(data);\n    };\n    InputHandler.prototype.nextLine = function () {\n        this._terminal.buffer.x = 0;\n        this.index();\n    };\n    InputHandler.prototype.keypadApplicationMode = function () {\n        this._terminal.log('Serial port requested application keypad.');\n        this._terminal.applicationKeypad = true;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.keypadNumericMode = function () {\n        this._terminal.log('Switching back to normal keypad.');\n        this._terminal.applicationKeypad = false;\n        if (this._terminal.viewport) {\n            this._terminal.viewport.syncScrollArea();\n        }\n    };\n    InputHandler.prototype.selectDefaultCharset = function () {\n        this._terminal.setgLevel(0);\n        this._terminal.setgCharset(0, Charsets_1.DEFAULT_CHARSET);\n    };\n    InputHandler.prototype.selectCharset = function (collectAndFlag) {\n        if (collectAndFlag.length !== 2)\n            return this.selectDefaultCharset();\n        if (collectAndFlag[0] === '/')\n            return;\n        this._terminal.setgCharset(GLEVEL[collectAndFlag[0]], Charsets_1.CHARSETS[collectAndFlag[1]] || Charsets_1.DEFAULT_CHARSET);\n    };\n    InputHandler.prototype.index = function () {\n        this._terminal.index();\n    };\n    InputHandler.prototype.tabSet = function () {\n        this._terminal.tabSet();\n    };\n    InputHandler.prototype.reverseIndex = function () {\n        this._terminal.reverseIndex();\n    };\n    InputHandler.prototype.reset = function () {\n        this._parser.reset();\n        this._terminal.reset();\n    };\n    InputHandler.prototype.setgLevel = function (level) {\n        this._terminal.setgLevel(level);\n    };\n    return InputHandler;\n}(Lifecycle_1.Disposable));\nexports.InputHandler = InputHandler;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL0lucHV0SGFuZGxlci50cz9jNWJiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQU9BLCtDQUF1RDtBQUN2RCx5Q0FBaUU7QUFDakUsc0NBQTRKO0FBRTVKLDBDQUFzQztBQUN0QyxxREFBOEQ7QUFFOUQseUNBQWdEO0FBS2hELElBQU0sTUFBTSxHQUE0QixFQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFDLENBQUM7QUFZekY7SUFFRSx5QkFBb0IsU0FBYztRQUFkLGNBQVMsR0FBVCxTQUFTLENBQUs7SUFBSSxDQUFDO0lBQ3ZDLDhCQUFJLEdBQUosVUFBSyxPQUFlLEVBQUUsTUFBZ0IsRUFBRSxJQUFZO1FBQ2xELElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFDRCw2QkFBRyxHQUFILFVBQUksSUFBWSxFQUFFLEtBQWEsRUFBRSxHQUFXO1FBQzFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUNELGdDQUFNLEdBQU47UUFFRSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBSSxvQkFBRSxDQUFDLEdBQUcsWUFBTyxJQUFJLENBQUMsS0FBSyxHQUFHLG9CQUFFLENBQUMsR0FBRyxPQUFJLENBQUMsQ0FBQztJQUNsRSxDQUFDO0lBQ0gsc0JBQUM7QUFBRCxDQUFDO0FBUUQ7SUFHRSxpQkFBb0IsU0FBYztRQUFkLGNBQVMsR0FBVCxTQUFTLENBQUs7SUFBSSxDQUFDO0lBRXZDLHNCQUFJLEdBQUosVUFBSyxPQUFlLEVBQUUsTUFBZ0IsRUFBRSxJQUFZO1FBRWxELElB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QyxDQUFDO0lBT00sNEJBQUssR0FBWjtRQUNFLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBWU0sZ0NBQVMsR0FBaEIsVUFBaUIsS0FBYTtRQUM1QixJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBQ0gsbUJBQUM7QUFBRCxDQUFDLENBdjNEaUMsc0JBQVUsR0F1M0QzQztBQXYzRFksb0NBQVkiLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNCBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIENvcHlyaWdodCAoYykgMjAxMi0yMDEzLCBDaHJpc3RvcGhlciBKZWZmcmV5IChNSVQgTGljZW5zZSlcbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IElJbnB1dEhhbmRsZXIsIElEY3NIYW5kbGVyLCBJRXNjYXBlU2VxdWVuY2VQYXJzZXIsIElCdWZmZXIsIElJbnB1dEhhbmRsaW5nVGVybWluYWwgfSBmcm9tICcuL1R5cGVzJztcbmltcG9ydCB7IEMwLCBDMSB9IGZyb20gJy4vY29tbW9uL2RhdGEvRXNjYXBlU2VxdWVuY2VzJztcbmltcG9ydCB7IENIQVJTRVRTLCBERUZBVUxUX0NIQVJTRVQgfSBmcm9tICcuL2NvcmUvZGF0YS9DaGFyc2V0cyc7XG5pbXBvcnQgeyBDSEFSX0RBVEFfQ0hBUl9JTkRFWCwgQ0hBUl9EQVRBX1dJRFRIX0lOREVYLCBDSEFSX0RBVEFfQ09ERV9JTkRFWCwgREVGQVVMVF9BVFRSLCBOVUxMX0NFTExfQ0hBUiwgTlVMTF9DRUxMX1dJRFRILCBOVUxMX0NFTExfQ09ERSB9IGZyb20gJy4vQnVmZmVyJztcbmltcG9ydCB7IEZMQUdTIH0gZnJvbSAnLi9yZW5kZXJlci9UeXBlcyc7XG5pbXBvcnQgeyB3Y3dpZHRoIH0gZnJvbSAnLi9DaGFyV2lkdGgnO1xuaW1wb3J0IHsgRXNjYXBlU2VxdWVuY2VQYXJzZXIgfSBmcm9tICcuL0VzY2FwZVNlcXVlbmNlUGFyc2VyJztcbmltcG9ydCB7IElDaGFyc2V0IH0gZnJvbSAnLi9jb3JlL1R5cGVzJztcbmltcG9ydCB7IERpc3Bvc2FibGUgfSBmcm9tICcuL2NvbW1vbi9MaWZlY3ljbGUnO1xuXG4vKipcbiAqIE1hcCBjb2xsZWN0IHRvIGdsZXZlbC4gVXNlZCBpbiBgc2VsZWN0Q2hhcnNldGAuXG4gKi9cbmNvbnN0IEdMRVZFTDoge1trZXk6IHN0cmluZ106IG51bWJlcn0gPSB7JygnOiAwLCAnKSc6IDEsICcqJzogMiwgJysnOiAzLCAnLSc6IDEsICcuJzogMn07XG5cblxuLyoqXG4gKiBEQ1Mgc3VicGFyc2VyIGltcGxlbWVudGF0aW9uc1xuICovXG5cbiAvKipcbiAgKiBEQ1MgKyBxIFB0IFNUICh4dGVybSlcbiAgKiAgIFJlcXVlc3QgVGVybWluZm8gU3RyaW5nXG4gICogICBub3Qgc3VwcG9ydGVkXG4gICovXG5jbGFzcyBSZXF1ZXN0VGVybWluZm8gaW1wbGVtZW50cyBJRGNzSGFuZGxlciB7XG4gIHByaXZhdGUgX2RhdGE6IHN0cmluZztcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfdGVybWluYWw6IGFueSkgeyB9XG4gIGhvb2soY29sbGVjdDogc3RyaW5nLCBwYXJhbXM6IG51bWJlcltdLCBmbGFnOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9kYXRhID0gJyc7XG4gIH1cbiAgcHV0KGRhdGE6IHN0cmluZywgc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9kYXRhICs9IGRhdGEuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpO1xuICB9XG4gIHVuaG9vaygpOiB2b2lkIHtcbiAgICAvLyBpbnZhbGlkOiBEQ1MgMCArIHIgUHQgU1RcbiAgICB0aGlzLl90ZXJtaW5hbC5oYW5kbGVyKGAke0MwLkVTQ31QMCtyJHt0aGlzLl9kYXRhfSR7QzAuRVNDfVxcXFxgKTtcbiAgfVxufVxuXG4vKipcbiAqIERDUyAkIHEgUHQgU1RcbiAqICAgREVDUlFTUyAoaHR0cHM6Ly92dDEwMC5uZXQvZG9jcy92dDUxMC1ybS9ERUNSUVNTLmh0bWwpXG4gKiAgIFJlcXVlc3QgU3RhdHVzIFN0cmluZyAoREVDUlFTUyksIFZUNDIwIGFuZCB1cC5cbiAqICAgUmVzcG9uc2U6IERFQ1JQU1MgKGh0dHBzOi8vdnQxMDAubmV0L2RvY3MvdnQ1MTAtcm0vREVDUlBTUy5odG1sKVxuICovXG5jbGFzcyBERUNSUVNTIGltcGxlbWVudHMgSURjc0hhbmRsZXIge1xuICBwcml2YXRlIF9kYXRhOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfdGVybWluYWw6IGFueSkgeyB9XG5cbiAgaG9vayhjb2xsZWN0OiBzdHJpbmcsIHBhcmFtczogbnVtYmVyW10sIGZsYWc6IG51bWJlcik6IHZvaWQge1xuICAgIC8vIHJlc2V0IGRhdGFcbiAgICB0aGlzLl9kYXRhID0gJyc7XG4gIH1cblxuICBwdXQoZGF0YTogc3RyaW5nLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuX2RhdGEgKz0gZGF0YS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XG4gIH1cblxuICB1bmhvb2soKTogdm9pZCB7XG4gICAgc3dpdGNoICh0aGlzLl9kYXRhKSB7XG4gICAgICAvLyB2YWxpZDogRENTIDEgJCByIFB0IFNUICh4dGVybSlcbiAgICAgIGNhc2UgJ1wicSc6IC8vIERFQ1NDQVxuICAgICAgICByZXR1cm4gdGhpcy5fdGVybWluYWwuaGFuZGxlcihgJHtDMC5FU0N9UDEkcjBcInEke0MwLkVTQ31cXFxcYCk7XG4gICAgICBjYXNlICdcInAnOiAvLyBERUNTQ0xcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rlcm1pbmFsLmhhbmRsZXIoYCR7QzAuRVNDfVAxJHI2MVwicCR7QzAuRVNDfVxcXFxgKTtcbiAgICAgIGNhc2UgJ3InOiAvLyBERUNTVEJNXG4gICAgICAgIGNvbnN0IHB0ID0gJycgKyAodGhpcy5fdGVybWluYWwuYnVmZmVyLnNjcm9sbFRvcCArIDEpICtcbiAgICAgICAgICAgICAgICAnOycgKyAodGhpcy5fdGVybWluYWwuYnVmZmVyLnNjcm9sbEJvdHRvbSArIDEpICsgJ3InO1xuICAgICAgICByZXR1cm4gdGhpcy5fdGVybWluYWwuaGFuZGxlcihgJHtDMC5FU0N9UDEkciR7cHR9JHtDMC5FU0N9XFxcXGApO1xuICAgICAgY2FzZSAnbSc6IC8vIFNHUlxuICAgICAgICAvLyBUT0RPOiByZXBvcnQgcmVhbCBzZXR0aW5ncyBpbnN0ZWFkIG9mIDBtXG4gICAgICAgIHJldHVybiB0aGlzLl90ZXJtaW5hbC5oYW5kbGVyKGAke0MwLkVTQ31QMSRyMG0ke0MwLkVTQ31cXFxcYCk7XG4gICAgICBjYXNlICcgcSc6IC8vIERFQ1NDVVNSXG4gICAgICAgIGNvbnN0IFNUWUxFUzoge1trZXk6IHN0cmluZ106IG51bWJlcn0gPSB7J2Jsb2NrJzogMiwgJ3VuZGVybGluZSc6IDQsICdiYXInOiA2fTtcbiAgICAgICAgbGV0IHN0eWxlID0gU1RZTEVTW3RoaXMuX3Rlcm1pbmFsLmdldE9wdGlvbignY3Vyc29yU3R5bGUnKV07XG4gICAgICAgIHN0eWxlIC09IHRoaXMuX3Rlcm1pbmFsLmdldE9wdGlvbignY3Vyc29yQmxpbmsnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rlcm1pbmFsLmhhbmRsZXIoYCR7QzAuRVNDfVAxJHIke3N0eWxlfSBxJHtDMC5FU0N9XFxcXGApO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gaW52YWxpZDogRENTIDAgJCByIFB0IFNUICh4dGVybSlcbiAgICAgICAgdGhpcy5fdGVybWluYWwuZXJyb3IoJ1Vua25vd24gRENTICRxICVzJywgdGhpcy5fZGF0YSk7XG4gICAgICAgIHRoaXMuX3Rlcm1pbmFsLmhhbmRsZXIoYCR7QzAuRVNDfVAwJHIke3RoaXMuX2RhdGF9JHtDMC5FU0N9XFxcXGApO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIERDUyBQczsgUHN8IFB0IFNUXG4gKiAgIERFQ1VESyAoaHR0cHM6Ly92dDEwMC5uZXQvZG9jcy92dDUxMC1ybS9ERUNVREsuaHRtbClcbiAqICAgbm90IHN1cHBvcnRlZFxuICovXG5cbiAvKipcbiAgKiBEQ1MgKyBwIFB0IFNUICh4dGVybSlcbiAgKiAgIFNldCBUZXJtaW5mbyBEYXRhXG4gICogICBub3Qgc3VwcG9ydGVkXG4gICovXG5cblxuXG4vKipcbiAqIFRoZSB0ZXJtaW5hbCdzIHN0YW5kYXJkIGltcGxlbWVudGF0aW9uIG9mIElJbnB1dEhhbmRsZXIsIHRoaXMgaGFuZGxlcyBhbGxcbiAqIGlucHV0IGZyb20gdGhlIFBhcnNlci5cbiAqXG4gKiBSZWZlciB0byBodHRwOi8vaW52aXNpYmxlLWlzbGFuZC5uZXQveHRlcm0vY3Rsc2Vxcy9jdGxzZXFzLmh0bWwgdG8gdW5kZXJzdGFuZFxuICogZWFjaCBmdW5jdGlvbidzIGhlYWRlciBjb21tZW50LlxuICovXG5leHBvcnQgY2xhc3MgSW5wdXRIYW5kbGVyIGV4dGVuZHMgRGlzcG9zYWJsZSBpbXBsZW1lbnRzIElJbnB1dEhhbmRsZXIge1xuICBwcml2YXRlIF9zdXJyb2dhdGVGaXJzdDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgICAgcHJvdGVjdGVkIF90ZXJtaW5hbDogSUlucHV0SGFuZGxpbmdUZXJtaW5hbCxcbiAgICAgIHByaXZhdGUgX3BhcnNlcjogSUVzY2FwZVNlcXVlbmNlUGFyc2VyID0gbmV3IEVzY2FwZVNlcXVlbmNlUGFyc2VyKCkpXG4gIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5yZWdpc3Rlcih0aGlzLl9wYXJzZXIpO1xuXG4gICAgdGhpcy5fc3Vycm9nYXRlRmlyc3QgPSAnJztcblxuICAgIC8qKlxuICAgICAqIGN1c3RvbSBmYWxsYmFjayBoYW5kbGVyc1xuICAgICAqL1xuICAgIHRoaXMuX3BhcnNlci5zZXRDc2lIYW5kbGVyRmFsbGJhY2soKGNvbGxlY3Q6IHN0cmluZywgcGFyYW1zOiBudW1iZXJbXSwgZmxhZzogbnVtYmVyKSA9PiB7XG4gICAgICB0aGlzLl90ZXJtaW5hbC5lcnJvcignVW5rbm93biBDU0kgY29kZTogJywgeyBjb2xsZWN0LCBwYXJhbXMsIGZsYWc6IFN0cmluZy5mcm9tQ2hhckNvZGUoZmxhZykgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldEVzY0hhbmRsZXJGYWxsYmFjaygoY29sbGVjdDogc3RyaW5nLCBmbGFnOiBudW1iZXIpID0+IHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmVycm9yKCdVbmtub3duIEVTQyBjb2RlOiAnLCB7IGNvbGxlY3QsIGZsYWc6IFN0cmluZy5mcm9tQ2hhckNvZGUoZmxhZykgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldEV4ZWN1dGVIYW5kbGVyRmFsbGJhY2soKGNvZGU6IG51bWJlcikgPT4ge1xuICAgICAgdGhpcy5fdGVybWluYWwuZXJyb3IoJ1Vua25vd24gRVhFQ1VURSBjb2RlOiAnLCB7IGNvZGUgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldE9zY0hhbmRsZXJGYWxsYmFjaygoaWRlbnRpZmllcjogbnVtYmVyLCBkYXRhOiBzdHJpbmcpID0+IHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmVycm9yKCdVbmtub3duIE9TQyBjb2RlOiAnLCB7IGlkZW50aWZpZXIsIGRhdGEgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBwcmludCBoYW5kbGVyXG4gICAgICovXG4gICAgdGhpcy5fcGFyc2VyLnNldFByaW50SGFuZGxlcigoZGF0YSwgc3RhcnQsIGVuZCk6IHZvaWQgPT4gdGhpcy5wcmludChkYXRhLCBzdGFydCwgZW5kKSk7XG5cbiAgICAvKipcbiAgICAgKiBDU0kgaGFuZGxlclxuICAgICAqL1xuICAgIHRoaXMuX3BhcnNlci5zZXRDc2lIYW5kbGVyKCdAJywgKHBhcmFtcywgY29sbGVjdCkgPT4gdGhpcy5pbnNlcnRDaGFycyhwYXJhbXMpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcignQScsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMuY3Vyc29yVXAocGFyYW1zKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldENzaUhhbmRsZXIoJ0InLCAocGFyYW1zLCBjb2xsZWN0KSA9PiB0aGlzLmN1cnNvckRvd24ocGFyYW1zKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldENzaUhhbmRsZXIoJ0MnLCAocGFyYW1zLCBjb2xsZWN0KSA9PiB0aGlzLmN1cnNvckZvcndhcmQocGFyYW1zKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldENzaUhhbmRsZXIoJ0QnLCAocGFyYW1zLCBjb2xsZWN0KSA9PiB0aGlzLmN1cnNvckJhY2t3YXJkKHBhcmFtcykpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRDc2lIYW5kbGVyKCdFJywgKHBhcmFtcywgY29sbGVjdCkgPT4gdGhpcy5jdXJzb3JOZXh0TGluZShwYXJhbXMpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcignRicsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMuY3Vyc29yUHJlY2VkaW5nTGluZShwYXJhbXMpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcignRycsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMuY3Vyc29yQ2hhckFic29sdXRlKHBhcmFtcykpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRDc2lIYW5kbGVyKCdIJywgKHBhcmFtcywgY29sbGVjdCkgPT4gdGhpcy5jdXJzb3JQb3NpdGlvbihwYXJhbXMpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcignSScsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMuY3Vyc29yRm9yd2FyZFRhYihwYXJhbXMpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcignSicsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMuZXJhc2VJbkRpc3BsYXkocGFyYW1zKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldENzaUhhbmRsZXIoJ0snLCAocGFyYW1zLCBjb2xsZWN0KSA9PiB0aGlzLmVyYXNlSW5MaW5lKHBhcmFtcykpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRDc2lIYW5kbGVyKCdMJywgKHBhcmFtcywgY29sbGVjdCkgPT4gdGhpcy5pbnNlcnRMaW5lcyhwYXJhbXMpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcignTScsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMuZGVsZXRlTGluZXMocGFyYW1zKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldENzaUhhbmRsZXIoJ1AnLCAocGFyYW1zLCBjb2xsZWN0KSA9PiB0aGlzLmRlbGV0ZUNoYXJzKHBhcmFtcykpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRDc2lIYW5kbGVyKCdTJywgKHBhcmFtcywgY29sbGVjdCkgPT4gdGhpcy5zY3JvbGxVcChwYXJhbXMpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcignVCcsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMuc2Nyb2xsRG93bihwYXJhbXMsIGNvbGxlY3QpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcignWCcsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMuZXJhc2VDaGFycyhwYXJhbXMpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcignWicsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMuY3Vyc29yQmFja3dhcmRUYWIocGFyYW1zKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldENzaUhhbmRsZXIoJ2AnLCAocGFyYW1zLCBjb2xsZWN0KSA9PiB0aGlzLmNoYXJQb3NBYnNvbHV0ZShwYXJhbXMpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcignYScsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMuaFBvc2l0aW9uUmVsYXRpdmUocGFyYW1zKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldENzaUhhbmRsZXIoJ2InLCAocGFyYW1zLCBjb2xsZWN0KSA9PiB0aGlzLnJlcGVhdFByZWNlZGluZ0NoYXJhY3RlcihwYXJhbXMpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcignYycsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMuc2VuZERldmljZUF0dHJpYnV0ZXMocGFyYW1zLCBjb2xsZWN0KSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldENzaUhhbmRsZXIoJ2QnLCAocGFyYW1zLCBjb2xsZWN0KSA9PiB0aGlzLmxpbmVQb3NBYnNvbHV0ZShwYXJhbXMpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcignZScsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMudlBvc2l0aW9uUmVsYXRpdmUocGFyYW1zKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldENzaUhhbmRsZXIoJ2YnLCAocGFyYW1zLCBjb2xsZWN0KSA9PiB0aGlzLmhWUG9zaXRpb24ocGFyYW1zKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldENzaUhhbmRsZXIoJ2cnLCAocGFyYW1zLCBjb2xsZWN0KSA9PiB0aGlzLnRhYkNsZWFyKHBhcmFtcykpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRDc2lIYW5kbGVyKCdoJywgKHBhcmFtcywgY29sbGVjdCkgPT4gdGhpcy5zZXRNb2RlKHBhcmFtcywgY29sbGVjdCkpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRDc2lIYW5kbGVyKCdsJywgKHBhcmFtcywgY29sbGVjdCkgPT4gdGhpcy5yZXNldE1vZGUocGFyYW1zLCBjb2xsZWN0KSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldENzaUhhbmRsZXIoJ20nLCAocGFyYW1zLCBjb2xsZWN0KSA9PiB0aGlzLmNoYXJBdHRyaWJ1dGVzKHBhcmFtcykpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRDc2lIYW5kbGVyKCduJywgKHBhcmFtcywgY29sbGVjdCkgPT4gdGhpcy5kZXZpY2VTdGF0dXMocGFyYW1zLCBjb2xsZWN0KSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldENzaUhhbmRsZXIoJ3AnLCAocGFyYW1zLCBjb2xsZWN0KSA9PiB0aGlzLnNvZnRSZXNldChwYXJhbXMsIGNvbGxlY3QpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcigncScsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMuc2V0Q3Vyc29yU3R5bGUocGFyYW1zLCBjb2xsZWN0KSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldENzaUhhbmRsZXIoJ3InLCAocGFyYW1zLCBjb2xsZWN0KSA9PiB0aGlzLnNldFNjcm9sbFJlZ2lvbihwYXJhbXMsIGNvbGxlY3QpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcigncycsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMuc2F2ZUN1cnNvcihwYXJhbXMpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0Q3NpSGFuZGxlcigndScsIChwYXJhbXMsIGNvbGxlY3QpID0+IHRoaXMucmVzdG9yZUN1cnNvcihwYXJhbXMpKTtcblxuICAgIC8qKlxuICAgICAqIGV4ZWN1dGUgaGFuZGxlclxuICAgICAqL1xuICAgIHRoaXMuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihDMC5CRUwsICgpID0+IHRoaXMuYmVsbCgpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0RXhlY3V0ZUhhbmRsZXIoQzAuTEYsICgpID0+IHRoaXMubGluZUZlZWQoKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldEV4ZWN1dGVIYW5kbGVyKEMwLlZULCAoKSA9PiB0aGlzLmxpbmVGZWVkKCkpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihDMC5GRiwgKCkgPT4gdGhpcy5saW5lRmVlZCgpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0RXhlY3V0ZUhhbmRsZXIoQzAuQ1IsICgpID0+IHRoaXMuY2FycmlhZ2VSZXR1cm4oKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldEV4ZWN1dGVIYW5kbGVyKEMwLkJTLCAoKSA9PiB0aGlzLmJhY2tzcGFjZSgpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0RXhlY3V0ZUhhbmRsZXIoQzAuSFQsICgpID0+IHRoaXMudGFiKCkpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihDMC5TTywgKCkgPT4gdGhpcy5zaGlmdE91dCgpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0RXhlY3V0ZUhhbmRsZXIoQzAuU0ksICgpID0+IHRoaXMuc2hpZnRJbigpKTtcbiAgICAvLyBGSVhNRTogICBXaGF0IGRvIHRvIHdpdGggbWlzc2luZz8gT2xkIGNvZGUganVzdCBhZGRlZCB0aG9zZSB0byBwcmludC5cblxuICAgIC8vIHNvbWUgQzEgY29udHJvbCBjb2RlcyAtIEZJWE1FOiBzaG91bGQgdGhvc2UgYmUgZW5hYmxlZCBieSBkZWZhdWx0P1xuICAgIHRoaXMuX3BhcnNlci5zZXRFeGVjdXRlSGFuZGxlcihDMS5JTkQsICgpID0+IHRoaXMuaW5kZXgoKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldEV4ZWN1dGVIYW5kbGVyKEMxLk5FTCwgKCkgPT4gdGhpcy5uZXh0TGluZSgpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0RXhlY3V0ZUhhbmRsZXIoQzEuSFRTLCAoKSA9PiB0aGlzLnRhYlNldCgpKTtcblxuICAgIC8qKlxuICAgICAqIE9TQyBoYW5kbGVyXG4gICAgICovXG4gICAgLy8gICAwIC0gaWNvbiBuYW1lICsgdGl0bGVcbiAgICB0aGlzLl9wYXJzZXIuc2V0T3NjSGFuZGxlcigwLCAoZGF0YSkgPT4gdGhpcy5zZXRUaXRsZShkYXRhKSk7XG4gICAgLy8gICAxIC0gaWNvbiBuYW1lXG4gICAgLy8gICAyIC0gdGl0bGVcbiAgICB0aGlzLl9wYXJzZXIuc2V0T3NjSGFuZGxlcigyLCAoZGF0YSkgPT4gdGhpcy5zZXRUaXRsZShkYXRhKSk7XG4gICAgLy8gICAzIC0gc2V0IHByb3BlcnR5IFggaW4gdGhlIGZvcm0gXCJwcm9wPXZhbHVlXCJcbiAgICAvLyAgIDQgLSBDaGFuZ2UgQ29sb3IgTnVtYmVyXG4gICAgLy8gICA1IC0gQ2hhbmdlIFNwZWNpYWwgQ29sb3IgTnVtYmVyXG4gICAgLy8gICA2IC0gRW5hYmxlL2Rpc2FibGUgU3BlY2lhbCBDb2xvciBOdW1iZXIgY1xuICAgIC8vICAgNyAtIGN1cnJlbnQgZGlyZWN0b3J5PyAobm90IGluIHh0ZXJtIHNwZWMsIHNlZSBodHRwczovL2dpdGxhYi5jb20vZ25hY2htYW4vaXRlcm0yL2lzc3Vlcy8zOTM5KVxuICAgIC8vICAxMCAtIENoYW5nZSBWVDEwMCB0ZXh0IGZvcmVncm91bmQgY29sb3IgdG8gUHQuXG4gICAgLy8gIDExIC0gQ2hhbmdlIFZUMTAwIHRleHQgYmFja2dyb3VuZCBjb2xvciB0byBQdC5cbiAgICAvLyAgMTIgLSBDaGFuZ2UgdGV4dCBjdXJzb3IgY29sb3IgdG8gUHQuXG4gICAgLy8gIDEzIC0gQ2hhbmdlIG1vdXNlIGZvcmVncm91bmQgY29sb3IgdG8gUHQuXG4gICAgLy8gIDE0IC0gQ2hhbmdlIG1vdXNlIGJhY2tncm91bmQgY29sb3IgdG8gUHQuXG4gICAgLy8gIDE1IC0gQ2hhbmdlIFRla3Ryb25peCBmb3JlZ3JvdW5kIGNvbG9yIHRvIFB0LlxuICAgIC8vICAxNiAtIENoYW5nZSBUZWt0cm9uaXggYmFja2dyb3VuZCBjb2xvciB0byBQdC5cbiAgICAvLyAgMTcgLSBDaGFuZ2UgaGlnaGxpZ2h0IGJhY2tncm91bmQgY29sb3IgdG8gUHQuXG4gICAgLy8gIDE4IC0gQ2hhbmdlIFRla3Ryb25peCBjdXJzb3IgY29sb3IgdG8gUHQuXG4gICAgLy8gIDE5IC0gQ2hhbmdlIGhpZ2hsaWdodCBmb3JlZ3JvdW5kIGNvbG9yIHRvIFB0LlxuICAgIC8vICA0NiAtIENoYW5nZSBMb2cgRmlsZSB0byBQdC5cbiAgICAvLyAgNTAgLSBTZXQgRm9udCB0byBQdC5cbiAgICAvLyAgNTEgLSByZXNlcnZlZCBmb3IgRW1hY3Mgc2hlbGwuXG4gICAgLy8gIDUyIC0gTWFuaXB1bGF0ZSBTZWxlY3Rpb24gRGF0YS5cbiAgICAvLyAxMDQgOyBjIC0gUmVzZXQgQ29sb3IgTnVtYmVyIGMuXG4gICAgLy8gMTA1IDsgYyAtIFJlc2V0IFNwZWNpYWwgQ29sb3IgTnVtYmVyIGMuXG4gICAgLy8gMTA2IDsgYzsgZiAtIEVuYWJsZS9kaXNhYmxlIFNwZWNpYWwgQ29sb3IgTnVtYmVyIGMuXG4gICAgLy8gMTEwIC0gUmVzZXQgVlQxMDAgdGV4dCBmb3JlZ3JvdW5kIGNvbG9yLlxuICAgIC8vIDExMSAtIFJlc2V0IFZUMTAwIHRleHQgYmFja2dyb3VuZCBjb2xvci5cbiAgICAvLyAxMTIgLSBSZXNldCB0ZXh0IGN1cnNvciBjb2xvci5cbiAgICAvLyAxMTMgLSBSZXNldCBtb3VzZSBmb3JlZ3JvdW5kIGNvbG9yLlxuICAgIC8vIDExNCAtIFJlc2V0IG1vdXNlIGJhY2tncm91bmQgY29sb3IuXG4gICAgLy8gMTE1IC0gUmVzZXQgVGVrdHJvbml4IGZvcmVncm91bmQgY29sb3IuXG4gICAgLy8gMTE2IC0gUmVzZXQgVGVrdHJvbml4IGJhY2tncm91bmQgY29sb3IuXG4gICAgLy8gMTE3IC0gUmVzZXQgaGlnaGxpZ2h0IGNvbG9yLlxuICAgIC8vIDExOCAtIFJlc2V0IFRla3Ryb25peCBjdXJzb3IgY29sb3IuXG4gICAgLy8gMTE5IC0gUmVzZXQgaGlnaGxpZ2h0IGZvcmVncm91bmQgY29sb3IuXG5cbiAgICAvKipcbiAgICAgKiBFU0MgaGFuZGxlcnNcbiAgICAgKi9cbiAgICB0aGlzLl9wYXJzZXIuc2V0RXNjSGFuZGxlcignNycsICgpID0+IHRoaXMuc2F2ZUN1cnNvcihbXSkpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRFc2NIYW5kbGVyKCc4JywgKCkgPT4gdGhpcy5yZXN0b3JlQ3Vyc29yKFtdKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldEVzY0hhbmRsZXIoJ0QnLCAoKSA9PiB0aGlzLmluZGV4KCkpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRFc2NIYW5kbGVyKCdFJywgKCkgPT4gdGhpcy5uZXh0TGluZSgpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0RXNjSGFuZGxlcignSCcsICgpID0+IHRoaXMudGFiU2V0KCkpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRFc2NIYW5kbGVyKCdNJywgKCkgPT4gdGhpcy5yZXZlcnNlSW5kZXgoKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldEVzY0hhbmRsZXIoJz0nLCAoKSA9PiB0aGlzLmtleXBhZEFwcGxpY2F0aW9uTW9kZSgpKTtcbiAgICB0aGlzLl9wYXJzZXIuc2V0RXNjSGFuZGxlcignPicsICgpID0+IHRoaXMua2V5cGFkTnVtZXJpY01vZGUoKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldEVzY0hhbmRsZXIoJ2MnLCAoKSA9PiB0aGlzLnJlc2V0KCkpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRFc2NIYW5kbGVyKCduJywgKCkgPT4gdGhpcy5zZXRnTGV2ZWwoMikpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRFc2NIYW5kbGVyKCdvJywgKCkgPT4gdGhpcy5zZXRnTGV2ZWwoMykpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRFc2NIYW5kbGVyKCd8JywgKCkgPT4gdGhpcy5zZXRnTGV2ZWwoMykpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRFc2NIYW5kbGVyKCd9JywgKCkgPT4gdGhpcy5zZXRnTGV2ZWwoMikpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRFc2NIYW5kbGVyKCd+JywgKCkgPT4gdGhpcy5zZXRnTGV2ZWwoMSkpO1xuICAgIHRoaXMuX3BhcnNlci5zZXRFc2NIYW5kbGVyKCclQCcsICgpID0+IHRoaXMuc2VsZWN0RGVmYXVsdENoYXJzZXQoKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldEVzY0hhbmRsZXIoJyVHJywgKCkgPT4gdGhpcy5zZWxlY3REZWZhdWx0Q2hhcnNldCgpKTtcbiAgICBmb3IgKGNvbnN0IGZsYWcgaW4gQ0hBUlNFVFMpIHtcbiAgICAgIHRoaXMuX3BhcnNlci5zZXRFc2NIYW5kbGVyKCcoJyArIGZsYWcsICgpID0+IHRoaXMuc2VsZWN0Q2hhcnNldCgnKCcgKyBmbGFnKSk7XG4gICAgICB0aGlzLl9wYXJzZXIuc2V0RXNjSGFuZGxlcignKScgKyBmbGFnLCAoKSA9PiB0aGlzLnNlbGVjdENoYXJzZXQoJyknICsgZmxhZykpO1xuICAgICAgdGhpcy5fcGFyc2VyLnNldEVzY0hhbmRsZXIoJyonICsgZmxhZywgKCkgPT4gdGhpcy5zZWxlY3RDaGFyc2V0KCcqJyArIGZsYWcpKTtcbiAgICAgIHRoaXMuX3BhcnNlci5zZXRFc2NIYW5kbGVyKCcrJyArIGZsYWcsICgpID0+IHRoaXMuc2VsZWN0Q2hhcnNldCgnKycgKyBmbGFnKSk7XG4gICAgICB0aGlzLl9wYXJzZXIuc2V0RXNjSGFuZGxlcignLScgKyBmbGFnLCAoKSA9PiB0aGlzLnNlbGVjdENoYXJzZXQoJy0nICsgZmxhZykpO1xuICAgICAgdGhpcy5fcGFyc2VyLnNldEVzY0hhbmRsZXIoJy4nICsgZmxhZywgKCkgPT4gdGhpcy5zZWxlY3RDaGFyc2V0KCcuJyArIGZsYWcpKTtcbiAgICAgIHRoaXMuX3BhcnNlci5zZXRFc2NIYW5kbGVyKCcvJyArIGZsYWcsICgpID0+IHRoaXMuc2VsZWN0Q2hhcnNldCgnLycgKyBmbGFnKSk7IC8vIFRPRE86IHN1cHBvcnRlZD9cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBlcnJvciBoYW5kbGVyXG4gICAgICovXG4gICAgdGhpcy5fcGFyc2VyLnNldEVycm9ySGFuZGxlcigoc3RhdGUpID0+IHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmVycm9yKCdQYXJzaW5nIGVycm9yOiAnLCBzdGF0ZSk7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBEQ1MgaGFuZGxlclxuICAgICAqL1xuICAgIHRoaXMuX3BhcnNlci5zZXREY3NIYW5kbGVyKCckcScsIG5ldyBERUNSUVNTKHRoaXMuX3Rlcm1pbmFsKSk7XG4gICAgdGhpcy5fcGFyc2VyLnNldERjc0hhbmRsZXIoJytxJywgbmV3IFJlcXVlc3RUZXJtaW5mbyh0aGlzLl90ZXJtaW5hbCkpO1xuICB9XG5cbiAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIHRoaXMuX3Rlcm1pbmFsID0gbnVsbDtcbiAgfVxuXG4gIHB1YmxpYyBwYXJzZShkYXRhOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAvLyBFbnN1cmUgdGhlIHRlcm1pbmFsIGlzIG5vdCBkaXNwb3NlZFxuICAgIGlmICghdGhpcy5fdGVybWluYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgYnVmZmVyID0gdGhpcy5fdGVybWluYWwuYnVmZmVyO1xuICAgIGNvbnN0IGN1cnNvclN0YXJ0WCA9IGJ1ZmZlci54O1xuICAgIGNvbnN0IGN1cnNvclN0YXJ0WSA9IGJ1ZmZlci55O1xuXG4gICAgLy8gVE9ETzogQ29uc29saWRhdGUgZGVidWcvbG9nZ2luZyAjMTU2MFxuICAgIGlmICgoPGFueT50aGlzLl90ZXJtaW5hbCkuZGVidWcpIHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmxvZygnZGF0YTogJyArIGRhdGEpO1xuICAgIH1cblxuICAgIC8vIGFwcGx5IGxlZnRvdmVyIHN1cnJvZ2F0ZSBoaWdoIGZyb20gbGFzdCB3cml0ZVxuICAgIGlmICh0aGlzLl9zdXJyb2dhdGVGaXJzdCkge1xuICAgICAgZGF0YSA9IHRoaXMuX3N1cnJvZ2F0ZUZpcnN0ICsgZGF0YTtcbiAgICAgIHRoaXMuX3N1cnJvZ2F0ZUZpcnN0ID0gJyc7XG4gICAgfVxuXG4gICAgdGhpcy5fcGFyc2VyLnBhcnNlKGRhdGEpO1xuXG4gICAgYnVmZmVyID0gdGhpcy5fdGVybWluYWwuYnVmZmVyO1xuICAgIGlmIChidWZmZXIueCAhPT0gY3Vyc29yU3RhcnRYIHx8IGJ1ZmZlci55ICE9PSBjdXJzb3JTdGFydFkpIHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmVtaXQoJ2N1cnNvcm1vdmUnKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcHJpbnQoZGF0YTogc3RyaW5nLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcik6IHZvaWQge1xuICAgIGxldCBjaGFyOiBzdHJpbmc7XG4gICAgbGV0IGNvZGU6IG51bWJlcjtcbiAgICBsZXQgY2hXaWR0aDogbnVtYmVyO1xuICAgIGNvbnN0IGJ1ZmZlcjogSUJ1ZmZlciA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlcjtcbiAgICBjb25zdCBjaGFyc2V0OiBJQ2hhcnNldCA9IHRoaXMuX3Rlcm1pbmFsLmNoYXJzZXQ7XG4gICAgY29uc3Qgc2NyZWVuUmVhZGVyTW9kZTogYm9vbGVhbiA9IHRoaXMuX3Rlcm1pbmFsLm9wdGlvbnMuc2NyZWVuUmVhZGVyTW9kZTtcbiAgICBjb25zdCBjb2xzOiBudW1iZXIgPSB0aGlzLl90ZXJtaW5hbC5jb2xzO1xuICAgIGNvbnN0IHdyYXBhcm91bmRNb2RlOiBib29sZWFuID0gdGhpcy5fdGVybWluYWwud3JhcGFyb3VuZE1vZGU7XG4gICAgY29uc3QgaW5zZXJ0TW9kZTogYm9vbGVhbiA9IHRoaXMuX3Rlcm1pbmFsLmluc2VydE1vZGU7XG4gICAgY29uc3QgY3VyQXR0cjogbnVtYmVyID0gdGhpcy5fdGVybWluYWwuY3VyQXR0cjtcbiAgICBsZXQgYnVmZmVyUm93ID0gYnVmZmVyLmxpbmVzLmdldChidWZmZXIueSArIGJ1ZmZlci55YmFzZSk7XG5cbiAgICB0aGlzLl90ZXJtaW5hbC51cGRhdGVSYW5nZShidWZmZXIueSk7XG4gICAgZm9yIChsZXQgc3RyaW5nUG9zaXRpb24gPSBzdGFydDsgc3RyaW5nUG9zaXRpb24gPCBlbmQ7ICsrc3RyaW5nUG9zaXRpb24pIHtcbiAgICAgIGNoYXIgPSBkYXRhLmNoYXJBdChzdHJpbmdQb3NpdGlvbik7XG4gICAgICBjb2RlID0gZGF0YS5jaGFyQ29kZUF0KHN0cmluZ1Bvc2l0aW9uKTtcblxuICAgICAgLy8gc3Vycm9nYXRlIHBhaXIgaGFuZGxpbmdcbiAgICAgIGlmICgweEQ4MDAgPD0gY29kZSAmJiBjb2RlIDw9IDB4REJGRikge1xuICAgICAgICBpZiAoKytzdHJpbmdQb3NpdGlvbiA+PSBlbmQpIHtcbiAgICAgICAgICAvLyBlbmQgb2YgaW5wdXQ6XG4gICAgICAgICAgLy8gaGFuZGxlIHBhaXJzIGFzIHRydWUgVVRGLTE2IGFuZCB3YWl0IGZvciB0aGUgc2Vjb25kIHBhcnRcbiAgICAgICAgICAvLyBzaW5jZSB3ZSBleHBlY3QgdGhlIGlucHV0IGNvbW1pbmcgZnJvbSBhIHN0cmVhbSB0aGVyZSBpc1xuICAgICAgICAgIC8vIGEgc21hbGwgY2hhbmNlIHRoYXQgdGhlIHN1cnJvZ2F0ZSBwYWlyIGdvdCBzcGxpdFxuICAgICAgICAgIC8vIHRoZXJlZm9yZSB3ZSBkb250IHByb2Nlc3MgdGhlIGZpcnN0IGNoYXIgaGVyZSwgaW5zdGVhZFxuICAgICAgICAgIC8vIGl0IGdldHMgYWRkZWQgYXMgZmlyc3QgY2hhciB0byB0aGUgbmV4dCBwcm9jZXNzZWQgY2h1bmtcbiAgICAgICAgICB0aGlzLl9zdXJyb2dhdGVGaXJzdCA9IGNoYXI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2Vjb25kID0gZGF0YS5jaGFyQ29kZUF0KHN0cmluZ1Bvc2l0aW9uKTtcbiAgICAgICAgLy8gaWYgdGhlIHNlY29uZCBwYXJ0IGlzIGluIHN1cnJvZ2F0ZSBwYWlyIHJhbmdlIGNyZWF0ZSB0aGUgaGlnaCBjb2RlcG9pbnRcbiAgICAgICAgLy8gb3RoZXJ3aXNlIGZhbGwgYmFjayB0byBVQ1MtMiBiZWhhdmlvciAoaGFuZGxlIGNvZGVwb2ludHMgaW5kZXBlbmRlbnRseSlcbiAgICAgICAgaWYgKDB4REMwMCA8PSBzZWNvbmQgJiYgc2Vjb25kIDw9IDB4REZGRikge1xuICAgICAgICAgIGNvZGUgPSAoY29kZSAtIDB4RDgwMCkgKiAweDQwMCArIHNlY29uZCAtIDB4REMwMCArIDB4MTAwMDA7XG4gICAgICAgICAgY2hhciArPSBkYXRhLmNoYXJBdChzdHJpbmdQb3NpdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyaW5nUG9zaXRpb24tLTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjYWxjdWxhdGUgcHJpbnQgc3BhY2VcbiAgICAgIC8vIGV4cGVuc2l2ZSBjYWxsLCB0aGVyZWZvcmUgd2Ugc2F2ZSB3aWR0aCBpbiBsaW5lIGJ1ZmZlclxuICAgICAgY2hXaWR0aCA9IHdjd2lkdGgoY29kZSk7XG5cbiAgICAgIC8vIGdldCBjaGFyc2V0IHJlcGxhY2VtZW50IGNoYXJhY3RlclxuICAgICAgaWYgKGNoYXJzZXQpIHtcbiAgICAgICAgY2hhciA9IGNoYXJzZXRbY2hhcl0gfHwgY2hhcjtcbiAgICAgICAgY29kZSA9IGNoYXIuY2hhckNvZGVBdCgwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNjcmVlblJlYWRlck1vZGUpIHtcbiAgICAgICAgdGhpcy5fdGVybWluYWwuZW1pdCgnYTExeS5jaGFyJywgY2hhcik7XG4gICAgICB9XG5cbiAgICAgIC8vIGluc2VydCBjb21iaW5pbmcgY2hhciBhdCBsYXN0IGN1cnNvciBwb3NpdGlvblxuICAgICAgLy8gRklYTUU6IG5lZWRzIGhhbmRsaW5nIGFmdGVyIGN1cnNvciBqdW1wc1xuICAgICAgLy8gYnVmZmVyLnggc2hvdWxkIG5ldmVyIGJlIDAgZm9yIGEgY29tYmluaW5nIGNoYXJcbiAgICAgIC8vIHNpbmNlIHRoZXkgYWx3YXlzIGZvbGxvdyBhIGNlbGwgY29uc3VtaW5nIGNoYXJcbiAgICAgIC8vIHRoZXJlZm9yZSB3ZSBjYW4gdGVzdCBmb3IgYnVmZmVyLnggdG8gYXZvaWQgb3ZlcmZsb3cgbGVmdFxuICAgICAgaWYgKCFjaFdpZHRoICYmIGJ1ZmZlci54KSB7XG4gICAgICAgIGNvbnN0IGNoTWludXNPbmUgPSBidWZmZXJSb3cuZ2V0KGJ1ZmZlci54IC0gMSk7XG4gICAgICAgIGlmIChjaE1pbnVzT25lKSB7XG4gICAgICAgICAgaWYgKCFjaE1pbnVzT25lW0NIQVJfREFUQV9XSURUSF9JTkRFWF0pIHtcbiAgICAgICAgICAgIC8vIGZvdW5kIGVtcHR5IGNlbGwgYWZ0ZXIgZnVsbHdpZHRoLCBuZWVkIHRvIGdvIDIgY2VsbHMgYmFja1xuICAgICAgICAgICAgLy8gaXQgaXMgc2F2ZSB0byBzdGVwIDIgY2VsbHMgYmFjayBoZXJlXG4gICAgICAgICAgICAvLyBzaW5jZSBhbiBlbXB0eSBjZWxsIGlzIG9ubHkgc2V0IGJ5IGZ1bGx3aWR0aCBjaGFyc1xuICAgICAgICAgICAgY29uc3QgY2hNaW51c1R3byA9IGJ1ZmZlclJvdy5nZXQoYnVmZmVyLnggLSAyKTtcbiAgICAgICAgICAgIGlmIChjaE1pbnVzVHdvKSB7XG4gICAgICAgICAgICAgIGNoTWludXNUd29bQ0hBUl9EQVRBX0NIQVJfSU5ERVhdICs9IGNoYXI7XG4gICAgICAgICAgICAgIGNoTWludXNUd29bQ0hBUl9EQVRBX0NPREVfSU5ERVhdID0gY29kZTtcbiAgICAgICAgICAgICAgYnVmZmVyUm93LnNldChidWZmZXIueCAtIDIsIGNoTWludXNUd28pOyAvLyBtdXN0IGJlIHNldCBleHBsaWNpdGx5IG5vd1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaE1pbnVzT25lW0NIQVJfREFUQV9DSEFSX0lOREVYXSArPSBjaGFyO1xuICAgICAgICAgICAgY2hNaW51c09uZVtDSEFSX0RBVEFfQ09ERV9JTkRFWF0gPSBjb2RlO1xuICAgICAgICAgICAgYnVmZmVyUm93LnNldChidWZmZXIueCAtIDEsIGNoTWludXNPbmUpOyAvLyBtdXN0IGJlIHNldCBleHBsaWNpdGx5IG5vd1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gZ290byBuZXh0IGxpbmUgaWYgY2ggd291bGQgb3ZlcmZsb3dcbiAgICAgIC8vIFRPRE86IG5lZWRzIGEgZ2xvYmFsIG1pbiB0ZXJtaW5hbCB3aWR0aCBvZiAyXG4gICAgICAvLyBGSVhNRTogYWRkaXRpb25hbGx5IGVuc3VyZSBjaFdpZHRoIGZpdHMgaW50byBhIGxpbmVcbiAgICAgIC8vICAgLS0+ICBtYXliZSBmb3JiaWQgY29sczx4eSBhdCBoaWdoZXIgbGV2ZWwgYXMgaXQgd291bGRcbiAgICAgIC8vICAgICAgICBpbnRyb2R1Y2UgYSBiYWQgcnVudGltZSBwZW5hbHR5IGhlcmVcbiAgICAgIGlmIChidWZmZXIueCArIGNoV2lkdGggLSAxID49IGNvbHMpIHtcbiAgICAgICAgLy8gYXV0b3dyYXAgLSBERUNBV01cbiAgICAgICAgLy8gYXV0b21hdGljYWxseSB3cmFwcyB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBuZXh0IGxpbmVcbiAgICAgICAgaWYgKHdyYXBhcm91bmRNb2RlKSB7XG4gICAgICAgICAgYnVmZmVyLnggPSAwO1xuICAgICAgICAgIGJ1ZmZlci55Kys7XG4gICAgICAgICAgaWYgKGJ1ZmZlci55ID4gYnVmZmVyLnNjcm9sbEJvdHRvbSkge1xuICAgICAgICAgICAgYnVmZmVyLnktLTtcbiAgICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLnNjcm9sbCh0cnVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhlIGxpbmUgYWxyZWFkeSBleGlzdHMgKGVnLiB0aGUgaW5pdGlhbCB2aWV3cG9ydCksIG1hcmsgaXQgYXMgYVxuICAgICAgICAgICAgLy8gd3JhcHBlZCBsaW5lXG4gICAgICAgICAgICBidWZmZXIubGluZXMuZ2V0KGJ1ZmZlci55KS5pc1dyYXBwZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyByb3cgY2hhbmdlZCwgZ2V0IGl0IGFnYWluXG4gICAgICAgICAgYnVmZmVyUm93ID0gYnVmZmVyLmxpbmVzLmdldChidWZmZXIueSArIGJ1ZmZlci55YmFzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGNoV2lkdGggPT09IDIpIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBjaGVjayBmb3IgeHRlcm0gYmVoYXZpb3JcbiAgICAgICAgICAgIC8vIFdoYXQgdG8gZG8gaGVyZT8gV2UgZ290IGEgd2lkZSBjaGFyIHRoYXQgZG9lcyBub3QgZml0IGludG8gbGFzdCBjZWxsXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRklYTUU6IERvIHdlIGhhdmUgdG8gc2V0IGJ1ZmZlci54IHRvIGNvbHMgLSAxLCBpZiBub3Qgd3JhcHBpbmc/XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gaW5zZXJ0IG1vZGU6IG1vdmUgY2hhcmFjdGVycyB0byByaWdodFxuICAgICAgaWYgKGluc2VydE1vZGUpIHtcbiAgICAgICAgLy8gcmlnaHQgc2hpZnQgY2VsbHMgYWNjb3JkaW5nIHRvIHRoZSB3aWR0aFxuICAgICAgICBidWZmZXJSb3cuaW5zZXJ0Q2VsbHMoYnVmZmVyLngsIGNoV2lkdGgsIFtjdXJBdHRyLCBOVUxMX0NFTExfQ0hBUiwgTlVMTF9DRUxMX1dJRFRILCBOVUxMX0NFTExfQ09ERV0pO1xuICAgICAgICAvLyB0ZXN0IGxhc3QgY2VsbCAtIHNpbmNlIHRoZSBsYXN0IGNlbGwgaGFzIG9ubHkgcm9vbSBmb3JcbiAgICAgICAgLy8gYSBoYWxmd2lkdGggY2hhciBhbnkgZnVsbHdpZHRoIHNoaWZ0ZWQgdGhlcmUgaXMgbG9zdFxuICAgICAgICAvLyBhbmQgd2lsbCBiZSBzZXQgdG8gZXJhc2VDaGFyXG4gICAgICAgIGNvbnN0IGxhc3RDZWxsID0gYnVmZmVyUm93LmdldChjb2xzIC0gMSk7XG4gICAgICAgIGlmIChsYXN0Q2VsbFtDSEFSX0RBVEFfV0lEVEhfSU5ERVhdID09PSAyKSB7XG4gICAgICAgICAgYnVmZmVyUm93LnNldChjb2xzIC0gMSwgW2N1ckF0dHIsIE5VTExfQ0VMTF9DSEFSLCBOVUxMX0NFTExfV0lEVEgsIE5VTExfQ0VMTF9DT0RFXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gd3JpdGUgY3VycmVudCBjaGFyIHRvIGJ1ZmZlciBhbmQgYWR2YW5jZSBjdXJzb3JcbiAgICAgIGJ1ZmZlclJvdy5zZXQoYnVmZmVyLngrKywgW2N1ckF0dHIsIGNoYXIsIGNoV2lkdGgsIGNvZGVdKTtcblxuICAgICAgLy8gZnVsbHdpZHRoIGNoYXIgLSBhbHNvIHNldCBuZXh0IGNlbGwgdG8gcGxhY2Vob2xkZXIgc3R1YiBhbmQgYWR2YW5jZSBjdXJzb3JcbiAgICAgIC8vIGZvciBncmFwaGVtZXMgYmlnZ2VyIHRoYW4gZnVsbHdpZHRoIHdlIGNhbiBzaW1wbHkgbG9vcCB0byB6ZXJvXG4gICAgICAvLyB3ZSBhbHJlYWR5IG1hZGUgc3VyZSBhYm92ZSwgdGhhdCBidWZmZXIueCArIGNoV2lkdGggd2lsbCBub3Qgb3ZlcmZsb3cgcmlnaHRcbiAgICAgIGlmIChjaFdpZHRoID4gMCkge1xuICAgICAgICB3aGlsZSAoLS1jaFdpZHRoKSB7XG4gICAgICAgICAgYnVmZmVyUm93LnNldChidWZmZXIueCsrLCBbY3VyQXR0ciwgJycsIDAsIHVuZGVmaW5lZF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3Rlcm1pbmFsLnVwZGF0ZVJhbmdlKGJ1ZmZlci55KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCRUxcbiAgICogQmVsbCAoQ3RybC1HKS5cbiAgICovXG4gIHB1YmxpYyBiZWxsKCk6IHZvaWQge1xuICAgIHRoaXMuX3Rlcm1pbmFsLmJlbGwoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMRlxuICAgKiBMaW5lIEZlZWQgb3IgTmV3IExpbmUgKE5MKS4gIChMRiAgaXMgQ3RybC1KKS5cbiAgICovXG4gIHB1YmxpYyBsaW5lRmVlZCgpOiB2b2lkIHtcbiAgICAvLyBtYWtlIGJ1ZmZlciBsb2NhbCBmb3IgZmFzdGVyIGFjY2Vzc1xuICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlcjtcblxuICAgIGlmICh0aGlzLl90ZXJtaW5hbC5vcHRpb25zLmNvbnZlcnRFb2wpIHtcbiAgICAgIGJ1ZmZlci54ID0gMDtcbiAgICB9XG4gICAgYnVmZmVyLnkrKztcbiAgICBpZiAoYnVmZmVyLnkgPiBidWZmZXIuc2Nyb2xsQm90dG9tKSB7XG4gICAgICBidWZmZXIueS0tO1xuICAgICAgdGhpcy5fdGVybWluYWwuc2Nyb2xsKCk7XG4gICAgfVxuICAgIC8vIElmIHRoZSBlbmQgb2YgdGhlIGxpbmUgaXMgaGl0LCBwcmV2ZW50IHRoaXMgYWN0aW9uIGZyb20gd3JhcHBpbmcgYXJvdW5kIHRvIHRoZSBuZXh0IGxpbmUuXG4gICAgaWYgKGJ1ZmZlci54ID49IHRoaXMuX3Rlcm1pbmFsLmNvbHMpIHtcbiAgICAgIGJ1ZmZlci54LS07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZXZlbnQgaXMgZW1pdHRlZCB3aGVuZXZlciB0aGUgdGVybWluYWwgb3V0cHV0cyBhIExGIG9yIE5MLlxuICAgICAqXG4gICAgICogQGV2ZW50IGxpbmVmZWVkXG4gICAgICovXG4gICAgdGhpcy5fdGVybWluYWwuZW1pdCgnbGluZWZlZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDUlxuICAgKiBDYXJyaWFnZSBSZXR1cm4gKEN0cmwtTSkuXG4gICAqL1xuICBwdWJsaWMgY2FycmlhZ2VSZXR1cm4oKTogdm9pZCB7XG4gICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnggPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEJTXG4gICAqIEJhY2tzcGFjZSAoQ3RybC1IKS5cbiAgICovXG4gIHB1YmxpYyBiYWNrc3BhY2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54ID4gMCkge1xuICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLngtLTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVEFCXG4gICAqIEhvcml6b250YWwgVGFiIChIVCkgKEN0cmwtSSkuXG4gICAqL1xuICBwdWJsaWMgdGFiKCk6IHZvaWQge1xuICAgIGNvbnN0IG9yaWdpbmFsWCA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54O1xuICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54ID0gdGhpcy5fdGVybWluYWwuYnVmZmVyLm5leHRTdG9wKCk7XG4gICAgaWYgKHRoaXMuX3Rlcm1pbmFsLm9wdGlvbnMuc2NyZWVuUmVhZGVyTW9kZSkge1xuICAgICAgdGhpcy5fdGVybWluYWwuZW1pdCgnYTExeS50YWInLCB0aGlzLl90ZXJtaW5hbC5idWZmZXIueCAtIG9yaWdpbmFsWCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNPXG4gICAqIFNoaWZ0IE91dCAoQ3RybC1OKSAtPiBTd2l0Y2ggdG8gQWx0ZXJuYXRlIENoYXJhY3RlciBTZXQuICBUaGlzIGludm9rZXMgdGhlXG4gICAqIEcxIGNoYXJhY3RlciBzZXQuXG4gICAqL1xuICBwdWJsaWMgc2hpZnRPdXQoKTogdm9pZCB7XG4gICAgdGhpcy5fdGVybWluYWwuc2V0Z0xldmVsKDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNJXG4gICAqIFNoaWZ0IEluIChDdHJsLU8pIC0+IFN3aXRjaCB0byBTdGFuZGFyZCBDaGFyYWN0ZXIgU2V0LiAgVGhpcyBpbnZva2VzIHRoZSBHMFxuICAgKiBjaGFyYWN0ZXIgc2V0ICh0aGUgZGVmYXVsdCkuXG4gICAqL1xuICBwdWJsaWMgc2hpZnRJbigpOiB2b2lkIHtcbiAgICB0aGlzLl90ZXJtaW5hbC5zZXRnTGV2ZWwoMCk7XG4gIH1cblxuICAvKipcbiAgICogQ1NJIFBzIEBcbiAgICogSW5zZXJ0IFBzIChCbGFuaykgQ2hhcmFjdGVyKHMpIChkZWZhdWx0ID0gMSkgKElDSCkuXG4gICAqL1xuICBwdWJsaWMgaW5zZXJ0Q2hhcnMocGFyYW1zOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci5saW5lcy5nZXQodGhpcy5fdGVybWluYWwuYnVmZmVyLnkgKyB0aGlzLl90ZXJtaW5hbC5idWZmZXIueWJhc2UpLmluc2VydENlbGxzKFxuICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLngsXG4gICAgICBwYXJhbXNbMF0gfHwgMSxcbiAgICAgIFt0aGlzLl90ZXJtaW5hbC5lcmFzZUF0dHIoKSwgTlVMTF9DRUxMX0NIQVIsIE5VTExfQ0VMTF9XSURUSCwgTlVMTF9DRUxMX0NPREVdXG4gICAgKTtcbiAgICB0aGlzLl90ZXJtaW5hbC51cGRhdGVSYW5nZSh0aGlzLl90ZXJtaW5hbC5idWZmZXIueSk7XG4gIH1cblxuICAvKipcbiAgICogQ1NJIFBzIEFcbiAgICogQ3Vyc29yIFVwIFBzIFRpbWVzIChkZWZhdWx0ID0gMSkgKENVVSkuXG4gICAqL1xuICBwdWJsaWMgY3Vyc29yVXAocGFyYW1zOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIGxldCBwYXJhbSA9IHBhcmFtc1swXTtcbiAgICBpZiAocGFyYW0gPCAxKSB7XG4gICAgICBwYXJhbSA9IDE7XG4gICAgfVxuICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55IC09IHBhcmFtO1xuICAgIGlmICh0aGlzLl90ZXJtaW5hbC5idWZmZXIueSA8IDApIHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55ID0gMDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ1NJIFBzIEJcbiAgICogQ3Vyc29yIERvd24gUHMgVGltZXMgKGRlZmF1bHQgPSAxKSAoQ1VEKS5cbiAgICovXG4gIHB1YmxpYyBjdXJzb3JEb3duKHBhcmFtczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICBsZXQgcGFyYW0gPSBwYXJhbXNbMF07XG4gICAgaWYgKHBhcmFtIDwgMSkge1xuICAgICAgcGFyYW0gPSAxO1xuICAgIH1cbiAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIueSArPSBwYXJhbTtcbiAgICBpZiAodGhpcy5fdGVybWluYWwuYnVmZmVyLnkgPj0gdGhpcy5fdGVybWluYWwucm93cykge1xuICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnkgPSB0aGlzLl90ZXJtaW5hbC5yb3dzIC0gMTtcbiAgICB9XG4gICAgLy8gSWYgdGhlIGVuZCBvZiB0aGUgbGluZSBpcyBoaXQsIHByZXZlbnQgdGhpcyBhY3Rpb24gZnJvbSB3cmFwcGluZyBhcm91bmQgdG8gdGhlIG5leHQgbGluZS5cbiAgICBpZiAodGhpcy5fdGVybWluYWwuYnVmZmVyLnggPj0gdGhpcy5fdGVybWluYWwuY29scykge1xuICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLngtLTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ1NJIFBzIENcbiAgICogQ3Vyc29yIEZvcndhcmQgUHMgVGltZXMgKGRlZmF1bHQgPSAxKSAoQ1VGKS5cbiAgICovXG4gIHB1YmxpYyBjdXJzb3JGb3J3YXJkKHBhcmFtczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICBsZXQgcGFyYW0gPSBwYXJhbXNbMF07XG4gICAgaWYgKHBhcmFtIDwgMSkge1xuICAgICAgcGFyYW0gPSAxO1xuICAgIH1cbiAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIueCArPSBwYXJhbTtcbiAgICBpZiAodGhpcy5fdGVybWluYWwuYnVmZmVyLnggPj0gdGhpcy5fdGVybWluYWwuY29scykge1xuICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnggPSB0aGlzLl90ZXJtaW5hbC5jb2xzIC0gMTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ1NJIFBzIERcbiAgICogQ3Vyc29yIEJhY2t3YXJkIFBzIFRpbWVzIChkZWZhdWx0ID0gMSkgKENVQikuXG4gICAqL1xuICBwdWJsaWMgY3Vyc29yQmFja3dhcmQocGFyYW1zOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIGxldCBwYXJhbSA9IHBhcmFtc1swXTtcbiAgICBpZiAocGFyYW0gPCAxKSB7XG4gICAgICBwYXJhbSA9IDE7XG4gICAgfVxuICAgIC8vIElmIHRoZSBlbmQgb2YgdGhlIGxpbmUgaXMgaGl0LCBwcmV2ZW50IHRoaXMgYWN0aW9uIGZyb20gd3JhcHBpbmcgYXJvdW5kIHRvIHRoZSBuZXh0IGxpbmUuXG4gICAgaWYgKHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54ID49IHRoaXMuX3Rlcm1pbmFsLmNvbHMpIHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54LS07XG4gICAgfVxuICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54IC09IHBhcmFtO1xuICAgIGlmICh0aGlzLl90ZXJtaW5hbC5idWZmZXIueCA8IDApIHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54ID0gMDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ1NJIFBzIEVcbiAgICogQ3Vyc29yIE5leHQgTGluZSBQcyBUaW1lcyAoZGVmYXVsdCA9IDEpIChDTkwpLlxuICAgKiBzYW1lIGFzIENTSSBQcyBCID9cbiAgICovXG4gIHB1YmxpYyBjdXJzb3JOZXh0TGluZShwYXJhbXM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgbGV0IHBhcmFtID0gcGFyYW1zWzBdO1xuICAgIGlmIChwYXJhbSA8IDEpIHtcbiAgICAgIHBhcmFtID0gMTtcbiAgICB9XG4gICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnkgKz0gcGFyYW07XG4gICAgaWYgKHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55ID49IHRoaXMuX3Rlcm1pbmFsLnJvd3MpIHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55ID0gdGhpcy5fdGVybWluYWwucm93cyAtIDE7XG4gICAgfVxuICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54ID0gMDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENTSSBQcyBGXG4gICAqIEN1cnNvciBQcmVjZWRpbmcgTGluZSBQcyBUaW1lcyAoZGVmYXVsdCA9IDEpIChDTkwpLlxuICAgKiByZXVzZSBDU0kgUHMgQSA/XG4gICAqL1xuICBwdWJsaWMgY3Vyc29yUHJlY2VkaW5nTGluZShwYXJhbXM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgbGV0IHBhcmFtID0gcGFyYW1zWzBdO1xuICAgIGlmIChwYXJhbSA8IDEpIHtcbiAgICAgIHBhcmFtID0gMTtcbiAgICB9XG4gICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnkgLT0gcGFyYW07XG4gICAgaWYgKHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55IDwgMCkge1xuICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnkgPSAwO1xuICAgIH1cbiAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIueCA9IDA7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBDU0kgUHMgR1xuICAgKiBDdXJzb3IgQ2hhcmFjdGVyIEFic29sdXRlICBbY29sdW1uXSAoZGVmYXVsdCA9IFtyb3csMV0pIChDSEEpLlxuICAgKi9cbiAgcHVibGljIGN1cnNvckNoYXJBYnNvbHV0ZShwYXJhbXM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgbGV0IHBhcmFtID0gcGFyYW1zWzBdO1xuICAgIGlmIChwYXJhbSA8IDEpIHtcbiAgICAgIHBhcmFtID0gMTtcbiAgICB9XG4gICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnggPSBwYXJhbSAtIDE7XG4gIH1cblxuICAvKipcbiAgICogQ1NJIFBzIDsgUHMgSFxuICAgKiBDdXJzb3IgUG9zaXRpb24gW3Jvdztjb2x1bW5dIChkZWZhdWx0ID0gWzEsMV0pIChDVVApLlxuICAgKi9cbiAgcHVibGljIGN1cnNvclBvc2l0aW9uKHBhcmFtczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICBsZXQgY29sOiBudW1iZXI7XG4gICAgbGV0IHJvdzogbnVtYmVyID0gcGFyYW1zWzBdIC0gMTtcblxuICAgIGlmIChwYXJhbXMubGVuZ3RoID49IDIpIHtcbiAgICAgIGNvbCA9IHBhcmFtc1sxXSAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKHJvdyA8IDApIHtcbiAgICAgIHJvdyA9IDA7XG4gICAgfSBlbHNlIGlmIChyb3cgPj0gdGhpcy5fdGVybWluYWwucm93cykge1xuICAgICAgcm93ID0gdGhpcy5fdGVybWluYWwucm93cyAtIDE7XG4gICAgfVxuXG4gICAgaWYgKGNvbCA8IDApIHtcbiAgICAgIGNvbCA9IDA7XG4gICAgfSBlbHNlIGlmIChjb2wgPj0gdGhpcy5fdGVybWluYWwuY29scykge1xuICAgICAgY29sID0gdGhpcy5fdGVybWluYWwuY29scyAtIDE7XG4gICAgfVxuXG4gICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnggPSBjb2w7XG4gICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnkgPSByb3c7XG4gIH1cblxuICAvKipcbiAgICogQ1NJIFBzIElcbiAgICogICBDdXJzb3IgRm9yd2FyZCBUYWJ1bGF0aW9uIFBzIHRhYiBzdG9wcyAoZGVmYXVsdCA9IDEpIChDSFQpLlxuICAgKi9cbiAgcHVibGljIGN1cnNvckZvcndhcmRUYWIocGFyYW1zOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIGxldCBwYXJhbSA9IHBhcmFtc1swXSB8fCAxO1xuICAgIHdoaWxlIChwYXJhbS0tKSB7XG4gICAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIueCA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci5uZXh0U3RvcCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIZWxwZXIgbWV0aG9kIHRvIGVyYXNlIGNlbGxzIGluIGEgdGVybWluYWwgcm93LlxuICAgKiBUaGUgY2VsbCBnZXRzIHJlcGxhY2VkIHdpdGggdGhlIGVyYXNlQ2hhciBvZiB0aGUgdGVybWluYWwuXG4gICAqIEBwYXJhbSB5IHJvdyBpbmRleFxuICAgKiBAcGFyYW0gc3RhcnQgZmlyc3QgY2VsbCBpbmRleCB0byBiZSBlcmFzZWRcbiAgICogQHBhcmFtIGVuZCAgIGVuZCAtIDEgaXMgbGFzdCBlcmFzZWQgY2VsbFxuICAgKi9cbiAgcHJpdmF0ZSBfZXJhc2VJbkJ1ZmZlckxpbmUoeTogbnVtYmVyLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlciwgY2xlYXJXcmFwOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcbiAgICBjb25zdCBsaW5lID0gdGhpcy5fdGVybWluYWwuYnVmZmVyLmxpbmVzLmdldCh0aGlzLl90ZXJtaW5hbC5idWZmZXIueWJhc2UgKyB5KTtcbiAgICBsaW5lLnJlcGxhY2VDZWxscyhcbiAgICAgIHN0YXJ0LFxuICAgICAgZW5kLFxuICAgICAgW3RoaXMuX3Rlcm1pbmFsLmVyYXNlQXR0cigpLCBOVUxMX0NFTExfQ0hBUiwgTlVMTF9DRUxMX1dJRFRILCBOVUxMX0NFTExfQ09ERV1cbiAgICApO1xuICAgIGlmIChjbGVhcldyYXApIHtcbiAgICAgIGxpbmUuaXNXcmFwcGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgdG8gcmVzZXQgY2VsbHMgaW4gYSB0ZXJtaW5hbCByb3cuXG4gICAqIFRoZSBjZWxsIGdldHMgcmVwbGFjZWQgd2l0aCB0aGUgZXJhc2VDaGFyIG9mIHRoZSB0ZXJtaW5hbCBhbmQgdGhlIGlzV3JhcHBlZCBwcm9wZXJ0eSBpcyBzZXQgdG8gZmFsc2UuXG4gICAqIEBwYXJhbSB5IHJvdyBpbmRleFxuICAgKi9cbiAgcHJpdmF0ZSBfcmVzZXRCdWZmZXJMaW5lKHk6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuX2VyYXNlSW5CdWZmZXJMaW5lKHksIDAsIHRoaXMuX3Rlcm1pbmFsLmNvbHMsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENTSSBQcyBKICBFcmFzZSBpbiBEaXNwbGF5IChFRCkuXG4gICAqICAgICBQcyA9IDAgIC0+IEVyYXNlIEJlbG93IChkZWZhdWx0KS5cbiAgICogICAgIFBzID0gMSAgLT4gRXJhc2UgQWJvdmUuXG4gICAqICAgICBQcyA9IDIgIC0+IEVyYXNlIEFsbC5cbiAgICogICAgIFBzID0gMyAgLT4gRXJhc2UgU2F2ZWQgTGluZXMgKHh0ZXJtKS5cbiAgICogQ1NJID8gUHMgSlxuICAgKiAgIEVyYXNlIGluIERpc3BsYXkgKERFQ1NFRCkuXG4gICAqICAgICBQcyA9IDAgIC0+IFNlbGVjdGl2ZSBFcmFzZSBCZWxvdyAoZGVmYXVsdCkuXG4gICAqICAgICBQcyA9IDEgIC0+IFNlbGVjdGl2ZSBFcmFzZSBBYm92ZS5cbiAgICogICAgIFBzID0gMiAgLT4gU2VsZWN0aXZlIEVyYXNlIEFsbC5cbiAgICovXG4gIHB1YmxpYyBlcmFzZUluRGlzcGxheShwYXJhbXM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgbGV0IGo7XG4gICAgc3dpdGNoIChwYXJhbXNbMF0pIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgaiA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55O1xuICAgICAgICB0aGlzLl90ZXJtaW5hbC51cGRhdGVSYW5nZShqKTtcbiAgICAgICAgdGhpcy5fZXJhc2VJbkJ1ZmZlckxpbmUoaisrLCB0aGlzLl90ZXJtaW5hbC5idWZmZXIueCwgdGhpcy5fdGVybWluYWwuY29scywgdGhpcy5fdGVybWluYWwuYnVmZmVyLnggPT09IDApO1xuICAgICAgICBmb3IgKDsgaiA8IHRoaXMuX3Rlcm1pbmFsLnJvd3M7IGorKykge1xuICAgICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyTGluZShqKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXJtaW5hbC51cGRhdGVSYW5nZShqKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIGogPSB0aGlzLl90ZXJtaW5hbC5idWZmZXIueTtcbiAgICAgICAgdGhpcy5fdGVybWluYWwudXBkYXRlUmFuZ2Uoaik7XG4gICAgICAgIC8vIERlbGV0ZWQgZnJvbnQgcGFydCBvZiBsaW5lIGFuZCBldmVyeXRoaW5nIGJlZm9yZS4gVGhpcyBsaW5lIHdpbGwgbm8gbG9uZ2VyIGJlIHdyYXBwZWQuXG4gICAgICAgIHRoaXMuX2VyYXNlSW5CdWZmZXJMaW5lKGosIDAsIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54ICsgMSwgdHJ1ZSk7XG4gICAgICAgIGlmICh0aGlzLl90ZXJtaW5hbC5idWZmZXIueCArIDEgPj0gdGhpcy5fdGVybWluYWwuY29scykge1xuICAgICAgICAgIC8vIERlbGV0ZWQgZW50aXJlIHByZXZpb3VzIGxpbmUuIFRoaXMgbmV4dCBsaW5lIGNhbiBubyBsb25nZXIgYmUgd3JhcHBlZC5cbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIubGluZXMuZ2V0KGogKyAxKS5pc1dyYXBwZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoai0tKSB7XG4gICAgICAgICAgdGhpcy5fcmVzZXRCdWZmZXJMaW5lKGopO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Rlcm1pbmFsLnVwZGF0ZVJhbmdlKDApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaiA9IHRoaXMuX3Rlcm1pbmFsLnJvd3M7XG4gICAgICAgIHRoaXMuX3Rlcm1pbmFsLnVwZGF0ZVJhbmdlKGogLSAxKTtcbiAgICAgICAgd2hpbGUgKGotLSkge1xuICAgICAgICAgIHRoaXMuX3Jlc2V0QnVmZmVyTGluZShqKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXJtaW5hbC51cGRhdGVSYW5nZSgwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIC8vIENsZWFyIHNjcm9sbGJhY2sgKGV2ZXJ5dGhpbmcgbm90IGluIHZpZXdwb3J0KVxuICAgICAgICBjb25zdCBzY3JvbGxCYWNrU2l6ZSA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci5saW5lcy5sZW5ndGggLSB0aGlzLl90ZXJtaW5hbC5yb3dzO1xuICAgICAgICBpZiAoc2Nyb2xsQmFja1NpemUgPiAwKSB7XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLmxpbmVzLnRyaW1TdGFydChzY3JvbGxCYWNrU2l6ZSk7XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnliYXNlID0gTWF0aC5tYXgodGhpcy5fdGVybWluYWwuYnVmZmVyLnliYXNlIC0gc2Nyb2xsQmFja1NpemUsIDApO1xuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55ZGlzcCA9IE1hdGgubWF4KHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55ZGlzcCAtIHNjcm9sbEJhY2tTaXplLCAwKTtcbiAgICAgICAgICAvLyBGb3JjZSBhIHNjcm9sbCBldmVudCB0byByZWZyZXNoIHZpZXdwb3J0XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuZW1pdCgnc2Nyb2xsJywgMCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENTSSBQcyBLICBFcmFzZSBpbiBMaW5lIChFTCkuXG4gICAqICAgICBQcyA9IDAgIC0+IEVyYXNlIHRvIFJpZ2h0IChkZWZhdWx0KS5cbiAgICogICAgIFBzID0gMSAgLT4gRXJhc2UgdG8gTGVmdC5cbiAgICogICAgIFBzID0gMiAgLT4gRXJhc2UgQWxsLlxuICAgKiBDU0kgPyBQcyBLXG4gICAqICAgRXJhc2UgaW4gTGluZSAoREVDU0VMKS5cbiAgICogICAgIFBzID0gMCAgLT4gU2VsZWN0aXZlIEVyYXNlIHRvIFJpZ2h0IChkZWZhdWx0KS5cbiAgICogICAgIFBzID0gMSAgLT4gU2VsZWN0aXZlIEVyYXNlIHRvIExlZnQuXG4gICAqICAgICBQcyA9IDIgIC0+IFNlbGVjdGl2ZSBFcmFzZSBBbGwuXG4gICAqL1xuICBwdWJsaWMgZXJhc2VJbkxpbmUocGFyYW1zOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIHN3aXRjaCAocGFyYW1zWzBdKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHRoaXMuX2VyYXNlSW5CdWZmZXJMaW5lKHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55LCB0aGlzLl90ZXJtaW5hbC5idWZmZXIueCwgdGhpcy5fdGVybWluYWwuY29scyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxOlxuICAgICAgICB0aGlzLl9lcmFzZUluQnVmZmVyTGluZSh0aGlzLl90ZXJtaW5hbC5idWZmZXIueSwgMCwgdGhpcy5fdGVybWluYWwuYnVmZmVyLnggKyAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHRoaXMuX2VyYXNlSW5CdWZmZXJMaW5lKHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55LCAwLCB0aGlzLl90ZXJtaW5hbC5jb2xzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuX3Rlcm1pbmFsLnVwZGF0ZVJhbmdlKHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDU0kgUHMgTFxuICAgKiBJbnNlcnQgUHMgTGluZShzKSAoZGVmYXVsdCA9IDEpIChJTCkuXG4gICAqL1xuICBwdWJsaWMgaW5zZXJ0TGluZXMocGFyYW1zOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIGxldCBwYXJhbTogbnVtYmVyID0gcGFyYW1zWzBdO1xuICAgIGlmIChwYXJhbSA8IDEpIHtcbiAgICAgIHBhcmFtID0gMTtcbiAgICB9XG5cbiAgICAvLyBtYWtlIGJ1ZmZlciBsb2NhbCBmb3IgZmFzdGVyIGFjY2Vzc1xuICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlcjtcblxuICAgIGNvbnN0IHJvdzogbnVtYmVyID0gYnVmZmVyLnkgKyBidWZmZXIueWJhc2U7XG5cbiAgICBjb25zdCBzY3JvbGxCb3R0b21Sb3dzT2Zmc2V0ID0gdGhpcy5fdGVybWluYWwucm93cyAtIDEgLSBidWZmZXIuc2Nyb2xsQm90dG9tO1xuICAgIGNvbnN0IHNjcm9sbEJvdHRvbUFic29sdXRlID0gdGhpcy5fdGVybWluYWwucm93cyAtIDEgKyBidWZmZXIueWJhc2UgLSBzY3JvbGxCb3R0b21Sb3dzT2Zmc2V0ICsgMTtcbiAgICB3aGlsZSAocGFyYW0tLSkge1xuICAgICAgLy8gdGVzdDogZWNobyAtZSAnXFxlWzQ0bVxcZVsxTFxcZVswbSdcbiAgICAgIC8vIGJsYW5rTGluZSh0cnVlKSAtIHh0ZXJtL2xpbnV4IGJlaGF2aW9yXG4gICAgICBidWZmZXIubGluZXMuc3BsaWNlKHNjcm9sbEJvdHRvbUFic29sdXRlIC0gMSwgMSk7XG4gICAgICBidWZmZXIubGluZXMuc3BsaWNlKHJvdywgMCwgYnVmZmVyLmdldEJsYW5rTGluZSh0aGlzLl90ZXJtaW5hbC5lcmFzZUF0dHIoKSkpO1xuICAgIH1cblxuICAgIC8vIHRoaXMubWF4UmFuZ2UoKTtcbiAgICB0aGlzLl90ZXJtaW5hbC51cGRhdGVSYW5nZShidWZmZXIueSk7XG4gICAgdGhpcy5fdGVybWluYWwudXBkYXRlUmFuZ2UoYnVmZmVyLnNjcm9sbEJvdHRvbSk7XG4gIH1cblxuICAvKipcbiAgICogQ1NJIFBzIE1cbiAgICogRGVsZXRlIFBzIExpbmUocykgKGRlZmF1bHQgPSAxKSAoREwpLlxuICAgKi9cbiAgcHVibGljIGRlbGV0ZUxpbmVzKHBhcmFtczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICBsZXQgcGFyYW0gPSBwYXJhbXNbMF07XG4gICAgaWYgKHBhcmFtIDwgMSkge1xuICAgICAgcGFyYW0gPSAxO1xuICAgIH1cblxuICAgIC8vIG1ha2UgYnVmZmVyIGxvY2FsIGZvciBmYXN0ZXIgYWNjZXNzXG4gICAgY29uc3QgYnVmZmVyID0gdGhpcy5fdGVybWluYWwuYnVmZmVyO1xuXG4gICAgY29uc3Qgcm93OiBudW1iZXIgPSBidWZmZXIueSArIGJ1ZmZlci55YmFzZTtcblxuICAgIGxldCBqOiBudW1iZXI7XG4gICAgaiA9IHRoaXMuX3Rlcm1pbmFsLnJvd3MgLSAxIC0gYnVmZmVyLnNjcm9sbEJvdHRvbTtcbiAgICBqID0gdGhpcy5fdGVybWluYWwucm93cyAtIDEgKyBidWZmZXIueWJhc2UgLSBqO1xuICAgIHdoaWxlIChwYXJhbS0tKSB7XG4gICAgICAvLyB0ZXN0OiBlY2hvIC1lICdcXGVbNDRtXFxlWzFNXFxlWzBtJ1xuICAgICAgLy8gYmxhbmtMaW5lKHRydWUpIC0geHRlcm0vbGludXggYmVoYXZpb3JcbiAgICAgIGJ1ZmZlci5saW5lcy5zcGxpY2Uocm93LCAxKTtcbiAgICAgIGJ1ZmZlci5saW5lcy5zcGxpY2UoaiwgMCwgYnVmZmVyLmdldEJsYW5rTGluZSh0aGlzLl90ZXJtaW5hbC5lcmFzZUF0dHIoKSkpO1xuICAgIH1cblxuICAgIC8vIHRoaXMubWF4UmFuZ2UoKTtcbiAgICB0aGlzLl90ZXJtaW5hbC51cGRhdGVSYW5nZShidWZmZXIueSk7XG4gICAgdGhpcy5fdGVybWluYWwudXBkYXRlUmFuZ2UoYnVmZmVyLnNjcm9sbEJvdHRvbSk7XG4gIH1cblxuICAvKipcbiAgICogQ1NJIFBzIFBcbiAgICogRGVsZXRlIFBzIENoYXJhY3RlcihzKSAoZGVmYXVsdCA9IDEpIChEQ0gpLlxuICAgKi9cbiAgcHVibGljIGRlbGV0ZUNoYXJzKHBhcmFtczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIubGluZXMuZ2V0KHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55ICsgdGhpcy5fdGVybWluYWwuYnVmZmVyLnliYXNlKS5kZWxldGVDZWxscyhcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54LFxuICAgICAgcGFyYW1zWzBdIHx8IDEsXG4gICAgICBbdGhpcy5fdGVybWluYWwuZXJhc2VBdHRyKCksIE5VTExfQ0VMTF9DSEFSLCBOVUxMX0NFTExfV0lEVEgsIE5VTExfQ0VMTF9DT0RFXVxuICAgICk7XG4gICAgdGhpcy5fdGVybWluYWwudXBkYXRlUmFuZ2UodGhpcy5fdGVybWluYWwuYnVmZmVyLnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENTSSBQcyBTICBTY3JvbGwgdXAgUHMgbGluZXMgKGRlZmF1bHQgPSAxKSAoU1UpLlxuICAgKi9cbiAgcHVibGljIHNjcm9sbFVwKHBhcmFtczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICBsZXQgcGFyYW0gPSBwYXJhbXNbMF0gfHwgMTtcblxuICAgIC8vIG1ha2UgYnVmZmVyIGxvY2FsIGZvciBmYXN0ZXIgYWNjZXNzXG4gICAgY29uc3QgYnVmZmVyID0gdGhpcy5fdGVybWluYWwuYnVmZmVyO1xuXG4gICAgd2hpbGUgKHBhcmFtLS0pIHtcbiAgICAgIGJ1ZmZlci5saW5lcy5zcGxpY2UoYnVmZmVyLnliYXNlICsgYnVmZmVyLnNjcm9sbFRvcCwgMSk7XG4gICAgICBidWZmZXIubGluZXMuc3BsaWNlKGJ1ZmZlci55YmFzZSArIGJ1ZmZlci5zY3JvbGxCb3R0b20sIDAsIGJ1ZmZlci5nZXRCbGFua0xpbmUoREVGQVVMVF9BVFRSKSk7XG4gICAgfVxuICAgIC8vIHRoaXMubWF4UmFuZ2UoKTtcbiAgICB0aGlzLl90ZXJtaW5hbC51cGRhdGVSYW5nZShidWZmZXIuc2Nyb2xsVG9wKTtcbiAgICB0aGlzLl90ZXJtaW5hbC51cGRhdGVSYW5nZShidWZmZXIuc2Nyb2xsQm90dG9tKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDU0kgUHMgVCAgU2Nyb2xsIGRvd24gUHMgbGluZXMgKGRlZmF1bHQgPSAxKSAoU0QpLlxuICAgKi9cbiAgcHVibGljIHNjcm9sbERvd24ocGFyYW1zOiBudW1iZXJbXSwgY29sbGVjdD86IHN0cmluZyk6IHZvaWQge1xuICAgIGlmIChwYXJhbXMubGVuZ3RoIDwgMiAmJiAhY29sbGVjdCkge1xuICAgICAgbGV0IHBhcmFtID0gcGFyYW1zWzBdIHx8IDE7XG5cbiAgICAgIC8vIG1ha2UgYnVmZmVyIGxvY2FsIGZvciBmYXN0ZXIgYWNjZXNzXG4gICAgICBjb25zdCBidWZmZXIgPSB0aGlzLl90ZXJtaW5hbC5idWZmZXI7XG5cbiAgICAgIHdoaWxlIChwYXJhbS0tKSB7XG4gICAgICAgIGJ1ZmZlci5saW5lcy5zcGxpY2UoYnVmZmVyLnliYXNlICsgYnVmZmVyLnNjcm9sbEJvdHRvbSwgMSk7XG4gICAgICAgIGJ1ZmZlci5saW5lcy5zcGxpY2UoYnVmZmVyLnliYXNlICsgYnVmZmVyLnNjcm9sbEJvdHRvbSwgMCwgYnVmZmVyLmdldEJsYW5rTGluZShERUZBVUxUX0FUVFIpKTtcbiAgICAgIH1cbiAgICAgIC8vIHRoaXMubWF4UmFuZ2UoKTtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLnVwZGF0ZVJhbmdlKGJ1ZmZlci5zY3JvbGxUb3ApO1xuICAgICAgdGhpcy5fdGVybWluYWwudXBkYXRlUmFuZ2UoYnVmZmVyLnNjcm9sbEJvdHRvbSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENTSSBQcyBYXG4gICAqIEVyYXNlIFBzIENoYXJhY3RlcihzKSAoZGVmYXVsdCA9IDEpIChFQ0gpLlxuICAgKi9cbiAgcHVibGljIGVyYXNlQ2hhcnMocGFyYW1zOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci5saW5lcy5nZXQodGhpcy5fdGVybWluYWwuYnVmZmVyLnkgKyB0aGlzLl90ZXJtaW5hbC5idWZmZXIueWJhc2UpLnJlcGxhY2VDZWxscyhcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54LFxuICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnggKyAocGFyYW1zWzBdIHx8IDEpLFxuICAgICAgW3RoaXMuX3Rlcm1pbmFsLmVyYXNlQXR0cigpLCBOVUxMX0NFTExfQ0hBUiwgTlVMTF9DRUxMX1dJRFRILCBOVUxMX0NFTExfQ09ERV1cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIENTSSBQcyBaICBDdXJzb3IgQmFja3dhcmQgVGFidWxhdGlvbiBQcyB0YWIgc3RvcHMgKGRlZmF1bHQgPSAxKSAoQ0JUKS5cbiAgICovXG4gIHB1YmxpYyBjdXJzb3JCYWNrd2FyZFRhYihwYXJhbXM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgbGV0IHBhcmFtID0gcGFyYW1zWzBdIHx8IDE7XG5cbiAgICAvLyBtYWtlIGJ1ZmZlciBsb2NhbCBmb3IgZmFzdGVyIGFjY2Vzc1xuICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlcjtcblxuICAgIHdoaWxlIChwYXJhbS0tKSB7XG4gICAgICBidWZmZXIueCA9IGJ1ZmZlci5wcmV2U3RvcCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDU0kgUG0gYCAgQ2hhcmFjdGVyIFBvc2l0aW9uIEFic29sdXRlXG4gICAqICAgW2NvbHVtbl0gKGRlZmF1bHQgPSBbcm93LDFdKSAoSFBBKS5cbiAgICovXG4gIHB1YmxpYyBjaGFyUG9zQWJzb2x1dGUocGFyYW1zOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIGxldCBwYXJhbSA9IHBhcmFtc1swXTtcbiAgICBpZiAocGFyYW0gPCAxKSB7XG4gICAgICBwYXJhbSA9IDE7XG4gICAgfVxuICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54ID0gcGFyYW0gLSAxO1xuICAgIGlmICh0aGlzLl90ZXJtaW5hbC5idWZmZXIueCA+PSB0aGlzLl90ZXJtaW5hbC5jb2xzKSB7XG4gICAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIueCA9IHRoaXMuX3Rlcm1pbmFsLmNvbHMgLSAxO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDU0kgUG0gYSAgQ2hhcmFjdGVyIFBvc2l0aW9uIFJlbGF0aXZlXG4gICAqICAgW2NvbHVtbnNdIChkZWZhdWx0ID0gW3Jvdyxjb2wrMV0pIChIUFIpXG4gICAqIHJldXNlIENTSSBQcyBDID9cbiAgICovXG4gIHB1YmxpYyBoUG9zaXRpb25SZWxhdGl2ZShwYXJhbXM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgbGV0IHBhcmFtID0gcGFyYW1zWzBdO1xuICAgIGlmIChwYXJhbSA8IDEpIHtcbiAgICAgIHBhcmFtID0gMTtcbiAgICB9XG4gICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnggKz0gcGFyYW07XG4gICAgaWYgKHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54ID49IHRoaXMuX3Rlcm1pbmFsLmNvbHMpIHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54ID0gdGhpcy5fdGVybWluYWwuY29scyAtIDE7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENTSSBQcyBiICBSZXBlYXQgdGhlIHByZWNlZGluZyBncmFwaGljIGNoYXJhY3RlciBQcyB0aW1lcyAoUkVQKS5cbiAgICovXG4gIHB1YmxpYyByZXBlYXRQcmVjZWRpbmdDaGFyYWN0ZXIocGFyYW1zOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIC8vIG1ha2UgYnVmZmVyIGxvY2FsIGZvciBmYXN0ZXIgYWNjZXNzXG4gICAgY29uc3QgYnVmZmVyID0gdGhpcy5fdGVybWluYWwuYnVmZmVyO1xuICAgIGNvbnN0IGxpbmUgPSBidWZmZXIubGluZXMuZ2V0KGJ1ZmZlci55YmFzZSArIGJ1ZmZlci55KTtcbiAgICBsaW5lLnJlcGxhY2VDZWxscyhidWZmZXIueCxcbiAgICAgIGJ1ZmZlci54ICsgKHBhcmFtc1swXSB8fCAxKSxcbiAgICAgIGxpbmUuZ2V0KGJ1ZmZlci54IC0gMSkgfHwgW0RFRkFVTFRfQVRUUiwgTlVMTF9DRUxMX0NIQVIsIE5VTExfQ0VMTF9XSURUSCwgTlVMTF9DRUxMX0NPREVdXG4gICAgKTtcbiAgICAvLyBGSVhNRTogbm8gdXBkYXRlUmFuZ2UgaGVyZT9cbiAgfVxuXG4gIC8qKlxuICAgKiBDU0kgUHMgYyAgU2VuZCBEZXZpY2UgQXR0cmlidXRlcyAoUHJpbWFyeSBEQSkuXG4gICAqICAgICBQcyA9IDAgIG9yIG9taXR0ZWQgLT4gcmVxdWVzdCBhdHRyaWJ1dGVzIGZyb20gdGVybWluYWwuICBUaGVcbiAgICogICAgIHJlc3BvbnNlIGRlcGVuZHMgb24gdGhlIGRlY1Rlcm1pbmFsSUQgcmVzb3VyY2Ugc2V0dGluZy5cbiAgICogICAgIC0+IENTSSA/IDEgOyAyIGMgIChgYFZUMTAwIHdpdGggQWR2YW5jZWQgVmlkZW8gT3B0aW9uJycpXG4gICAqICAgICAtPiBDU0kgPyAxIDsgMCBjICAoYGBWVDEwMSB3aXRoIE5vIE9wdGlvbnMnJylcbiAgICogICAgIC0+IENTSSA/IDYgYyAgKGBgVlQxMDInJylcbiAgICogICAgIC0+IENTSSA/IDYgMCA7IDEgOyAyIDsgNiA7IDggOyA5IDsgMSA1IDsgYyAgKGBgVlQyMjAnJylcbiAgICogICBUaGUgVlQxMDAtc3R5bGUgcmVzcG9uc2UgcGFyYW1ldGVycyBkbyBub3QgbWVhbiBhbnl0aGluZyBieVxuICAgKiAgIHRoZW1zZWx2ZXMuICBWVDIyMCBwYXJhbWV0ZXJzIGRvLCB0ZWxsaW5nIHRoZSBob3N0IHdoYXQgZmVhLVxuICAgKiAgIHR1cmVzIHRoZSB0ZXJtaW5hbCBzdXBwb3J0czpcbiAgICogICAgIFBzID0gMSAgLT4gMTMyLWNvbHVtbnMuXG4gICAqICAgICBQcyA9IDIgIC0+IFByaW50ZXIuXG4gICAqICAgICBQcyA9IDYgIC0+IFNlbGVjdGl2ZSBlcmFzZS5cbiAgICogICAgIFBzID0gOCAgLT4gVXNlci1kZWZpbmVkIGtleXMuXG4gICAqICAgICBQcyA9IDkgIC0+IE5hdGlvbmFsIHJlcGxhY2VtZW50IGNoYXJhY3RlciBzZXRzLlxuICAgKiAgICAgUHMgPSAxIDUgIC0+IFRlY2huaWNhbCBjaGFyYWN0ZXJzLlxuICAgKiAgICAgUHMgPSAyIDIgIC0+IEFOU0kgY29sb3IsIGUuZy4sIFZUNTI1LlxuICAgKiAgICAgUHMgPSAyIDkgIC0+IEFOU0kgdGV4dCBsb2NhdG9yIChpLmUuLCBERUMgTG9jYXRvciBtb2RlKS5cbiAgICogQ1NJID4gUHMgY1xuICAgKiAgIFNlbmQgRGV2aWNlIEF0dHJpYnV0ZXMgKFNlY29uZGFyeSBEQSkuXG4gICAqICAgICBQcyA9IDAgIG9yIG9taXR0ZWQgLT4gcmVxdWVzdCB0aGUgdGVybWluYWwncyBpZGVudGlmaWNhdGlvblxuICAgKiAgICAgY29kZS4gIFRoZSByZXNwb25zZSBkZXBlbmRzIG9uIHRoZSBkZWNUZXJtaW5hbElEIHJlc291cmNlIHNldC1cbiAgICogICAgIHRpbmcuICBJdCBzaG91bGQgYXBwbHkgb25seSB0byBWVDIyMCBhbmQgdXAsIGJ1dCB4dGVybSBleHRlbmRzXG4gICAqICAgICB0aGlzIHRvIFZUMTAwLlxuICAgKiAgICAgLT4gQ1NJICA+IFBwIDsgUHYgOyBQYyBjXG4gICAqICAgd2hlcmUgUHAgZGVub3RlcyB0aGUgdGVybWluYWwgdHlwZVxuICAgKiAgICAgUHAgPSAwICAtPiBgYFZUMTAwJycuXG4gICAqICAgICBQcCA9IDEgIC0+IGBgVlQyMjAnJy5cbiAgICogICBhbmQgUHYgaXMgdGhlIGZpcm13YXJlIHZlcnNpb24gKGZvciB4dGVybSwgdGhpcyB3YXMgb3JpZ2luYWxseVxuICAgKiAgIHRoZSBYRnJlZTg2IHBhdGNoIG51bWJlciwgc3RhcnRpbmcgd2l0aCA5NSkuICBJbiBhIERFQyB0ZXJtaS1cbiAgICogICBuYWwsIFBjIGluZGljYXRlcyB0aGUgUk9NIGNhcnRyaWRnZSByZWdpc3RyYXRpb24gbnVtYmVyIGFuZCBpc1xuICAgKiAgIGFsd2F5cyB6ZXJvLlxuICAgKiBNb3JlIGluZm9ybWF0aW9uOlxuICAgKiAgIHh0ZXJtL2NoYXJwcm9jLmMgLSBsaW5lIDIwMTIsIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKiAgIHZpbSByZXNwb25kcyB3aXRoIF5bWz8wYyBvciBeW1s/MWMgYWZ0ZXIgdGhlIHRlcm1pbmFsJ3MgcmVzcG9uc2UgKD8pXG4gICAqL1xuICBwdWJsaWMgc2VuZERldmljZUF0dHJpYnV0ZXMocGFyYW1zOiBudW1iZXJbXSwgY29sbGVjdD86IHN0cmluZyk6IHZvaWQge1xuICAgIGlmIChwYXJhbXNbMF0gPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFjb2xsZWN0KSB7XG4gICAgICBpZiAodGhpcy5fdGVybWluYWwuaXMoJ3h0ZXJtJykgfHwgdGhpcy5fdGVybWluYWwuaXMoJ3J4dnQtdW5pY29kZScpIHx8IHRoaXMuX3Rlcm1pbmFsLmlzKCdzY3JlZW4nKSkge1xuICAgICAgICB0aGlzLl90ZXJtaW5hbC5oYW5kbGVyKEMwLkVTQyArICdbPzE7MmMnKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fdGVybWluYWwuaXMoJ2xpbnV4JykpIHtcbiAgICAgICAgdGhpcy5fdGVybWluYWwuaGFuZGxlcihDMC5FU0MgKyAnWz82YycpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29sbGVjdCA9PT0gJz4nKSB7XG4gICAgICAvLyB4dGVybSBhbmQgdXJ4dnRcbiAgICAgIC8vIHNlZW0gdG8gc3BpdCB0aGlzXG4gICAgICAvLyBvdXQgYXJvdW5kIH4zNzAgdGltZXMgKD8pLlxuICAgICAgaWYgKHRoaXMuX3Rlcm1pbmFsLmlzKCd4dGVybScpKSB7XG4gICAgICAgIHRoaXMuX3Rlcm1pbmFsLmhhbmRsZXIoQzAuRVNDICsgJ1s+MDsyNzY7MGMnKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fdGVybWluYWwuaXMoJ3J4dnQtdW5pY29kZScpKSB7XG4gICAgICAgIHRoaXMuX3Rlcm1pbmFsLmhhbmRsZXIoQzAuRVNDICsgJ1s+ODU7OTU7MGMnKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fdGVybWluYWwuaXMoJ2xpbnV4JykpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZCBieSBsaW51eCBjb25zb2xlLlxuICAgICAgICAvLyBsaW51eCBjb25zb2xlIGVjaG9lcyBwYXJhbWV0ZXJzLlxuICAgICAgICB0aGlzLl90ZXJtaW5hbC5oYW5kbGVyKHBhcmFtc1swXSArICdjJyk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX3Rlcm1pbmFsLmlzKCdzY3JlZW4nKSkge1xuICAgICAgICB0aGlzLl90ZXJtaW5hbC5oYW5kbGVyKEMwLkVTQyArICdbPjgzOzQwMDAzOzBjJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENTSSBQbSBkICBWZXJ0aWNhbCBQb3NpdGlvbiBBYnNvbHV0ZSAoVlBBKVxuICAgKiAgIFtyb3ddIChkZWZhdWx0ID0gWzEsY29sdW1uXSlcbiAgICovXG4gIHB1YmxpYyBsaW5lUG9zQWJzb2x1dGUocGFyYW1zOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIGxldCBwYXJhbSA9IHBhcmFtc1swXTtcbiAgICBpZiAocGFyYW0gPCAxKSB7XG4gICAgICBwYXJhbSA9IDE7XG4gICAgfVxuICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55ID0gcGFyYW0gLSAxO1xuICAgIGlmICh0aGlzLl90ZXJtaW5hbC5idWZmZXIueSA+PSB0aGlzLl90ZXJtaW5hbC5yb3dzKSB7XG4gICAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIueSA9IHRoaXMuX3Rlcm1pbmFsLnJvd3MgLSAxO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDU0kgUG0gZSAgVmVydGljYWwgUG9zaXRpb24gUmVsYXRpdmUgKFZQUilcbiAgICogICBbcm93c10gKGRlZmF1bHQgPSBbcm93KzEsY29sdW1uXSlcbiAgICogcmV1c2UgQ1NJIFBzIEIgP1xuICAgKi9cbiAgcHVibGljIHZQb3NpdGlvblJlbGF0aXZlKHBhcmFtczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICBsZXQgcGFyYW0gPSBwYXJhbXNbMF07XG4gICAgaWYgKHBhcmFtIDwgMSkge1xuICAgICAgcGFyYW0gPSAxO1xuICAgIH1cbiAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIueSArPSBwYXJhbTtcbiAgICBpZiAodGhpcy5fdGVybWluYWwuYnVmZmVyLnkgPj0gdGhpcy5fdGVybWluYWwucm93cykge1xuICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnkgPSB0aGlzLl90ZXJtaW5hbC5yb3dzIC0gMTtcbiAgICB9XG4gICAgLy8gSWYgdGhlIGVuZCBvZiB0aGUgbGluZSBpcyBoaXQsIHByZXZlbnQgdGhpcyBhY3Rpb24gZnJvbSB3cmFwcGluZyBhcm91bmQgdG8gdGhlIG5leHQgbGluZS5cbiAgICBpZiAodGhpcy5fdGVybWluYWwuYnVmZmVyLnggPj0gdGhpcy5fdGVybWluYWwuY29scykge1xuICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLngtLTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ1NJIFBzIDsgUHMgZlxuICAgKiAgIEhvcml6b250YWwgYW5kIFZlcnRpY2FsIFBvc2l0aW9uIFtyb3c7Y29sdW1uXSAoZGVmYXVsdCA9XG4gICAqICAgWzEsMV0pIChIVlApLlxuICAgKi9cbiAgcHVibGljIGhWUG9zaXRpb24ocGFyYW1zOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIGlmIChwYXJhbXNbMF0gPCAxKSBwYXJhbXNbMF0gPSAxO1xuICAgIGlmIChwYXJhbXNbMV0gPCAxKSBwYXJhbXNbMV0gPSAxO1xuXG4gICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnkgPSBwYXJhbXNbMF0gLSAxO1xuICAgIGlmICh0aGlzLl90ZXJtaW5hbC5idWZmZXIueSA+PSB0aGlzLl90ZXJtaW5hbC5yb3dzKSB7XG4gICAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIueSA9IHRoaXMuX3Rlcm1pbmFsLnJvd3MgLSAxO1xuICAgIH1cblxuICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54ID0gcGFyYW1zWzFdIC0gMTtcbiAgICBpZiAodGhpcy5fdGVybWluYWwuYnVmZmVyLnggPj0gdGhpcy5fdGVybWluYWwuY29scykge1xuICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnggPSB0aGlzLl90ZXJtaW5hbC5jb2xzIC0gMTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ1NJIFBzIGcgIFRhYiBDbGVhciAoVEJDKS5cbiAgICogICAgIFBzID0gMCAgLT4gQ2xlYXIgQ3VycmVudCBDb2x1bW4gKGRlZmF1bHQpLlxuICAgKiAgICAgUHMgPSAzICAtPiBDbGVhciBBbGwuXG4gICAqIFBvdGVudGlhbGx5OlxuICAgKiAgIFBzID0gMiAgLT4gQ2xlYXIgU3RvcHMgb24gTGluZS5cbiAgICogICBodHRwOi8vdnQxMDAubmV0L2FubmFyYm9yL2FhYS11Zy9zZWN0aW9uNi5odG1sXG4gICAqL1xuICBwdWJsaWMgdGFiQ2xlYXIocGFyYW1zOiBudW1iZXJbXSk6IHZvaWQge1xuICAgIGNvbnN0IHBhcmFtID0gcGFyYW1zWzBdO1xuICAgIGlmIChwYXJhbSA8PSAwKSB7XG4gICAgICBkZWxldGUgdGhpcy5fdGVybWluYWwuYnVmZmVyLnRhYnNbdGhpcy5fdGVybWluYWwuYnVmZmVyLnhdO1xuICAgIH0gZWxzZSBpZiAocGFyYW0gPT09IDMpIHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci50YWJzID0ge307XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENTSSBQbSBoICBTZXQgTW9kZSAoU00pLlxuICAgKiAgICAgUHMgPSAyICAtPiBLZXlib2FyZCBBY3Rpb24gTW9kZSAoQU0pLlxuICAgKiAgICAgUHMgPSA0ICAtPiBJbnNlcnQgTW9kZSAoSVJNKS5cbiAgICogICAgIFBzID0gMSAyICAtPiBTZW5kL3JlY2VpdmUgKFNSTSkuXG4gICAqICAgICBQcyA9IDIgMCAgLT4gQXV0b21hdGljIE5ld2xpbmUgKExOTSkuXG4gICAqIENTSSA/IFBtIGhcbiAgICogICBERUMgUHJpdmF0ZSBNb2RlIFNldCAoREVDU0VUKS5cbiAgICogICAgIFBzID0gMSAgLT4gQXBwbGljYXRpb24gQ3Vyc29yIEtleXMgKERFQ0NLTSkuXG4gICAqICAgICBQcyA9IDIgIC0+IERlc2lnbmF0ZSBVU0FTQ0lJIGZvciBjaGFyYWN0ZXIgc2V0cyBHMC1HM1xuICAgKiAgICAgKERFQ0FOTSksIGFuZCBzZXQgVlQxMDAgbW9kZS5cbiAgICogICAgIFBzID0gMyAgLT4gMTMyIENvbHVtbiBNb2RlIChERUNDT0xNKS5cbiAgICogICAgIFBzID0gNCAgLT4gU21vb3RoIChTbG93KSBTY3JvbGwgKERFQ1NDTE0pLlxuICAgKiAgICAgUHMgPSA1ICAtPiBSZXZlcnNlIFZpZGVvIChERUNTQ05NKS5cbiAgICogICAgIFBzID0gNiAgLT4gT3JpZ2luIE1vZGUgKERFQ09NKS5cbiAgICogICAgIFBzID0gNyAgLT4gV3JhcGFyb3VuZCBNb2RlIChERUNBV00pLlxuICAgKiAgICAgUHMgPSA4ICAtPiBBdXRvLXJlcGVhdCBLZXlzIChERUNBUk0pLlxuICAgKiAgICAgUHMgPSA5ICAtPiBTZW5kIE1vdXNlIFggJiBZIG9uIGJ1dHRvbiBwcmVzcy4gIFNlZSB0aGUgc2VjLVxuICAgKiAgICAgdGlvbiBNb3VzZSBUcmFja2luZy5cbiAgICogICAgIFBzID0gMSAwICAtPiBTaG93IHRvb2xiYXIgKHJ4dnQpLlxuICAgKiAgICAgUHMgPSAxIDIgIC0+IFN0YXJ0IEJsaW5raW5nIEN1cnNvciAoYXR0NjEwKS5cbiAgICogICAgIFBzID0gMSA4ICAtPiBQcmludCBmb3JtIGZlZWQgKERFQ1BGRikuXG4gICAqICAgICBQcyA9IDEgOSAgLT4gU2V0IHByaW50IGV4dGVudCB0byBmdWxsIHNjcmVlbiAoREVDUEVYKS5cbiAgICogICAgIFBzID0gMiA1ICAtPiBTaG93IEN1cnNvciAoREVDVENFTSkuXG4gICAqICAgICBQcyA9IDMgMCAgLT4gU2hvdyBzY3JvbGxiYXIgKHJ4dnQpLlxuICAgKiAgICAgUHMgPSAzIDUgIC0+IEVuYWJsZSBmb250LXNoaWZ0aW5nIGZ1bmN0aW9ucyAocnh2dCkuXG4gICAqICAgICBQcyA9IDMgOCAgLT4gRW50ZXIgVGVrdHJvbml4IE1vZGUgKERFQ1RFSykuXG4gICAqICAgICBQcyA9IDQgMCAgLT4gQWxsb3cgODAgLT4gMTMyIE1vZGUuXG4gICAqICAgICBQcyA9IDQgMSAgLT4gbW9yZSgxKSBmaXggKHNlZSBjdXJzZXMgcmVzb3VyY2UpLlxuICAgKiAgICAgUHMgPSA0IDIgIC0+IEVuYWJsZSBOYXRpb24gUmVwbGFjZW1lbnQgQ2hhcmFjdGVyIHNldHMgKERFQ04tXG4gICAqICAgICBSQ00pLlxuICAgKiAgICAgUHMgPSA0IDQgIC0+IFR1cm4gT24gTWFyZ2luIEJlbGwuXG4gICAqICAgICBQcyA9IDQgNSAgLT4gUmV2ZXJzZS13cmFwYXJvdW5kIE1vZGUuXG4gICAqICAgICBQcyA9IDQgNiAgLT4gU3RhcnQgTG9nZ2luZy4gIFRoaXMgaXMgbm9ybWFsbHkgZGlzYWJsZWQgYnkgYVxuICAgKiAgICAgY29tcGlsZS10aW1lIG9wdGlvbi5cbiAgICogICAgIFBzID0gNCA3ICAtPiBVc2UgQWx0ZXJuYXRlIFNjcmVlbiBCdWZmZXIuICAoVGhpcyBtYXkgYmUgZGlzLVxuICAgKiAgICAgYWJsZWQgYnkgdGhlIHRpdGVJbmhpYml0IHJlc291cmNlKS5cbiAgICogICAgIFBzID0gNiA2ICAtPiBBcHBsaWNhdGlvbiBrZXlwYWQgKERFQ05LTSkuXG4gICAqICAgICBQcyA9IDYgNyAgLT4gQmFja2Fycm93IGtleSBzZW5kcyBiYWNrc3BhY2UgKERFQ0JLTSkuXG4gICAqICAgICBQcyA9IDEgMCAwIDAgIC0+IFNlbmQgTW91c2UgWCAmIFkgb24gYnV0dG9uIHByZXNzIGFuZFxuICAgKiAgICAgcmVsZWFzZS4gIFNlZSB0aGUgc2VjdGlvbiBNb3VzZSBUcmFja2luZy5cbiAgICogICAgIFBzID0gMSAwIDAgMSAgLT4gVXNlIEhpbGl0ZSBNb3VzZSBUcmFja2luZy5cbiAgICogICAgIFBzID0gMSAwIDAgMiAgLT4gVXNlIENlbGwgTW90aW9uIE1vdXNlIFRyYWNraW5nLlxuICAgKiAgICAgUHMgPSAxIDAgMCAzICAtPiBVc2UgQWxsIE1vdGlvbiBNb3VzZSBUcmFja2luZy5cbiAgICogICAgIFBzID0gMSAwIDAgNCAgLT4gU2VuZCBGb2N1c0luL0ZvY3VzT3V0IGV2ZW50cy5cbiAgICogICAgIFBzID0gMSAwIDAgNSAgLT4gRW5hYmxlIEV4dGVuZGVkIE1vdXNlIE1vZGUuXG4gICAqICAgICBQcyA9IDEgMCAxIDAgIC0+IFNjcm9sbCB0byBib3R0b20gb24gdHR5IG91dHB1dCAocnh2dCkuXG4gICAqICAgICBQcyA9IDEgMCAxIDEgIC0+IFNjcm9sbCB0byBib3R0b20gb24ga2V5IHByZXNzIChyeHZ0KS5cbiAgICogICAgIFBzID0gMSAwIDMgNCAgLT4gSW50ZXJwcmV0IFwibWV0YVwiIGtleSwgc2V0cyBlaWdodGggYml0LlxuICAgKiAgICAgKGVuYWJsZXMgdGhlIGVpZ2h0Qml0SW5wdXQgcmVzb3VyY2UpLlxuICAgKiAgICAgUHMgPSAxIDAgMyA1ICAtPiBFbmFibGUgc3BlY2lhbCBtb2RpZmllcnMgZm9yIEFsdCBhbmQgTnVtLVxuICAgKiAgICAgTG9jayBrZXlzLiAgKFRoaXMgZW5hYmxlcyB0aGUgbnVtTG9jayByZXNvdXJjZSkuXG4gICAqICAgICBQcyA9IDEgMCAzIDYgIC0+IFNlbmQgRVNDICAgd2hlbiBNZXRhIG1vZGlmaWVzIGEga2V5LiAgKFRoaXNcbiAgICogICAgIGVuYWJsZXMgdGhlIG1ldGFTZW5kc0VzY2FwZSByZXNvdXJjZSkuXG4gICAqICAgICBQcyA9IDEgMCAzIDcgIC0+IFNlbmQgREVMIGZyb20gdGhlIGVkaXRpbmcta2V5cGFkIERlbGV0ZVxuICAgKiAgICAga2V5LlxuICAgKiAgICAgUHMgPSAxIDAgMyA5ICAtPiBTZW5kIEVTQyAgd2hlbiBBbHQgbW9kaWZpZXMgYSBrZXkuICAoVGhpc1xuICAgKiAgICAgZW5hYmxlcyB0aGUgYWx0U2VuZHNFc2NhcGUgcmVzb3VyY2UpLlxuICAgKiAgICAgUHMgPSAxIDAgNCAwICAtPiBLZWVwIHNlbGVjdGlvbiBldmVuIGlmIG5vdCBoaWdobGlnaHRlZC5cbiAgICogICAgIChUaGlzIGVuYWJsZXMgdGhlIGtlZXBTZWxlY3Rpb24gcmVzb3VyY2UpLlxuICAgKiAgICAgUHMgPSAxIDAgNCAxICAtPiBVc2UgdGhlIENMSVBCT0FSRCBzZWxlY3Rpb24uICAoVGhpcyBlbmFibGVzXG4gICAqICAgICB0aGUgc2VsZWN0VG9DbGlwYm9hcmQgcmVzb3VyY2UpLlxuICAgKiAgICAgUHMgPSAxIDAgNCAyICAtPiBFbmFibGUgVXJnZW5jeSB3aW5kb3cgbWFuYWdlciBoaW50IHdoZW5cbiAgICogICAgIENvbnRyb2wtRyBpcyByZWNlaXZlZC4gIChUaGlzIGVuYWJsZXMgdGhlIGJlbGxJc1VyZ2VudFxuICAgKiAgICAgcmVzb3VyY2UpLlxuICAgKiAgICAgUHMgPSAxIDAgNCAzICAtPiBFbmFibGUgcmFpc2luZyBvZiB0aGUgd2luZG93IHdoZW4gQ29udHJvbC1HXG4gICAqICAgICBpcyByZWNlaXZlZC4gIChlbmFibGVzIHRoZSBwb3BPbkJlbGwgcmVzb3VyY2UpLlxuICAgKiAgICAgUHMgPSAxIDAgNCA3ICAtPiBVc2UgQWx0ZXJuYXRlIFNjcmVlbiBCdWZmZXIuICAoVGhpcyBtYXkgYmVcbiAgICogICAgIGRpc2FibGVkIGJ5IHRoZSB0aXRlSW5oaWJpdCByZXNvdXJjZSkuXG4gICAqICAgICBQcyA9IDEgMCA0IDggIC0+IFNhdmUgY3Vyc29yIGFzIGluIERFQ1NDLiAgKFRoaXMgbWF5IGJlIGRpcy1cbiAgICogICAgIGFibGVkIGJ5IHRoZSB0aXRlSW5oaWJpdCByZXNvdXJjZSkuXG4gICAqICAgICBQcyA9IDEgMCA0IDkgIC0+IFNhdmUgY3Vyc29yIGFzIGluIERFQ1NDIGFuZCB1c2UgQWx0ZXJuYXRlXG4gICAqICAgICBTY3JlZW4gQnVmZmVyLCBjbGVhcmluZyBpdCBmaXJzdC4gIChUaGlzIG1heSBiZSBkaXNhYmxlZCBieVxuICAgKiAgICAgdGhlIHRpdGVJbmhpYml0IHJlc291cmNlKS4gIFRoaXMgY29tYmluZXMgdGhlIGVmZmVjdHMgb2YgdGhlIDFcbiAgICogICAgIDAgNCA3ICBhbmQgMSAwIDQgOCAgbW9kZXMuICBVc2UgdGhpcyB3aXRoIHRlcm1pbmZvLWJhc2VkXG4gICAqICAgICBhcHBsaWNhdGlvbnMgcmF0aGVyIHRoYW4gdGhlIDQgNyAgbW9kZS5cbiAgICogICAgIFBzID0gMSAwIDUgMCAgLT4gU2V0IHRlcm1pbmZvL3Rlcm1jYXAgZnVuY3Rpb24ta2V5IG1vZGUuXG4gICAqICAgICBQcyA9IDEgMCA1IDEgIC0+IFNldCBTdW4gZnVuY3Rpb24ta2V5IG1vZGUuXG4gICAqICAgICBQcyA9IDEgMCA1IDIgIC0+IFNldCBIUCBmdW5jdGlvbi1rZXkgbW9kZS5cbiAgICogICAgIFBzID0gMSAwIDUgMyAgLT4gU2V0IFNDTyBmdW5jdGlvbi1rZXkgbW9kZS5cbiAgICogICAgIFBzID0gMSAwIDYgMCAgLT4gU2V0IGxlZ2FjeSBrZXlib2FyZCBlbXVsYXRpb24gKFgxMVI2KS5cbiAgICogICAgIFBzID0gMSAwIDYgMSAgLT4gU2V0IFZUMjIwIGtleWJvYXJkIGVtdWxhdGlvbi5cbiAgICogICAgIFBzID0gMiAwIDAgNCAgLT4gU2V0IGJyYWNrZXRlZCBwYXN0ZSBtb2RlLlxuICAgKiBNb2RlczpcbiAgICogICBodHRwOiAqdnQxMDAubmV0L2RvY3MvdnQyMjAtcm0vY2hhcHRlcjQuaHRtbFxuICAgKi9cbiAgcHVibGljIHNldE1vZGUocGFyYW1zOiBudW1iZXJbXSwgY29sbGVjdD86IHN0cmluZyk6IHZvaWQge1xuICAgIGlmIChwYXJhbXMubGVuZ3RoID4gMSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5zZXRNb2RlKFtwYXJhbXNbaV1dKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghY29sbGVjdCkge1xuICAgICAgc3dpdGNoIChwYXJhbXNbMF0pIHtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLmluc2VydE1vZGUgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgIC8vIHRoaXMuX3QuY29udmVydEVvbCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb2xsZWN0ID09PSAnPycpIHtcbiAgICAgIHN3aXRjaCAocGFyYW1zWzBdKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5hcHBsaWNhdGlvbkN1cnNvciA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5zZXRnQ2hhcnNldCgwLCBERUZBVUxUX0NIQVJTRVQpO1xuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLnNldGdDaGFyc2V0KDEsIERFRkFVTFRfQ0hBUlNFVCk7XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuc2V0Z0NoYXJzZXQoMiwgREVGQVVMVF9DSEFSU0VUKTtcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5zZXRnQ2hhcnNldCgzLCBERUZBVUxUX0NIQVJTRVQpO1xuICAgICAgICAgIC8vIHNldCBWVDEwMCBtb2RlIGhlcmVcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOiAvLyAxMzIgY29sIG1vZGVcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5zYXZlZENvbHMgPSB0aGlzLl90ZXJtaW5hbC5jb2xzO1xuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLnJlc2l6ZSgxMzIsIHRoaXMuX3Rlcm1pbmFsLnJvd3MpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwub3JpZ2luTW9kZSA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC53cmFwYXJvdW5kTW9kZSA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgLy8gdGhpcy5jdXJzb3JCbGluayA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNjY6XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwubG9nKCdTZXJpYWwgcG9ydCByZXF1ZXN0ZWQgYXBwbGljYXRpb24ga2V5cGFkLicpO1xuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLmFwcGxpY2F0aW9uS2V5cGFkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAodGhpcy5fdGVybWluYWwudmlld3BvcnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLnZpZXdwb3J0LnN5bmNTY3JvbGxBcmVhKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDk6IC8vIFgxMCBNb3VzZVxuICAgICAgICAgIC8vIG5vIHJlbGVhc2UsIG5vIG1vdGlvbiwgbm8gd2hlZWwsIG5vIG1vZGlmaWVycy5cbiAgICAgICAgY2FzZSAxMDAwOiAvLyB2dDIwMCBtb3VzZVxuICAgICAgICAgIC8vIG5vIG1vdGlvbi5cbiAgICAgICAgICAvLyBubyBtb2RpZmllcnMsIGV4Y2VwdCBjb250cm9sIG9uIHRoZSB3aGVlbC5cbiAgICAgICAgY2FzZSAxMDAyOiAvLyBidXR0b24gZXZlbnQgbW91c2VcbiAgICAgICAgY2FzZSAxMDAzOiAvLyBhbnkgZXZlbnQgbW91c2VcbiAgICAgICAgICAvLyBhbnkgZXZlbnQgLSBzZW5kcyBtb3Rpb24gZXZlbnRzLFxuICAgICAgICAgIC8vIGV2ZW4gaWYgdGhlcmUgaXMgbm8gYnV0dG9uIGhlbGQgZG93bi5cblxuICAgICAgICAgIC8vIFRPRE86IFdoeSBhcmUgcGFyYW1zWzBdIGNvbXBhcmVzIG5lc3RlZCB3aXRoaW4gYSBzd2l0Y2ggZm9yIHBhcmFtc1swXT9cblxuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLngxME1vdXNlID0gcGFyYW1zWzBdID09PSA5O1xuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLnZ0MjAwTW91c2UgPSBwYXJhbXNbMF0gPT09IDEwMDA7XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwubm9ybWFsTW91c2UgPSBwYXJhbXNbMF0gPiAxMDAwO1xuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLm1vdXNlRXZlbnRzID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2VuYWJsZS1tb3VzZS1ldmVudHMnKTtcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5zZWxlY3Rpb25NYW5hZ2VyLmRpc2FibGUoKTtcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5sb2coJ0JpbmRpbmcgdG8gbW91c2UgZXZlbnRzLicpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEwMDQ6IC8vIHNlbmQgZm9jdXNpbi9mb2N1c291dCBldmVudHNcbiAgICAgICAgICAvLyBmb2N1c2luOiBeW1tJXG4gICAgICAgICAgLy8gZm9jdXNvdXQ6IF5bW09cbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5zZW5kRm9jdXMgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEwMDU6IC8vIHV0ZjggZXh0IG1vZGUgbW91c2VcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC51dGZNb3VzZSA9IHRydWU7XG4gICAgICAgICAgLy8gZm9yIHdpZGUgdGVybWluYWxzXG4gICAgICAgICAgLy8gc2ltcGx5IGVuY29kZXMgbGFyZ2UgdmFsdWVzIGFzIHV0ZjggY2hhcmFjdGVyc1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEwMDY6IC8vIHNnciBleHQgbW9kZSBtb3VzZVxuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLnNnck1vdXNlID0gdHJ1ZTtcbiAgICAgICAgICAvLyBmb3Igd2lkZSB0ZXJtaW5hbHNcbiAgICAgICAgICAvLyBkb2VzIG5vdCBhZGQgMzIgdG8gZmllbGRzXG4gICAgICAgICAgLy8gcHJlc3M6IF5bWzxiO3g7eU1cbiAgICAgICAgICAvLyByZWxlYXNlOiBeW1s8Yjt4O3ltXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTAxNTogLy8gdXJ4dnQgZXh0IG1vZGUgbW91c2VcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC51cnh2dE1vdXNlID0gdHJ1ZTtcbiAgICAgICAgICAvLyBmb3Igd2lkZSB0ZXJtaW5hbHNcbiAgICAgICAgICAvLyBudW1iZXJzIGZvciBmaWVsZHNcbiAgICAgICAgICAvLyBwcmVzczogXltbYjt4O3lNXG4gICAgICAgICAgLy8gbW90aW9uOiBeW1tiO3g7eVRcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNTogLy8gc2hvdyBjdXJzb3JcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5jdXJzb3JIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMDQ4OiAvLyBhbHQgc2NyZWVuIGN1cnNvclxuICAgICAgICAgIHRoaXMuc2F2ZUN1cnNvcihwYXJhbXMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEwNDk6IC8vIGFsdCBzY3JlZW4gYnVmZmVyIGN1cnNvclxuICAgICAgICAgIHRoaXMuc2F2ZUN1cnNvcihwYXJhbXMpO1xuICAgICAgICAgIC8vIEZBTEwtVEhST1VHSFxuICAgICAgICBjYXNlIDQ3OiAvLyBhbHQgc2NyZWVuIGJ1ZmZlclxuICAgICAgICBjYXNlIDEwNDc6IC8vIGFsdCBzY3JlZW4gYnVmZmVyXG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVycy5hY3RpdmF0ZUFsdEJ1ZmZlcih0aGlzLl90ZXJtaW5hbC5lcmFzZUF0dHIoKSk7XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwucmVmcmVzaCgwLCB0aGlzLl90ZXJtaW5hbC5yb3dzIC0gMSk7XG4gICAgICAgICAgaWYgKHRoaXMuX3Rlcm1pbmFsLnZpZXdwb3J0KSB7XG4gICAgICAgICAgICB0aGlzLl90ZXJtaW5hbC52aWV3cG9ydC5zeW5jU2Nyb2xsQXJlYSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5zaG93Q3Vyc29yKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjAwNDogLy8gYnJhY2tldGVkIHBhc3RlIG1vZGUgKGh0dHBzOi8vY2lydy5pbi9ibG9nL2JyYWNrZXRlZC1wYXN0ZSlcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5icmFja2V0ZWRQYXN0ZU1vZGUgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDU0kgUG0gbCAgUmVzZXQgTW9kZSAoUk0pLlxuICAgKiAgICAgUHMgPSAyICAtPiBLZXlib2FyZCBBY3Rpb24gTW9kZSAoQU0pLlxuICAgKiAgICAgUHMgPSA0ICAtPiBSZXBsYWNlIE1vZGUgKElSTSkuXG4gICAqICAgICBQcyA9IDEgMiAgLT4gU2VuZC9yZWNlaXZlIChTUk0pLlxuICAgKiAgICAgUHMgPSAyIDAgIC0+IE5vcm1hbCBMaW5lZmVlZCAoTE5NKS5cbiAgICogQ1NJID8gUG0gbFxuICAgKiAgIERFQyBQcml2YXRlIE1vZGUgUmVzZXQgKERFQ1JTVCkuXG4gICAqICAgICBQcyA9IDEgIC0+IE5vcm1hbCBDdXJzb3IgS2V5cyAoREVDQ0tNKS5cbiAgICogICAgIFBzID0gMiAgLT4gRGVzaWduYXRlIFZUNTIgbW9kZSAoREVDQU5NKS5cbiAgICogICAgIFBzID0gMyAgLT4gODAgQ29sdW1uIE1vZGUgKERFQ0NPTE0pLlxuICAgKiAgICAgUHMgPSA0ICAtPiBKdW1wIChGYXN0KSBTY3JvbGwgKERFQ1NDTE0pLlxuICAgKiAgICAgUHMgPSA1ICAtPiBOb3JtYWwgVmlkZW8gKERFQ1NDTk0pLlxuICAgKiAgICAgUHMgPSA2ICAtPiBOb3JtYWwgQ3Vyc29yIE1vZGUgKERFQ09NKS5cbiAgICogICAgIFBzID0gNyAgLT4gTm8gV3JhcGFyb3VuZCBNb2RlIChERUNBV00pLlxuICAgKiAgICAgUHMgPSA4ICAtPiBObyBBdXRvLXJlcGVhdCBLZXlzIChERUNBUk0pLlxuICAgKiAgICAgUHMgPSA5ICAtPiBEb24ndCBzZW5kIE1vdXNlIFggJiBZIG9uIGJ1dHRvbiBwcmVzcy5cbiAgICogICAgIFBzID0gMSAwICAtPiBIaWRlIHRvb2xiYXIgKHJ4dnQpLlxuICAgKiAgICAgUHMgPSAxIDIgIC0+IFN0b3AgQmxpbmtpbmcgQ3Vyc29yIChhdHQ2MTApLlxuICAgKiAgICAgUHMgPSAxIDggIC0+IERvbid0IHByaW50IGZvcm0gZmVlZCAoREVDUEZGKS5cbiAgICogICAgIFBzID0gMSA5ICAtPiBMaW1pdCBwcmludCB0byBzY3JvbGxpbmcgcmVnaW9uIChERUNQRVgpLlxuICAgKiAgICAgUHMgPSAyIDUgIC0+IEhpZGUgQ3Vyc29yIChERUNUQ0VNKS5cbiAgICogICAgIFBzID0gMyAwICAtPiBEb24ndCBzaG93IHNjcm9sbGJhciAocnh2dCkuXG4gICAqICAgICBQcyA9IDMgNSAgLT4gRGlzYWJsZSBmb250LXNoaWZ0aW5nIGZ1bmN0aW9ucyAocnh2dCkuXG4gICAqICAgICBQcyA9IDQgMCAgLT4gRGlzYWxsb3cgODAgLT4gMTMyIE1vZGUuXG4gICAqICAgICBQcyA9IDQgMSAgLT4gTm8gbW9yZSgxKSBmaXggKHNlZSBjdXJzZXMgcmVzb3VyY2UpLlxuICAgKiAgICAgUHMgPSA0IDIgIC0+IERpc2FibGUgTmF0aW9uIFJlcGxhY2VtZW50IENoYXJhY3RlciBzZXRzIChERUMtXG4gICAqICAgICBOUkNNKS5cbiAgICogICAgIFBzID0gNCA0ICAtPiBUdXJuIE9mZiBNYXJnaW4gQmVsbC5cbiAgICogICAgIFBzID0gNCA1ICAtPiBObyBSZXZlcnNlLXdyYXBhcm91bmQgTW9kZS5cbiAgICogICAgIFBzID0gNCA2ICAtPiBTdG9wIExvZ2dpbmcuICAoVGhpcyBpcyBub3JtYWxseSBkaXNhYmxlZCBieSBhXG4gICAqICAgICBjb21waWxlLXRpbWUgb3B0aW9uKS5cbiAgICogICAgIFBzID0gNCA3ICAtPiBVc2UgTm9ybWFsIFNjcmVlbiBCdWZmZXIuXG4gICAqICAgICBQcyA9IDYgNiAgLT4gTnVtZXJpYyBrZXlwYWQgKERFQ05LTSkuXG4gICAqICAgICBQcyA9IDYgNyAgLT4gQmFja2Fycm93IGtleSBzZW5kcyBkZWxldGUgKERFQ0JLTSkuXG4gICAqICAgICBQcyA9IDEgMCAwIDAgIC0+IERvbid0IHNlbmQgTW91c2UgWCAmIFkgb24gYnV0dG9uIHByZXNzIGFuZFxuICAgKiAgICAgcmVsZWFzZS4gIFNlZSB0aGUgc2VjdGlvbiBNb3VzZSBUcmFja2luZy5cbiAgICogICAgIFBzID0gMSAwIDAgMSAgLT4gRG9uJ3QgdXNlIEhpbGl0ZSBNb3VzZSBUcmFja2luZy5cbiAgICogICAgIFBzID0gMSAwIDAgMiAgLT4gRG9uJ3QgdXNlIENlbGwgTW90aW9uIE1vdXNlIFRyYWNraW5nLlxuICAgKiAgICAgUHMgPSAxIDAgMCAzICAtPiBEb24ndCB1c2UgQWxsIE1vdGlvbiBNb3VzZSBUcmFja2luZy5cbiAgICogICAgIFBzID0gMSAwIDAgNCAgLT4gRG9uJ3Qgc2VuZCBGb2N1c0luL0ZvY3VzT3V0IGV2ZW50cy5cbiAgICogICAgIFBzID0gMSAwIDAgNSAgLT4gRGlzYWJsZSBFeHRlbmRlZCBNb3VzZSBNb2RlLlxuICAgKiAgICAgUHMgPSAxIDAgMSAwICAtPiBEb24ndCBzY3JvbGwgdG8gYm90dG9tIG9uIHR0eSBvdXRwdXRcbiAgICogICAgIChyeHZ0KS5cbiAgICogICAgIFBzID0gMSAwIDEgMSAgLT4gRG9uJ3Qgc2Nyb2xsIHRvIGJvdHRvbSBvbiBrZXkgcHJlc3MgKHJ4dnQpLlxuICAgKiAgICAgUHMgPSAxIDAgMyA0ICAtPiBEb24ndCBpbnRlcnByZXQgXCJtZXRhXCIga2V5LiAgKFRoaXMgZGlzYWJsZXNcbiAgICogICAgIHRoZSBlaWdodEJpdElucHV0IHJlc291cmNlKS5cbiAgICogICAgIFBzID0gMSAwIDMgNSAgLT4gRGlzYWJsZSBzcGVjaWFsIG1vZGlmaWVycyBmb3IgQWx0IGFuZCBOdW0tXG4gICAqICAgICBMb2NrIGtleXMuICAoVGhpcyBkaXNhYmxlcyB0aGUgbnVtTG9jayByZXNvdXJjZSkuXG4gICAqICAgICBQcyA9IDEgMCAzIDYgIC0+IERvbid0IHNlbmQgRVNDICB3aGVuIE1ldGEgbW9kaWZpZXMgYSBrZXkuXG4gICAqICAgICAoVGhpcyBkaXNhYmxlcyB0aGUgbWV0YVNlbmRzRXNjYXBlIHJlc291cmNlKS5cbiAgICogICAgIFBzID0gMSAwIDMgNyAgLT4gU2VuZCBWVDIyMCBSZW1vdmUgZnJvbSB0aGUgZWRpdGluZy1rZXlwYWRcbiAgICogICAgIERlbGV0ZSBrZXkuXG4gICAqICAgICBQcyA9IDEgMCAzIDkgIC0+IERvbid0IHNlbmQgRVNDICB3aGVuIEFsdCBtb2RpZmllcyBhIGtleS5cbiAgICogICAgIChUaGlzIGRpc2FibGVzIHRoZSBhbHRTZW5kc0VzY2FwZSByZXNvdXJjZSkuXG4gICAqICAgICBQcyA9IDEgMCA0IDAgIC0+IERvIG5vdCBrZWVwIHNlbGVjdGlvbiB3aGVuIG5vdCBoaWdobGlnaHRlZC5cbiAgICogICAgIChUaGlzIGRpc2FibGVzIHRoZSBrZWVwU2VsZWN0aW9uIHJlc291cmNlKS5cbiAgICogICAgIFBzID0gMSAwIDQgMSAgLT4gVXNlIHRoZSBQUklNQVJZIHNlbGVjdGlvbi4gIChUaGlzIGRpc2FibGVzXG4gICAqICAgICB0aGUgc2VsZWN0VG9DbGlwYm9hcmQgcmVzb3VyY2UpLlxuICAgKiAgICAgUHMgPSAxIDAgNCAyICAtPiBEaXNhYmxlIFVyZ2VuY3kgd2luZG93IG1hbmFnZXIgaGludCB3aGVuXG4gICAqICAgICBDb250cm9sLUcgaXMgcmVjZWl2ZWQuICAoVGhpcyBkaXNhYmxlcyB0aGUgYmVsbElzVXJnZW50XG4gICAqICAgICByZXNvdXJjZSkuXG4gICAqICAgICBQcyA9IDEgMCA0IDMgIC0+IERpc2FibGUgcmFpc2luZyBvZiB0aGUgd2luZG93IHdoZW4gQ29udHJvbC1cbiAgICogICAgIEcgaXMgcmVjZWl2ZWQuICAoVGhpcyBkaXNhYmxlcyB0aGUgcG9wT25CZWxsIHJlc291cmNlKS5cbiAgICogICAgIFBzID0gMSAwIDQgNyAgLT4gVXNlIE5vcm1hbCBTY3JlZW4gQnVmZmVyLCBjbGVhcmluZyBzY3JlZW5cbiAgICogICAgIGZpcnN0IGlmIGluIHRoZSBBbHRlcm5hdGUgU2NyZWVuLiAgKFRoaXMgbWF5IGJlIGRpc2FibGVkIGJ5XG4gICAqICAgICB0aGUgdGl0ZUluaGliaXQgcmVzb3VyY2UpLlxuICAgKiAgICAgUHMgPSAxIDAgNCA4ICAtPiBSZXN0b3JlIGN1cnNvciBhcyBpbiBERUNSQy4gIChUaGlzIG1heSBiZVxuICAgKiAgICAgZGlzYWJsZWQgYnkgdGhlIHRpdGVJbmhpYml0IHJlc291cmNlKS5cbiAgICogICAgIFBzID0gMSAwIDQgOSAgLT4gVXNlIE5vcm1hbCBTY3JlZW4gQnVmZmVyIGFuZCByZXN0b3JlIGN1cnNvclxuICAgKiAgICAgYXMgaW4gREVDUkMuICAoVGhpcyBtYXkgYmUgZGlzYWJsZWQgYnkgdGhlIHRpdGVJbmhpYml0XG4gICAqICAgICByZXNvdXJjZSkuICBUaGlzIGNvbWJpbmVzIHRoZSBlZmZlY3RzIG9mIHRoZSAxIDAgNCA3ICBhbmQgMSAwXG4gICAqICAgICA0IDggIG1vZGVzLiAgVXNlIHRoaXMgd2l0aCB0ZXJtaW5mby1iYXNlZCBhcHBsaWNhdGlvbnMgcmF0aGVyXG4gICAqICAgICB0aGFuIHRoZSA0IDcgIG1vZGUuXG4gICAqICAgICBQcyA9IDEgMCA1IDAgIC0+IFJlc2V0IHRlcm1pbmZvL3Rlcm1jYXAgZnVuY3Rpb24ta2V5IG1vZGUuXG4gICAqICAgICBQcyA9IDEgMCA1IDEgIC0+IFJlc2V0IFN1biBmdW5jdGlvbi1rZXkgbW9kZS5cbiAgICogICAgIFBzID0gMSAwIDUgMiAgLT4gUmVzZXQgSFAgZnVuY3Rpb24ta2V5IG1vZGUuXG4gICAqICAgICBQcyA9IDEgMCA1IDMgIC0+IFJlc2V0IFNDTyBmdW5jdGlvbi1rZXkgbW9kZS5cbiAgICogICAgIFBzID0gMSAwIDYgMCAgLT4gUmVzZXQgbGVnYWN5IGtleWJvYXJkIGVtdWxhdGlvbiAoWDExUjYpLlxuICAgKiAgICAgUHMgPSAxIDAgNiAxICAtPiBSZXNldCBrZXlib2FyZCBlbXVsYXRpb24gdG8gU3VuL1BDIHN0eWxlLlxuICAgKiAgICAgUHMgPSAyIDAgMCA0ICAtPiBSZXNldCBicmFja2V0ZWQgcGFzdGUgbW9kZS5cbiAgICovXG4gIHB1YmxpYyByZXNldE1vZGUocGFyYW1zOiBudW1iZXJbXSwgY29sbGVjdD86IHN0cmluZyk6IHZvaWQge1xuICAgIGlmIChwYXJhbXMubGVuZ3RoID4gMSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5yZXNldE1vZGUoW3BhcmFtc1tpXV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFjb2xsZWN0KSB7XG4gICAgICBzd2l0Y2ggKHBhcmFtc1swXSkge1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuaW5zZXJ0TW9kZSA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgIC8vIHRoaXMuX3QuY29udmVydEVvbCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY29sbGVjdCA9PT0gJz8nKSB7XG4gICAgICBzd2l0Y2ggKHBhcmFtc1swXSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuYXBwbGljYXRpb25DdXJzb3IgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGlmICh0aGlzLl90ZXJtaW5hbC5jb2xzID09PSAxMzIgJiYgdGhpcy5fdGVybWluYWwuc2F2ZWRDb2xzKSB7XG4gICAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5yZXNpemUodGhpcy5fdGVybWluYWwuc2F2ZWRDb2xzLCB0aGlzLl90ZXJtaW5hbC5yb3dzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIHRoaXMuX3Rlcm1pbmFsLnNhdmVkQ29scztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLm9yaWdpbk1vZGUgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLndyYXBhcm91bmRNb2RlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgLy8gdGhpcy5jdXJzb3JCbGluayA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY2OlxuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLmxvZygnU3dpdGNoaW5nIGJhY2sgdG8gbm9ybWFsIGtleXBhZC4nKTtcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5hcHBsaWNhdGlvbktleXBhZCA9IGZhbHNlO1xuICAgICAgICAgIGlmICh0aGlzLl90ZXJtaW5hbC52aWV3cG9ydCkge1xuICAgICAgICAgICAgdGhpcy5fdGVybWluYWwudmlld3BvcnQuc3luY1Njcm9sbEFyZWEoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgOTogLy8gWDEwIE1vdXNlXG4gICAgICAgIGNhc2UgMTAwMDogLy8gdnQyMDAgbW91c2VcbiAgICAgICAgY2FzZSAxMDAyOiAvLyBidXR0b24gZXZlbnQgbW91c2VcbiAgICAgICAgY2FzZSAxMDAzOiAvLyBhbnkgZXZlbnQgbW91c2VcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC54MTBNb3VzZSA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLnZ0MjAwTW91c2UgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5ub3JtYWxNb3VzZSA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLm1vdXNlRXZlbnRzID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdlbmFibGUtbW91c2UtZXZlbnRzJyk7XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuc2VsZWN0aW9uTWFuYWdlci5lbmFibGUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMDA0OiAvLyBzZW5kIGZvY3VzaW4vZm9jdXNvdXQgZXZlbnRzXG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuc2VuZEZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTAwNTogLy8gdXRmOCBleHQgbW9kZSBtb3VzZVxuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLnV0Zk1vdXNlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTAwNjogLy8gc2dyIGV4dCBtb2RlIG1vdXNlXG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuc2dyTW91c2UgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMDE1OiAvLyB1cnh2dCBleHQgbW9kZSBtb3VzZVxuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLnVyeHZ0TW91c2UgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNTogLy8gaGlkZSBjdXJzb3JcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5jdXJzb3JIaWRkZW4gPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEwNDg6IC8vIGFsdCBzY3JlZW4gY3Vyc29yXG4gICAgICAgICAgdGhpcy5yZXN0b3JlQ3Vyc29yKHBhcmFtcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTA0OTogLy8gYWx0IHNjcmVlbiBidWZmZXIgY3Vyc29yXG4gICAgICAgICAgIC8vIEZBTEwtVEhST1VHSFxuICAgICAgICBjYXNlIDQ3OiAvLyBub3JtYWwgc2NyZWVuIGJ1ZmZlclxuICAgICAgICBjYXNlIDEwNDc6IC8vIG5vcm1hbCBzY3JlZW4gYnVmZmVyIC0gY2xlYXJpbmcgaXQgZmlyc3RcbiAgICAgICAgICAvLyBFbnN1cmUgdGhlIHNlbGVjdGlvbiBtYW5hZ2VyIGhhcyB0aGUgY29ycmVjdCBidWZmZXJcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXJzLmFjdGl2YXRlTm9ybWFsQnVmZmVyKCk7XG4gICAgICAgICAgaWYgKHBhcmFtc1swXSA9PT0gMTA0OSkge1xuICAgICAgICAgICAgdGhpcy5yZXN0b3JlQ3Vyc29yKHBhcmFtcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLnJlZnJlc2goMCwgdGhpcy5fdGVybWluYWwucm93cyAtIDEpO1xuICAgICAgICAgIGlmICh0aGlzLl90ZXJtaW5hbC52aWV3cG9ydCkge1xuICAgICAgICAgICAgdGhpcy5fdGVybWluYWwudmlld3BvcnQuc3luY1Njcm9sbEFyZWEoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuc2hvd0N1cnNvcigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIwMDQ6IC8vIGJyYWNrZXRlZCBwYXN0ZSBtb2RlIChodHRwczovL2NpcncuaW4vYmxvZy9icmFja2V0ZWQtcGFzdGUpXG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuYnJhY2tldGVkUGFzdGVNb2RlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENTSSBQbSBtICBDaGFyYWN0ZXIgQXR0cmlidXRlcyAoU0dSKS5cbiAgICogICAgIFBzID0gMCAgLT4gTm9ybWFsIChkZWZhdWx0KS5cbiAgICogICAgIFBzID0gMSAgLT4gQm9sZC5cbiAgICogICAgIFBzID0gMiAgLT4gRmFpbnQsIGRlY3JlYXNlZCBpbnRlbnNpdHkgKElTTyA2NDI5KS5cbiAgICogICAgIFBzID0gNCAgLT4gVW5kZXJsaW5lZC5cbiAgICogICAgIFBzID0gNSAgLT4gQmxpbmsgKGFwcGVhcnMgYXMgQm9sZCkuXG4gICAqICAgICBQcyA9IDcgIC0+IEludmVyc2UuXG4gICAqICAgICBQcyA9IDggIC0+IEludmlzaWJsZSwgaS5lLiwgaGlkZGVuIChWVDMwMCkuXG4gICAqICAgICBQcyA9IDIgMiAgLT4gTm9ybWFsIChuZWl0aGVyIGJvbGQgbm9yIGZhaW50KS5cbiAgICogICAgIFBzID0gMiA0ICAtPiBOb3QgdW5kZXJsaW5lZC5cbiAgICogICAgIFBzID0gMiA1ICAtPiBTdGVhZHkgKG5vdCBibGlua2luZykuXG4gICAqICAgICBQcyA9IDIgNyAgLT4gUG9zaXRpdmUgKG5vdCBpbnZlcnNlKS5cbiAgICogICAgIFBzID0gMiA4ICAtPiBWaXNpYmxlLCBpLmUuLCBub3QgaGlkZGVuIChWVDMwMCkuXG4gICAqICAgICBQcyA9IDMgMCAgLT4gU2V0IGZvcmVncm91bmQgY29sb3IgdG8gQmxhY2suXG4gICAqICAgICBQcyA9IDMgMSAgLT4gU2V0IGZvcmVncm91bmQgY29sb3IgdG8gUmVkLlxuICAgKiAgICAgUHMgPSAzIDIgIC0+IFNldCBmb3JlZ3JvdW5kIGNvbG9yIHRvIEdyZWVuLlxuICAgKiAgICAgUHMgPSAzIDMgIC0+IFNldCBmb3JlZ3JvdW5kIGNvbG9yIHRvIFllbGxvdy5cbiAgICogICAgIFBzID0gMyA0ICAtPiBTZXQgZm9yZWdyb3VuZCBjb2xvciB0byBCbHVlLlxuICAgKiAgICAgUHMgPSAzIDUgIC0+IFNldCBmb3JlZ3JvdW5kIGNvbG9yIHRvIE1hZ2VudGEuXG4gICAqICAgICBQcyA9IDMgNiAgLT4gU2V0IGZvcmVncm91bmQgY29sb3IgdG8gQ3lhbi5cbiAgICogICAgIFBzID0gMyA3ICAtPiBTZXQgZm9yZWdyb3VuZCBjb2xvciB0byBXaGl0ZS5cbiAgICogICAgIFBzID0gMyA5ICAtPiBTZXQgZm9yZWdyb3VuZCBjb2xvciB0byBkZWZhdWx0IChvcmlnaW5hbCkuXG4gICAqICAgICBQcyA9IDQgMCAgLT4gU2V0IGJhY2tncm91bmQgY29sb3IgdG8gQmxhY2suXG4gICAqICAgICBQcyA9IDQgMSAgLT4gU2V0IGJhY2tncm91bmQgY29sb3IgdG8gUmVkLlxuICAgKiAgICAgUHMgPSA0IDIgIC0+IFNldCBiYWNrZ3JvdW5kIGNvbG9yIHRvIEdyZWVuLlxuICAgKiAgICAgUHMgPSA0IDMgIC0+IFNldCBiYWNrZ3JvdW5kIGNvbG9yIHRvIFllbGxvdy5cbiAgICogICAgIFBzID0gNCA0ICAtPiBTZXQgYmFja2dyb3VuZCBjb2xvciB0byBCbHVlLlxuICAgKiAgICAgUHMgPSA0IDUgIC0+IFNldCBiYWNrZ3JvdW5kIGNvbG9yIHRvIE1hZ2VudGEuXG4gICAqICAgICBQcyA9IDQgNiAgLT4gU2V0IGJhY2tncm91bmQgY29sb3IgdG8gQ3lhbi5cbiAgICogICAgIFBzID0gNCA3ICAtPiBTZXQgYmFja2dyb3VuZCBjb2xvciB0byBXaGl0ZS5cbiAgICogICAgIFBzID0gNCA5ICAtPiBTZXQgYmFja2dyb3VuZCBjb2xvciB0byBkZWZhdWx0IChvcmlnaW5hbCkuXG4gICAqXG4gICAqICAgSWYgMTYtY29sb3Igc3VwcG9ydCBpcyBjb21waWxlZCwgdGhlIGZvbGxvd2luZyBhcHBseS4gIEFzc3VtZVxuICAgKiAgIHRoYXQgeHRlcm0ncyByZXNvdXJjZXMgYXJlIHNldCBzbyB0aGF0IHRoZSBJU08gY29sb3IgY29kZXMgYXJlXG4gICAqICAgdGhlIGZpcnN0IDggb2YgYSBzZXQgb2YgMTYuICBUaGVuIHRoZSBhaXh0ZXJtIGNvbG9ycyBhcmUgdGhlXG4gICAqICAgYnJpZ2h0IHZlcnNpb25zIG9mIHRoZSBJU08gY29sb3JzOlxuICAgKiAgICAgUHMgPSA5IDAgIC0+IFNldCBmb3JlZ3JvdW5kIGNvbG9yIHRvIEJsYWNrLlxuICAgKiAgICAgUHMgPSA5IDEgIC0+IFNldCBmb3JlZ3JvdW5kIGNvbG9yIHRvIFJlZC5cbiAgICogICAgIFBzID0gOSAyICAtPiBTZXQgZm9yZWdyb3VuZCBjb2xvciB0byBHcmVlbi5cbiAgICogICAgIFBzID0gOSAzICAtPiBTZXQgZm9yZWdyb3VuZCBjb2xvciB0byBZZWxsb3cuXG4gICAqICAgICBQcyA9IDkgNCAgLT4gU2V0IGZvcmVncm91bmQgY29sb3IgdG8gQmx1ZS5cbiAgICogICAgIFBzID0gOSA1ICAtPiBTZXQgZm9yZWdyb3VuZCBjb2xvciB0byBNYWdlbnRhLlxuICAgKiAgICAgUHMgPSA5IDYgIC0+IFNldCBmb3JlZ3JvdW5kIGNvbG9yIHRvIEN5YW4uXG4gICAqICAgICBQcyA9IDkgNyAgLT4gU2V0IGZvcmVncm91bmQgY29sb3IgdG8gV2hpdGUuXG4gICAqICAgICBQcyA9IDEgMCAwICAtPiBTZXQgYmFja2dyb3VuZCBjb2xvciB0byBCbGFjay5cbiAgICogICAgIFBzID0gMSAwIDEgIC0+IFNldCBiYWNrZ3JvdW5kIGNvbG9yIHRvIFJlZC5cbiAgICogICAgIFBzID0gMSAwIDIgIC0+IFNldCBiYWNrZ3JvdW5kIGNvbG9yIHRvIEdyZWVuLlxuICAgKiAgICAgUHMgPSAxIDAgMyAgLT4gU2V0IGJhY2tncm91bmQgY29sb3IgdG8gWWVsbG93LlxuICAgKiAgICAgUHMgPSAxIDAgNCAgLT4gU2V0IGJhY2tncm91bmQgY29sb3IgdG8gQmx1ZS5cbiAgICogICAgIFBzID0gMSAwIDUgIC0+IFNldCBiYWNrZ3JvdW5kIGNvbG9yIHRvIE1hZ2VudGEuXG4gICAqICAgICBQcyA9IDEgMCA2ICAtPiBTZXQgYmFja2dyb3VuZCBjb2xvciB0byBDeWFuLlxuICAgKiAgICAgUHMgPSAxIDAgNyAgLT4gU2V0IGJhY2tncm91bmQgY29sb3IgdG8gV2hpdGUuXG4gICAqXG4gICAqICAgSWYgeHRlcm0gaXMgY29tcGlsZWQgd2l0aCB0aGUgMTYtY29sb3Igc3VwcG9ydCBkaXNhYmxlZCwgaXRcbiAgICogICBzdXBwb3J0cyB0aGUgZm9sbG93aW5nLCBmcm9tIHJ4dnQ6XG4gICAqICAgICBQcyA9IDEgMCAwICAtPiBTZXQgZm9yZWdyb3VuZCBhbmQgYmFja2dyb3VuZCBjb2xvciB0b1xuICAgKiAgICAgZGVmYXVsdC5cbiAgICpcbiAgICogICBJZiA4OC0gb3IgMjU2LWNvbG9yIHN1cHBvcnQgaXMgY29tcGlsZWQsIHRoZSBmb2xsb3dpbmcgYXBwbHkuXG4gICAqICAgICBQcyA9IDMgOCAgOyA1ICA7IFBzIC0+IFNldCBmb3JlZ3JvdW5kIGNvbG9yIHRvIHRoZSBzZWNvbmRcbiAgICogICAgIFBzLlxuICAgKiAgICAgUHMgPSA0IDggIDsgNSAgOyBQcyAtPiBTZXQgYmFja2dyb3VuZCBjb2xvciB0byB0aGUgc2Vjb25kXG4gICAqICAgICBQcy5cbiAgICovXG4gIHB1YmxpYyBjaGFyQXR0cmlidXRlcyhwYXJhbXM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgLy8gT3B0aW1pemUgYSBzaW5nbGUgU0dSMC5cbiAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMSAmJiBwYXJhbXNbMF0gPT09IDApIHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmN1ckF0dHIgPSBERUZBVUxUX0FUVFI7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbCA9IHBhcmFtcy5sZW5ndGg7XG4gICAgbGV0IGZsYWdzID0gdGhpcy5fdGVybWluYWwuY3VyQXR0ciA+PiAxODtcbiAgICBsZXQgZmcgPSAodGhpcy5fdGVybWluYWwuY3VyQXR0ciA+PiA5KSAmIDB4MWZmO1xuICAgIGxldCBiZyA9IHRoaXMuX3Rlcm1pbmFsLmN1ckF0dHIgJiAweDFmZjtcbiAgICBsZXQgcDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBwID0gcGFyYW1zW2ldO1xuICAgICAgaWYgKHAgPj0gMzAgJiYgcCA8PSAzNykge1xuICAgICAgICAvLyBmZyBjb2xvciA4XG4gICAgICAgIGZnID0gcCAtIDMwO1xuICAgICAgfSBlbHNlIGlmIChwID49IDQwICYmIHAgPD0gNDcpIHtcbiAgICAgICAgLy8gYmcgY29sb3IgOFxuICAgICAgICBiZyA9IHAgLSA0MDtcbiAgICAgIH0gZWxzZSBpZiAocCA+PSA5MCAmJiBwIDw9IDk3KSB7XG4gICAgICAgIC8vIGZnIGNvbG9yIDE2XG4gICAgICAgIHAgKz0gODtcbiAgICAgICAgZmcgPSBwIC0gOTA7XG4gICAgICB9IGVsc2UgaWYgKHAgPj0gMTAwICYmIHAgPD0gMTA3KSB7XG4gICAgICAgIC8vIGJnIGNvbG9yIDE2XG4gICAgICAgIHAgKz0gODtcbiAgICAgICAgYmcgPSBwIC0gMTAwO1xuICAgICAgfSBlbHNlIGlmIChwID09PSAwKSB7XG4gICAgICAgIC8vIGRlZmF1bHRcbiAgICAgICAgZmxhZ3MgPSBERUZBVUxUX0FUVFIgPj4gMTg7XG4gICAgICAgIGZnID0gKERFRkFVTFRfQVRUUiA+PiA5KSAmIDB4MWZmO1xuICAgICAgICBiZyA9IERFRkFVTFRfQVRUUiAmIDB4MWZmO1xuICAgICAgICAvLyBmbGFncyA9IDA7XG4gICAgICAgIC8vIGZnID0gMHgxZmY7XG4gICAgICAgIC8vIGJnID0gMHgxZmY7XG4gICAgICB9IGVsc2UgaWYgKHAgPT09IDEpIHtcbiAgICAgICAgLy8gYm9sZCB0ZXh0XG4gICAgICAgIGZsYWdzIHw9IEZMQUdTLkJPTEQ7XG4gICAgICB9IGVsc2UgaWYgKHAgPT09IDMpIHtcbiAgICAgICAgLy8gaXRhbGljIHRleHRcbiAgICAgICAgZmxhZ3MgfD0gRkxBR1MuSVRBTElDO1xuICAgICAgfSBlbHNlIGlmIChwID09PSA0KSB7XG4gICAgICAgIC8vIHVuZGVybGluZWQgdGV4dFxuICAgICAgICBmbGFncyB8PSBGTEFHUy5VTkRFUkxJTkU7XG4gICAgICB9IGVsc2UgaWYgKHAgPT09IDUpIHtcbiAgICAgICAgLy8gYmxpbmtcbiAgICAgICAgZmxhZ3MgfD0gRkxBR1MuQkxJTks7XG4gICAgICB9IGVsc2UgaWYgKHAgPT09IDcpIHtcbiAgICAgICAgLy8gaW52ZXJzZSBhbmQgcG9zaXRpdmVcbiAgICAgICAgLy8gdGVzdCB3aXRoOiBlY2hvIC1lICdcXGVbMzFtXFxlWzQybWhlbGxvXFxlWzdtd29ybGRcXGVbMjdtaGlcXGVbbSdcbiAgICAgICAgZmxhZ3MgfD0gRkxBR1MuSU5WRVJTRTtcbiAgICAgIH0gZWxzZSBpZiAocCA9PT0gOCkge1xuICAgICAgICAvLyBpbnZpc2libGVcbiAgICAgICAgZmxhZ3MgfD0gRkxBR1MuSU5WSVNJQkxFO1xuICAgICAgfSBlbHNlIGlmIChwID09PSAyKSB7XG4gICAgICAgIC8vIGRpbW1lZCB0ZXh0XG4gICAgICAgIGZsYWdzIHw9IEZMQUdTLkRJTTtcbiAgICAgIH0gZWxzZSBpZiAocCA9PT0gMjIpIHtcbiAgICAgICAgLy8gbm90IGJvbGQgbm9yIGZhaW50XG4gICAgICAgIGZsYWdzICY9IH5GTEFHUy5CT0xEO1xuICAgICAgICBmbGFncyAmPSB+RkxBR1MuRElNO1xuICAgICAgfSBlbHNlIGlmIChwID09PSAyMykge1xuICAgICAgICAvLyBub3QgaXRhbGljXG4gICAgICAgIGZsYWdzICY9IH5GTEFHUy5JVEFMSUM7XG4gICAgICB9IGVsc2UgaWYgKHAgPT09IDI0KSB7XG4gICAgICAgIC8vIG5vdCB1bmRlcmxpbmVkXG4gICAgICAgIGZsYWdzICY9IH5GTEFHUy5VTkRFUkxJTkU7XG4gICAgICB9IGVsc2UgaWYgKHAgPT09IDI1KSB7XG4gICAgICAgIC8vIG5vdCBibGlua1xuICAgICAgICBmbGFncyAmPSB+RkxBR1MuQkxJTks7XG4gICAgICB9IGVsc2UgaWYgKHAgPT09IDI3KSB7XG4gICAgICAgIC8vIG5vdCBpbnZlcnNlXG4gICAgICAgIGZsYWdzICY9IH5GTEFHUy5JTlZFUlNFO1xuICAgICAgfSBlbHNlIGlmIChwID09PSAyOCkge1xuICAgICAgICAvLyBub3QgaW52aXNpYmxlXG4gICAgICAgIGZsYWdzICY9IH5GTEFHUy5JTlZJU0lCTEU7XG4gICAgICB9IGVsc2UgaWYgKHAgPT09IDM5KSB7XG4gICAgICAgIC8vIHJlc2V0IGZnXG4gICAgICAgIGZnID0gKERFRkFVTFRfQVRUUiA+PiA5KSAmIDB4MWZmO1xuICAgICAgfSBlbHNlIGlmIChwID09PSA0OSkge1xuICAgICAgICAvLyByZXNldCBiZ1xuICAgICAgICBiZyA9IERFRkFVTFRfQVRUUiAmIDB4MWZmO1xuICAgICAgfSBlbHNlIGlmIChwID09PSAzOCkge1xuICAgICAgICAvLyBmZyBjb2xvciAyNTZcbiAgICAgICAgaWYgKHBhcmFtc1tpICsgMV0gPT09IDIpIHtcbiAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgZmcgPSB0aGlzLl90ZXJtaW5hbC5tYXRjaENvbG9yKFxuICAgICAgICAgICAgcGFyYW1zW2ldICYgMHhmZixcbiAgICAgICAgICAgIHBhcmFtc1tpICsgMV0gJiAweGZmLFxuICAgICAgICAgICAgcGFyYW1zW2kgKyAyXSAmIDB4ZmYpO1xuICAgICAgICAgIGlmIChmZyA9PT0gLTEpIGZnID0gMHgxZmY7XG4gICAgICAgICAgaSArPSAyO1xuICAgICAgICB9IGVsc2UgaWYgKHBhcmFtc1tpICsgMV0gPT09IDUpIHtcbiAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgcCA9IHBhcmFtc1tpXSAmIDB4ZmY7XG4gICAgICAgICAgZmcgPSBwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHAgPT09IDQ4KSB7XG4gICAgICAgIC8vIGJnIGNvbG9yIDI1NlxuICAgICAgICBpZiAocGFyYW1zW2kgKyAxXSA9PT0gMikge1xuICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICBiZyA9IHRoaXMuX3Rlcm1pbmFsLm1hdGNoQ29sb3IoXG4gICAgICAgICAgICBwYXJhbXNbaV0gJiAweGZmLFxuICAgICAgICAgICAgcGFyYW1zW2kgKyAxXSAmIDB4ZmYsXG4gICAgICAgICAgICBwYXJhbXNbaSArIDJdICYgMHhmZik7XG4gICAgICAgICAgaWYgKGJnID09PSAtMSkgYmcgPSAweDFmZjtcbiAgICAgICAgICBpICs9IDI7XG4gICAgICAgIH0gZWxzZSBpZiAocGFyYW1zW2kgKyAxXSA9PT0gNSkge1xuICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICBwID0gcGFyYW1zW2ldICYgMHhmZjtcbiAgICAgICAgICBiZyA9IHA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocCA9PT0gMTAwKSB7XG4gICAgICAgIC8vIHJlc2V0IGZnL2JnXG4gICAgICAgIGZnID0gKERFRkFVTFRfQVRUUiA+PiA5KSAmIDB4MWZmO1xuICAgICAgICBiZyA9IERFRkFVTFRfQVRUUiAmIDB4MWZmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fdGVybWluYWwuZXJyb3IoJ1Vua25vd24gU0dSIGF0dHJpYnV0ZTogJWQuJywgcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fdGVybWluYWwuY3VyQXR0ciA9IChmbGFncyA8PCAxOCkgfCAoZmcgPDwgOSkgfCBiZztcbiAgfVxuXG4gIC8qKlxuICAgKiBDU0kgUHMgbiAgRGV2aWNlIFN0YXR1cyBSZXBvcnQgKERTUikuXG4gICAqICAgICBQcyA9IDUgIC0+IFN0YXR1cyBSZXBvcnQuICBSZXN1bHQgKGBgT0snJykgaXNcbiAgICogICBDU0kgMCBuXG4gICAqICAgICBQcyA9IDYgIC0+IFJlcG9ydCBDdXJzb3IgUG9zaXRpb24gKENQUikgW3Jvdztjb2x1bW5dLlxuICAgKiAgIFJlc3VsdCBpc1xuICAgKiAgIENTSSByIDsgYyBSXG4gICAqIENTSSA/IFBzIG5cbiAgICogICBEZXZpY2UgU3RhdHVzIFJlcG9ydCAoRFNSLCBERUMtc3BlY2lmaWMpLlxuICAgKiAgICAgUHMgPSA2ICAtPiBSZXBvcnQgQ3Vyc29yIFBvc2l0aW9uIChDUFIpIFtyb3c7Y29sdW1uXSBhcyBDU0lcbiAgICogICAgID8gciA7IGMgUiAoYXNzdW1lcyBwYWdlIGlzIHplcm8pLlxuICAgKiAgICAgUHMgPSAxIDUgIC0+IFJlcG9ydCBQcmludGVyIHN0YXR1cyBhcyBDU0kgPyAxIDAgIG4gIChyZWFkeSkuXG4gICAqICAgICBvciBDU0kgPyAxIDEgIG4gIChub3QgcmVhZHkpLlxuICAgKiAgICAgUHMgPSAyIDUgIC0+IFJlcG9ydCBVREsgc3RhdHVzIGFzIENTSSA/IDIgMCAgbiAgKHVubG9ja2VkKVxuICAgKiAgICAgb3IgQ1NJID8gMiAxICBuICAobG9ja2VkKS5cbiAgICogICAgIFBzID0gMiA2ICAtPiBSZXBvcnQgS2V5Ym9hcmQgc3RhdHVzIGFzXG4gICAqICAgQ1NJID8gMiA3ICA7ICAxICA7ICAwICA7ICAwICBuICAoTm9ydGggQW1lcmljYW4pLlxuICAgKiAgIFRoZSBsYXN0IHR3byBwYXJhbWV0ZXJzIGFwcGx5IHRvIFZUNDAwICYgdXAsIGFuZCBkZW5vdGUga2V5LVxuICAgKiAgIGJvYXJkIHJlYWR5IGFuZCBMSzAxIHJlc3BlY3RpdmVseS5cbiAgICogICAgIFBzID0gNSAzICAtPiBSZXBvcnQgTG9jYXRvciBzdGF0dXMgYXNcbiAgICogICBDU0kgPyA1IDMgIG4gIExvY2F0b3IgYXZhaWxhYmxlLCBpZiBjb21waWxlZC1pbiwgb3JcbiAgICogICBDU0kgPyA1IDAgIG4gIE5vIExvY2F0b3IsIGlmIG5vdC5cbiAgICovXG4gIHB1YmxpYyBkZXZpY2VTdGF0dXMocGFyYW1zOiBudW1iZXJbXSwgY29sbGVjdD86IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghY29sbGVjdCkge1xuICAgICAgc3dpdGNoIChwYXJhbXNbMF0pIHtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIC8vIHN0YXR1cyByZXBvcnRcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5lbWl0KCdkYXRhJywgYCR7QzAuRVNDfVswbmApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgLy8gY3Vyc29yIHBvc2l0aW9uXG4gICAgICAgICAgY29uc3QgeSA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55ICsgMTtcbiAgICAgICAgICBjb25zdCB4ID0gdGhpcy5fdGVybWluYWwuYnVmZmVyLnggKyAxO1xuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLmVtaXQoJ2RhdGEnLCBgJHtDMC5FU0N9WyR7eX07JHt4fVJgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvbGxlY3QgPT09ICc/Jykge1xuICAgICAgLy8gbW9kZXJuIHh0ZXJtIGRvZXNudCBzZWVtIHRvXG4gICAgICAvLyByZXNwb25kIHRvIGFueSBvZiB0aGVzZSBleGNlcHQgPzYsIDYsIGFuZCA1XG4gICAgICBzd2l0Y2ggKHBhcmFtc1swXSkge1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgLy8gY3Vyc29yIHBvc2l0aW9uXG4gICAgICAgICAgY29uc3QgeSA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55ICsgMTtcbiAgICAgICAgICBjb25zdCB4ID0gdGhpcy5fdGVybWluYWwuYnVmZmVyLnggKyAxO1xuICAgICAgICAgIHRoaXMuX3Rlcm1pbmFsLmVtaXQoJ2RhdGEnLCBgJHtDMC5FU0N9Wz8ke3l9OyR7eH1SYCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgLy8gbm8gcHJpbnRlclxuICAgICAgICAgIC8vIHRoaXMuaGFuZGxlcihDMC5FU0MgKyAnWz8xMW4nKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNTpcbiAgICAgICAgICAvLyBkb250IHN1cHBvcnQgdXNlciBkZWZpbmVkIGtleXNcbiAgICAgICAgICAvLyB0aGlzLmhhbmRsZXIoQzAuRVNDICsgJ1s/MjFuJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgLy8gbm9ydGggYW1lcmljYW4ga2V5Ym9hcmRcbiAgICAgICAgICAvLyB0aGlzLmhhbmRsZXIoQzAuRVNDICsgJ1s/Mjc7MTswOzBuJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTM6XG4gICAgICAgICAgLy8gbm8gZGVjIGxvY2F0b3IvbW91c2VcbiAgICAgICAgICAvLyB0aGlzLmhhbmRsZXIoQzAuRVNDICsgJ1s/NTBuJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENTSSAhIHAgICBTb2Z0IHRlcm1pbmFsIHJlc2V0IChERUNTVFIpLlxuICAgKiBodHRwOi8vdnQxMDAubmV0L2RvY3MvdnQyMjAtcm0vdGFibGU0LTEwLmh0bWxcbiAgICovXG4gIHB1YmxpYyBzb2Z0UmVzZXQocGFyYW1zOiBudW1iZXJbXSwgY29sbGVjdD86IHN0cmluZyk6IHZvaWQge1xuICAgIGlmIChjb2xsZWN0ID09PSAnIScpIHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmN1cnNvckhpZGRlbiA9IGZhbHNlO1xuICAgICAgdGhpcy5fdGVybWluYWwuaW5zZXJ0TW9kZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fdGVybWluYWwub3JpZ2luTW9kZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fdGVybWluYWwud3JhcGFyb3VuZE1vZGUgPSB0cnVlOyAgLy8gZGVmYXVsdHM6IHh0ZXJtIC0gdHJ1ZSwgdnQxMDAgLSBmYWxzZVxuICAgICAgdGhpcy5fdGVybWluYWwuYXBwbGljYXRpb25LZXlwYWQgPSBmYWxzZTsgLy8gP1xuICAgICAgaWYgKHRoaXMuX3Rlcm1pbmFsLnZpZXdwb3J0KSB7XG4gICAgICAgIHRoaXMuX3Rlcm1pbmFsLnZpZXdwb3J0LnN5bmNTY3JvbGxBcmVhKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl90ZXJtaW5hbC5hcHBsaWNhdGlvbkN1cnNvciA9IGZhbHNlO1xuICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnNjcm9sbFRvcCA9IDA7XG4gICAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIuc2Nyb2xsQm90dG9tID0gdGhpcy5fdGVybWluYWwucm93cyAtIDE7XG4gICAgICB0aGlzLl90ZXJtaW5hbC5jdXJBdHRyID0gREVGQVVMVF9BVFRSO1xuICAgICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnggPSB0aGlzLl90ZXJtaW5hbC5idWZmZXIueSA9IDA7IC8vID9cbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmNoYXJzZXQgPSBudWxsO1xuICAgICAgdGhpcy5fdGVybWluYWwuZ2xldmVsID0gMDsgLy8gPz9cbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmNoYXJzZXRzID0gW251bGxdOyAvLyA/P1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDU0kgUHMgU1AgcSAgU2V0IGN1cnNvciBzdHlsZSAoREVDU0NVU1IsIFZUNTIwKS5cbiAgICogICBQcyA9IDAgIC0+IGJsaW5raW5nIGJsb2NrLlxuICAgKiAgIFBzID0gMSAgLT4gYmxpbmtpbmcgYmxvY2sgKGRlZmF1bHQpLlxuICAgKiAgIFBzID0gMiAgLT4gc3RlYWR5IGJsb2NrLlxuICAgKiAgIFBzID0gMyAgLT4gYmxpbmtpbmcgdW5kZXJsaW5lLlxuICAgKiAgIFBzID0gNCAgLT4gc3RlYWR5IHVuZGVybGluZS5cbiAgICogICBQcyA9IDUgIC0+IGJsaW5raW5nIGJhciAoeHRlcm0pLlxuICAgKiAgIFBzID0gNiAgLT4gc3RlYWR5IGJhciAoeHRlcm0pLlxuICAgKi9cbiAgcHVibGljIHNldEN1cnNvclN0eWxlKHBhcmFtcz86IG51bWJlcltdLCBjb2xsZWN0Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKGNvbGxlY3QgPT09ICcgJykge1xuICAgICAgY29uc3QgcGFyYW0gPSBwYXJhbXNbMF0gPCAxID8gMSA6IHBhcmFtc1swXTtcbiAgICAgIHN3aXRjaCAocGFyYW0pIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgdGhpcy5fdGVybWluYWwuc2V0T3B0aW9uKCdjdXJzb3JTdHlsZScsICdibG9jaycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5zZXRPcHRpb24oJ2N1cnNvclN0eWxlJywgJ3VuZGVybGluZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICB0aGlzLl90ZXJtaW5hbC5zZXRPcHRpb24oJ2N1cnNvclN0eWxlJywgJ2JhcicpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY29uc3QgaXNCbGlua2luZyA9IHBhcmFtICUgMiA9PT0gMTtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLnNldE9wdGlvbignY3Vyc29yQmxpbmsnLCBpc0JsaW5raW5nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ1NJIFBzIDsgUHMgclxuICAgKiAgIFNldCBTY3JvbGxpbmcgUmVnaW9uIFt0b3A7Ym90dG9tXSAoZGVmYXVsdCA9IGZ1bGwgc2l6ZSBvZiB3aW4tXG4gICAqICAgZG93KSAoREVDU1RCTSkuXG4gICAqIENTSSA/IFBtIHJcbiAgICovXG4gIHB1YmxpYyBzZXRTY3JvbGxSZWdpb24ocGFyYW1zOiBudW1iZXJbXSwgY29sbGVjdD86IHN0cmluZyk6IHZvaWQge1xuICAgIGlmIChjb2xsZWN0KSByZXR1cm47XG4gICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnNjcm9sbFRvcCA9IChwYXJhbXNbMF0gfHwgMSkgLSAxO1xuICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci5zY3JvbGxCb3R0b20gPSAocGFyYW1zWzFdICYmIHBhcmFtc1sxXSA8PSB0aGlzLl90ZXJtaW5hbC5yb3dzID8gcGFyYW1zWzFdIDogdGhpcy5fdGVybWluYWwucm93cykgLSAxO1xuICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54ID0gMDtcbiAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIueSA9IDA7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBDU0kgc1xuICAgKiBFU0MgN1xuICAgKiAgIFNhdmUgY3Vyc29yIChBTlNJLlNZUykuXG4gICAqL1xuICBwdWJsaWMgc2F2ZUN1cnNvcihwYXJhbXM6IG51bWJlcltdKTogdm9pZCB7XG4gICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLnNhdmVkWCA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54O1xuICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci5zYXZlZFkgPSB0aGlzLl90ZXJtaW5hbC5idWZmZXIueTtcbiAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIuc2F2ZWRDdXJBdHRyID0gdGhpcy5fdGVybWluYWwuY3VyQXR0cjtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENTSSB1XG4gICAqIEVTQyA4XG4gICAqICAgUmVzdG9yZSBjdXJzb3IgKEFOU0kuU1lTKS5cbiAgICovXG4gIHB1YmxpYyByZXN0b3JlQ3Vyc29yKHBhcmFtczogbnVtYmVyW10pOiB2b2lkIHtcbiAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIueCA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci5zYXZlZFggfHwgMDtcbiAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXIueSA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci5zYXZlZFkgfHwgMDtcbiAgICB0aGlzLl90ZXJtaW5hbC5jdXJBdHRyID0gdGhpcy5fdGVybWluYWwuYnVmZmVyLnNhdmVkQ3VyQXR0ciB8fCBERUZBVUxUX0FUVFI7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBPU0MgMDsgPGRhdGE+IFNUIChzZXQgaWNvbiBuYW1lICsgd2luZG93IHRpdGxlKVxuICAgKiBPU0MgMjsgPGRhdGE+IFNUIChzZXQgd2luZG93IHRpdGxlKVxuICAgKiAgIFByb3h5IHRvIHNldCB3aW5kb3cgdGl0bGUuIEljb24gbmFtZSBpcyBub3Qgc3VwcG9ydGVkLlxuICAgKi9cbiAgcHVibGljIHNldFRpdGxlKGRhdGE6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuX3Rlcm1pbmFsLmhhbmRsZVRpdGxlKGRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVTQyBFXG4gICAqIEMxLk5FTFxuICAgKiAgIERFQyBtbmVtb25pYzogTkVMIChodHRwczovL3Z0MTAwLm5ldC9kb2NzL3Z0NTEwLXJtL05FTClcbiAgICogICBNb3ZlcyBjdXJzb3IgdG8gZmlyc3QgcG9zaXRpb24gb24gbmV4dCBsaW5lLlxuICAgKi9cbiAgcHVibGljIG5leHRMaW5lKCk6IHZvaWQge1xuICAgIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci54ID0gMDtcbiAgICB0aGlzLmluZGV4KCk7XG4gIH1cblxuICAvKipcbiAgICogRVNDID1cbiAgICogICBERUMgbW5lbW9uaWM6IERFQ0tQQU0gKGh0dHBzOi8vdnQxMDAubmV0L2RvY3MvdnQ1MTAtcm0vREVDS1BBTS5odG1sKVxuICAgKiAgIEVuYWJsZXMgdGhlIG51bWVyaWMga2V5cGFkIHRvIHNlbmQgYXBwbGljYXRpb24gc2VxdWVuY2VzIHRvIHRoZSBob3N0LlxuICAgKi9cbiAgcHVibGljIGtleXBhZEFwcGxpY2F0aW9uTW9kZSgpOiB2b2lkIHtcbiAgICB0aGlzLl90ZXJtaW5hbC5sb2coJ1NlcmlhbCBwb3J0IHJlcXVlc3RlZCBhcHBsaWNhdGlvbiBrZXlwYWQuJyk7XG4gICAgdGhpcy5fdGVybWluYWwuYXBwbGljYXRpb25LZXlwYWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLl90ZXJtaW5hbC52aWV3cG9ydCkge1xuICAgICAgdGhpcy5fdGVybWluYWwudmlld3BvcnQuc3luY1Njcm9sbEFyZWEoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRVNDID5cbiAgICogICBERUMgbW5lbW9uaWM6IERFQ0tQTk0gKGh0dHBzOi8vdnQxMDAubmV0L2RvY3MvdnQ1MTAtcm0vREVDS1BOTS5odG1sKVxuICAgKiAgIEVuYWJsZXMgdGhlIGtleXBhZCB0byBzZW5kIG51bWVyaWMgY2hhcmFjdGVycyB0byB0aGUgaG9zdC5cbiAgICovXG4gIHB1YmxpYyBrZXlwYWROdW1lcmljTW9kZSgpOiB2b2lkIHtcbiAgICB0aGlzLl90ZXJtaW5hbC5sb2coJ1N3aXRjaGluZyBiYWNrIHRvIG5vcm1hbCBrZXlwYWQuJyk7XG4gICAgdGhpcy5fdGVybWluYWwuYXBwbGljYXRpb25LZXlwYWQgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5fdGVybWluYWwudmlld3BvcnQpIHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLnZpZXdwb3J0LnN5bmNTY3JvbGxBcmVhKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVTQyAlIEBcbiAgICogRVNDICUgR1xuICAgKiAgIFNlbGVjdCBkZWZhdWx0IGNoYXJhY3RlciBzZXQuIFVURi04IGlzIG5vdCBzdXBwb3J0ZWQgKHN0cmluZyBhcmUgdW5pY29kZSBhbnl3YXlzKVxuICAgKiAgIHRoZXJlZm9yZSBFU0MgJSBHIGRvZXMgdGhlIHNhbWUuXG4gICAqL1xuICBwdWJsaWMgc2VsZWN0RGVmYXVsdENoYXJzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5fdGVybWluYWwuc2V0Z0xldmVsKDApO1xuICAgIHRoaXMuX3Rlcm1pbmFsLnNldGdDaGFyc2V0KDAsIERFRkFVTFRfQ0hBUlNFVCk7IC8vIFVTIChkZWZhdWx0KVxuICB9XG5cbiAgLyoqXG4gICAqIEVTQyAoIENcbiAgICogICBEZXNpZ25hdGUgRzAgQ2hhcmFjdGVyIFNldCwgVlQxMDAsIElTTyAyMDIyLlxuICAgKiBFU0MgKSBDXG4gICAqICAgRGVzaWduYXRlIEcxIENoYXJhY3RlciBTZXQgKElTTyAyMDIyLCBWVDEwMCkuXG4gICAqIEVTQyAqIENcbiAgICogICBEZXNpZ25hdGUgRzIgQ2hhcmFjdGVyIFNldCAoSVNPIDIwMjIsIFZUMjIwKS5cbiAgICogRVNDICsgQ1xuICAgKiAgIERlc2lnbmF0ZSBHMyBDaGFyYWN0ZXIgU2V0IChJU08gMjAyMiwgVlQyMjApLlxuICAgKiBFU0MgLSBDXG4gICAqICAgRGVzaWduYXRlIEcxIENoYXJhY3RlciBTZXQgKFZUMzAwKS5cbiAgICogRVNDIC4gQ1xuICAgKiAgIERlc2lnbmF0ZSBHMiBDaGFyYWN0ZXIgU2V0IChWVDMwMCkuXG4gICAqIEVTQyAvIENcbiAgICogICBEZXNpZ25hdGUgRzMgQ2hhcmFjdGVyIFNldCAoVlQzMDApLiBDID0gQSAgLT4gSVNPIExhdGluLTEgU3VwcGxlbWVudGFsLiAtIFN1cHBvcnRlZD9cbiAgICovXG4gIHB1YmxpYyBzZWxlY3RDaGFyc2V0KGNvbGxlY3RBbmRGbGFnOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoY29sbGVjdEFuZEZsYWcubGVuZ3RoICE9PSAyKSByZXR1cm4gdGhpcy5zZWxlY3REZWZhdWx0Q2hhcnNldCgpO1xuICAgIGlmIChjb2xsZWN0QW5kRmxhZ1swXSA9PT0gJy8nKSByZXR1cm47ICAvLyBUT0RPOiBJcyB0aGlzIHN1cHBvcnRlZD9cbiAgICB0aGlzLl90ZXJtaW5hbC5zZXRnQ2hhcnNldChHTEVWRUxbY29sbGVjdEFuZEZsYWdbMF1dLCBDSEFSU0VUU1tjb2xsZWN0QW5kRmxhZ1sxXV0gfHwgREVGQVVMVF9DSEFSU0VUKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFU0MgRFxuICAgKiBDMS5JTkRcbiAgICogICBERUMgbW5lbW9uaWM6IElORCAoaHR0cHM6Ly92dDEwMC5uZXQvZG9jcy92dDUxMC1ybS9JTkQuaHRtbClcbiAgICogICBNb3ZlcyB0aGUgY3Vyc29yIGRvd24gb25lIGxpbmUgaW4gdGhlIHNhbWUgY29sdW1uLlxuICAgKi9cbiAgcHVibGljIGluZGV4KCk6IHZvaWQge1xuICAgIHRoaXMuX3Rlcm1pbmFsLmluZGV4KCk7ICAvLyBUT0RPOiBzYXZlIHRvIG1vdmUgZnJvbSB0ZXJtaW5hbD9cbiAgfVxuXG4gIC8qKlxuICAgKiBFU0MgSFxuICAgKiBDMS5IVFNcbiAgICogICBERUMgbW5lbW9uaWM6IEhUUyAoaHR0cHM6Ly92dDEwMC5uZXQvZG9jcy92dDUxMC1ybS9IVFMuaHRtbClcbiAgICogICBTZXRzIGEgaG9yaXpvbnRhbCB0YWIgc3RvcCBhdCB0aGUgY29sdW1uIHBvc2l0aW9uIGluZGljYXRlZCBieVxuICAgKiAgIHRoZSB2YWx1ZSBvZiB0aGUgYWN0aXZlIGNvbHVtbiB3aGVuIHRoZSB0ZXJtaW5hbCByZWNlaXZlcyBhbiBIVFMuXG4gICAqL1xuICBwdWJsaWMgdGFiU2V0KCk6IHZvaWQge1xuICAgIHRoaXMuX3Rlcm1pbmFsLnRhYlNldCgpOyAgLy8gVE9ETzogc2F2ZSB0byBtb3ZlIGZyb20gdGVybWluYWw/XG4gIH1cblxuICAvKipcbiAgICogRVNDIE1cbiAgICogQzEuUklcbiAgICogICBERUMgbW5lbW9uaWM6IEhUU1xuICAgKiAgIE1vdmVzIHRoZSBjdXJzb3IgdXAgb25lIGxpbmUgaW4gdGhlIHNhbWUgY29sdW1uLiBJZiB0aGUgY3Vyc29yIGlzIGF0IHRoZSB0b3AgbWFyZ2luLFxuICAgKiAgIHRoZSBwYWdlIHNjcm9sbHMgZG93bi5cbiAgICovXG4gIHB1YmxpYyByZXZlcnNlSW5kZXgoKTogdm9pZCB7XG4gICAgdGhpcy5fdGVybWluYWwucmV2ZXJzZUluZGV4KCk7ICAvLyBUT0RPOiBzYXZlIHRvIG1vdmUgZnJvbSB0ZXJtaW5hbD9cbiAgfVxuXG4gIC8qKlxuICAgKiBFU0MgY1xuICAgKiAgIERFQyBtbmVtb25pYzogUklTIChodHRwczovL3Z0MTAwLm5ldC9kb2NzL3Z0NTEwLXJtL1JJUy5odG1sKVxuICAgKiAgIFJlc2V0IHRvIGluaXRpYWwgc3RhdGUuXG4gICAqL1xuICBwdWJsaWMgcmVzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5fcGFyc2VyLnJlc2V0KCk7XG4gICAgdGhpcy5fdGVybWluYWwucmVzZXQoKTsgIC8vIFRPRE86IHNhdmUgdG8gbW92ZSBmcm9tIHRlcm1pbmFsP1xuICB9XG5cbiAgLyoqXG4gICAqIEVTQyBuXG4gICAqIEVTQyBvXG4gICAqIEVTQyB8XG4gICAqIEVTQyB9XG4gICAqIEVTQyB+XG4gICAqICAgREVDIG1uZW1vbmljOiBMUyAoaHR0cHM6Ly92dDEwMC5uZXQvZG9jcy92dDUxMC1ybS9MUy5odG1sKVxuICAgKiAgIFdoZW4geW91IHVzZSBhIGxvY2tpbmcgc2hpZnQsIHRoZSBjaGFyYWN0ZXIgc2V0IHJlbWFpbnMgaW4gR0wgb3IgR1IgdW50aWxcbiAgICogICB5b3UgdXNlIGFub3RoZXIgbG9ja2luZyBzaGlmdC4gKHBhcnRseSBzdXBwb3J0ZWQpXG4gICAqL1xuICBwdWJsaWMgc2V0Z0xldmVsKGxldmVsOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl90ZXJtaW5hbC5zZXRnTGV2ZWwobGV2ZWwpOyAgLy8gVE9ETzogc2F2ZSB0byBtb3ZlIGZyb20gdGVybWluYWw/XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvSW5wdXRIYW5kbGVyLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///33\n")},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CHARSETS = {};\nexports.DEFAULT_CHARSET = exports.CHARSETS['B'];\nexports.CHARSETS['0'] = {\n    '`': '\\u25c6',\n    'a': '\\u2592',\n    'b': '\\u0009',\n    'c': '\\u000c',\n    'd': '\\u000d',\n    'e': '\\u000a',\n    'f': '\\u00b0',\n    'g': '\\u00b1',\n    'h': '\\u2424',\n    'i': '\\u000b',\n    'j': '\\u2518',\n    'k': '\\u2510',\n    'l': '\\u250c',\n    'm': '\\u2514',\n    'n': '\\u253c',\n    'o': '\\u23ba',\n    'p': '\\u23bb',\n    'q': '\\u2500',\n    'r': '\\u23bc',\n    's': '\\u23bd',\n    't': '\\u251c',\n    'u': '\\u2524',\n    'v': '\\u2534',\n    'w': '\\u252c',\n    'x': '\\u2502',\n    'y': '\\u2264',\n    'z': '\\u2265',\n    '{': '\\u03c0',\n    '|': '\\u2260',\n    '}': '\\u00a3',\n    '~': '\\u00b7'\n};\nexports.CHARSETS['A'] = {\n    '#': ''\n};\nexports.CHARSETS['B'] = null;\nexports.CHARSETS['4'] = {\n    '#': '',\n    '@': '',\n    '[': 'ij',\n    '\\\\': '',\n    ']': '|',\n    '{': '',\n    '|': 'f',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['C'] =\n    exports.CHARSETS['5'] = {\n        '[': '',\n        '\\\\': '',\n        ']': '',\n        '^': '',\n        '`': '',\n        '{': '',\n        '|': '',\n        '}': '',\n        '~': ''\n    };\nexports.CHARSETS['R'] = {\n    '#': '',\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['Q'] = {\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '^': '',\n    '`': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['K'] = {\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['Y'] = {\n    '#': '',\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '`': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\nexports.CHARSETS['E'] =\n    exports.CHARSETS['6'] = {\n        '@': '',\n        '[': '',\n        '\\\\': '',\n        ']': '',\n        '^': '',\n        '`': '',\n        '{': '',\n        '|': '',\n        '}': '',\n        '~': ''\n    };\nexports.CHARSETS['Z'] = {\n    '#': '',\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '{': '',\n    '|': '',\n    '}': ''\n};\nexports.CHARSETS['H'] =\n    exports.CHARSETS['7'] = {\n        '@': '',\n        '[': '',\n        '\\\\': '',\n        ']': '',\n        '^': '',\n        '`': '',\n        '{': '',\n        '|': '',\n        '}': '',\n        '~': ''\n    };\nexports.CHARSETS['='] = {\n    '#': '',\n    '@': '',\n    '[': '',\n    '\\\\': '',\n    ']': '',\n    '^': '',\n    '_': '',\n    '`': '',\n    '{': '',\n    '|': '',\n    '}': '',\n    '~': ''\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL2NvcmUvZGF0YS9DaGFyc2V0cy50cz83NjA3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBWWEsZ0JBQVEsR0FBdUMsRUFBRSxDQUFDO0FBS2xELHVCQUFlLEdBQW9CLGdCQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7QUFZOUQsZ0JBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRztJQUNkLEdBQUcsRUFBRSxRQUFRO0lBQ2IsR0FBRyxFQUFFLFFBQVE7SUFDYixHQUFHLEVBQUUsUUFBUTtJQUNiLEdBQUcsRUFBRSxRQUFRO0lBQ2IsR0FBRyxFQUFFLFFBQVE7SUFDYixHQUFHLEVBQUUsUUFBUTtJQUNiLEdBQUcsRUFBRSxRQUFRO0lBQ2IsR0FBRyxFQUFFLFFBQVE7SUFDYixHQUFHLEVBQUUsUUFBUTtJQUNiLEdBQUcsRUFBRSxRQUFRO0lBQ2IsR0FBRyxFQUFFLFFBQVE7SUFDYixHQUFHLEVBQUUsUUFBUTtJQUNiLEdBQUcsRUFBRSxRQUFRO0lBQ2IsR0FBRyxFQUFFLFFBQVE7SUFDYixHQUFHLEVBQUUsUUFBUTtJQUNiLEdBQUcsRUFBRSxRQUFRO0lBQ2IsR0FBRyxFQUFFLFFBQVE7SUFDYixHQUFHLEVBQUUsUUFBUTtJQUNiLEdBQUcsRUFBRSxRQUFRO0lBQ2IsR0FBRyxFQUFFLFFBQVE7SUFDYixHQUFHLEVBQUUsUUFBUTtJQUNiLEdBQUcsRUFBRSxRQUFRO0lBQ2IsR0FBRyxFQUFFLFFBQVE7SUFDYixHQUFHLEVBQUUsUUFBUTtJQUNiLEdBQUcsRUFBRSxRQUFRO0lBQ2IsR0FBRyxFQUFFLFFBQVE7SUFDYixHQUFHLEVBQUUsUUFBUTtJQUNiLEdBQUcsRUFBRSxRQUFRO0lBQ2IsR0FBRyxFQUFFLFFBQVE7SUFDYixHQUFHLEVBQUUsUUFBUTtJQUNiLEdBQUcsRUFBRSxRQUFRO0NBQ2QsQ0FBQztBQU9GLGdCQUFRLENBQUMsR0FBRyxDQUFDLEdBQUc7SUFDZCxHQUFHLEVBQUUsR0FBRztDQUNULENBQUM7QUFNRixnQkFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQztBQU9yQixnQkFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHO0lBQ2QsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxJQUFJO0lBQ1QsSUFBSSxFQUFFLEdBQUc7SUFDVCxHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0NBQ1QsQ0FBQztBQU9GLGdCQUFRLENBQUMsR0FBRyxDQUFDO0lBQ2IsZ0JBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRztRQUNkLEdBQUcsRUFBRSxHQUFHO1FBQ1IsSUFBSSxFQUFFLEdBQUc7UUFDVCxHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztLQUNULENBQUM7QUFPRixnQkFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHO0lBQ2QsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsSUFBSSxFQUFFLEdBQUc7SUFDVCxHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0NBQ1QsQ0FBQztBQU9GLGdCQUFRLENBQUMsR0FBRyxDQUFDLEdBQUc7SUFDZCxHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsSUFBSSxFQUFFLEdBQUc7SUFDVCxHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztDQUNULENBQUM7QUFPRixnQkFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHO0lBQ2QsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLElBQUksRUFBRSxHQUFHO0lBQ1QsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztDQUNULENBQUM7QUFPRixnQkFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHO0lBQ2QsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsSUFBSSxFQUFFLEdBQUc7SUFDVCxHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7Q0FDVCxDQUFDO0FBT0YsZ0JBQVEsQ0FBQyxHQUFHLENBQUM7SUFDYixnQkFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHO1FBQ2QsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLElBQUksRUFBRSxHQUFHO1FBQ1QsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7S0FDVCxDQUFDO0FBT0YsZ0JBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRztJQUNkLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLElBQUksRUFBRSxHQUFHO0lBQ1QsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7Q0FDVCxDQUFDO0FBT0YsZ0JBQVEsQ0FBQyxHQUFHLENBQUM7SUFDYixnQkFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHO1FBQ2QsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLElBQUksRUFBRSxHQUFHO1FBQ1QsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7UUFDUixHQUFHLEVBQUUsR0FBRztRQUNSLEdBQUcsRUFBRSxHQUFHO1FBQ1IsR0FBRyxFQUFFLEdBQUc7S0FDVCxDQUFDO0FBT0YsZ0JBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRztJQUNkLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLElBQUksRUFBRSxHQUFHO0lBQ1QsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztJQUNSLEdBQUcsRUFBRSxHQUFHO0lBQ1IsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsR0FBRztDQUNULENBQUMiLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNiBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IElDaGFyc2V0IH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIFRoZSBjaGFyYWN0ZXIgc2V0cyBzdXBwb3J0ZWQgYnkgdGhlIHRlcm1pbmFsLiBUaGVzZSBlbmFibGUgc2V2ZXJhbCBsYW5ndWFnZXNcbiAqIHRvIGJlIHJlcHJlc2VudGVkIHdpdGhpbiB0aGUgdGVybWluYWwgd2l0aCBvbmx5IDgtYml0IGVuY29kaW5nLiBTZWUgSVNPIDIwMjJcbiAqIGZvciBhIGRpc2N1c3Npb24gb24gY2hhcmFjdGVyIHNldHMuIE9ubHkgVlQxMDAgY2hhcmFjdGVyIHNldHMgYXJlIHN1cHBvcnRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IENIQVJTRVRTOiB7IFtrZXk6IHN0cmluZ106IElDaGFyc2V0IHwgbnVsbCB9ID0ge307XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgY2hhcmFjdGVyIHNldCwgVVMuXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX0NIQVJTRVQ6IElDaGFyc2V0IHwgbnVsbCA9IENIQVJTRVRTWydCJ107XG5cbi8qKlxuICogREVDIFNwZWNpYWwgQ2hhcmFjdGVyIGFuZCBMaW5lIERyYXdpbmcgU2V0LlxuICogUmVmZXJlbmNlOiBodHRwOi8vdnQxMDAubmV0L2RvY3MvdnQxMDItdWcvdGFibGU1LTEzLmh0bWxcbiAqIEEgbG90IG9mIGN1cnNlcyBhcHBzIHVzZSB0aGlzIGlmIHRoZXkgc2VlIFRFUk09eHRlcm0uXG4gKiB0ZXN0aW5nOiBlY2hvIC1lICdcXGUoMGFcXGUoQidcbiAqIFRoZSB4dGVybSBvdXRwdXQgc29tZXRpbWVzIHNlZW1zIHRvIGNvbmZsaWN0IHdpdGggdGhlXG4gKiByZWZlcmVuY2UgYWJvdmUuIHh0ZXJtIHNlZW1zIGluIGxpbmUgd2l0aCB0aGUgcmVmZXJlbmNlXG4gKiB3aGVuIHJ1bm5pbmcgdnR0ZXN0IGhvd2V2ZXIuXG4gKiBUaGUgdGFibGUgYmVsb3cgbm93IHVzZXMgeHRlcm0ncyBvdXRwdXQgZnJvbSB2dHRlc3QuXG4gKi9cbkNIQVJTRVRTWycwJ10gPSB7XG4gICdgJzogJ1xcdTI1YzYnLCAvLyAn4peGJ1xuICAnYSc6ICdcXHUyNTkyJywgLy8gJ+KWkidcbiAgJ2InOiAnXFx1MDAwOScsIC8vICdcXHQnXG4gICdjJzogJ1xcdTAwMGMnLCAvLyAnXFxmJ1xuICAnZCc6ICdcXHUwMDBkJywgLy8gJ1xccidcbiAgJ2UnOiAnXFx1MDAwYScsIC8vICdcXG4nXG4gICdmJzogJ1xcdTAwYjAnLCAvLyAnwrAnXG4gICdnJzogJ1xcdTAwYjEnLCAvLyAnwrEnXG4gICdoJzogJ1xcdTI0MjQnLCAvLyAnXFx1MjQyNCcgKE5MKVxuICAnaSc6ICdcXHUwMDBiJywgLy8gJ1xcdidcbiAgJ2onOiAnXFx1MjUxOCcsIC8vICfilJgnXG4gICdrJzogJ1xcdTI1MTAnLCAvLyAn4pSQJ1xuICAnbCc6ICdcXHUyNTBjJywgLy8gJ+KUjCdcbiAgJ20nOiAnXFx1MjUxNCcsIC8vICfilJQnXG4gICduJzogJ1xcdTI1M2MnLCAvLyAn4pS8J1xuICAnbyc6ICdcXHUyM2JhJywgLy8gJ+KOuidcbiAgJ3AnOiAnXFx1MjNiYicsIC8vICfijrsnXG4gICdxJzogJ1xcdTI1MDAnLCAvLyAn4pSAJ1xuICAncic6ICdcXHUyM2JjJywgLy8gJ+KOvCdcbiAgJ3MnOiAnXFx1MjNiZCcsIC8vICfijr0nXG4gICd0JzogJ1xcdTI1MWMnLCAvLyAn4pScJ1xuICAndSc6ICdcXHUyNTI0JywgLy8gJ+KUpCdcbiAgJ3YnOiAnXFx1MjUzNCcsIC8vICfilLQnXG4gICd3JzogJ1xcdTI1MmMnLCAvLyAn4pSsJ1xuICAneCc6ICdcXHUyNTAyJywgLy8gJ+KUgidcbiAgJ3knOiAnXFx1MjI2NCcsIC8vICfiiaQnXG4gICd6JzogJ1xcdTIyNjUnLCAvLyAn4omlJ1xuICAneyc6ICdcXHUwM2MwJywgLy8gJ8+AJ1xuICAnfCc6ICdcXHUyMjYwJywgLy8gJ+KJoCdcbiAgJ30nOiAnXFx1MDBhMycsIC8vICfCoydcbiAgJ34nOiAnXFx1MDBiNycgIC8vICfCtydcbn07XG5cbi8qKlxuICogQnJpdGlzaCBjaGFyYWN0ZXIgc2V0XG4gKiBFU0MgKEFcbiAqIFJlZmVyZW5jZTogaHR0cDovL3Z0MTAwLm5ldC9kb2NzL3Z0MjIwLXJtL3RhYmxlMi01Lmh0bWxcbiAqL1xuQ0hBUlNFVFNbJ0EnXSA9IHtcbiAgJyMnOiAnwqMnXG59O1xuXG4vKipcbiAqIFVuaXRlZCBTdGF0ZXMgY2hhcmFjdGVyIHNldFxuICogRVNDIChCXG4gKi9cbkNIQVJTRVRTWydCJ10gPSBudWxsO1xuXG4vKipcbiAqIER1dGNoIGNoYXJhY3RlciBzZXRcbiAqIEVTQyAoNFxuICogUmVmZXJlbmNlOiBodHRwOi8vdnQxMDAubmV0L2RvY3MvdnQyMjAtcm0vdGFibGUyLTYuaHRtbFxuICovXG5DSEFSU0VUU1snNCddID0ge1xuICAnIyc6ICfCoycsXG4gICdAJzogJ8K+JyxcbiAgJ1snOiAnaWonLFxuICAnXFxcXCc6ICfCvScsXG4gICddJzogJ3wnLFxuICAneyc6ICfCqCcsXG4gICd8JzogJ2YnLFxuICAnfSc6ICfCvCcsXG4gICd+JzogJ8K0J1xufTtcblxuLyoqXG4gKiBGaW5uaXNoIGNoYXJhY3RlciBzZXRcbiAqIEVTQyAoQyBvciBFU0MgKDVcbiAqIFJlZmVyZW5jZTogaHR0cDovL3Z0MTAwLm5ldC9kb2NzL3Z0MjIwLXJtL3RhYmxlMi03Lmh0bWxcbiAqL1xuQ0hBUlNFVFNbJ0MnXSA9XG5DSEFSU0VUU1snNSddID0ge1xuICAnWyc6ICfDhCcsXG4gICdcXFxcJzogJ8OWJyxcbiAgJ10nOiAnw4UnLFxuICAnXic6ICfDnCcsXG4gICdgJzogJ8OpJyxcbiAgJ3snOiAnw6QnLFxuICAnfCc6ICfDticsXG4gICd9JzogJ8OlJyxcbiAgJ34nOiAnw7wnXG59O1xuXG4vKipcbiAqIEZyZW5jaCBjaGFyYWN0ZXIgc2V0XG4gKiBFU0MgKFJcbiAqIFJlZmVyZW5jZTogaHR0cDovL3Z0MTAwLm5ldC9kb2NzL3Z0MjIwLXJtL3RhYmxlMi04Lmh0bWxcbiAqL1xuQ0hBUlNFVFNbJ1InXSA9IHtcbiAgJyMnOiAnwqMnLFxuICAnQCc6ICfDoCcsXG4gICdbJzogJ8KwJyxcbiAgJ1xcXFwnOiAnw6cnLFxuICAnXSc6ICfCpycsXG4gICd7JzogJ8OpJyxcbiAgJ3wnOiAnw7knLFxuICAnfSc6ICfDqCcsXG4gICd+JzogJ8KoJ1xufTtcblxuLyoqXG4gKiBGcmVuY2ggQ2FuYWRpYW4gY2hhcmFjdGVyIHNldFxuICogRVNDIChRXG4gKiBSZWZlcmVuY2U6IGh0dHA6Ly92dDEwMC5uZXQvZG9jcy92dDIyMC1ybS90YWJsZTItOS5odG1sXG4gKi9cbkNIQVJTRVRTWydRJ10gPSB7XG4gICdAJzogJ8OgJyxcbiAgJ1snOiAnw6InLFxuICAnXFxcXCc6ICfDpycsXG4gICddJzogJ8OqJyxcbiAgJ14nOiAnw64nLFxuICAnYCc6ICfDtCcsXG4gICd7JzogJ8OpJyxcbiAgJ3wnOiAnw7knLFxuICAnfSc6ICfDqCcsXG4gICd+JzogJ8O7J1xufTtcblxuLyoqXG4gKiBHZXJtYW4gY2hhcmFjdGVyIHNldFxuICogRVNDIChLXG4gKiBSZWZlcmVuY2U6IGh0dHA6Ly92dDEwMC5uZXQvZG9jcy92dDIyMC1ybS90YWJsZTItMTAuaHRtbFxuICovXG5DSEFSU0VUU1snSyddID0ge1xuICAnQCc6ICfCpycsXG4gICdbJzogJ8OEJyxcbiAgJ1xcXFwnOiAnw5YnLFxuICAnXSc6ICfDnCcsXG4gICd7JzogJ8OkJyxcbiAgJ3wnOiAnw7YnLFxuICAnfSc6ICfDvCcsXG4gICd+JzogJ8OfJ1xufTtcblxuLyoqXG4gKiBJdGFsaWFuIGNoYXJhY3RlciBzZXRcbiAqIEVTQyAoWVxuICogUmVmZXJlbmNlOiBodHRwOi8vdnQxMDAubmV0L2RvY3MvdnQyMjAtcm0vdGFibGUyLTExLmh0bWxcbiAqL1xuQ0hBUlNFVFNbJ1knXSA9IHtcbiAgJyMnOiAnwqMnLFxuICAnQCc6ICfCpycsXG4gICdbJzogJ8KwJyxcbiAgJ1xcXFwnOiAnw6cnLFxuICAnXSc6ICfDqScsXG4gICdgJzogJ8O5JyxcbiAgJ3snOiAnw6AnLFxuICAnfCc6ICfDsicsXG4gICd9JzogJ8OoJyxcbiAgJ34nOiAnw6wnXG59O1xuXG4vKipcbiAqIE5vcndlZ2lhbi9EYW5pc2ggY2hhcmFjdGVyIHNldFxuICogRVNDIChFIG9yIEVTQyAoNlxuICogUmVmZXJlbmNlOiBodHRwOi8vdnQxMDAubmV0L2RvY3MvdnQyMjAtcm0vdGFibGUyLTEyLmh0bWxcbiAqL1xuQ0hBUlNFVFNbJ0UnXSA9XG5DSEFSU0VUU1snNiddID0ge1xuICAnQCc6ICfDhCcsXG4gICdbJzogJ8OGJyxcbiAgJ1xcXFwnOiAnw5gnLFxuICAnXSc6ICfDhScsXG4gICdeJzogJ8OcJyxcbiAgJ2AnOiAnw6QnLFxuICAneyc6ICfDpicsXG4gICd8JzogJ8O4JyxcbiAgJ30nOiAnw6UnLFxuICAnfic6ICfDvCdcbn07XG5cbi8qKlxuICogU3BhbmlzaCBjaGFyYWN0ZXIgc2V0XG4gKiBFU0MgKFpcbiAqIFJlZmVyZW5jZTogaHR0cDovL3Z0MTAwLm5ldC9kb2NzL3Z0MjIwLXJtL3RhYmxlMi0xMy5odG1sXG4gKi9cbkNIQVJTRVRTWydaJ10gPSB7XG4gICcjJzogJ8KjJyxcbiAgJ0AnOiAnwqcnLFxuICAnWyc6ICfCoScsXG4gICdcXFxcJzogJ8ORJyxcbiAgJ10nOiAnwr8nLFxuICAneyc6ICfCsCcsXG4gICd8JzogJ8OxJyxcbiAgJ30nOiAnw6cnXG59O1xuXG4vKipcbiAqIFN3ZWRpc2ggY2hhcmFjdGVyIHNldFxuICogRVNDIChIIG9yIEVTQyAoN1xuICogUmVmZXJlbmNlOiBodHRwOi8vdnQxMDAubmV0L2RvY3MvdnQyMjAtcm0vdGFibGUyLTE0Lmh0bWxcbiAqL1xuQ0hBUlNFVFNbJ0gnXSA9XG5DSEFSU0VUU1snNyddID0ge1xuICAnQCc6ICfDiScsXG4gICdbJzogJ8OEJyxcbiAgJ1xcXFwnOiAnw5YnLFxuICAnXSc6ICfDhScsXG4gICdeJzogJ8OcJyxcbiAgJ2AnOiAnw6knLFxuICAneyc6ICfDpCcsXG4gICd8JzogJ8O2JyxcbiAgJ30nOiAnw6UnLFxuICAnfic6ICfDvCdcbn07XG5cbi8qKlxuICogU3dpc3MgY2hhcmFjdGVyIHNldFxuICogRVNDICg9XG4gKiBSZWZlcmVuY2U6IGh0dHA6Ly92dDEwMC5uZXQvZG9jcy92dDIyMC1ybS90YWJsZTItMTUuaHRtbFxuICovXG5DSEFSU0VUU1snPSddID0ge1xuICAnIyc6ICfDuScsXG4gICdAJzogJ8OgJyxcbiAgJ1snOiAnw6knLFxuICAnXFxcXCc6ICfDpycsXG4gICddJzogJ8OqJyxcbiAgJ14nOiAnw64nLFxuICAnXyc6ICfDqCcsXG4gICdgJzogJ8O0JyxcbiAgJ3snOiAnw6QnLFxuICAnfCc6ICfDticsXG4gICd9JzogJ8O8JyxcbiAgJ34nOiAnw7snXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3h0ZXJtL3NyYy9jb3JlL2RhdGEvQ2hhcnNldHMudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///34\n")},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nfunction fill(array, value, start, end) {\n    if (array.fill) {\n        return array.fill(value, start, end);\n    }\n    return fillFallback(array, value, start, end);\n}\nexports.fill = fill;\nfunction fillFallback(array, value, start, end) {\n    if (start === void 0) { start = 0; }\n    if (end === void 0) { end = array.length; }\n    if (start >= array.length) {\n        return array;\n    }\n    start = (array.length + start) % array.length;\n    if (end >= array.length) {\n        end = array.length;\n    }\n    else {\n        end = (array.length + end) % array.length;\n    }\n    for (var i = start; i < end; ++i) {\n        array[i] = value;\n    }\n    return array;\n}\nexports.fillFallback = fillFallback;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL2NvbW1vbi9UeXBlZEFycmF5VXRpbHMudHM/YWQwNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQWNBLFNBQWdCLElBQUksQ0FBdUIsS0FBUSxFQUFFLEtBQWEsRUFBRSxLQUFjLEVBQUUsR0FBWTtJQUU5RixJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUU7UUFDZCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQU0sQ0FBQztLQUMzQztJQUNELE9BQU8sWUFBWSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ2hELENBQUM7QUFORCxvQkFNQztBQUVELFNBQWdCLFlBQVksQ0FBdUIsS0FBUSxFQUFFLEtBQWEsRUFBRSxLQUFpQixFQUFFLEdBQTBCO0lBQTdDLGlDQUFpQjtJQUFFLDRCQUFjLEtBQUssQ0FBQyxNQUFNO0lBS3ZILElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxNQUFNLEVBQUU7UUFDekIsT0FBTyxLQUFLLENBQUM7S0FDZDtJQUNELEtBQUssR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUM5QyxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO1FBQ3ZCLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO0tBQ3BCO1NBQU07UUFDTCxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7S0FDM0M7SUFDRCxLQUFLLElBQUksQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1FBQ2hDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7S0FDbEI7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFsQkQsb0NBa0JDIiwiZmlsZSI6IjM1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG4vKipcbiAqIHBvbHlmaWxsIGZvciBUeXBlZEFycmF5LmZpbGxcbiAqIFRoaXMgaXMgbmVlZGVkIHRvIHN1cHBvcnQgLmZpbGwgaW4gYWxsIHNhZmFyaSB2ZXJzaW9ucyBhbmQgSUUgMTEuXG4gKi9cblxudHlwZSBUeXBlZEFycmF5ID0gVWludDhBcnJheSB8IFVpbnQxNkFycmF5IHwgVWludDMyQXJyYXkgfCBVaW50OENsYW1wZWRBcnJheVxuICB8IEludDhBcnJheSB8IEludDE2QXJyYXkgfCBJbnQzMkFycmF5XG4gIHwgRmxvYXQzMkFycmF5IHwgRmxvYXQ2NEFycmF5O1xuXG5leHBvcnQgZnVuY3Rpb24gZmlsbDxUIGV4dGVuZHMgVHlwZWRBcnJheT4oYXJyYXk6IFQsIHZhbHVlOiBudW1iZXIsIHN0YXJ0PzogbnVtYmVyLCBlbmQ/OiBudW1iZXIpOiBUIHtcbiAgLy8gYWxsIG1vZGVybiBlbmdpbmVzIHRoYXQgc3VwcG9ydCAuZmlsbFxuICBpZiAoYXJyYXkuZmlsbCkge1xuICAgIHJldHVybiBhcnJheS5maWxsKHZhbHVlLCBzdGFydCwgZW5kKSBhcyBUO1xuICB9XG4gIHJldHVybiBmaWxsRmFsbGJhY2soYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxGYWxsYmFjazxUIGV4dGVuZHMgVHlwZWRBcnJheT4oYXJyYXk6IFQsIHZhbHVlOiBudW1iZXIsIHN0YXJ0OiBudW1iZXIgPSAwLCBlbmQ6IG51bWJlciA9IGFycmF5Lmxlbmd0aCk6IFQge1xuICAvLyBzYWZhcmkgYW5kIElFIDExXG4gIC8vIHNpbmNlIElFIDExIGRvZXMgbm90IHN1cHBvcnQgQXJyYXkucHJvdG90eXBlLmZpbGwgZWl0aGVyXG4gIC8vIHdlIGNhbm5vdCB1c2UgdGhlIHN1Z2dlc3RlZCBwb2x5ZmlsbCBmcm9tIE1ETlxuICAvLyBpbnN0ZWFkIHdlIHNpbXBseSBmYWxsIGJhY2sgdG8gbG9vcGluZ1xuICBpZiAoc3RhcnQgPj0gYXJyYXkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG4gIHN0YXJ0ID0gKGFycmF5Lmxlbmd0aCArIHN0YXJ0KSAlIGFycmF5Lmxlbmd0aDtcbiAgaWYgKGVuZCA+PSBhcnJheS5sZW5ndGgpIHtcbiAgICBlbmQgPSBhcnJheS5sZW5ndGg7XG4gIH0gZWxzZSB7XG4gICAgZW5kID0gKGFycmF5Lmxlbmd0aCArIGVuZCkgJSBhcnJheS5sZW5ndGg7XG4gIH1cbiAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBhcnJheVtpXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvY29tbW9uL1R5cGVkQXJyYXlVdGlscy50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///35\n')},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Lifecycle_1 = __webpack_require__(3);\nfunction r(low, high) {\n    var c = high - low;\n    var arr = new Array(c);\n    while (c--) {\n        arr[c] = --high;\n    }\n    return arr;\n}\nvar TransitionTable = (function () {\n    function TransitionTable(length) {\n        this.table = (typeof Uint8Array === 'undefined')\n            ? new Array(length)\n            : new Uint8Array(length);\n    }\n    TransitionTable.prototype.add = function (code, state, action, next) {\n        this.table[state << 8 | code] = ((action | 0) << 4) | ((next === undefined) ? state : next);\n    };\n    TransitionTable.prototype.addMany = function (codes, state, action, next) {\n        for (var i = 0; i < codes.length; i++) {\n            this.add(codes[i], state, action, next);\n        }\n    };\n    return TransitionTable;\n}());\nexports.TransitionTable = TransitionTable;\nvar PRINTABLES = r(0x20, 0x7f);\nvar EXECUTABLES = r(0x00, 0x18);\nEXECUTABLES.push(0x19);\nEXECUTABLES.push.apply(EXECUTABLES, r(0x1c, 0x20));\nvar DEFAULT_TRANSITION = 1 << 4 | 0;\nexports.VT500_TRANSITION_TABLE = (function () {\n    var table = new TransitionTable(4095);\n    var states = r(0, 13 + 1);\n    var state;\n    for (state in states) {\n        for (var code = 0; code < 160; ++code) {\n            table.add(code, state, 1, 0);\n        }\n    }\n    table.addMany(PRINTABLES, 0, 2, 0);\n    for (state in states) {\n        table.addMany([0x18, 0x1a, 0x99, 0x9a], state, 3, 0);\n        table.addMany(r(0x80, 0x90), state, 3, 0);\n        table.addMany(r(0x90, 0x98), state, 3, 0);\n        table.add(0x9c, state, 0, 0);\n        table.add(0x1b, state, 11, 1);\n        table.add(0x9d, state, 4, 8);\n        table.addMany([0x98, 0x9e, 0x9f], state, 0, 7);\n        table.add(0x9b, state, 11, 3);\n        table.add(0x90, state, 11, 9);\n    }\n    table.addMany(EXECUTABLES, 0, 3, 0);\n    table.addMany(EXECUTABLES, 1, 3, 1);\n    table.add(0x7f, 1, 0, 1);\n    table.addMany(EXECUTABLES, 8, 0, 8);\n    table.addMany(EXECUTABLES, 3, 3, 3);\n    table.add(0x7f, 3, 0, 3);\n    table.addMany(EXECUTABLES, 4, 3, 4);\n    table.add(0x7f, 4, 0, 4);\n    table.addMany(EXECUTABLES, 6, 3, 6);\n    table.addMany(EXECUTABLES, 5, 3, 5);\n    table.add(0x7f, 5, 0, 5);\n    table.addMany(EXECUTABLES, 2, 3, 2);\n    table.add(0x7f, 2, 0, 2);\n    table.add(0x5d, 1, 4, 8);\n    table.addMany(PRINTABLES, 8, 5, 8);\n    table.add(0x7f, 8, 5, 8);\n    table.addMany([0x9c, 0x1b, 0x18, 0x1a, 0x07], 8, 6, 0);\n    table.addMany(r(0x1c, 0x20), 8, 0, 8);\n    table.addMany([0x58, 0x5e, 0x5f], 1, 0, 7);\n    table.addMany(PRINTABLES, 7, 0, 7);\n    table.addMany(EXECUTABLES, 7, 0, 7);\n    table.add(0x9c, 7, 0, 0);\n    table.add(0x5b, 1, 11, 3);\n    table.addMany(r(0x40, 0x7f), 3, 7, 0);\n    table.addMany(r(0x30, 0x3a), 3, 8, 4);\n    table.add(0x3b, 3, 8, 4);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 3, 9, 4);\n    table.addMany(r(0x30, 0x3a), 4, 8, 4);\n    table.add(0x3b, 4, 8, 4);\n    table.addMany(r(0x40, 0x7f), 4, 7, 0);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 4, 0, 6);\n    table.addMany(r(0x20, 0x40), 6, 0, 6);\n    table.add(0x7f, 6, 0, 6);\n    table.addMany(r(0x40, 0x7f), 6, 0, 0);\n    table.add(0x3a, 3, 0, 6);\n    table.addMany(r(0x20, 0x30), 3, 9, 5);\n    table.addMany(r(0x20, 0x30), 5, 9, 5);\n    table.addMany(r(0x30, 0x40), 5, 0, 6);\n    table.addMany(r(0x40, 0x7f), 5, 7, 0);\n    table.addMany(r(0x20, 0x30), 4, 9, 5);\n    table.addMany(r(0x20, 0x30), 1, 9, 2);\n    table.addMany(r(0x20, 0x30), 2, 9, 2);\n    table.addMany(r(0x30, 0x7f), 2, 10, 0);\n    table.addMany(r(0x30, 0x50), 1, 10, 0);\n    table.addMany(r(0x51, 0x58), 1, 10, 0);\n    table.addMany([0x59, 0x5a, 0x5c], 1, 10, 0);\n    table.addMany(r(0x60, 0x7f), 1, 10, 0);\n    table.add(0x50, 1, 11, 9);\n    table.addMany(EXECUTABLES, 9, 0, 9);\n    table.add(0x7f, 9, 0, 9);\n    table.addMany(r(0x1c, 0x20), 9, 0, 9);\n    table.addMany(r(0x20, 0x30), 9, 9, 12);\n    table.add(0x3a, 9, 0, 11);\n    table.addMany(r(0x30, 0x3a), 9, 8, 10);\n    table.add(0x3b, 9, 8, 10);\n    table.addMany([0x3c, 0x3d, 0x3e, 0x3f], 9, 9, 10);\n    table.addMany(EXECUTABLES, 11, 0, 11);\n    table.addMany(r(0x20, 0x80), 11, 0, 11);\n    table.addMany(r(0x1c, 0x20), 11, 0, 11);\n    table.addMany(EXECUTABLES, 10, 0, 10);\n    table.add(0x7f, 10, 0, 10);\n    table.addMany(r(0x1c, 0x20), 10, 0, 10);\n    table.addMany(r(0x30, 0x3a), 10, 8, 10);\n    table.add(0x3b, 10, 8, 10);\n    table.addMany([0x3a, 0x3c, 0x3d, 0x3e, 0x3f], 10, 0, 11);\n    table.addMany(r(0x20, 0x30), 10, 9, 12);\n    table.addMany(EXECUTABLES, 12, 0, 12);\n    table.add(0x7f, 12, 0, 12);\n    table.addMany(r(0x1c, 0x20), 12, 0, 12);\n    table.addMany(r(0x20, 0x30), 12, 9, 12);\n    table.addMany(r(0x30, 0x40), 12, 0, 11);\n    table.addMany(r(0x40, 0x7f), 12, 12, 13);\n    table.addMany(r(0x40, 0x7f), 10, 12, 13);\n    table.addMany(r(0x40, 0x7f), 9, 12, 13);\n    table.addMany(EXECUTABLES, 13, 13, 13);\n    table.addMany(PRINTABLES, 13, 13, 13);\n    table.add(0x7f, 13, 0, 13);\n    table.addMany([0x1b, 0x9c], 13, 14, 0);\n    return table;\n})();\nvar DcsDummy = (function () {\n    function DcsDummy() {\n    }\n    DcsDummy.prototype.hook = function (collect, params, flag) { };\n    DcsDummy.prototype.put = function (data, start, end) { };\n    DcsDummy.prototype.unhook = function () { };\n    return DcsDummy;\n}());\nvar EscapeSequenceParser = (function (_super) {\n    __extends(EscapeSequenceParser, _super);\n    function EscapeSequenceParser(TRANSITIONS) {\n        if (TRANSITIONS === void 0) { TRANSITIONS = exports.VT500_TRANSITION_TABLE; }\n        var _this = _super.call(this) || this;\n        _this.TRANSITIONS = TRANSITIONS;\n        _this.initialState = 0;\n        _this.currentState = _this.initialState;\n        _this._osc = '';\n        _this._params = [0];\n        _this._collect = '';\n        _this._printHandlerFb = function (data, start, end) { };\n        _this._executeHandlerFb = function (code) { };\n        _this._csiHandlerFb = function (collect, params, flag) { };\n        _this._escHandlerFb = function (collect, flag) { };\n        _this._oscHandlerFb = function (identifier, data) { };\n        _this._dcsHandlerFb = new DcsDummy();\n        _this._errorHandlerFb = function (state) { return state; };\n        _this._printHandler = _this._printHandlerFb;\n        _this._executeHandlers = Object.create(null);\n        _this._csiHandlers = Object.create(null);\n        _this._escHandlers = Object.create(null);\n        _this._oscHandlers = Object.create(null);\n        _this._dcsHandlers = Object.create(null);\n        _this._activeDcsHandler = null;\n        _this._errorHandler = _this._errorHandlerFb;\n        _this.setEscHandler('\\\\', function () { });\n        return _this;\n    }\n    EscapeSequenceParser.prototype.dispose = function () {\n        this._printHandlerFb = null;\n        this._executeHandlerFb = null;\n        this._csiHandlerFb = null;\n        this._escHandlerFb = null;\n        this._oscHandlerFb = null;\n        this._dcsHandlerFb = null;\n        this._errorHandlerFb = null;\n        this._printHandler = null;\n        this._executeHandlers = null;\n        this._csiHandlers = null;\n        this._escHandlers = null;\n        this._oscHandlers = null;\n        this._dcsHandlers = null;\n        this._activeDcsHandler = null;\n        this._errorHandler = null;\n    };\n    EscapeSequenceParser.prototype.setPrintHandler = function (callback) {\n        this._printHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearPrintHandler = function () {\n        this._printHandler = this._printHandlerFb;\n    };\n    EscapeSequenceParser.prototype.setExecuteHandler = function (flag, callback) {\n        this._executeHandlers[flag.charCodeAt(0)] = callback;\n    };\n    EscapeSequenceParser.prototype.clearExecuteHandler = function (flag) {\n        if (this._executeHandlers[flag.charCodeAt(0)])\n            delete this._executeHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setExecuteHandlerFallback = function (callback) {\n        this._executeHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setCsiHandler = function (flag, callback) {\n        this._csiHandlers[flag.charCodeAt(0)] = callback;\n    };\n    EscapeSequenceParser.prototype.clearCsiHandler = function (flag) {\n        if (this._csiHandlers[flag.charCodeAt(0)])\n            delete this._csiHandlers[flag.charCodeAt(0)];\n    };\n    EscapeSequenceParser.prototype.setCsiHandlerFallback = function (callback) {\n        this._csiHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setEscHandler = function (collectAndFlag, callback) {\n        this._escHandlers[collectAndFlag] = callback;\n    };\n    EscapeSequenceParser.prototype.clearEscHandler = function (collectAndFlag) {\n        if (this._escHandlers[collectAndFlag])\n            delete this._escHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setEscHandlerFallback = function (callback) {\n        this._escHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setOscHandler = function (ident, callback) {\n        this._oscHandlers[ident] = callback;\n    };\n    EscapeSequenceParser.prototype.clearOscHandler = function (ident) {\n        if (this._oscHandlers[ident])\n            delete this._oscHandlers[ident];\n    };\n    EscapeSequenceParser.prototype.setOscHandlerFallback = function (callback) {\n        this._oscHandlerFb = callback;\n    };\n    EscapeSequenceParser.prototype.setDcsHandler = function (collectAndFlag, handler) {\n        this._dcsHandlers[collectAndFlag] = handler;\n    };\n    EscapeSequenceParser.prototype.clearDcsHandler = function (collectAndFlag) {\n        if (this._dcsHandlers[collectAndFlag])\n            delete this._dcsHandlers[collectAndFlag];\n    };\n    EscapeSequenceParser.prototype.setDcsHandlerFallback = function (handler) {\n        this._dcsHandlerFb = handler;\n    };\n    EscapeSequenceParser.prototype.setErrorHandler = function (callback) {\n        this._errorHandler = callback;\n    };\n    EscapeSequenceParser.prototype.clearErrorHandler = function () {\n        this._errorHandler = this._errorHandlerFb;\n    };\n    EscapeSequenceParser.prototype.reset = function () {\n        this.currentState = this.initialState;\n        this._osc = '';\n        this._params = [0];\n        this._collect = '';\n        this._activeDcsHandler = null;\n    };\n    EscapeSequenceParser.prototype.parse = function (data) {\n        var code = 0;\n        var transition = 0;\n        var error = false;\n        var currentState = this.currentState;\n        var print = -1;\n        var dcs = -1;\n        var osc = this._osc;\n        var collect = this._collect;\n        var params = this._params;\n        var table = this.TRANSITIONS.table;\n        var dcsHandler = this._activeDcsHandler;\n        var callback = null;\n        var l = data.length;\n        for (var i = 0; i < l; ++i) {\n            code = data.charCodeAt(i);\n            if (currentState === 0 && code > 0x1f && code < 0x80) {\n                print = (~print) ? print : i;\n                do\n                    i++;\n                while (i < l && data.charCodeAt(i) > 0x1f && data.charCodeAt(i) < 0x80);\n                i--;\n                continue;\n            }\n            if (currentState === 4 && (code > 0x2f && code < 0x39)) {\n                params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                continue;\n            }\n            transition = (code < 0xa0) ? (table[currentState << 8 | code]) : DEFAULT_TRANSITION;\n            switch (transition >> 4) {\n                case 2:\n                    print = (~print) ? print : i;\n                    break;\n                case 3:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    callback = this._executeHandlers[code];\n                    if (callback)\n                        callback();\n                    else\n                        this._executeHandlerFb(code);\n                    break;\n                case 0:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    else if (~dcs) {\n                        dcsHandler.put(data, dcs, i);\n                        dcs = -1;\n                    }\n                    break;\n                case 1:\n                    if (code > 0x9f) {\n                        switch (currentState) {\n                            case 0:\n                                print = (~print) ? print : i;\n                                break;\n                            case 8:\n                                osc += String.fromCharCode(code);\n                                transition |= 8;\n                                break;\n                            case 6:\n                                transition |= 6;\n                                break;\n                            case 11:\n                                transition |= 11;\n                                break;\n                            case 13:\n                                dcs = (~dcs) ? dcs : i;\n                                transition |= 13;\n                                break;\n                            default:\n                                error = true;\n                        }\n                    }\n                    else {\n                        error = true;\n                    }\n                    if (error) {\n                        var inject = this._errorHandler({\n                            position: i,\n                            code: code,\n                            currentState: currentState,\n                            print: print,\n                            dcs: dcs,\n                            osc: osc,\n                            collect: collect,\n                            params: params,\n                            abort: false\n                        });\n                        if (inject.abort)\n                            return;\n                        error = false;\n                    }\n                    break;\n                case 7:\n                    callback = this._csiHandlers[code];\n                    if (callback)\n                        callback(params, collect);\n                    else\n                        this._csiHandlerFb(collect, params, code);\n                    break;\n                case 8:\n                    if (code === 0x3b)\n                        params.push(0);\n                    else\n                        params[params.length - 1] = params[params.length - 1] * 10 + code - 48;\n                    break;\n                case 9:\n                    collect += String.fromCharCode(code);\n                    break;\n                case 10:\n                    callback = this._escHandlers[collect + String.fromCharCode(code)];\n                    if (callback)\n                        callback(collect, code);\n                    else\n                        this._escHandlerFb(collect, code);\n                    break;\n                case 11:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 12:\n                    dcsHandler = this._dcsHandlers[collect + String.fromCharCode(code)];\n                    if (!dcsHandler)\n                        dcsHandler = this._dcsHandlerFb;\n                    dcsHandler.hook(collect, params, code);\n                    break;\n                case 13:\n                    dcs = (~dcs) ? dcs : i;\n                    break;\n                case 14:\n                    if (dcsHandler) {\n                        if (~dcs)\n                            dcsHandler.put(data, dcs, i);\n                        dcsHandler.unhook();\n                        dcsHandler = null;\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n                case 4:\n                    if (~print) {\n                        this._printHandler(data, print, i);\n                        print = -1;\n                    }\n                    osc = '';\n                    break;\n                case 5:\n                    osc += data.charAt(i);\n                    break;\n                case 6:\n                    if (osc && code !== 0x18 && code !== 0x1a) {\n                        var idx = osc.indexOf(';');\n                        if (idx === -1) {\n                            this._oscHandlerFb(-1, osc);\n                        }\n                        else {\n                            var identifier = parseInt(osc.substring(0, idx));\n                            var content = osc.substring(idx + 1);\n                            callback = this._oscHandlers[identifier];\n                            if (callback)\n                                callback(content);\n                            else\n                                this._oscHandlerFb(identifier, content);\n                        }\n                    }\n                    if (code === 0x1b)\n                        transition |= 1;\n                    osc = '';\n                    params = [0];\n                    collect = '';\n                    dcs = -1;\n                    break;\n            }\n            currentState = transition & 15;\n        }\n        if (currentState === 0 && ~print) {\n            this._printHandler(data, print, data.length);\n        }\n        else if (currentState === 13 && ~dcs && dcsHandler) {\n            dcsHandler.put(data, dcs, data.length);\n        }\n        this._osc = osc;\n        this._collect = collect;\n        this._params = params;\n        this._activeDcsHandler = dcsHandler;\n        this.currentState = currentState;\n    };\n    return EscapeSequenceParser;\n}(Lifecycle_1.Disposable));\nexports.EscapeSequenceParser = EscapeSequenceParser;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL0VzY2FwZVNlcXVlbmNlUGFyc2VyLnRzPzYwN2MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBTUEseUNBQWdEO0FBT2hELFNBQVMsQ0FBQyxDQUFDLEdBQVcsRUFBRSxJQUFZO0lBQ2xDLElBQUksQ0FBQyxHQUFHLElBQUksR0FBRyxHQUFHLENBQUM7SUFDbkIsSUFBTSxHQUFHLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekIsT0FBTyxDQUFDLEVBQUUsRUFBRTtRQUNWLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQztLQUNqQjtJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQztBQU9EO0lBR0UseUJBQVksTUFBYztRQUN4QixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsT0FBTyxVQUFVLEtBQUssV0FBVyxDQUFDO1lBQzlDLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUM7WUFDbkIsQ0FBQyxDQUFDLElBQUksVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFTRCw2QkFBRyxHQUFILFVBQUksSUFBWSxFQUFFLEtBQWEsRUFBRSxNQUFxQixFQUFFLElBQW1CO1FBQ3pFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDOUYsQ0FBQztJQVNELGlDQUFPLEdBQVAsVUFBUSxLQUFlLEVBQUUsS0FBYSxFQUFFLE1BQXFCLEVBQUUsSUFBbUI7UUFDaEYsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFD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SUFBSSxLQUFLLElBQUk7d0JBQUUsVUFBVSxLQUFzQixDQUFDO29CQUNwRCxHQUFHLEdBQUcsRUFBRSxDQUFDO29CQUNULE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNiLE9BQU8sR0FBRyxFQUFFLENBQUM7b0JBQ2IsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUNULE1BQU07YUFDVDtZQUNELFlBQVksR0FBRyxVQUFVLEdBQUcsRUFBRSxDQUFDO1NBQ2hDO1FBR0QsSUFBSSxZQUFZLE1BQXVCLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDakQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUM5QzthQUFNLElBQUksWUFBWSxPQUFnQyxJQUFJLENBQUMsR0FBRyxJQUFJLFVBQVUsRUFBRTtZQUM3RSxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3hDO1FBR0QsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFDaEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7UUFDeEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7UUFHdEIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLFVBQVUsQ0FBQztRQUdwQyxJQUFJLENBQUMsWUFBWSxHQUFHLFlBQVksQ0FBQztJQUNuQyxDQUFDO0lBQ0gsMkJBQUM7QUFBRCxDQUFDLENBcld5QyxzQkFBVSxHQXFXbkQ7QUFyV1ksb0RBQW9CIiwiZmlsZSI6IjM2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBQYXJzZXJTdGF0ZSwgUGFyc2VyQWN0aW9uLCBJUGFyc2luZ1N0YXRlLCBJRGNzSGFuZGxlciwgSUVzY2FwZVNlcXVlbmNlUGFyc2VyIH0gZnJvbSAnLi9UeXBlcyc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlIH0gZnJvbSAnLi9jb21tb24vTGlmZWN5Y2xlJztcblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IGZpbGxlZCB3aXRoIG51bWJlcnMgYmV0d2VlbiB0aGUgbG93IGFuZCBoaWdoIHBhcmFtZXRlcnMgKHJpZ2h0IGV4Y2x1c2l2ZSkuXG4gKiBAcGFyYW0gbG93IFRoZSBsb3cgbnVtYmVyLlxuICogQHBhcmFtIGhpZ2ggVGhlIGhpZ2ggbnVtYmVyLlxuICovXG5mdW5jdGlvbiByKGxvdzogbnVtYmVyLCBoaWdoOiBudW1iZXIpOiBudW1iZXJbXSB7XG4gIGxldCBjID0gaGlnaCAtIGxvdztcbiAgY29uc3QgYXJyID0gbmV3IEFycmF5KGMpO1xuICB3aGlsZSAoYy0tKSB7XG4gICAgYXJyW2NdID0gLS1oaWdoO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbi8qKlxuICogVHJhbnNpdGlvbiB0YWJsZSBmb3IgRXNjYXBlU2VxdWVuY2VQYXJzZXIuXG4gKiBOT1RFOiBkYXRhIGluIHRoZSB1bmRlcmx5aW5nIHRhYmxlIGlzIHBhY2tlZCBsaWtlIHRoaXM6XG4gKiAgIGN1cnJlbnRTdGF0ZSA8PCA4IHwgY2hhcmFjdGVyQ29kZSAgLS0+ICBhY3Rpb24gPDwgNCB8IG5leHRTdGF0ZVxuICovXG5leHBvcnQgY2xhc3MgVHJhbnNpdGlvblRhYmxlIHtcbiAgcHVibGljIHRhYmxlOiBVaW50OEFycmF5IHwgbnVtYmVyW107XG5cbiAgY29uc3RydWN0b3IobGVuZ3RoOiBudW1iZXIpIHtcbiAgICB0aGlzLnRhYmxlID0gKHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJylcbiAgICAgID8gbmV3IEFycmF5KGxlbmd0aClcbiAgICAgIDogbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB0cmFuc2l0aW9uIHRvIHRoZSB0cmFuc2l0aW9uIHRhYmxlLlxuICAgKiBAcGFyYW0gY29kZSBpbnB1dCBjaGFyYWN0ZXIgY29kZVxuICAgKiBAcGFyYW0gc3RhdGUgY3VycmVudCBwYXJzZXIgc3RhdGVcbiAgICogQHBhcmFtIGFjdGlvbiBwYXJzZXIgYWN0aW9uIHRvIGJlIGRvbmVcbiAgICogQHBhcmFtIG5leHQgbmV4dCBwYXJzZXIgc3RhdGVcbiAgICovXG4gIGFkZChjb2RlOiBudW1iZXIsIHN0YXRlOiBudW1iZXIsIGFjdGlvbjogbnVtYmVyIHwgbnVsbCwgbmV4dDogbnVtYmVyIHwgbnVsbCk6IHZvaWQge1xuICAgIHRoaXMudGFibGVbc3RhdGUgPDwgOCB8IGNvZGVdID0gKChhY3Rpb24gfCAwKSA8PCA0KSB8ICgobmV4dCA9PT0gdW5kZWZpbmVkKSA/IHN0YXRlIDogbmV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRyYW5zaXRpb25zIGZvciBtdWx0aXBsZSBpbnB1dCBjaGFyYWN0ZXIgY29kZXMuXG4gICAqIEBwYXJhbSBjb2RlcyBpbnB1dCBjaGFyYWN0ZXIgY29kZSBhcnJheVxuICAgKiBAcGFyYW0gc3RhdGUgY3VycmVudCBwYXJzZXIgc3RhdGVcbiAgICogQHBhcmFtIGFjdGlvbiBwYXJzZXIgYWN0aW9uIHRvIGJlIGRvbmVcbiAgICogQHBhcmFtIG5leHQgbmV4dCBwYXJzZXIgc3RhdGVcbiAgICovXG4gIGFkZE1hbnkoY29kZXM6IG51bWJlcltdLCBzdGF0ZTogbnVtYmVyLCBhY3Rpb246IG51bWJlciB8IG51bGwsIG5leHQ6IG51bWJlciB8IG51bGwpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmFkZChjb2Rlc1tpXSwgc3RhdGUsIGFjdGlvbiwgbmV4dCk7XG4gICAgfVxuICB9XG59XG5cblxuLyoqXG4gKiBEZWZhdWx0IGRlZmluaXRpb25zIGZvciB0aGUgVlQ1MDBfVFJBTlNJVElPTl9UQUJMRS5cbiAqL1xuY29uc3QgUFJJTlRBQkxFUyA9IHIoMHgyMCwgMHg3Zik7XG5jb25zdCBFWEVDVVRBQkxFUyA9IHIoMHgwMCwgMHgxOCk7XG5FWEVDVVRBQkxFUy5wdXNoKDB4MTkpO1xuRVhFQ1VUQUJMRVMucHVzaC5hcHBseShFWEVDVVRBQkxFUywgcigweDFjLCAweDIwKSk7XG5jb25zdCBERUZBVUxUX1RSQU5TSVRJT04gPSBQYXJzZXJBY3Rpb24uRVJST1IgPDwgNCB8IFBhcnNlclN0YXRlLkdST1VORDtcblxuLyoqXG4gKiBWVDUwMCBjb21wYXRpYmxlIHRyYW5zaXRpb24gdGFibGUuXG4gKiBUYWtlbiBmcm9tIGh0dHBzOi8vdnQxMDAubmV0L2VtdS9kZWNfYW5zaV9wYXJzZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBWVDUwMF9UUkFOU0lUSU9OX1RBQkxFID0gKGZ1bmN0aW9uICgpOiBUcmFuc2l0aW9uVGFibGUge1xuICBjb25zdCB0YWJsZTogVHJhbnNpdGlvblRhYmxlID0gbmV3IFRyYW5zaXRpb25UYWJsZSg0MDk1KTtcblxuICBjb25zdCBzdGF0ZXM6IG51bWJlcltdID0gcihQYXJzZXJTdGF0ZS5HUk9VTkQsIFBhcnNlclN0YXRlLkRDU19QQVNTVEhST1VHSCArIDEpO1xuICBsZXQgc3RhdGU6IGFueTtcblxuICAvLyB0YWJsZSB3aXRoIGRlZmF1bHQgdHJhbnNpdGlvbiBbYW55XSAtLT4gREVGQVVMVF9UUkFOU0lUSU9OXG4gIGZvciAoc3RhdGUgaW4gc3RhdGVzKSB7XG4gICAgLy8gTk9URTogdGFibGUgbG9va3VwIGlzIGNhcHBlZCBhdCAweGEwIGluIHBhcnNlIHRvIGtlZXAgdGhlIHRhYmxlIHNtYWxsXG4gICAgZm9yIChsZXQgY29kZSA9IDA7IGNvZGUgPCAxNjA7ICsrY29kZSkge1xuICAgICAgdGFibGUuYWRkKGNvZGUsIHN0YXRlLCBQYXJzZXJBY3Rpb24uRVJST1IsIFBhcnNlclN0YXRlLkdST1VORCk7XG4gICAgfVxuICB9XG4gIC8vIHByaW50YWJsZXNcbiAgdGFibGUuYWRkTWFueShQUklOVEFCTEVTLCBQYXJzZXJTdGF0ZS5HUk9VTkQsIFBhcnNlckFjdGlvbi5QUklOVCwgUGFyc2VyU3RhdGUuR1JPVU5EKTtcbiAgLy8gZ2xvYmFsIGFueXdoZXJlIHJ1bGVzXG4gIGZvciAoc3RhdGUgaW4gc3RhdGVzKSB7XG4gICAgdGFibGUuYWRkTWFueShbMHgxOCwgMHgxYSwgMHg5OSwgMHg5YV0sIHN0YXRlLCBQYXJzZXJBY3Rpb24uRVhFQ1VURSwgUGFyc2VyU3RhdGUuR1JPVU5EKTtcbiAgICB0YWJsZS5hZGRNYW55KHIoMHg4MCwgMHg5MCksIHN0YXRlLCBQYXJzZXJBY3Rpb24uRVhFQ1VURSwgUGFyc2VyU3RhdGUuR1JPVU5EKTtcbiAgICB0YWJsZS5hZGRNYW55KHIoMHg5MCwgMHg5OCksIHN0YXRlLCBQYXJzZXJBY3Rpb24uRVhFQ1VURSwgUGFyc2VyU3RhdGUuR1JPVU5EKTtcbiAgICB0YWJsZS5hZGQoMHg5Yywgc3RhdGUsIFBhcnNlckFjdGlvbi5JR05PUkUsIFBhcnNlclN0YXRlLkdST1VORCk7IC8vIFNUIGFzIHRlcm1pbmF0b3JcbiAgICB0YWJsZS5hZGQoMHgxYiwgc3RhdGUsIFBhcnNlckFjdGlvbi5DTEVBUiwgUGFyc2VyU3RhdGUuRVNDQVBFKTsgIC8vIEVTQ1xuICAgIHRhYmxlLmFkZCgweDlkLCBzdGF0ZSwgUGFyc2VyQWN0aW9uLk9TQ19TVEFSVCwgUGFyc2VyU3RhdGUuT1NDX1NUUklORyk7ICAvLyBPU0NcbiAgICB0YWJsZS5hZGRNYW55KFsweDk4LCAweDllLCAweDlmXSwgc3RhdGUsIFBhcnNlckFjdGlvbi5JR05PUkUsIFBhcnNlclN0YXRlLlNPU19QTV9BUENfU1RSSU5HKTtcbiAgICB0YWJsZS5hZGQoMHg5Yiwgc3RhdGUsIFBhcnNlckFjdGlvbi5DTEVBUiwgUGFyc2VyU3RhdGUuQ1NJX0VOVFJZKTsgIC8vIENTSVxuICAgIHRhYmxlLmFkZCgweDkwLCBzdGF0ZSwgUGFyc2VyQWN0aW9uLkNMRUFSLCBQYXJzZXJTdGF0ZS5EQ1NfRU5UUlkpOyAgLy8gRENTXG4gIH1cbiAgLy8gcnVsZXMgZm9yIGV4ZWN1dGFibGVzIGFuZCA3ZlxuICB0YWJsZS5hZGRNYW55KEVYRUNVVEFCTEVTLCBQYXJzZXJTdGF0ZS5HUk9VTkQsIFBhcnNlckFjdGlvbi5FWEVDVVRFLCBQYXJzZXJTdGF0ZS5HUk9VTkQpO1xuICB0YWJsZS5hZGRNYW55KEVYRUNVVEFCTEVTLCBQYXJzZXJTdGF0ZS5FU0NBUEUsIFBhcnNlckFjdGlvbi5FWEVDVVRFLCBQYXJzZXJTdGF0ZS5FU0NBUEUpO1xuICB0YWJsZS5hZGQoMHg3ZiwgUGFyc2VyU3RhdGUuRVNDQVBFLCBQYXJzZXJBY3Rpb24uSUdOT1JFLCBQYXJzZXJTdGF0ZS5FU0NBUEUpO1xuICB0YWJsZS5hZGRNYW55KEVYRUNVVEFCTEVTLCBQYXJzZXJTdGF0ZS5PU0NfU1RSSU5HLCBQYXJzZXJBY3Rpb24uSUdOT1JFLCBQYXJzZXJTdGF0ZS5PU0NfU1RSSU5HKTtcbiAgdGFibGUuYWRkTWFueShFWEVDVVRBQkxFUywgUGFyc2VyU3RhdGUuQ1NJX0VOVFJZLCBQYXJzZXJBY3Rpb24uRVhFQ1VURSwgUGFyc2VyU3RhdGUuQ1NJX0VOVFJZKTtcbiAgdGFibGUuYWRkKDB4N2YsIFBhcnNlclN0YXRlLkNTSV9FTlRSWSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuQ1NJX0VOVFJZKTtcbiAgdGFibGUuYWRkTWFueShFWEVDVVRBQkxFUywgUGFyc2VyU3RhdGUuQ1NJX1BBUkFNLCBQYXJzZXJBY3Rpb24uRVhFQ1VURSwgUGFyc2VyU3RhdGUuQ1NJX1BBUkFNKTtcbiAgdGFibGUuYWRkKDB4N2YsIFBhcnNlclN0YXRlLkNTSV9QQVJBTSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuQ1NJX1BBUkFNKTtcbiAgdGFibGUuYWRkTWFueShFWEVDVVRBQkxFUywgUGFyc2VyU3RhdGUuQ1NJX0lHTk9SRSwgUGFyc2VyQWN0aW9uLkVYRUNVVEUsIFBhcnNlclN0YXRlLkNTSV9JR05PUkUpO1xuICB0YWJsZS5hZGRNYW55KEVYRUNVVEFCTEVTLCBQYXJzZXJTdGF0ZS5DU0lfSU5URVJNRURJQVRFLCBQYXJzZXJBY3Rpb24uRVhFQ1VURSwgUGFyc2VyU3RhdGUuQ1NJX0lOVEVSTUVESUFURSk7XG4gIHRhYmxlLmFkZCgweDdmLCBQYXJzZXJTdGF0ZS5DU0lfSU5URVJNRURJQVRFLCBQYXJzZXJBY3Rpb24uSUdOT1JFLCBQYXJzZXJTdGF0ZS5DU0lfSU5URVJNRURJQVRFKTtcbiAgdGFibGUuYWRkTWFueShFWEVDVVRBQkxFUywgUGFyc2VyU3RhdGUuRVNDQVBFX0lOVEVSTUVESUFURSwgUGFyc2VyQWN0aW9uLkVYRUNVVEUsIFBhcnNlclN0YXRlLkVTQ0FQRV9JTlRFUk1FRElBVEUpO1xuICB0YWJsZS5hZGQoMHg3ZiwgUGFyc2VyU3RhdGUuRVNDQVBFX0lOVEVSTUVESUFURSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuRVNDQVBFX0lOVEVSTUVESUFURSk7XG4gIC8vIG9zY1xuICB0YWJsZS5hZGQoMHg1ZCwgUGFyc2VyU3RhdGUuRVNDQVBFLCBQYXJzZXJBY3Rpb24uT1NDX1NUQVJULCBQYXJzZXJTdGF0ZS5PU0NfU1RSSU5HKTtcbiAgdGFibGUuYWRkTWFueShQUklOVEFCTEVTLCBQYXJzZXJTdGF0ZS5PU0NfU1RSSU5HLCBQYXJzZXJBY3Rpb24uT1NDX1BVVCwgUGFyc2VyU3RhdGUuT1NDX1NUUklORyk7XG4gIHRhYmxlLmFkZCgweDdmLCBQYXJzZXJTdGF0ZS5PU0NfU1RSSU5HLCBQYXJzZXJBY3Rpb24uT1NDX1BVVCwgUGFyc2VyU3RhdGUuT1NDX1NUUklORyk7XG4gIHRhYmxlLmFkZE1hbnkoWzB4OWMsIDB4MWIsIDB4MTgsIDB4MWEsIDB4MDddLCBQYXJzZXJTdGF0ZS5PU0NfU1RSSU5HLCBQYXJzZXJBY3Rpb24uT1NDX0VORCwgUGFyc2VyU3RhdGUuR1JPVU5EKTtcbiAgdGFibGUuYWRkTWFueShyKDB4MWMsIDB4MjApLCBQYXJzZXJTdGF0ZS5PU0NfU1RSSU5HLCBQYXJzZXJBY3Rpb24uSUdOT1JFLCBQYXJzZXJTdGF0ZS5PU0NfU1RSSU5HKTtcbiAgLy8gc29zL3BtL2FwYyBkb2VzIG5vdGhpbmdcbiAgdGFibGUuYWRkTWFueShbMHg1OCwgMHg1ZSwgMHg1Zl0sIFBhcnNlclN0YXRlLkVTQ0FQRSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuU09TX1BNX0FQQ19TVFJJTkcpO1xuICB0YWJsZS5hZGRNYW55KFBSSU5UQUJMRVMsIFBhcnNlclN0YXRlLlNPU19QTV9BUENfU1RSSU5HLCBQYXJzZXJBY3Rpb24uSUdOT1JFLCBQYXJzZXJTdGF0ZS5TT1NfUE1fQVBDX1NUUklORyk7XG4gIHRhYmxlLmFkZE1hbnkoRVhFQ1VUQUJMRVMsIFBhcnNlclN0YXRlLlNPU19QTV9BUENfU1RSSU5HLCBQYXJzZXJBY3Rpb24uSUdOT1JFLCBQYXJzZXJTdGF0ZS5TT1NfUE1fQVBDX1NUUklORyk7XG4gIHRhYmxlLmFkZCgweDljLCBQYXJzZXJTdGF0ZS5TT1NfUE1fQVBDX1NUUklORywgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuR1JPVU5EKTtcbiAgLy8gY3NpIGVudHJpZXNcbiAgdGFibGUuYWRkKDB4NWIsIFBhcnNlclN0YXRlLkVTQ0FQRSwgUGFyc2VyQWN0aW9uLkNMRUFSLCBQYXJzZXJTdGF0ZS5DU0lfRU5UUlkpO1xuICB0YWJsZS5hZGRNYW55KHIoMHg0MCwgMHg3ZiksIFBhcnNlclN0YXRlLkNTSV9FTlRSWSwgUGFyc2VyQWN0aW9uLkNTSV9ESVNQQVRDSCwgUGFyc2VyU3RhdGUuR1JPVU5EKTtcbiAgdGFibGUuYWRkTWFueShyKDB4MzAsIDB4M2EpLCBQYXJzZXJTdGF0ZS5DU0lfRU5UUlksIFBhcnNlckFjdGlvbi5QQVJBTSwgUGFyc2VyU3RhdGUuQ1NJX1BBUkFNKTtcbiAgdGFibGUuYWRkKDB4M2IsIFBhcnNlclN0YXRlLkNTSV9FTlRSWSwgUGFyc2VyQWN0aW9uLlBBUkFNLCBQYXJzZXJTdGF0ZS5DU0lfUEFSQU0pO1xuICB0YWJsZS5hZGRNYW55KFsweDNjLCAweDNkLCAweDNlLCAweDNmXSwgUGFyc2VyU3RhdGUuQ1NJX0VOVFJZLCBQYXJzZXJBY3Rpb24uQ09MTEVDVCwgUGFyc2VyU3RhdGUuQ1NJX1BBUkFNKTtcbiAgdGFibGUuYWRkTWFueShyKDB4MzAsIDB4M2EpLCBQYXJzZXJTdGF0ZS5DU0lfUEFSQU0sIFBhcnNlckFjdGlvbi5QQVJBTSwgUGFyc2VyU3RhdGUuQ1NJX1BBUkFNKTtcbiAgdGFibGUuYWRkKDB4M2IsIFBhcnNlclN0YXRlLkNTSV9QQVJBTSwgUGFyc2VyQWN0aW9uLlBBUkFNLCBQYXJzZXJTdGF0ZS5DU0lfUEFSQU0pO1xuICB0YWJsZS5hZGRNYW55KHIoMHg0MCwgMHg3ZiksIFBhcnNlclN0YXRlLkNTSV9QQVJBTSwgUGFyc2VyQWN0aW9uLkNTSV9ESVNQQVRDSCwgUGFyc2VyU3RhdGUuR1JPVU5EKTtcbiAgdGFibGUuYWRkTWFueShbMHgzYSwgMHgzYywgMHgzZCwgMHgzZSwgMHgzZl0sIFBhcnNlclN0YXRlLkNTSV9QQVJBTSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuQ1NJX0lHTk9SRSk7XG4gIHRhYmxlLmFkZE1hbnkocigweDIwLCAweDQwKSwgUGFyc2VyU3RhdGUuQ1NJX0lHTk9SRSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuQ1NJX0lHTk9SRSk7XG4gIHRhYmxlLmFkZCgweDdmLCBQYXJzZXJTdGF0ZS5DU0lfSUdOT1JFLCBQYXJzZXJBY3Rpb24uSUdOT1JFLCBQYXJzZXJTdGF0ZS5DU0lfSUdOT1JFKTtcbiAgdGFibGUuYWRkTWFueShyKDB4NDAsIDB4N2YpLCBQYXJzZXJTdGF0ZS5DU0lfSUdOT1JFLCBQYXJzZXJBY3Rpb24uSUdOT1JFLCBQYXJzZXJTdGF0ZS5HUk9VTkQpO1xuICB0YWJsZS5hZGQoMHgzYSwgUGFyc2VyU3RhdGUuQ1NJX0VOVFJZLCBQYXJzZXJBY3Rpb24uSUdOT1JFLCBQYXJzZXJTdGF0ZS5DU0lfSUdOT1JFKTtcbiAgdGFibGUuYWRkTWFueShyKDB4MjAsIDB4MzApLCBQYXJzZXJTdGF0ZS5DU0lfRU5UUlksIFBhcnNlckFjdGlvbi5DT0xMRUNULCBQYXJzZXJTdGF0ZS5DU0lfSU5URVJNRURJQVRFKTtcbiAgdGFibGUuYWRkTWFueShyKDB4MjAsIDB4MzApLCBQYXJzZXJTdGF0ZS5DU0lfSU5URVJNRURJQVRFLCBQYXJzZXJBY3Rpb24uQ09MTEVDVCwgUGFyc2VyU3RhdGUuQ1NJX0lOVEVSTUVESUFURSk7XG4gIHRhYmxlLmFkZE1hbnkocigweDMwLCAweDQwKSwgUGFyc2VyU3RhdGUuQ1NJX0lOVEVSTUVESUFURSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuQ1NJX0lHTk9SRSk7XG4gIHRhYmxlLmFkZE1hbnkocigweDQwLCAweDdmKSwgUGFyc2VyU3RhdGUuQ1NJX0lOVEVSTUVESUFURSwgUGFyc2VyQWN0aW9uLkNTSV9ESVNQQVRDSCwgUGFyc2VyU3RhdGUuR1JPVU5EKTtcbiAgdGFibGUuYWRkTWFueShyKDB4MjAsIDB4MzApLCBQYXJzZXJTdGF0ZS5DU0lfUEFSQU0sIFBhcnNlckFjdGlvbi5DT0xMRUNULCBQYXJzZXJTdGF0ZS5DU0lfSU5URVJNRURJQVRFKTtcbiAgLy8gZXNjX2ludGVybWVkaWF0ZVxuICB0YWJsZS5hZGRNYW55KHIoMHgyMCwgMHgzMCksIFBhcnNlclN0YXRlLkVTQ0FQRSwgUGFyc2VyQWN0aW9uLkNPTExFQ1QsIFBhcnNlclN0YXRlLkVTQ0FQRV9JTlRFUk1FRElBVEUpO1xuICB0YWJsZS5hZGRNYW55KHIoMHgyMCwgMHgzMCksIFBhcnNlclN0YXRlLkVTQ0FQRV9JTlRFUk1FRElBVEUsIFBhcnNlckFjdGlvbi5DT0xMRUNULCBQYXJzZXJTdGF0ZS5FU0NBUEVfSU5URVJNRURJQVRFKTtcbiAgdGFibGUuYWRkTWFueShyKDB4MzAsIDB4N2YpLCBQYXJzZXJTdGF0ZS5FU0NBUEVfSU5URVJNRURJQVRFLCBQYXJzZXJBY3Rpb24uRVNDX0RJU1BBVENILCBQYXJzZXJTdGF0ZS5HUk9VTkQpO1xuICB0YWJsZS5hZGRNYW55KHIoMHgzMCwgMHg1MCksIFBhcnNlclN0YXRlLkVTQ0FQRSwgUGFyc2VyQWN0aW9uLkVTQ19ESVNQQVRDSCwgUGFyc2VyU3RhdGUuR1JPVU5EKTtcbiAgdGFibGUuYWRkTWFueShyKDB4NTEsIDB4NTgpLCBQYXJzZXJTdGF0ZS5FU0NBUEUsIFBhcnNlckFjdGlvbi5FU0NfRElTUEFUQ0gsIFBhcnNlclN0YXRlLkdST1VORCk7XG4gIHRhYmxlLmFkZE1hbnkoWzB4NTksIDB4NWEsIDB4NWNdLCBQYXJzZXJTdGF0ZS5FU0NBUEUsIFBhcnNlckFjdGlvbi5FU0NfRElTUEFUQ0gsIFBhcnNlclN0YXRlLkdST1VORCk7XG4gIHRhYmxlLmFkZE1hbnkocigweDYwLCAweDdmKSwgUGFyc2VyU3RhdGUuRVNDQVBFLCBQYXJzZXJBY3Rpb24uRVNDX0RJU1BBVENILCBQYXJzZXJTdGF0ZS5HUk9VTkQpO1xuICAvLyBkY3MgZW50cnlcbiAgdGFibGUuYWRkKDB4NTAsIFBhcnNlclN0YXRlLkVTQ0FQRSwgUGFyc2VyQWN0aW9uLkNMRUFSLCBQYXJzZXJTdGF0ZS5EQ1NfRU5UUlkpO1xuICB0YWJsZS5hZGRNYW55KEVYRUNVVEFCTEVTLCBQYXJzZXJTdGF0ZS5EQ1NfRU5UUlksIFBhcnNlckFjdGlvbi5JR05PUkUsIFBhcnNlclN0YXRlLkRDU19FTlRSWSk7XG4gIHRhYmxlLmFkZCgweDdmLCBQYXJzZXJTdGF0ZS5EQ1NfRU5UUlksIFBhcnNlckFjdGlvbi5JR05PUkUsIFBhcnNlclN0YXRlLkRDU19FTlRSWSk7XG4gIHRhYmxlLmFkZE1hbnkocigweDFjLCAweDIwKSwgUGFyc2VyU3RhdGUuRENTX0VOVFJZLCBQYXJzZXJBY3Rpb24uSUdOT1JFLCBQYXJzZXJTdGF0ZS5EQ1NfRU5UUlkpO1xuICB0YWJsZS5hZGRNYW55KHIoMHgyMCwgMHgzMCksIFBhcnNlclN0YXRlLkRDU19FTlRSWSwgUGFyc2VyQWN0aW9uLkNPTExFQ1QsIFBhcnNlclN0YXRlLkRDU19JTlRFUk1FRElBVEUpO1xuICB0YWJsZS5hZGQoMHgzYSwgUGFyc2VyU3RhdGUuRENTX0VOVFJZLCBQYXJzZXJBY3Rpb24uSUdOT1JFLCBQYXJzZXJTdGF0ZS5EQ1NfSUdOT1JFKTtcbiAgdGFibGUuYWRkTWFueShyKDB4MzAsIDB4M2EpLCBQYXJzZXJTdGF0ZS5EQ1NfRU5UUlksIFBhcnNlckFjdGlvbi5QQVJBTSwgUGFyc2VyU3RhdGUuRENTX1BBUkFNKTtcbiAgdGFibGUuYWRkKDB4M2IsIFBhcnNlclN0YXRlLkRDU19FTlRSWSwgUGFyc2VyQWN0aW9uLlBBUkFNLCBQYXJzZXJTdGF0ZS5EQ1NfUEFSQU0pO1xuICB0YWJsZS5hZGRNYW55KFsweDNjLCAweDNkLCAweDNlLCAweDNmXSwgUGFyc2VyU3RhdGUuRENTX0VOVFJZLCBQYXJzZXJBY3Rpb24uQ09MTEVDVCwgUGFyc2VyU3RhdGUuRENTX1BBUkFNKTtcbiAgdGFibGUuYWRkTWFueShFWEVDVVRBQkxFUywgUGFyc2VyU3RhdGUuRENTX0lHTk9SRSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuRENTX0lHTk9SRSk7XG4gIHRhYmxlLmFkZE1hbnkocigweDIwLCAweDgwKSwgUGFyc2VyU3RhdGUuRENTX0lHTk9SRSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuRENTX0lHTk9SRSk7XG4gIHRhYmxlLmFkZE1hbnkocigweDFjLCAweDIwKSwgUGFyc2VyU3RhdGUuRENTX0lHTk9SRSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuRENTX0lHTk9SRSk7XG4gIHRhYmxlLmFkZE1hbnkoRVhFQ1VUQUJMRVMsIFBhcnNlclN0YXRlLkRDU19QQVJBTSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuRENTX1BBUkFNKTtcbiAgdGFibGUuYWRkKDB4N2YsIFBhcnNlclN0YXRlLkRDU19QQVJBTSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuRENTX1BBUkFNKTtcbiAgdGFibGUuYWRkTWFueShyKDB4MWMsIDB4MjApLCBQYXJzZXJTdGF0ZS5EQ1NfUEFSQU0sIFBhcnNlckFjdGlvbi5JR05PUkUsIFBhcnNlclN0YXRlLkRDU19QQVJBTSk7XG4gIHRhYmxlLmFkZE1hbnkocigweDMwLCAweDNhKSwgUGFyc2VyU3RhdGUuRENTX1BBUkFNLCBQYXJzZXJBY3Rpb24uUEFSQU0sIFBhcnNlclN0YXRlLkRDU19QQVJBTSk7XG4gIHRhYmxlLmFkZCgweDNiLCBQYXJzZXJTdGF0ZS5EQ1NfUEFSQU0sIFBhcnNlckFjdGlvbi5QQVJBTSwgUGFyc2VyU3RhdGUuRENTX1BBUkFNKTtcbiAgdGFibGUuYWRkTWFueShbMHgzYSwgMHgzYywgMHgzZCwgMHgzZSwgMHgzZl0sIFBhcnNlclN0YXRlLkRDU19QQVJBTSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuRENTX0lHTk9SRSk7XG4gIHRhYmxlLmFkZE1hbnkocigweDIwLCAweDMwKSwgUGFyc2VyU3RhdGUuRENTX1BBUkFNLCBQYXJzZXJBY3Rpb24uQ09MTEVDVCwgUGFyc2VyU3RhdGUuRENTX0lOVEVSTUVESUFURSk7XG4gIHRhYmxlLmFkZE1hbnkoRVhFQ1VUQUJMRVMsIFBhcnNlclN0YXRlLkRDU19JTlRFUk1FRElBVEUsIFBhcnNlckFjdGlvbi5JR05PUkUsIFBhcnNlclN0YXRlLkRDU19JTlRFUk1FRElBVEUpO1xuICB0YWJsZS5hZGQoMHg3ZiwgUGFyc2VyU3RhdGUuRENTX0lOVEVSTUVESUFURSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuRENTX0lOVEVSTUVESUFURSk7XG4gIHRhYmxlLmFkZE1hbnkocigweDFjLCAweDIwKSwgUGFyc2VyU3RhdGUuRENTX0lOVEVSTUVESUFURSwgUGFyc2VyQWN0aW9uLklHTk9SRSwgUGFyc2VyU3RhdGUuRENTX0lOVEVSTUVESUFURSk7XG4gIHRhYmxlLmFkZE1hbnkocigweDIwLCAweDMwKSwgUGFyc2VyU3RhdGUuRENTX0lOVEVSTUVESUFURSwgUGFyc2VyQWN0aW9uLkNPTExFQ1QsIFBhcnNlclN0YXRlLkRDU19JTlRFUk1FRElBVEUpO1xuICB0YWJsZS5hZGRNYW55KHIoMHgzMCwgMHg0MCksIFBhcnNlclN0YXRlLkRDU19JTlRFUk1FRElBVEUsIFBhcnNlckFjdGlvbi5JR05PUkUsIFBhcnNlclN0YXRlLkRDU19JR05PUkUpO1xuICB0YWJsZS5hZGRNYW55KHIoMHg0MCwgMHg3ZiksIFBhcnNlclN0YXRlLkRDU19JTlRFUk1FRElBVEUsIFBhcnNlckFjdGlvbi5EQ1NfSE9PSywgUGFyc2VyU3RhdGUuRENTX1BBU1NUSFJPVUdIKTtcbiAgdGFibGUuYWRkTWFueShyKDB4NDAsIDB4N2YpLCBQYXJzZXJTdGF0ZS5EQ1NfUEFSQU0sIFBhcnNlckFjdGlvbi5EQ1NfSE9PSywgUGFyc2VyU3RhdGUuRENTX1BBU1NUSFJPVUdIKTtcbiAgdGFibGUuYWRkTWFueShyKDB4NDAsIDB4N2YpLCBQYXJzZXJTdGF0ZS5EQ1NfRU5UUlksIFBhcnNlckFjdGlvbi5EQ1NfSE9PSywgUGFyc2VyU3RhdGUuRENTX1BBU1NUSFJPVUdIKTtcbiAgdGFibGUuYWRkTWFueShFWEVDVVRBQkxFUywgUGFyc2VyU3RhdGUuRENTX1BBU1NUSFJPVUdILCBQYXJzZXJBY3Rpb24uRENTX1BVVCwgUGFyc2VyU3RhdGUuRENTX1BBU1NUSFJPVUdIKTtcbiAgdGFibGUuYWRkTWFueShQUklOVEFCTEVTLCBQYXJzZXJTdGF0ZS5EQ1NfUEFTU1RIUk9VR0gsIFBhcnNlckFjdGlvbi5EQ1NfUFVULCBQYXJzZXJTdGF0ZS5EQ1NfUEFTU1RIUk9VR0gpO1xuICB0YWJsZS5hZGQoMHg3ZiwgUGFyc2VyU3RhdGUuRENTX1BBU1NUSFJPVUdILCBQYXJzZXJBY3Rpb24uSUdOT1JFLCBQYXJzZXJTdGF0ZS5EQ1NfUEFTU1RIUk9VR0gpO1xuICB0YWJsZS5hZGRNYW55KFsweDFiLCAweDljXSwgUGFyc2VyU3RhdGUuRENTX1BBU1NUSFJPVUdILCBQYXJzZXJBY3Rpb24uRENTX1VOSE9PSywgUGFyc2VyU3RhdGUuR1JPVU5EKTtcbiAgcmV0dXJuIHRhYmxlO1xufSkoKTtcblxuLyoqXG4gKiBEdW1teSBEQ1MgaGFuZGxlciBhcyBkZWZhdWx0IGZhbGxiYWNrLlxuICovXG5jbGFzcyBEY3NEdW1teSBpbXBsZW1lbnRzIElEY3NIYW5kbGVyIHtcbiAgaG9vayhjb2xsZWN0OiBzdHJpbmcsIHBhcmFtczogbnVtYmVyW10sIGZsYWc6IG51bWJlcik6IHZvaWQgeyB9XG4gIHB1dChkYXRhOiBzdHJpbmcsIHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTogdm9pZCB7IH1cbiAgdW5ob29rKCk6IHZvaWQgeyB9XG59XG5cbi8qKlxuICogRXNjYXBlU2VxdWVuY2VQYXJzZXIuXG4gKiBUaGlzIGNsYXNzIGltcGxlbWVudHMgdGhlIEFOU0kvREVDIGNvbXBhdGlibGUgcGFyc2VyIGRlc2NyaWJlZCBieVxuICogUGF1bCBXaWxsaWFtcyAoaHR0cHM6Ly92dDEwMC5uZXQvZW11L2RlY19hbnNpX3BhcnNlcikuXG4gKiBUbyBpbXBsZW1lbnQgY3VzdG9tIEFOU0kgY29tcGxpYW50IGVzY2FwZSBzZXF1ZW5jZXMgaXQgaXMgbm90IG5lZWRlZCB0b1xuICogYWx0ZXIgdGhpcyBwYXJzZXIsIGluc3RlYWQgY29uc2lkZXIgcmVnaXN0ZXJpbmcgYSBjdXN0b20gaGFuZGxlci5cbiAqIEZvciBub24gQU5TSSBjb21wbGlhbnQgc2VxdWVuY2VzIGNoYW5nZSB0aGUgdHJhbnNpdGlvbiB0YWJsZSB3aXRoXG4gKiB0aGUgb3B0aW9uYWwgYHRyYW5zaXRpb25zYCBjb250cnVjdG9yIGFyZ3VtZW50IGFuZFxuICogcmVpbXBsZW1lbnQgdGhlIGBwYXJzZWAgbWV0aG9kLlxuICogTk9URTogVGhlIHBhcmFtZXRlciBlbGVtZW50IG5vdGF0aW9uIGlzIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkLlxuICogVE9ETzogaW1wbGVtZW50IGVycm9yIHJlY292ZXJ5IGhvb2sgdmlhIGVycm9yIGhhbmRsZXIgcmV0dXJuIHZhbHVlc1xuICovXG5leHBvcnQgY2xhc3MgRXNjYXBlU2VxdWVuY2VQYXJzZXIgZXh0ZW5kcyBEaXNwb3NhYmxlIGltcGxlbWVudHMgSUVzY2FwZVNlcXVlbmNlUGFyc2VyIHtcbiAgcHVibGljIGluaXRpYWxTdGF0ZTogbnVtYmVyO1xuICBwdWJsaWMgY3VycmVudFN0YXRlOiBudW1iZXI7XG5cbiAgLy8gYnVmZmVycyBvdmVyIHNldmVyYWwgcGFyc2UgY2FsbHNcbiAgcHJvdGVjdGVkIF9vc2M6IHN0cmluZztcbiAgcHJvdGVjdGVkIF9wYXJhbXM6IG51bWJlcltdO1xuICBwcm90ZWN0ZWQgX2NvbGxlY3Q6IHN0cmluZztcblxuICAvLyBoYW5kbGVyIGxvb2t1cCBjb250YWluZXJzXG4gIHByb3RlY3RlZCBfcHJpbnRIYW5kbGVyOiAoZGF0YTogc3RyaW5nLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcikgPT4gdm9pZDtcbiAgcHJvdGVjdGVkIF9leGVjdXRlSGFuZGxlcnM6IGFueTtcbiAgcHJvdGVjdGVkIF9jc2lIYW5kbGVyczogYW55O1xuICBwcm90ZWN0ZWQgX2VzY0hhbmRsZXJzOiBhbnk7XG4gIHByb3RlY3RlZCBfb3NjSGFuZGxlcnM6IGFueTtcbiAgcHJvdGVjdGVkIF9kY3NIYW5kbGVyczogYW55O1xuICBwcm90ZWN0ZWQgX2FjdGl2ZURjc0hhbmRsZXI6IElEY3NIYW5kbGVyIHwgbnVsbDtcbiAgcHJvdGVjdGVkIF9lcnJvckhhbmRsZXI6IChzdGF0ZTogSVBhcnNpbmdTdGF0ZSkgPT4gSVBhcnNpbmdTdGF0ZTtcblxuICAvLyBmYWxsYmFjayBoYW5kbGVyc1xuICBwcm90ZWN0ZWQgX3ByaW50SGFuZGxlckZiOiAoZGF0YTogc3RyaW5nLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcikgPT4gdm9pZDtcbiAgcHJvdGVjdGVkIF9leGVjdXRlSGFuZGxlckZiOiAoY29kZTogbnVtYmVyKSA9PiB2b2lkO1xuICBwcm90ZWN0ZWQgX2NzaUhhbmRsZXJGYjogKGNvbGxlY3Q6IHN0cmluZywgcGFyYW1zOiBudW1iZXJbXSwgZmxhZzogbnVtYmVyKSA9PiB2b2lkO1xuICBwcm90ZWN0ZWQgX2VzY0hhbmRsZXJGYjogKGNvbGxlY3Q6IHN0cmluZywgZmxhZzogbnVtYmVyKSA9PiB2b2lkO1xuICBwcm90ZWN0ZWQgX29zY0hhbmRsZXJGYjogKGlkZW50aWZpZXI6IG51bWJlciwgZGF0YTogc3RyaW5nKSA9PiB2b2lkO1xuICBwcm90ZWN0ZWQgX2Rjc0hhbmRsZXJGYjogSURjc0hhbmRsZXI7XG4gIHByb3RlY3RlZCBfZXJyb3JIYW5kbGVyRmI6IChzdGF0ZTogSVBhcnNpbmdTdGF0ZSkgPT4gSVBhcnNpbmdTdGF0ZTtcblxuICBjb25zdHJ1Y3RvcihyZWFkb25seSBUUkFOU0lUSU9OUzogVHJhbnNpdGlvblRhYmxlID0gVlQ1MDBfVFJBTlNJVElPTl9UQUJMRSkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLmluaXRpYWxTdGF0ZSA9IFBhcnNlclN0YXRlLkdST1VORDtcbiAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IHRoaXMuaW5pdGlhbFN0YXRlO1xuICAgIHRoaXMuX29zYyA9ICcnO1xuICAgIHRoaXMuX3BhcmFtcyA9IFswXTtcbiAgICB0aGlzLl9jb2xsZWN0ID0gJyc7XG5cbiAgICAvLyBzZXQgZGVmYXVsdCBmYWxsYmFjayBoYW5kbGVycyBhbmQgaGFuZGxlciBsb29rdXAgY29udGFpbmVyc1xuICAgIHRoaXMuX3ByaW50SGFuZGxlckZiID0gKGRhdGEsIHN0YXJ0LCBlbmQpOiB2b2lkID0+IHsgfTtcbiAgICB0aGlzLl9leGVjdXRlSGFuZGxlckZiID0gKGNvZGU6IG51bWJlcik6IHZvaWQgPT4geyB9O1xuICAgIHRoaXMuX2NzaUhhbmRsZXJGYiA9IChjb2xsZWN0OiBzdHJpbmcsIHBhcmFtczogbnVtYmVyW10sIGZsYWc6IG51bWJlcik6IHZvaWQgPT4geyB9O1xuICAgIHRoaXMuX2VzY0hhbmRsZXJGYiA9IChjb2xsZWN0OiBzdHJpbmcsIGZsYWc6IG51bWJlcik6IHZvaWQgPT4geyB9O1xuICAgIHRoaXMuX29zY0hhbmRsZXJGYiA9IChpZGVudGlmaWVyOiBudW1iZXIsIGRhdGE6IHN0cmluZyk6IHZvaWQgPT4geyB9O1xuICAgIHRoaXMuX2Rjc0hhbmRsZXJGYiA9IG5ldyBEY3NEdW1teSgpO1xuICAgIHRoaXMuX2Vycm9ySGFuZGxlckZiID0gKHN0YXRlOiBJUGFyc2luZ1N0YXRlKTogSVBhcnNpbmdTdGF0ZSA9PiBzdGF0ZTtcbiAgICB0aGlzLl9wcmludEhhbmRsZXIgPSB0aGlzLl9wcmludEhhbmRsZXJGYjtcbiAgICB0aGlzLl9leGVjdXRlSGFuZGxlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2NzaUhhbmRsZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9lc2NIYW5kbGVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fb3NjSGFuZGxlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2Rjc0hhbmRsZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9hY3RpdmVEY3NIYW5kbGVyID0gbnVsbDtcbiAgICB0aGlzLl9lcnJvckhhbmRsZXIgPSB0aGlzLl9lcnJvckhhbmRsZXJGYjtcblxuICAgIC8vIHN3YWxsb3cgN2JpdCBTVCAoRVNDK1xcKVxuICAgIHRoaXMuc2V0RXNjSGFuZGxlcignXFxcXCcsICgpID0+IHt9KTtcbiAgfVxuXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHRoaXMuX3ByaW50SGFuZGxlckZiID0gbnVsbDtcbiAgICB0aGlzLl9leGVjdXRlSGFuZGxlckZiID0gbnVsbDtcbiAgICB0aGlzLl9jc2lIYW5kbGVyRmIgPSBudWxsO1xuICAgIHRoaXMuX2VzY0hhbmRsZXJGYiA9IG51bGw7XG4gICAgdGhpcy5fb3NjSGFuZGxlckZiID0gbnVsbDtcbiAgICB0aGlzLl9kY3NIYW5kbGVyRmIgPSBudWxsO1xuICAgIHRoaXMuX2Vycm9ySGFuZGxlckZiID0gbnVsbDtcbiAgICB0aGlzLl9wcmludEhhbmRsZXIgPSBudWxsO1xuICAgIHRoaXMuX2V4ZWN1dGVIYW5kbGVycyA9IG51bGw7XG4gICAgdGhpcy5fY3NpSGFuZGxlcnMgPSBudWxsO1xuICAgIHRoaXMuX2VzY0hhbmRsZXJzID0gbnVsbDtcbiAgICB0aGlzLl9vc2NIYW5kbGVycyA9IG51bGw7XG4gICAgdGhpcy5fZGNzSGFuZGxlcnMgPSBudWxsO1xuICAgIHRoaXMuX2FjdGl2ZURjc0hhbmRsZXIgPSBudWxsO1xuICAgIHRoaXMuX2Vycm9ySGFuZGxlciA9IG51bGw7XG4gIH1cblxuICBzZXRQcmludEhhbmRsZXIoY2FsbGJhY2s6IChkYXRhOiBzdHJpbmcsIHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5fcHJpbnRIYW5kbGVyID0gY2FsbGJhY2s7XG4gIH1cbiAgY2xlYXJQcmludEhhbmRsZXIoKTogdm9pZCB7XG4gICAgdGhpcy5fcHJpbnRIYW5kbGVyID0gdGhpcy5fcHJpbnRIYW5kbGVyRmI7XG4gIH1cblxuICBzZXRFeGVjdXRlSGFuZGxlcihmbGFnOiBzdHJpbmcsIGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5fZXhlY3V0ZUhhbmRsZXJzW2ZsYWcuY2hhckNvZGVBdCgwKV0gPSBjYWxsYmFjaztcbiAgfVxuICBjbGVhckV4ZWN1dGVIYW5kbGVyKGZsYWc6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9leGVjdXRlSGFuZGxlcnNbZmxhZy5jaGFyQ29kZUF0KDApXSkgZGVsZXRlIHRoaXMuX2V4ZWN1dGVIYW5kbGVyc1tmbGFnLmNoYXJDb2RlQXQoMCldO1xuICB9XG4gIHNldEV4ZWN1dGVIYW5kbGVyRmFsbGJhY2soY2FsbGJhY2s6IChjb2RlOiBudW1iZXIpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLl9leGVjdXRlSGFuZGxlckZiID0gY2FsbGJhY2s7XG4gIH1cblxuICBzZXRDc2lIYW5kbGVyKGZsYWc6IHN0cmluZywgY2FsbGJhY2s6IChwYXJhbXM6IG51bWJlcltdLCBjb2xsZWN0OiBzdHJpbmcpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLl9jc2lIYW5kbGVyc1tmbGFnLmNoYXJDb2RlQXQoMCldID0gY2FsbGJhY2s7XG4gIH1cbiAgY2xlYXJDc2lIYW5kbGVyKGZsYWc6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9jc2lIYW5kbGVyc1tmbGFnLmNoYXJDb2RlQXQoMCldKSBkZWxldGUgdGhpcy5fY3NpSGFuZGxlcnNbZmxhZy5jaGFyQ29kZUF0KDApXTtcbiAgfVxuICBzZXRDc2lIYW5kbGVyRmFsbGJhY2soY2FsbGJhY2s6IChjb2xsZWN0OiBzdHJpbmcsIHBhcmFtczogbnVtYmVyW10sIGZsYWc6IG51bWJlcikgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuX2NzaUhhbmRsZXJGYiA9IGNhbGxiYWNrO1xuICB9XG5cbiAgc2V0RXNjSGFuZGxlcihjb2xsZWN0QW5kRmxhZzogc3RyaW5nLCBjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuX2VzY0hhbmRsZXJzW2NvbGxlY3RBbmRGbGFnXSA9IGNhbGxiYWNrO1xuICB9XG4gIGNsZWFyRXNjSGFuZGxlcihjb2xsZWN0QW5kRmxhZzogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2VzY0hhbmRsZXJzW2NvbGxlY3RBbmRGbGFnXSkgZGVsZXRlIHRoaXMuX2VzY0hhbmRsZXJzW2NvbGxlY3RBbmRGbGFnXTtcbiAgfVxuICBzZXRFc2NIYW5kbGVyRmFsbGJhY2soY2FsbGJhY2s6IChjb2xsZWN0OiBzdHJpbmcsIGZsYWc6IG51bWJlcikgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuX2VzY0hhbmRsZXJGYiA9IGNhbGxiYWNrO1xuICB9XG5cbiAgc2V0T3NjSGFuZGxlcihpZGVudDogbnVtYmVyLCBjYWxsYmFjazogKGRhdGE6IHN0cmluZykgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuX29zY0hhbmRsZXJzW2lkZW50XSA9IGNhbGxiYWNrO1xuICB9XG4gIGNsZWFyT3NjSGFuZGxlcihpZGVudDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX29zY0hhbmRsZXJzW2lkZW50XSkgZGVsZXRlIHRoaXMuX29zY0hhbmRsZXJzW2lkZW50XTtcbiAgfVxuICBzZXRPc2NIYW5kbGVyRmFsbGJhY2soY2FsbGJhY2s6IChpZGVudGlmaWVyOiBudW1iZXIsIGRhdGE6IHN0cmluZykgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuX29zY0hhbmRsZXJGYiA9IGNhbGxiYWNrO1xuICB9XG5cbiAgc2V0RGNzSGFuZGxlcihjb2xsZWN0QW5kRmxhZzogc3RyaW5nLCBoYW5kbGVyOiBJRGNzSGFuZGxlcik6IHZvaWQge1xuICAgIHRoaXMuX2Rjc0hhbmRsZXJzW2NvbGxlY3RBbmRGbGFnXSA9IGhhbmRsZXI7XG4gIH1cbiAgY2xlYXJEY3NIYW5kbGVyKGNvbGxlY3RBbmRGbGFnOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fZGNzSGFuZGxlcnNbY29sbGVjdEFuZEZsYWddKSBkZWxldGUgdGhpcy5fZGNzSGFuZGxlcnNbY29sbGVjdEFuZEZsYWddO1xuICB9XG4gIHNldERjc0hhbmRsZXJGYWxsYmFjayhoYW5kbGVyOiBJRGNzSGFuZGxlcik6IHZvaWQge1xuICAgIHRoaXMuX2Rjc0hhbmRsZXJGYiA9IGhhbmRsZXI7XG4gIH1cblxuICBzZXRFcnJvckhhbmRsZXIoY2FsbGJhY2s6IChzdGF0ZTogSVBhcnNpbmdTdGF0ZSkgPT4gSVBhcnNpbmdTdGF0ZSk6IHZvaWQge1xuICAgIHRoaXMuX2Vycm9ySGFuZGxlciA9IGNhbGxiYWNrO1xuICB9XG4gIGNsZWFyRXJyb3JIYW5kbGVyKCk6IHZvaWQge1xuICAgIHRoaXMuX2Vycm9ySGFuZGxlciA9IHRoaXMuX2Vycm9ySGFuZGxlckZiO1xuICB9XG5cbiAgcmVzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5jdXJyZW50U3RhdGUgPSB0aGlzLmluaXRpYWxTdGF0ZTtcbiAgICB0aGlzLl9vc2MgPSAnJztcbiAgICB0aGlzLl9wYXJhbXMgPSBbMF07XG4gICAgdGhpcy5fY29sbGVjdCA9ICcnO1xuICAgIHRoaXMuX2FjdGl2ZURjc0hhbmRsZXIgPSBudWxsO1xuICB9XG5cbiAgcGFyc2UoZGF0YTogc3RyaW5nKTogdm9pZCB7XG4gICAgbGV0IGNvZGUgPSAwO1xuICAgIGxldCB0cmFuc2l0aW9uID0gMDtcbiAgICBsZXQgZXJyb3IgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudFN0YXRlID0gdGhpcy5jdXJyZW50U3RhdGU7XG4gICAgbGV0IHByaW50ID0gLTE7XG4gICAgbGV0IGRjcyA9IC0xO1xuICAgIGxldCBvc2MgPSB0aGlzLl9vc2M7XG4gICAgbGV0IGNvbGxlY3QgPSB0aGlzLl9jb2xsZWN0O1xuICAgIGxldCBwYXJhbXMgPSB0aGlzLl9wYXJhbXM7XG4gICAgY29uc3QgdGFibGU6IFVpbnQ4QXJyYXkgfCBudW1iZXJbXSA9IHRoaXMuVFJBTlNJVElPTlMudGFibGU7XG4gICAgbGV0IGRjc0hhbmRsZXI6IElEY3NIYW5kbGVyIHwgbnVsbCA9IHRoaXMuX2FjdGl2ZURjc0hhbmRsZXI7XG4gICAgbGV0IGNhbGxiYWNrOiBGdW5jdGlvbiB8IG51bGwgPSBudWxsO1xuXG4gICAgLy8gcHJvY2VzcyBpbnB1dCBzdHJpbmdcbiAgICBjb25zdCBsID0gZGF0YS5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyArK2kpIHtcbiAgICAgIGNvZGUgPSBkYXRhLmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgIC8vIHNob3J0Y3V0IGZvciBtb3N0IGNoYXJzIChwcmludCBhY3Rpb24pXG4gICAgICBpZiAoY3VycmVudFN0YXRlID09PSBQYXJzZXJTdGF0ZS5HUk9VTkQgJiYgY29kZSA+IDB4MWYgJiYgY29kZSA8IDB4ODApIHtcbiAgICAgICAgcHJpbnQgPSAofnByaW50KSA/IHByaW50IDogaTtcbiAgICAgICAgZG8gaSsrO1xuICAgICAgICB3aGlsZSAoaSA8IGwgJiYgZGF0YS5jaGFyQ29kZUF0KGkpID4gMHgxZiAmJiBkYXRhLmNoYXJDb2RlQXQoaSkgPCAweDgwKTtcbiAgICAgICAgaS0tO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gc2hvcnRjdXQgZm9yIENTSSBwYXJhbXNcbiAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09IFBhcnNlclN0YXRlLkNTSV9QQVJBTSAmJiAoY29kZSA+IDB4MmYgJiYgY29kZSA8IDB4MzkpKSB7XG4gICAgICAgIHBhcmFtc1twYXJhbXMubGVuZ3RoIC0gMV0gPSBwYXJhbXNbcGFyYW1zLmxlbmd0aCAtIDFdICogMTAgKyBjb2RlIC0gNDg7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBub3JtYWwgdHJhbnNpdGlvbiAmIGFjdGlvbiBsb29rdXBcbiAgICAgIHRyYW5zaXRpb24gPSAoY29kZSA8IDB4YTApID8gKHRhYmxlW2N1cnJlbnRTdGF0ZSA8PCA4IHwgY29kZV0pIDogREVGQVVMVF9UUkFOU0lUSU9OO1xuICAgICAgc3dpdGNoICh0cmFuc2l0aW9uID4+IDQpIHtcbiAgICAgICAgY2FzZSBQYXJzZXJBY3Rpb24uUFJJTlQ6XG4gICAgICAgICAgcHJpbnQgPSAofnByaW50KSA/IHByaW50IDogaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQYXJzZXJBY3Rpb24uRVhFQ1VURTpcbiAgICAgICAgICBpZiAofnByaW50KSB7XG4gICAgICAgICAgICB0aGlzLl9wcmludEhhbmRsZXIoZGF0YSwgcHJpbnQsIGkpO1xuICAgICAgICAgICAgcHJpbnQgPSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FsbGJhY2sgPSB0aGlzLl9leGVjdXRlSGFuZGxlcnNbY29kZV07XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgICAgIGVsc2UgdGhpcy5fZXhlY3V0ZUhhbmRsZXJGYihjb2RlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQYXJzZXJBY3Rpb24uSUdOT1JFOlxuICAgICAgICAgIC8vIGhhbmRsZSBsZWZ0b3ZlciBwcmludCBvciBkY3MgY2hhcnNcbiAgICAgICAgICBpZiAofnByaW50KSB7XG4gICAgICAgICAgICB0aGlzLl9wcmludEhhbmRsZXIoZGF0YSwgcHJpbnQsIGkpO1xuICAgICAgICAgICAgcHJpbnQgPSAtMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKH5kY3MpIHtcbiAgICAgICAgICAgIGRjc0hhbmRsZXIucHV0KGRhdGEsIGRjcywgaSk7XG4gICAgICAgICAgICBkY3MgPSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUGFyc2VyQWN0aW9uLkVSUk9SOlxuICAgICAgICAgIC8vIGNoYXJzIGhpZ2hlciB0aGFuIDB4OWYgYXJlIGhhbmRsZWQgYnkgdGhpcyBhY3Rpb25cbiAgICAgICAgICAvLyB0byBrZWVwIHRoZSB0cmFuc2l0aW9uIHRhYmxlIHNtYWxsXG4gICAgICAgICAgaWYgKGNvZGUgPiAweDlmKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGN1cnJlbnRTdGF0ZSkge1xuICAgICAgICAgICAgICBjYXNlIFBhcnNlclN0YXRlLkdST1VORDpcbiAgICAgICAgICAgICAgICBwcmludCA9ICh+cHJpbnQpID8gcHJpbnQgOiBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFBhcnNlclN0YXRlLk9TQ19TVFJJTkc6XG4gICAgICAgICAgICAgICAgb3NjICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbiB8PSBQYXJzZXJTdGF0ZS5PU0NfU1RSSU5HO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFBhcnNlclN0YXRlLkNTSV9JR05PUkU6XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbiB8PSBQYXJzZXJTdGF0ZS5DU0lfSUdOT1JFO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFBhcnNlclN0YXRlLkRDU19JR05PUkU6XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbiB8PSBQYXJzZXJTdGF0ZS5EQ1NfSUdOT1JFO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFBhcnNlclN0YXRlLkRDU19QQVNTVEhST1VHSDpcbiAgICAgICAgICAgICAgICBkY3MgPSAofmRjcykgPyBkY3MgOiBpO1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24gfD0gUGFyc2VyU3RhdGUuRENTX1BBU1NUSFJPVUdIO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3IgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBpZiB3ZSBlbmQgdXAgaGVyZSBhIHJlYWwgZXJyb3IgaGFwcGVuZWRcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGluamVjdDogSVBhcnNpbmdTdGF0ZSA9IHRoaXMuX2Vycm9ySGFuZGxlcihcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBpLFxuICAgICAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICAgICAgY3VycmVudFN0YXRlLFxuICAgICAgICAgICAgICAgIHByaW50LFxuICAgICAgICAgICAgICAgIGRjcyxcbiAgICAgICAgICAgICAgICBvc2MsXG4gICAgICAgICAgICAgICAgY29sbGVjdCxcbiAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgYWJvcnQ6IGZhbHNlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGluamVjdC5hYm9ydCkgcmV0dXJuO1xuICAgICAgICAgIC8vIFRPRE86IGluamVjdCByZXR1cm4gdmFsdWVzXG4gICAgICAgICAgICBlcnJvciA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQYXJzZXJBY3Rpb24uQ1NJX0RJU1BBVENIOlxuICAgICAgICAgIGNhbGxiYWNrID0gdGhpcy5fY3NpSGFuZGxlcnNbY29kZV07XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhwYXJhbXMsIGNvbGxlY3QpO1xuICAgICAgICAgIGVsc2UgdGhpcy5fY3NpSGFuZGxlckZiKGNvbGxlY3QsIHBhcmFtcywgY29kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUGFyc2VyQWN0aW9uLlBBUkFNOlxuICAgICAgICAgIGlmIChjb2RlID09PSAweDNiKSBwYXJhbXMucHVzaCgwKTtcbiAgICAgICAgICBlbHNlIHBhcmFtc1twYXJhbXMubGVuZ3RoIC0gMV0gPSBwYXJhbXNbcGFyYW1zLmxlbmd0aCAtIDFdICogMTAgKyBjb2RlIC0gNDg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUGFyc2VyQWN0aW9uLkNPTExFQ1Q6XG4gICAgICAgICAgY29sbGVjdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBhcnNlckFjdGlvbi5FU0NfRElTUEFUQ0g6XG4gICAgICAgICAgY2FsbGJhY2sgPSB0aGlzLl9lc2NIYW5kbGVyc1tjb2xsZWN0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKV07XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhjb2xsZWN0LCBjb2RlKTtcbiAgICAgICAgICBlbHNlIHRoaXMuX2VzY0hhbmRsZXJGYihjb2xsZWN0LCBjb2RlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQYXJzZXJBY3Rpb24uQ0xFQVI6XG4gICAgICAgICAgaWYgKH5wcmludCkge1xuICAgICAgICAgICAgdGhpcy5fcHJpbnRIYW5kbGVyKGRhdGEsIHByaW50LCBpKTtcbiAgICAgICAgICAgIHByaW50ID0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9zYyA9ICcnO1xuICAgICAgICAgIHBhcmFtcyA9IFswXTtcbiAgICAgICAgICBjb2xsZWN0ID0gJyc7XG4gICAgICAgICAgZGNzID0gLTE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUGFyc2VyQWN0aW9uLkRDU19IT09LOlxuICAgICAgICAgIGRjc0hhbmRsZXIgPSB0aGlzLl9kY3NIYW5kbGVyc1tjb2xsZWN0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKV07XG4gICAgICAgICAgaWYgKCFkY3NIYW5kbGVyKSBkY3NIYW5kbGVyID0gdGhpcy5fZGNzSGFuZGxlckZiO1xuICAgICAgICAgIGRjc0hhbmRsZXIuaG9vayhjb2xsZWN0LCBwYXJhbXMsIGNvZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBhcnNlckFjdGlvbi5EQ1NfUFVUOlxuICAgICAgICAgIGRjcyA9ICh+ZGNzKSA/IGRjcyA6IGk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUGFyc2VyQWN0aW9uLkRDU19VTkhPT0s6XG4gICAgICAgICAgaWYgKGRjc0hhbmRsZXIpIHtcbiAgICAgICAgICAgIGlmICh+ZGNzKSBkY3NIYW5kbGVyLnB1dChkYXRhLCBkY3MsIGkpO1xuICAgICAgICAgICAgZGNzSGFuZGxlci51bmhvb2soKTtcbiAgICAgICAgICAgIGRjc0hhbmRsZXIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29kZSA9PT0gMHgxYikgdHJhbnNpdGlvbiB8PSBQYXJzZXJTdGF0ZS5FU0NBUEU7XG4gICAgICAgICAgb3NjID0gJyc7XG4gICAgICAgICAgcGFyYW1zID0gWzBdO1xuICAgICAgICAgIGNvbGxlY3QgPSAnJztcbiAgICAgICAgICBkY3MgPSAtMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQYXJzZXJBY3Rpb24uT1NDX1NUQVJUOlxuICAgICAgICAgIGlmICh+cHJpbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3ByaW50SGFuZGxlcihkYXRhLCBwcmludCwgaSk7XG4gICAgICAgICAgICBwcmludCA9IC0xO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvc2MgPSAnJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQYXJzZXJBY3Rpb24uT1NDX1BVVDpcbiAgICAgICAgICBvc2MgKz0gZGF0YS5jaGFyQXQoaSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUGFyc2VyQWN0aW9uLk9TQ19FTkQ6XG4gICAgICAgICAgaWYgKG9zYyAmJiBjb2RlICE9PSAweDE4ICYmIGNvZGUgIT09IDB4MWEpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IE9TQyBzdWJwYXJzaW5nIGlzIG5vdCBwYXJ0IG9mIHRoZSBvcmlnaW5hbCBwYXJzZXJcbiAgICAgICAgICAgIC8vIHdlIGRvIGJhc2ljIGlkZW50aWZpZXIgcGFyc2luZyBoZXJlIHRvIG9mZmVyIGEganVtcCB0YWJsZSBmb3IgT1NDIGFzIHdlbGxcbiAgICAgICAgICAgIGNvbnN0IGlkeCA9IG9zYy5pbmRleE9mKCc7Jyk7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICB0aGlzLl9vc2NIYW5kbGVyRmIoLTEsIG9zYyk7ICAvLyB0aGlzIGlzIGFuIGVycm9yIChtYWxmb3JtZWQgT1NDKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gTm90ZTogTmFOIGlzIG5vdCBoYW5kbGVkIGhlcmVcbiAgICAgICAgICAgICAgLy8gZWl0aGVyIGNhdGNoIGl0IHdpdGggdGhlIGZhbGxiYWNrIGhhbmRsZXJcbiAgICAgICAgICAgICAgLy8gb3Igd2l0aCBhbiBleHBsaWNpdCBOYU4gT1NDIGhhbmRsZXJcbiAgICAgICAgICAgICAgY29uc3QgaWRlbnRpZmllciA9IHBhcnNlSW50KG9zYy5zdWJzdHJpbmcoMCwgaWR4KSk7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBvc2Muc3Vic3RyaW5nKGlkeCArIDEpO1xuICAgICAgICAgICAgICBjYWxsYmFjayA9IHRoaXMuX29zY0hhbmRsZXJzW2lkZW50aWZpZXJdO1xuICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGNvbnRlbnQpO1xuICAgICAgICAgICAgICBlbHNlIHRoaXMuX29zY0hhbmRsZXJGYihpZGVudGlmaWVyLCBjb250ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvZGUgPT09IDB4MWIpIHRyYW5zaXRpb24gfD0gUGFyc2VyU3RhdGUuRVNDQVBFO1xuICAgICAgICAgIG9zYyA9ICcnO1xuICAgICAgICAgIHBhcmFtcyA9IFswXTtcbiAgICAgICAgICBjb2xsZWN0ID0gJyc7XG4gICAgICAgICAgZGNzID0gLTE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjdXJyZW50U3RhdGUgPSB0cmFuc2l0aW9uICYgMTU7XG4gICAgfVxuXG4gICAgLy8gcHVzaCBsZWZ0b3ZlciBwdXNoYWJsZSBidWZmZXJzIHRvIHRlcm1pbmFsXG4gICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gUGFyc2VyU3RhdGUuR1JPVU5EICYmIH5wcmludCkge1xuICAgICAgdGhpcy5fcHJpbnRIYW5kbGVyKGRhdGEsIHByaW50LCBkYXRhLmxlbmd0aCk7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50U3RhdGUgPT09IFBhcnNlclN0YXRlLkRDU19QQVNTVEhST1VHSCAmJiB+ZGNzICYmIGRjc0hhbmRsZXIpIHtcbiAgICAgIGRjc0hhbmRsZXIucHV0KGRhdGEsIGRjcywgZGF0YS5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8vIHNhdmUgbm9uIHB1c2hhYmxlIGJ1ZmZlcnNcbiAgICB0aGlzLl9vc2MgPSBvc2M7XG4gICAgdGhpcy5fY29sbGVjdCA9IGNvbGxlY3Q7XG4gICAgdGhpcy5fcGFyYW1zID0gcGFyYW1zO1xuXG4gICAgLy8gc2F2ZSBhY3RpdmUgZGNzIGhhbmRsZXIgcmVmZXJlbmNlXG4gICAgdGhpcy5fYWN0aXZlRGNzSGFuZGxlciA9IGRjc0hhbmRsZXI7XG5cbiAgICAvLyBzYXZlIHN0YXRlXG4gICAgdGhpcy5jdXJyZW50U3RhdGUgPSBjdXJyZW50U3RhdGU7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvRXNjYXBlU2VxdWVuY2VQYXJzZXIudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///36\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextRenderLayer_1 = __webpack_require__(38);\nvar SelectionRenderLayer_1 = __webpack_require__(44);\nvar CursorRenderLayer_1 = __webpack_require__(45);\nvar ColorManager_1 = __webpack_require__(9);\nvar LinkRenderLayer_1 = __webpack_require__(46);\nvar EventEmitter_1 = __webpack_require__(2);\nvar RenderDebouncer_1 = __webpack_require__(11);\nvar ScreenDprMonitor_1 = __webpack_require__(16);\nvar CharacterJoinerRegistry_1 = __webpack_require__(47);\nvar Renderer = (function (_super) {\n    __extends(Renderer, _super);\n    function Renderer(_terminal, theme) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._isPaused = false;\n        _this._needsFullRefresh = false;\n        var allowTransparency = _this._terminal.options.allowTransparency;\n        _this.colorManager = new ColorManager_1.ColorManager(document, allowTransparency);\n        _this._characterJoinerRegistry = new CharacterJoinerRegistry_1.CharacterJoinerRegistry(_terminal);\n        if (theme) {\n            _this.colorManager.setTheme(theme);\n        }\n        _this._renderLayers = [\n            new TextRenderLayer_1.TextRenderLayer(_this._terminal.screenElement, 0, _this.colorManager.colors, _this._characterJoinerRegistry, allowTransparency),\n            new SelectionRenderLayer_1.SelectionRenderLayer(_this._terminal.screenElement, 1, _this.colorManager.colors),\n            new LinkRenderLayer_1.LinkRenderLayer(_this._terminal.screenElement, 2, _this.colorManager.colors, _this._terminal),\n            new CursorRenderLayer_1.CursorRenderLayer(_this._terminal.screenElement, 3, _this.colorManager.colors)\n        ];\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._devicePixelRatio = window.devicePixelRatio;\n        _this._updateDimensions();\n        _this.onOptionsChanged();\n        _this._renderDebouncer = new RenderDebouncer_1.RenderDebouncer(_this._terminal, _this._renderRows.bind(_this));\n        _this._screenDprMonitor = new ScreenDprMonitor_1.ScreenDprMonitor();\n        _this._screenDprMonitor.setListener(function () { return _this.onWindowResize(window.devicePixelRatio); });\n        _this.register(_this._screenDprMonitor);\n        if ('IntersectionObserver' in window) {\n            var observer_1 = new IntersectionObserver(function (e) { return _this.onIntersectionChange(e[0]); }, { threshold: 0 });\n            observer_1.observe(_this._terminal.element);\n            _this.register({ dispose: function () { return observer_1.disconnect(); } });\n        }\n        return _this;\n    }\n    Renderer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._renderLayers.forEach(function (l) { return l.dispose(); });\n    };\n    Renderer.prototype.onIntersectionChange = function (entry) {\n        this._isPaused = entry.intersectionRatio === 0;\n        if (!this._isPaused && this._needsFullRefresh) {\n            this._terminal.refresh(0, this._terminal.rows - 1);\n        }\n    };\n    Renderer.prototype.onWindowResize = function (devicePixelRatio) {\n        if (this._devicePixelRatio !== devicePixelRatio) {\n            this._devicePixelRatio = devicePixelRatio;\n            this.onResize(this._terminal.cols, this._terminal.rows);\n        }\n    };\n    Renderer.prototype.setTheme = function (theme) {\n        var _this = this;\n        this.colorManager.setTheme(theme);\n        this._renderLayers.forEach(function (l) {\n            l.onThemeChanged(_this._terminal, _this.colorManager.colors);\n            l.reset(_this._terminal);\n        });\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n        }\n        else {\n            this._terminal.refresh(0, this._terminal.rows - 1);\n        }\n        return this.colorManager.colors;\n    };\n    Renderer.prototype.onResize = function (cols, rows) {\n        var _this = this;\n        this._updateDimensions();\n        this._renderLayers.forEach(function (l) { return l.resize(_this._terminal, _this.dimensions); });\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n        }\n        else {\n            this._terminal.refresh(0, this._terminal.rows - 1);\n        }\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + \"px\";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + \"px\";\n        this.emit('resize', {\n            width: this.dimensions.canvasWidth,\n            height: this.dimensions.canvasHeight\n        });\n    };\n    Renderer.prototype.onCharSizeChanged = function () {\n        this.onResize(this._terminal.cols, this._terminal.rows);\n    };\n    Renderer.prototype.onBlur = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onBlur(_this._terminal); });\n    };\n    Renderer.prototype.onFocus = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onFocus(_this._terminal); });\n    };\n    Renderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        var _this = this;\n        if (columnSelectMode === void 0) { columnSelectMode = false; }\n        this._runOperation(function (l) { return l.onSelectionChanged(_this._terminal, start, end, columnSelectMode); });\n    };\n    Renderer.prototype.onCursorMove = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.onCursorMove(_this._terminal); });\n    };\n    Renderer.prototype.onOptionsChanged = function () {\n        var _this = this;\n        this.colorManager.allowTransparency = this._terminal.options.allowTransparency;\n        this._runOperation(function (l) { return l.onOptionsChanged(_this._terminal); });\n    };\n    Renderer.prototype.clear = function () {\n        var _this = this;\n        this._runOperation(function (l) { return l.reset(_this._terminal); });\n    };\n    Renderer.prototype._runOperation = function (operation) {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n        }\n        else {\n            this._renderLayers.forEach(function (l) { return operation(l); });\n        }\n    };\n    Renderer.prototype.refreshRows = function (start, end) {\n        if (this._isPaused) {\n            this._needsFullRefresh = true;\n            return;\n        }\n        this._renderDebouncer.refresh(start, end);\n    };\n    Renderer.prototype._renderRows = function (start, end) {\n        var _this = this;\n        this._renderLayers.forEach(function (l) { return l.onGridChanged(_this._terminal, start, end); });\n        this._terminal.emit('refresh', { start: start, end: end });\n    };\n    Renderer.prototype._updateDimensions = function () {\n        if (!this._terminal.charMeasure.width || !this._terminal.charMeasure.height) {\n            return;\n        }\n        this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio);\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharTop = this._terminal.options.lineHeight === 1 ? 0 : Math.round((this.dimensions.scaledCellHeight - this.dimensions.scaledCharHeight) / 2);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCharLeft = Math.floor(this._terminal.options.letterSpacing / 2);\n        this.dimensions.scaledCanvasHeight = this._terminal.rows * this.dimensions.scaledCellHeight;\n        this.dimensions.scaledCanvasWidth = this._terminal.cols * this.dimensions.scaledCellWidth;\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n    };\n    Renderer.prototype.registerCharacterJoiner = function (handler) {\n        return this._characterJoinerRegistry.registerCharacterJoiner(handler);\n    };\n    Renderer.prototype.deregisterCharacterJoiner = function (joinerId) {\n        return this._characterJoinerRegistry.deregisterCharacterJoiner(joinerId);\n    };\n    return Renderer;\n}(EventEmitter_1.EventEmitter));\nexports.Renderer = Renderer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL1JlbmRlcmVyLnRzPzVhYTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBS0EsZ0RBQW9EO0FBQ3BELHFEQUE4RDtBQUM5RCxrREFBd0Q7QUFDeEQsNENBQThDO0FBRzlDLGdEQUFvRDtBQUNwRCw0Q0FBc0Q7QUFDdEQsZ0RBQXdEO0FBQ3hELGlEQUEwRDtBQUUxRCx3REFBOEU7QUFFOUU7SUFBOEIsNEJBQVk7SUFheEMsa0JBQW9CLFNBQW9CLEVBQUUsS0FBYTtRQUF2RCxZQUNFLGlCQUFPLFNBNENSO1FBN0NtQixlQUFTLEdBQVQsU0FBUyxDQUFXO1FBUGhDLGVBQVMsR0FBWSxLQUFLLENBQUM7UUFDM0IsdUJBQWlCLEdBQVksS0FBSyxDQUFDO1FBUXpDLElBQU0saUJBQWlCLEdBQUcsS0FBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUM7UUFDbkUsS0FBSSxDQUFDLFlBQVksR0FBRyxJQUFJLDJCQUFZLENBQUMsUUFBUSxFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFDbEUsS0FBSSxDQUFDLHdCQUF3QixHQUFHLElBQUksaURBQXVCLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdkUsSUFBSSxLQUFLLEVBQUU7WUFDVCxLQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNuQztRQUVELEtBQUksQ0FBQyxhQUFhLEdBQUc7WUFDbkIsSUFBSSxpQ0FBZSxDQUFDLEtBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxFQUFFLENBQUMsRUFBRSxLQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxLQUFJLENBQUMsd0JBQXdCLEVBQUUsaUJBQWlCLENBQUM7WUFDaEksSUFBSSwyQ0FBb0IsQ0FBQyxLQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsRUFBRSxDQUFDLEVBQUUsS0FBSSxDQUFDLFlBQVksQ0FBQyxN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QUFpQixHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBUXRHLElBQUksQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7UUFDdEYsSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7SUFDdEYsQ0FBQztJQUVNLDBDQUF1QixHQUE5QixVQUErQixPQUErQjtRQUM1RCxPQUFPLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyx1QkFBdUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBRU0sNENBQXlCLEdBQWhDLFVBQWlDLFFBQWdCO1FBQy9DLE9BQU8sSUFBSSxDQUFDLHdCQUF3QixDQUFDLHlCQUF5QixDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzNFLENBQUM7SUFDSCxlQUFDO0FBQUQsQ0FBQyxDQTFQNkIsMkJBQVksR0EwUHpDO0FBMVBZLDRCQUFRIiwiZmlsZSI6IjM3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBUZXh0UmVuZGVyTGF5ZXIgfSBmcm9tICcuL1RleHRSZW5kZXJMYXllcic7XG5pbXBvcnQgeyBTZWxlY3Rpb25SZW5kZXJMYXllciB9IGZyb20gJy4vU2VsZWN0aW9uUmVuZGVyTGF5ZXInO1xuaW1wb3J0IHsgQ3Vyc29yUmVuZGVyTGF5ZXIgfSBmcm9tICcuL0N1cnNvclJlbmRlckxheWVyJztcbmltcG9ydCB7IENvbG9yTWFuYWdlciB9IGZyb20gJy4vQ29sb3JNYW5hZ2VyJztcbmltcG9ydCB7IElSZW5kZXJMYXllciwgSUNvbG9yU2V0LCBJUmVuZGVyZXIsIElSZW5kZXJEaW1lbnNpb25zLCBJQ2hhcmFjdGVySm9pbmVyUmVnaXN0cnkgfSBmcm9tICcuL1R5cGVzJztcbmltcG9ydCB7IElUZXJtaW5hbCwgQ2hhcmFjdGVySm9pbmVySGFuZGxlciB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IExpbmtSZW5kZXJMYXllciB9IGZyb20gJy4vTGlua1JlbmRlckxheWVyJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJy4uL2NvbW1vbi9FdmVudEVtaXR0ZXInO1xuaW1wb3J0IHsgUmVuZGVyRGVib3VuY2VyIH0gZnJvbSAnLi4vdWkvUmVuZGVyRGVib3VuY2VyJztcbmltcG9ydCB7IFNjcmVlbkRwck1vbml0b3IgfSBmcm9tICcuLi91aS9TY3JlZW5EcHJNb25pdG9yJztcbmltcG9ydCB7IElUaGVtZSB9IGZyb20gJ3h0ZXJtJztcbmltcG9ydCB7IENoYXJhY3RlckpvaW5lclJlZ2lzdHJ5IH0gZnJvbSAnLi4vcmVuZGVyZXIvQ2hhcmFjdGVySm9pbmVyUmVnaXN0cnknO1xuXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIgaW1wbGVtZW50cyBJUmVuZGVyZXIge1xuICBwcml2YXRlIF9yZW5kZXJEZWJvdW5jZXI6IFJlbmRlckRlYm91bmNlcjtcblxuICBwcml2YXRlIF9yZW5kZXJMYXllcnM6IElSZW5kZXJMYXllcltdO1xuICBwcml2YXRlIF9kZXZpY2VQaXhlbFJhdGlvOiBudW1iZXI7XG4gIHByaXZhdGUgX3NjcmVlbkRwck1vbml0b3I6IFNjcmVlbkRwck1vbml0b3I7XG4gIHByaXZhdGUgX2lzUGF1c2VkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX25lZWRzRnVsbFJlZnJlc2g6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBfY2hhcmFjdGVySm9pbmVyUmVnaXN0cnk6IElDaGFyYWN0ZXJKb2luZXJSZWdpc3RyeTtcblxuICBwdWJsaWMgY29sb3JNYW5hZ2VyOiBDb2xvck1hbmFnZXI7XG4gIHB1YmxpYyBkaW1lbnNpb25zOiBJUmVuZGVyRGltZW5zaW9ucztcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF90ZXJtaW5hbDogSVRlcm1pbmFsLCB0aGVtZTogSVRoZW1lKSB7XG4gICAgc3VwZXIoKTtcbiAgICBjb25zdCBhbGxvd1RyYW5zcGFyZW5jeSA9IHRoaXMuX3Rlcm1pbmFsLm9wdGlvbnMuYWxsb3dUcmFuc3BhcmVuY3k7XG4gICAgdGhpcy5jb2xvck1hbmFnZXIgPSBuZXcgQ29sb3JNYW5hZ2VyKGRvY3VtZW50LCBhbGxvd1RyYW5zcGFyZW5jeSk7XG4gICAgdGhpcy5fY2hhcmFjdGVySm9pbmVyUmVnaXN0cnkgPSBuZXcgQ2hhcmFjdGVySm9pbmVyUmVnaXN0cnkoX3Rlcm1pbmFsKTtcbiAgICBpZiAodGhlbWUpIHtcbiAgICAgIHRoaXMuY29sb3JNYW5hZ2VyLnNldFRoZW1lKHRoZW1lKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZW5kZXJMYXllcnMgPSBbXG4gICAgICBuZXcgVGV4dFJlbmRlckxheWVyKHRoaXMuX3Rlcm1pbmFsLnNjcmVlbkVsZW1lbnQsIDAsIHRoaXMuY29sb3JNYW5hZ2VyLmNvbG9ycywgdGhpcy5fY2hhcmFjdGVySm9pbmVyUmVnaXN0cnksIGFsbG93VHJhbnNwYXJlbmN5KSxcbiAgICAgIG5ldyBTZWxlY3Rpb25SZW5kZXJMYXllcih0aGlzLl90ZXJtaW5hbC5zY3JlZW5FbGVtZW50LCAxLCB0aGlzLmNvbG9yTWFuYWdlci5jb2xvcnMpLFxuICAgICAgbmV3IExpbmtSZW5kZXJMYXllcih0aGlzLl90ZXJtaW5hbC5zY3JlZW5FbGVtZW50LCAyLCB0aGlzLmNvbG9yTWFuYWdlci5jb2xvcnMsIHRoaXMuX3Rlcm1pbmFsKSxcbiAgICAgIG5ldyBDdXJzb3JSZW5kZXJMYXllcih0aGlzLl90ZXJtaW5hbC5zY3JlZW5FbGVtZW50LCAzLCB0aGlzLmNvbG9yTWFuYWdlci5jb2xvcnMpXG4gICAgXTtcbiAgICB0aGlzLmRpbWVuc2lvbnMgPSB7XG4gICAgICBzY2FsZWRDaGFyV2lkdGg6IG51bGwsXG4gICAgICBzY2FsZWRDaGFySGVpZ2h0OiBudWxsLFxuICAgICAgc2NhbGVkQ2VsbFdpZHRoOiBudWxsLFxuICAgICAgc2NhbGVkQ2VsbEhlaWdodDogbnVsbCxcbiAgICAgIHNjYWxlZENoYXJMZWZ0OiBudWxsLFxuICAgICAgc2NhbGVkQ2hhclRvcDogbnVsbCxcbiAgICAgIHNjYWxlZENhbnZhc1dpZHRoOiBudWxsLFxuICAgICAgc2NhbGVkQ2FudmFzSGVpZ2h0OiBudWxsLFxuICAgICAgY2FudmFzV2lkdGg6IG51bGwsXG4gICAgICBjYW52YXNIZWlnaHQ6IG51bGwsXG4gICAgICBhY3R1YWxDZWxsV2lkdGg6IG51bGwsXG4gICAgICBhY3R1YWxDZWxsSGVpZ2h0OiBudWxsXG4gICAgfTtcbiAgICB0aGlzLl9kZXZpY2VQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgdGhpcy5fdXBkYXRlRGltZW5zaW9ucygpO1xuICAgIHRoaXMub25PcHRpb25zQ2hhbmdlZCgpO1xuXG4gICAgdGhpcy5fcmVuZGVyRGVib3VuY2VyID0gbmV3IFJlbmRlckRlYm91bmNlcih0aGlzLl90ZXJtaW5hbCwgdGhpcy5fcmVuZGVyUm93cy5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9zY3JlZW5EcHJNb25pdG9yID0gbmV3IFNjcmVlbkRwck1vbml0b3IoKTtcbiAgICB0aGlzLl9zY3JlZW5EcHJNb25pdG9yLnNldExpc3RlbmVyKCgpID0+IHRoaXMub25XaW5kb3dSZXNpemUod2luZG93LmRldmljZVBpeGVsUmF0aW8pKTtcbiAgICB0aGlzLnJlZ2lzdGVyKHRoaXMuX3NjcmVlbkRwck1vbml0b3IpO1xuXG4gICAgLy8gRGV0ZWN0IHdoZXRoZXIgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgaXMgZGV0ZWN0ZWQgYW5kIGVuYWJsZSByZW5kZXJlciBwYXVzZVxuICAgIC8vIGFuZCByZXN1bWUgYmFzZWQgb24gdGVybWluYWwgdmlzaWJpbGl0eSBpZiBzb1xuICAgIGlmICgnSW50ZXJzZWN0aW9uT2JzZXJ2ZXInIGluIHdpbmRvdykge1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZSA9PiB0aGlzLm9uSW50ZXJzZWN0aW9uQ2hhbmdlKGVbMF0pLCB7IHRocmVzaG9sZDogMCB9KTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUodGhpcy5fdGVybWluYWwuZWxlbWVudCk7XG4gICAgICB0aGlzLnJlZ2lzdGVyKHsgZGlzcG9zZTogKCkgPT4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpIH0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB0aGlzLl9yZW5kZXJMYXllcnMuZm9yRWFjaChsID0+IGwuZGlzcG9zZSgpKTtcbiAgfVxuXG4gIHB1YmxpYyBvbkludGVyc2VjdGlvbkNoYW5nZShlbnRyeTogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSk6IHZvaWQge1xuICAgIHRoaXMuX2lzUGF1c2VkID0gZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPT09IDA7XG4gICAgaWYgKCF0aGlzLl9pc1BhdXNlZCAmJiB0aGlzLl9uZWVkc0Z1bGxSZWZyZXNoKSB7XG4gICAgICB0aGlzLl90ZXJtaW5hbC5yZWZyZXNoKDAsIHRoaXMuX3Rlcm1pbmFsLnJvd3MgLSAxKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgb25XaW5kb3dSZXNpemUoZGV2aWNlUGl4ZWxSYXRpbzogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gSWYgdGhlIGRldmljZSBwaXhlbCByYXRpbyBjaGFuZ2VkLCB0aGUgY2hhciBhdGxhcyBuZWVkcyB0byBiZSByZWdlbmVyYXRlZFxuICAgIC8vIGFuZCB0aGUgdGVybWluYWwgbmVlZHMgdG8gcmVmcmVzaGVkXG4gICAgaWYgKHRoaXMuX2RldmljZVBpeGVsUmF0aW8gIT09IGRldmljZVBpeGVsUmF0aW8pIHtcbiAgICAgIHRoaXMuX2RldmljZVBpeGVsUmF0aW8gPSBkZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgdGhpcy5vblJlc2l6ZSh0aGlzLl90ZXJtaW5hbC5jb2xzLCB0aGlzLl90ZXJtaW5hbC5yb3dzKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc2V0VGhlbWUodGhlbWU6IElUaGVtZSk6IElDb2xvclNldCB7XG4gICAgdGhpcy5jb2xvck1hbmFnZXIuc2V0VGhlbWUodGhlbWUpO1xuXG4gICAgLy8gQ2xlYXIgbGF5ZXJzIGFuZCBmb3JjZSBhIGZ1bGwgcmVuZGVyXG4gICAgdGhpcy5fcmVuZGVyTGF5ZXJzLmZvckVhY2gobCA9PiB7XG4gICAgICBsLm9uVGhlbWVDaGFuZ2VkKHRoaXMuX3Rlcm1pbmFsLCB0aGlzLmNvbG9yTWFuYWdlci5jb2xvcnMpO1xuICAgICAgbC5yZXNldCh0aGlzLl90ZXJtaW5hbCk7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5faXNQYXVzZWQpIHtcbiAgICAgIHRoaXMuX25lZWRzRnVsbFJlZnJlc2ggPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl90ZXJtaW5hbC5yZWZyZXNoKDAsIHRoaXMuX3Rlcm1pbmFsLnJvd3MgLSAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb2xvck1hbmFnZXIuY29sb3JzO1xuICB9XG5cbiAgcHVibGljIG9uUmVzaXplKGNvbHM6IG51bWJlciwgcm93czogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gVXBkYXRlIGNoYXJhY3RlciBhbmQgY2FudmFzIGRpbWVuc2lvbnNcbiAgICB0aGlzLl91cGRhdGVEaW1lbnNpb25zKCk7XG5cbiAgICAvLyBSZXNpemUgYWxsIHJlbmRlciBsYXllcnNcbiAgICB0aGlzLl9yZW5kZXJMYXllcnMuZm9yRWFjaChsID0+IGwucmVzaXplKHRoaXMuX3Rlcm1pbmFsLCB0aGlzLmRpbWVuc2lvbnMpKTtcblxuICAgIC8vIEZvcmNlIGEgcmVmcmVzaFxuICAgIGlmICh0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgdGhpcy5fbmVlZHNGdWxsUmVmcmVzaCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLnJlZnJlc2goMCwgdGhpcy5fdGVybWluYWwucm93cyAtIDEpO1xuICAgIH1cblxuICAgIC8vIFJlc2l6ZSB0aGUgc2NyZWVuXG4gICAgdGhpcy5fdGVybWluYWwuc2NyZWVuRWxlbWVudC5zdHlsZS53aWR0aCA9IGAke3RoaXMuZGltZW5zaW9ucy5jYW52YXNXaWR0aH1weGA7XG4gICAgdGhpcy5fdGVybWluYWwuc2NyZWVuRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmRpbWVuc2lvbnMuY2FudmFzSGVpZ2h0fXB4YDtcblxuICAgIHRoaXMuZW1pdCgncmVzaXplJywge1xuICAgICAgd2lkdGg6IHRoaXMuZGltZW5zaW9ucy5jYW52YXNXaWR0aCxcbiAgICAgIGhlaWdodDogdGhpcy5kaW1lbnNpb25zLmNhbnZhc0hlaWdodFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uQ2hhclNpemVDaGFuZ2VkKCk6IHZvaWQge1xuICAgIHRoaXMub25SZXNpemUodGhpcy5fdGVybWluYWwuY29scywgdGhpcy5fdGVybWluYWwucm93cyk7XG4gIH1cblxuICBwdWJsaWMgb25CbHVyKCk6IHZvaWQge1xuICAgIHRoaXMuX3J1bk9wZXJhdGlvbihsID0+IGwub25CbHVyKHRoaXMuX3Rlcm1pbmFsKSk7XG4gIH1cblxuICBwdWJsaWMgb25Gb2N1cygpOiB2b2lkIHtcbiAgICB0aGlzLl9ydW5PcGVyYXRpb24obCA9PiBsLm9uRm9jdXModGhpcy5fdGVybWluYWwpKTtcbiAgfVxuXG4gIHB1YmxpYyBvblNlbGVjdGlvbkNoYW5nZWQoc3RhcnQ6IFtudW1iZXIsIG51bWJlcl0sIGVuZDogW251bWJlciwgbnVtYmVyXSwgY29sdW1uU2VsZWN0TW9kZTogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgdGhpcy5fcnVuT3BlcmF0aW9uKGwgPT4gbC5vblNlbGVjdGlvbkNoYW5nZWQodGhpcy5fdGVybWluYWwsIHN0YXJ0LCBlbmQsIGNvbHVtblNlbGVjdE1vZGUpKTtcbiAgfVxuXG4gIHB1YmxpYyBvbkN1cnNvck1vdmUoKTogdm9pZCB7XG4gICAgdGhpcy5fcnVuT3BlcmF0aW9uKGwgPT4gbC5vbkN1cnNvck1vdmUodGhpcy5fdGVybWluYWwpKTtcbiAgfVxuXG4gIHB1YmxpYyBvbk9wdGlvbnNDaGFuZ2VkKCk6IHZvaWQge1xuICAgIHRoaXMuY29sb3JNYW5hZ2VyLmFsbG93VHJhbnNwYXJlbmN5ID0gdGhpcy5fdGVybWluYWwub3B0aW9ucy5hbGxvd1RyYW5zcGFyZW5jeTtcbiAgICB0aGlzLl9ydW5PcGVyYXRpb24obCA9PiBsLm9uT3B0aW9uc0NoYW5nZWQodGhpcy5fdGVybWluYWwpKTtcbiAgfVxuXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLl9ydW5PcGVyYXRpb24obCA9PiBsLnJlc2V0KHRoaXMuX3Rlcm1pbmFsKSk7XG4gIH1cblxuICBwcml2YXRlIF9ydW5PcGVyYXRpb24ob3BlcmF0aW9uOiAobGF5ZXI6IElSZW5kZXJMYXllcikgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgdGhpcy5fbmVlZHNGdWxsUmVmcmVzaCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3JlbmRlckxheWVycy5mb3JFYWNoKGwgPT4gb3BlcmF0aW9uKGwpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUXVldWVzIGEgcmVmcmVzaCBiZXR3ZWVuIHR3byByb3dzIChpbmNsdXNpdmUpLCB0byBiZSBkb25lIG9uIG5leHQgYW5pbWF0aW9uXG4gICAqIGZyYW1lLlxuICAgKiBAcGFyYW0gc3RhcnQgVGhlIHN0YXJ0IHJvdy5cbiAgICogQHBhcmFtIGVuZCBUaGUgZW5kIHJvdy5cbiAgICovXG4gIHB1YmxpYyByZWZyZXNoUm93cyhzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgdGhpcy5fbmVlZHNGdWxsUmVmcmVzaCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3JlbmRlckRlYm91bmNlci5yZWZyZXNoKHN0YXJ0LCBlbmQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIHRoZSByZWZyZXNoIGxvb3AgY2FsbGJhY2ssIGNhbGxpbmcgcmVmcmVzaCBvbmx5IGlmIGEgcmVmcmVzaCBpc1xuICAgKiBuZWNlc3NhcnkgYmVmb3JlIHF1ZXVlaW5nIHVwIHRoZSBuZXh0IG9uZS5cbiAgICovXG4gIHByaXZhdGUgX3JlbmRlclJvd3Moc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9yZW5kZXJMYXllcnMuZm9yRWFjaChsID0+IGwub25HcmlkQ2hhbmdlZCh0aGlzLl90ZXJtaW5hbCwgc3RhcnQsIGVuZCkpO1xuICAgIHRoaXMuX3Rlcm1pbmFsLmVtaXQoJ3JlZnJlc2gnLCB7IHN0YXJ0LCBlbmQgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVjYWxjdWxhdGVzIHRoZSBjaGFyYWN0ZXIgYW5kIGNhbnZhcyBkaW1lbnNpb25zLlxuICAgKi9cbiAgcHJpdmF0ZSBfdXBkYXRlRGltZW5zaW9ucygpOiB2b2lkIHtcbiAgICAvLyBQZXJmb3JtIGEgbmV3IG1lYXN1cmUgaWYgdGhlIENoYXJNZWFzdXJlIGRpbWVuc2lvbnMgYXJlIG5vdCB5ZXQgYXZhaWxhYmxlXG4gICAgaWYgKCF0aGlzLl90ZXJtaW5hbC5jaGFyTWVhc3VyZS53aWR0aCB8fCAhdGhpcy5fdGVybWluYWwuY2hhck1lYXN1cmUuaGVpZ2h0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBzY2FsZWQgY2hhcmFjdGVyIHdpZHRoLiBXaWR0aCBpcyBmbG9vcmVkIGFzIGl0IG11c3QgYmVcbiAgICAvLyBkcmF3biB0byBhbiBpbnRlZ2VyIGdyaWQgaW4gb3JkZXIgZm9yIHRoZSBDaGFyQXRsYXMgXCJzdGFtcHNcIiB0byBub3QgYmVcbiAgICAvLyBibHVycnkuIFdoZW4gdGV4dCBpcyBkcmF3biB0byB0aGUgZ3JpZCBub3QgdXNpbmcgdGhlIENoYXJBdGxhcywgaXQgaXNcbiAgICAvLyBjbGlwcGVkIHRvIGVuc3VyZSB0aGVyZSBpcyBubyBvdmVybGFwIHdpdGggdGhlIG5leHQgY2VsbC5cbiAgICB0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhcldpZHRoID0gTWF0aC5mbG9vcih0aGlzLl90ZXJtaW5hbC5jaGFyTWVhc3VyZS53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgc2NhbGVkIGNoYXJhY3RlciBoZWlnaHQuIEhlaWdodCBpcyBjZWlsZWQgaW4gY2FzZVxuICAgIC8vIGRldmljZVBpeGVsUmF0aW8gaXMgYSBmbG9hdGluZyBwb2ludCBudW1iZXIgaW4gb3JkZXIgdG8gZW5zdXJlIHRoZXJlIGlzXG4gICAgLy8gZW5vdWdoIHNwYWNlIHRvIGRyYXcgdGhlIGNoYXJhY3RlciB0byB0aGUgY2VsbC5cbiAgICB0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhckhlaWdodCA9IE1hdGguY2VpbCh0aGlzLl90ZXJtaW5hbC5jaGFyTWVhc3VyZS5oZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIHNjYWxlZCBjZWxsIGhlaWdodCwgaWYgbGluZUhlaWdodCBpcyBub3QgMSB0aGVuIHRoZSB2YWx1ZVxuICAgIC8vIHdpbGwgYmUgZmxvb3JlZCBiZWNhdXNlIHNpbmNlIGxpbmVIZWlnaHQgY2FuIG5ldmVyIGJlIGxvd2VyIHRoZW4gMSwgdGhlcmVcbiAgICAvLyBpcyBhIGd1YXJlbnRlZSB0aGF0IHRoZSBzY2FsZWQgbGluZSBoZWlnaHQgd2lsbCBhbHdheXMgYmUgbGFyZ2VyIHRoYW5cbiAgICAvLyBzY2FsZWQgY2hhciBoZWlnaHQuXG4gICAgdGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxIZWlnaHQgPSBNYXRoLmZsb29yKHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDaGFySGVpZ2h0ICogdGhpcy5fdGVybWluYWwub3B0aW9ucy5saW5lSGVpZ2h0KTtcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgeSBjb29yZGluYXRlIHdpdGhpbiBhIGNlbGwgdGhhdCB0ZXh0IHNob3VsZCBkcmF3IGZyb20gaW5cbiAgICAvLyBvcmRlciB0byBkcmF3IGluIHRoZSBjZW50ZXIgb2YgYSBjZWxsLlxuICAgIHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDaGFyVG9wID0gdGhpcy5fdGVybWluYWwub3B0aW9ucy5saW5lSGVpZ2h0ID09PSAxID8gMCA6IE1hdGgucm91bmQoKHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDZWxsSGVpZ2h0IC0gdGhpcy5kaW1lbnNpb25zLnNjYWxlZENoYXJIZWlnaHQpIC8gMik7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIHNjYWxlZCBjZWxsIHdpZHRoLCB0YWtpbmcgdGhlIGxldHRlclNwYWNpbmcgaW50byBhY2NvdW50LlxuICAgIHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDZWxsV2lkdGggPSB0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhcldpZHRoICsgTWF0aC5yb3VuZCh0aGlzLl90ZXJtaW5hbC5vcHRpb25zLmxldHRlclNwYWNpbmcpO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSB4IGNvb3JkaW5hdGUgd2l0aCBhIGNlbGwgdGhhdCB0ZXh0IHNob3VsZCBkcmF3IGZyb20gaW5cbiAgICAvLyBvcmRlciB0byBkcmF3IGluIHRoZSBjZW50ZXIgb2YgYSBjZWxsLlxuICAgIHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDaGFyTGVmdCA9IE1hdGguZmxvb3IodGhpcy5fdGVybWluYWwub3B0aW9ucy5sZXR0ZXJTcGFjaW5nIC8gMik7XG5cbiAgICAvLyBSZWNhbGN1bGF0ZSB0aGUgY2FudmFzIGRpbWVuc2lvbnM7IHNjYWxlZCogZGVmaW5lIHRoZSBhY3R1YWwgbnVtYmVyIG9mXG4gICAgLy8gcGl4ZWwgaW4gdGhlIGNhbnZhc1xuICAgIHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDYW52YXNIZWlnaHQgPSB0aGlzLl90ZXJtaW5hbC5yb3dzICogdGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxIZWlnaHQ7XG4gICAgdGhpcy5kaW1lbnNpb25zLnNjYWxlZENhbnZhc1dpZHRoID0gdGhpcy5fdGVybWluYWwuY29scyAqIHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDZWxsV2lkdGg7XG5cbiAgICAvLyBUaGUgdGhlIHNpemUgb2YgdGhlIGNhbnZhcyBvbiB0aGUgcGFnZS4gSXQncyB2ZXJ5IGltcG9ydGFudCB0aGF0IHRoaXNcbiAgICAvLyByb3VuZHMgdG8gbmVhcmVzdCBpbnRlZ2VyIGFuZCBub3QgY2VpbHMgYXMgYnJvd3NlcnMgb2Z0ZW4gc2V0XG4gICAgLy8gd2luZG93LmRldmljZVBpeGVsUmF0aW8gYXMgc29tZXRoaW5nIGxpa2UgMS4xMDAwMDAwMjM4NDE4NTgsIHdoZW4gaXQnc1xuICAgIC8vIGFjdHVhbGx5IDEuMS4gQ2VpbGluZyBjYXVzZXMgYmx1cnJpbmVzcyBhcyB0aGUgYmFja2luZyBjYW52YXMgaW1hZ2UgaXMgMVxuICAgIC8vIHBpeGVsIHRvbyBsYXJnZSBmb3IgdGhlIGNhbnZhcyBlbGVtZW50IHNpemUuXG4gICAgdGhpcy5kaW1lbnNpb25zLmNhbnZhc0hlaWdodCA9IE1hdGgucm91bmQodGhpcy5kaW1lbnNpb25zLnNjYWxlZENhbnZhc0hlaWdodCAvIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICB0aGlzLmRpbWVuc2lvbnMuY2FudmFzV2lkdGggPSBNYXRoLnJvdW5kKHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDYW52YXNXaWR0aCAvIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcblxuICAgIC8vIEdldCB0aGUgX2FjdHVhbF8gZGltZW5zaW9ucyBvZiBhbiBpbmRpdmlkdWFsIGNlbGwuIFRoaXMgbmVlZHMgdG8gYmVcbiAgICAvLyBkZXJpdmVkIGZyb20gdGhlIGNhbnZhc1dpZHRoL0hlaWdodCBjYWxjdWxhdGVkIGFib3ZlIHdoaWNoIHRha2VzIGludG9cbiAgICAvLyBhY2NvdW50IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLiBDaGFyTWVhc3VyZS53aWR0aC9oZWlnaHQgYnkgaXRzZWxmIGlzXG4gICAgLy8gaW5zdWZmaWNpZW50IHdoZW4gdGhlIHBhZ2UgaXMgbm90IGF0IDEwMCUgem9vbSBsZXZlbCBhcyBDaGFyTWVhc3VyZSBpc1xuICAgIC8vIG1lYXN1cmVkIGluIENTUyBwaXhlbHMsIGJ1dCB0aGUgYWN0dWFsIGNoYXIgc2l6ZSBvbiB0aGUgY2FudmFzIGNhblxuICAgIC8vIGRpZmZlci5cbiAgICB0aGlzLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbEhlaWdodCA9IHRoaXMuZGltZW5zaW9ucy5jYW52YXNIZWlnaHQgLyB0aGlzLl90ZXJtaW5hbC5yb3dzO1xuICAgIHRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGggPSB0aGlzLmRpbWVuc2lvbnMuY2FudmFzV2lkdGggLyB0aGlzLl90ZXJtaW5hbC5jb2xzO1xuICB9XG5cbiAgcHVibGljIHJlZ2lzdGVyQ2hhcmFjdGVySm9pbmVyKGhhbmRsZXI6IENoYXJhY3RlckpvaW5lckhhbmRsZXIpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9jaGFyYWN0ZXJKb2luZXJSZWdpc3RyeS5yZWdpc3RlckNoYXJhY3RlckpvaW5lcihoYW5kbGVyKTtcbiAgfVxuXG4gIHB1YmxpYyBkZXJlZ2lzdGVyQ2hhcmFjdGVySm9pbmVyKGpvaW5lcklkOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fY2hhcmFjdGVySm9pbmVyUmVnaXN0cnkuZGVyZWdpc3RlckNoYXJhY3RlckpvaW5lcihqb2luZXJJZCk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvcmVuZGVyZXIvUmVuZGVyZXIudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///37\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = __webpack_require__(0);\nvar Types_1 = __webpack_require__(1);\nvar GridCache_1 = __webpack_require__(39);\nvar BaseRenderLayer_1 = __webpack_require__(8);\nvar CharAtlasUtils_1 = __webpack_require__(4);\nvar TextRenderLayer = (function (_super) {\n    __extends(TextRenderLayer, _super);\n    function TextRenderLayer(container, zIndex, colors, characterJoinerRegistry, alpha) {\n        var _this = _super.call(this, container, 'text', zIndex, alpha, colors) || this;\n        _this._characterOverlapCache = {};\n        _this._state = new GridCache_1.GridCache();\n        _this._characterJoinerRegistry = characterJoinerRegistry;\n        return _this;\n    }\n    TextRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        var terminalFont = this._getFont(terminal, false, false);\n        if (this._characterWidth !== dim.scaledCharWidth || this._characterFont !== terminalFont) {\n            this._characterWidth = dim.scaledCharWidth;\n            this._characterFont = terminalFont;\n            this._characterOverlapCache = {};\n        }\n        this._state.clear();\n        this._state.resize(terminal.cols, terminal.rows);\n    };\n    TextRenderLayer.prototype.reset = function (terminal) {\n        this._state.clear();\n        this.clearAll();\n    };\n    TextRenderLayer.prototype._forEachCell = function (terminal, firstRow, lastRow, joinerRegistry, callback) {\n        for (var y = firstRow; y <= lastRow; y++) {\n            var row = y + terminal.buffer.ydisp;\n            var line = terminal.buffer.lines.get(row);\n            var joinedRanges = joinerRegistry ? joinerRegistry.getJoinedCharacters(row) : [];\n            for (var x = 0; x < terminal.cols; x++) {\n                var charData = line.get(x);\n                var code = charData[Buffer_1.CHAR_DATA_CODE_INDEX];\n                var chars = charData[Buffer_1.CHAR_DATA_CHAR_INDEX];\n                var attr = charData[Buffer_1.CHAR_DATA_ATTR_INDEX];\n                var width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n                var isJoined = false;\n                var lastCharX = x;\n                if (width === 0) {\n                    continue;\n                }\n                if (joinedRanges.length > 0 && x === joinedRanges[0][0]) {\n                    isJoined = true;\n                    var range = joinedRanges.shift();\n                    chars = terminal.buffer.translateBufferLineToString(row, true, range[0], range[1]);\n                    width = range[1] - range[0];\n                    code = Infinity;\n                    lastCharX = range[1] - 1;\n                }\n                if (!isJoined && this._isOverlapping(charData)) {\n                    if (lastCharX < line.length - 1 && line.get(lastCharX + 1)[Buffer_1.CHAR_DATA_CODE_INDEX] === Buffer_1.NULL_CELL_CODE) {\n                        width = 2;\n                    }\n                }\n                var flags = attr >> 18;\n                var bg = attr & 0x1ff;\n                var fg = (attr >> 9) & 0x1ff;\n                if (flags & 8) {\n                    var temp = bg;\n                    bg = fg;\n                    fg = temp;\n                    if (fg === Types_1.DEFAULT_COLOR) {\n                        fg = Types_1.INVERTED_DEFAULT_COLOR;\n                    }\n                    if (bg === Types_1.DEFAULT_COLOR) {\n                        bg = Types_1.INVERTED_DEFAULT_COLOR;\n                    }\n                }\n                callback(code, chars, width, x, y, fg, bg, flags);\n                x = lastCharX;\n            }\n        }\n    };\n    TextRenderLayer.prototype._drawBackground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        var ctx = this._ctx;\n        var cols = terminal.cols;\n        var startX = 0;\n        var startY = 0;\n        var prevFillStyle = null;\n        ctx.save();\n        this._forEachCell(terminal, firstRow, lastRow, null, function (code, chars, width, x, y, fg, bg, flags) {\n            var nextFillStyle = null;\n            if (bg === Types_1.INVERTED_DEFAULT_COLOR) {\n                nextFillStyle = _this._colors.foreground.css;\n            }\n            else if (CharAtlasUtils_1.is256Color(bg)) {\n                nextFillStyle = _this._colors.ansi[bg].css;\n            }\n            if (prevFillStyle === null) {\n                startX = x;\n                startY = y;\n            }\n            if (y !== startY) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, cols - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            else if (prevFillStyle !== nextFillStyle) {\n                ctx.fillStyle = prevFillStyle;\n                _this.fillCells(startX, startY, x - startX, 1);\n                startX = x;\n                startY = y;\n            }\n            prevFillStyle = nextFillStyle;\n        });\n        if (prevFillStyle !== null) {\n            ctx.fillStyle = prevFillStyle;\n            this.fillCells(startX, startY, cols - startX, 1);\n        }\n        ctx.restore();\n    };\n    TextRenderLayer.prototype._drawForeground = function (terminal, firstRow, lastRow) {\n        var _this = this;\n        this._forEachCell(terminal, firstRow, lastRow, this._characterJoinerRegistry, function (code, chars, width, x, y, fg, bg, flags) {\n            if (flags & 16) {\n                return;\n            }\n            if (flags & 2) {\n                _this._ctx.save();\n                if (fg === Types_1.INVERTED_DEFAULT_COLOR) {\n                    _this._ctx.fillStyle = _this._colors.background.css;\n                }\n                else if (CharAtlasUtils_1.is256Color(fg)) {\n                    _this._ctx.fillStyle = _this._colors.ansi[fg].css;\n                }\n                else {\n                    _this._ctx.fillStyle = _this._colors.foreground.css;\n                }\n                _this.fillBottomLineAtCells(x, y, width);\n                _this._ctx.restore();\n            }\n            _this.drawChars(terminal, chars, code, width, x, y, fg, bg, !!(flags & 1), !!(flags & 32), !!(flags & 64));\n        });\n    };\n    TextRenderLayer.prototype.onGridChanged = function (terminal, firstRow, lastRow) {\n        if (this._state.cache.length === 0) {\n            return;\n        }\n        if (this._charAtlas) {\n            this._charAtlas.beginFrame();\n        }\n        this.clearCells(0, firstRow, terminal.cols, lastRow - firstRow + 1);\n        this._drawBackground(terminal, firstRow, lastRow);\n        this._drawForeground(terminal, firstRow, lastRow);\n    };\n    TextRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        this.setTransparency(terminal, terminal.options.allowTransparency);\n    };\n    TextRenderLayer.prototype._isOverlapping = function (charData) {\n        if (charData[Buffer_1.CHAR_DATA_WIDTH_INDEX] !== 1) {\n            return false;\n        }\n        var code = charData[Buffer_1.CHAR_DATA_CODE_INDEX];\n        if (code < 256) {\n            return false;\n        }\n        var char = charData[Buffer_1.CHAR_DATA_CHAR_INDEX];\n        if (this._characterOverlapCache.hasOwnProperty(char)) {\n            return this._characterOverlapCache[char];\n        }\n        this._ctx.save();\n        this._ctx.font = this._characterFont;\n        var overlaps = Math.floor(this._ctx.measureText(char).width) > this._characterWidth;\n        this._ctx.restore();\n        this._characterOverlapCache[char] = overlaps;\n        return overlaps;\n    };\n    return TextRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.TextRenderLayer = TextRenderLayer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL1RleHRSZW5kZXJMYXllci50cz8wODMwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUtBLHNDQUFvSTtBQUdwSSxxQ0FBc0U7QUFDdEUsMENBQXdDO0FBQ3hDLCtDQUFvRDtBQUNwRCw4Q0FBb0Q7QUFTcEQ7SUFBcUMsbUNBQWU7SUFPbEQseUJBQVksU0FBc0IsRUFBRSxNQUFjLEVBQUUsTUFBaUIsRUFBRSx1QkFBaUQsRUFBRSxLQUFjO1FBQXhJLFlBQ0Usa0JBQU0sU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxTQUdoRDtRQVBPLDRCQUFzQixHQUErQixFQUFFLENBQUM7UUFLOUQsS0FBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLHFCQUFTLEVBQVksQ0FBQztRQUN4QyxLQUFJLENBQUMsd0JBQXdCLEdBQUcsdUJBQXVCLENBQUM7O0lBQzFELENBQUM7SUFFTSxnQ0FBTSxHQUFiLFVBQWMsUUFBbUIsRUFBRSxHQUFzQjtRQUN2RCxpQkFBTSxNQUFNLFlBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBRzVCLElBQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztRQUMzRCxJQUFJLElBQUksQ0FBQyxlQUFlLEtBQUssR0FBRyxDQUFDLGVBQWUsSUFBSSxJQUFJLENBQUMsY0FBYyxLQUFLLFlBQVksRUFBRTtZQUN4RixJQUFJLENBQUMsZUFBZSxHQUFHLEdBQUcsQ0FBQyxlQUFlLENBQUM7WUFDM0MsSUFBSSxDQUFDLGNBQWMsR0FBRyxZQUFZLENBQUM7WUFDbkMsSUFBSSxDQUFDLHNCQUFzQixHQUFHLEVBQUUsQ0FBQztTQUNsQztRQUVELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFD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QU8sS0FBSyxDQUFDO1NBQ2Q7UUFHRCxJQUFNLElBQUksR0FBRyxRQUFRLENBQUMsNkJBQW9CLENBQUMsQ0FBQztRQUM1QyxJQUFJLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDcEQsT0FBTyxJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDMUM7UUFHRCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7UUFLckMsSUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO1FBR3RGLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFHcEIsSUFBSSxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQztRQUM3QyxPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDO0lBZ0JILHNCQUFDO0FBQUQsQ0FBQyxDQS9Tb0MsaUNBQWUsR0ErU25EO0FBL1NZLDBDQUFlIiwiZmlsZSI6IjM4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBDSEFSX0RBVEFfQVRUUl9JTkRFWCwgQ0hBUl9EQVRBX0NPREVfSU5ERVgsIENIQVJfREFUQV9DSEFSX0lOREVYLCBDSEFSX0RBVEFfV0lEVEhfSU5ERVgsIE5VTExfQ0VMTF9DT0RFIH0gZnJvbSAnLi4vQnVmZmVyJztcbmltcG9ydCB7IEZMQUdTLCBJQ29sb3JTZXQsIElSZW5kZXJEaW1lbnNpb25zLCBJQ2hhcmFjdGVySm9pbmVyUmVnaXN0cnkgfSBmcm9tICcuL1R5cGVzJztcbmltcG9ydCB7IENoYXJEYXRhLCBJVGVybWluYWwgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBJTlZFUlRFRF9ERUZBVUxUX0NPTE9SLCBERUZBVUxUX0NPTE9SIH0gZnJvbSAnLi9hdGxhcy9UeXBlcyc7XG5pbXBvcnQgeyBHcmlkQ2FjaGUgfSBmcm9tICcuL0dyaWRDYWNoZSc7XG5pbXBvcnQgeyBCYXNlUmVuZGVyTGF5ZXIgfSBmcm9tICcuL0Jhc2VSZW5kZXJMYXllcic7XG5pbXBvcnQgeyBpczI1NkNvbG9yIH0gZnJvbSAnLi9hdGxhcy9DaGFyQXRsYXNVdGlscyc7XG5cbi8qKlxuICogVGhpcyBDaGFyRGF0YSBsb29rcyBsaWtlIGEgbnVsbCBjaGFyYWN0ZXIsIHdoaWNoIHdpbGwgZm9yYyBhIGNsZWFyIGFuZCByZW5kZXJcbiAqIHdoZW4gdGhlIGNoYXJhY3RlciBjaGFuZ2VzIChhIHJlZ3VsYXIgc3BhY2UgJyAnIGNoYXJhY3RlciBtYXkgbm90IGFzIGl0J3NcbiAqIGRyYXduIHN0YXRlIGlzIGEgY2xlYXJlZCBjZWxsKS5cbiAqL1xuLy8gY29uc3QgT1ZFUkxBUF9PV05FRF9DSEFSX0RBVEE6IENoYXJEYXRhID0gW251bGwsICcnLCAwLCAtMV07XG5cbmV4cG9ydCBjbGFzcyBUZXh0UmVuZGVyTGF5ZXIgZXh0ZW5kcyBCYXNlUmVuZGVyTGF5ZXIge1xuICBwcml2YXRlIF9zdGF0ZTogR3JpZENhY2hlPENoYXJEYXRhPjtcbiAgcHJpdmF0ZSBfY2hhcmFjdGVyV2lkdGg6IG51bWJlcjtcbiAgcHJpdmF0ZSBfY2hhcmFjdGVyRm9udDogc3RyaW5nO1xuICBwcml2YXRlIF9jaGFyYWN0ZXJPdmVybGFwQ2FjaGU6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XG4gIHByaXZhdGUgX2NoYXJhY3RlckpvaW5lclJlZ2lzdHJ5OiBJQ2hhcmFjdGVySm9pbmVyUmVnaXN0cnk7XG5cbiAgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgekluZGV4OiBudW1iZXIsIGNvbG9yczogSUNvbG9yU2V0LCBjaGFyYWN0ZXJKb2luZXJSZWdpc3RyeTogSUNoYXJhY3RlckpvaW5lclJlZ2lzdHJ5LCBhbHBoYTogYm9vbGVhbikge1xuICAgIHN1cGVyKGNvbnRhaW5lciwgJ3RleHQnLCB6SW5kZXgsIGFscGhhLCBjb2xvcnMpO1xuICAgIHRoaXMuX3N0YXRlID0gbmV3IEdyaWRDYWNoZTxDaGFyRGF0YT4oKTtcbiAgICB0aGlzLl9jaGFyYWN0ZXJKb2luZXJSZWdpc3RyeSA9IGNoYXJhY3RlckpvaW5lclJlZ2lzdHJ5O1xuICB9XG5cbiAgcHVibGljIHJlc2l6ZSh0ZXJtaW5hbDogSVRlcm1pbmFsLCBkaW06IElSZW5kZXJEaW1lbnNpb25zKTogdm9pZCB7XG4gICAgc3VwZXIucmVzaXplKHRlcm1pbmFsLCBkaW0pO1xuXG4gICAgLy8gQ2xlYXIgdGhlIGNoYXJhY3RlciB3aWR0aCBjYWNoZSBpZiB0aGUgZm9udCBvciB3aWR0aCBoYXMgY2hhbmdlZFxuICAgIGNvbnN0IHRlcm1pbmFsRm9udCA9IHRoaXMuX2dldEZvbnQodGVybWluYWwsIGZhbHNlLCBmYWxzZSk7XG4gICAgaWYgKHRoaXMuX2NoYXJhY3RlcldpZHRoICE9PSBkaW0uc2NhbGVkQ2hhcldpZHRoIHx8IHRoaXMuX2NoYXJhY3RlckZvbnQgIT09IHRlcm1pbmFsRm9udCkge1xuICAgICAgdGhpcy5fY2hhcmFjdGVyV2lkdGggPSBkaW0uc2NhbGVkQ2hhcldpZHRoO1xuICAgICAgdGhpcy5fY2hhcmFjdGVyRm9udCA9IHRlcm1pbmFsRm9udDtcbiAgICAgIHRoaXMuX2NoYXJhY3Rlck92ZXJsYXBDYWNoZSA9IHt9O1xuICAgIH1cbiAgICAvLyBSZXNpemluZyB0aGUgY2FudmFzIGRpc2NhcmRzIHRoZSBjb250ZW50cyBvZiB0aGUgY2FudmFzIHNvIGNsZWFyIHN0YXRlXG4gICAgdGhpcy5fc3RhdGUuY2xlYXIoKTtcbiAgICB0aGlzLl9zdGF0ZS5yZXNpemUodGVybWluYWwuY29scywgdGVybWluYWwucm93cyk7XG4gIH1cblxuICBwdWJsaWMgcmVzZXQodGVybWluYWw6IElUZXJtaW5hbCk6IHZvaWQge1xuICAgIHRoaXMuX3N0YXRlLmNsZWFyKCk7XG4gICAgdGhpcy5jbGVhckFsbCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfZm9yRWFjaENlbGwoXG4gICAgdGVybWluYWw6IElUZXJtaW5hbCxcbiAgICBmaXJzdFJvdzogbnVtYmVyLFxuICAgIGxhc3RSb3c6IG51bWJlcixcbiAgICBqb2luZXJSZWdpc3RyeTogSUNoYXJhY3RlckpvaW5lclJlZ2lzdHJ5IHwgbnVsbCxcbiAgICBjYWxsYmFjazogKFxuICAgICAgY29kZTogbnVtYmVyLFxuICAgICAgY2hhcnM6IHN0cmluZyxcbiAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICB4OiBudW1iZXIsXG4gICAgICB5OiBudW1iZXIsXG4gICAgICBmZzogbnVtYmVyLFxuICAgICAgYmc6IG51bWJlcixcbiAgICAgIGZsYWdzOiBudW1iZXJcbiAgICApID0+IHZvaWRcbiAgKTogdm9pZCB7XG4gICAgZm9yIChsZXQgeSA9IGZpcnN0Um93OyB5IDw9IGxhc3RSb3c7IHkrKykge1xuICAgICAgY29uc3Qgcm93ID0geSArIHRlcm1pbmFsLmJ1ZmZlci55ZGlzcDtcbiAgICAgIGNvbnN0IGxpbmUgPSB0ZXJtaW5hbC5idWZmZXIubGluZXMuZ2V0KHJvdyk7XG4gICAgICBjb25zdCBqb2luZWRSYW5nZXMgPSBqb2luZXJSZWdpc3RyeSA/IGpvaW5lclJlZ2lzdHJ5LmdldEpvaW5lZENoYXJhY3RlcnMocm93KSA6IFtdO1xuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0ZXJtaW5hbC5jb2xzOyB4KyspIHtcbiAgICAgICAgY29uc3QgY2hhckRhdGEgPSBsaW5lLmdldCh4KTtcbiAgICAgICAgbGV0IGNvZGU6IG51bWJlciA9IDxudW1iZXI+Y2hhckRhdGFbQ0hBUl9EQVRBX0NPREVfSU5ERVhdO1xuXG4gICAgICAgIC8vIENhbiBlaXRoZXIgcmVwcmVzZW50IGNoYXJhY3RlcihzKSBmb3IgYSBzaW5nbGUgY2VsbCBvciBtdWx0aXBsZSBjZWxsc1xuICAgICAgICAvLyBpZiBpbmRpY2F0ZWQgYnkgYSBjaGFyYWN0ZXIgam9pbmVyLlxuICAgICAgICBsZXQgY2hhcnM6IHN0cmluZyA9IGNoYXJEYXRhW0NIQVJfREFUQV9DSEFSX0lOREVYXTtcbiAgICAgICAgY29uc3QgYXR0cjogbnVtYmVyID0gY2hhckRhdGFbQ0hBUl9EQVRBX0FUVFJfSU5ERVhdO1xuICAgICAgICBsZXQgd2lkdGg6IG51bWJlciA9IGNoYXJEYXRhW0NIQVJfREFUQV9XSURUSF9JTkRFWF07XG5cbiAgICAgICAgLy8gSWYgdHJ1ZSwgaW5kaWNhdGVzIHRoYXQgdGhlIGN1cnJlbnQgY2hhcmFjdGVyKHMpIHRvIGRyYXcgd2VyZSBqb2luZWQuXG4gICAgICAgIGxldCBpc0pvaW5lZCA9IGZhbHNlO1xuICAgICAgICBsZXQgbGFzdENoYXJYID0geDtcblxuICAgICAgICAvLyBUaGUgY2hhcmFjdGVyIHRvIHRoZSBsZWZ0IGlzIGEgd2lkZSBjaGFyYWN0ZXIsIGRyYXdpbmcgaXMgb3duZWQgYnlcbiAgICAgICAgLy8gdGhlIGNoYXIgYXQgeC0xXG4gICAgICAgIGlmICh3aWR0aCA9PT0gMCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJvY2VzcyBhbnkgam9pbmVkIGNoYXJhY3RlciByYW5nZXMgYXMgbmVlZGVkLiBCZWNhdXNlIG9mIGhvdyB0aGVcbiAgICAgICAgLy8gcmFuZ2VzIGFyZSBwcm9kdWNlZCwgd2Uga25vdyB0aGF0IHRoZXkgYXJlIHZhbGlkIGZvciB0aGUgY2hhcmFjdGVyc1xuICAgICAgICAvLyBhbmQgYXR0cmlidXRlcyBvZiBvdXIgaW5wdXQuXG4gICAgICAgIGlmIChqb2luZWRSYW5nZXMubGVuZ3RoID4gMCAmJiB4ID09PSBqb2luZWRSYW5nZXNbMF1bMF0pIHtcbiAgICAgICAgICBpc0pvaW5lZCA9IHRydWU7XG4gICAgICAgICAgY29uc3QgcmFuZ2UgPSBqb2luZWRSYW5nZXMuc2hpZnQoKTtcblxuICAgICAgICAgIC8vIFdlIGFscmVhZHkga25vdyB0aGUgZXhhY3Qgc3RhcnQgYW5kIGVuZCBjb2x1bW4gb2YgdGhlIGpvaW5lZCByYW5nZSxcbiAgICAgICAgICAvLyBzbyB3ZSBnZXQgdGhlIHN0cmluZyBhbmQgd2lkdGggcmVwcmVzZW50aW5nIGl0IGRpcmVjdGx5XG4gICAgICAgICAgY2hhcnMgPSB0ZXJtaW5hbC5idWZmZXIudHJhbnNsYXRlQnVmZmVyTGluZVRvU3RyaW5nKFxuICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgIHJhbmdlWzBdLFxuICAgICAgICAgICAgcmFuZ2VbMV1cbiAgICAgICAgICApO1xuICAgICAgICAgIHdpZHRoID0gcmFuZ2VbMV0gLSByYW5nZVswXTtcbiAgICAgICAgICBjb2RlID0gSW5maW5pdHk7XG5cbiAgICAgICAgICAvLyBTa2lwIG92ZXIgdGhlIGNlbGxzIG9jY3VwaWVkIGJ5IHRoaXMgcmFuZ2UgaW4gdGhlIGxvb3BcbiAgICAgICAgICBsYXN0Q2hhclggPSByYW5nZVsxXSAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgY2hhcmFjdGVyIGlzIGFuIG92ZXJsYXBwaW5nIGNoYXIgYW5kIHRoZSBjaGFyYWN0ZXIgdG8gdGhlXG4gICAgICAgIC8vIHJpZ2h0IGlzIGEgc3BhY2UsIHRha2Ugb3duZXJzaGlwIG9mIHRoZSBjZWxsIHRvIHRoZSByaWdodC4gV2Ugc2tpcFxuICAgICAgICAvLyB0aGlzIGNoZWNrIGZvciBqb2luZWQgY2hhcmFjdGVycyBiZWNhdXNlIHRoZWlyIHJlbmRlcmluZyBsaWtlbHkgd29uJ3RcbiAgICAgICAgLy8geWllbGQgdGhlIHNhbWUgcmVzdWx0IGFzIHJlbmRlcmluZyB0aGUgbGFzdCBjaGFyYWN0ZXIgaW5kaXZpZHVhbGx5LlxuICAgICAgICBpZiAoIWlzSm9pbmVkICYmIHRoaXMuX2lzT3ZlcmxhcHBpbmcoY2hhckRhdGEpKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGNoYXJhY3RlciBpcyBvdmVybGFwcGluZywgd2Ugd2FudCB0byBmb3JjZSBhIHJlLXJlbmRlciBvbiBldmVyeVxuICAgICAgICAgIC8vIGZyYW1lLiBUaGlzIGlzIHNwZWNpZmljYWxseSB0byB3b3JrIGFyb3VuZCB0aGUgY2FzZSB3aGVyZSB0d29cbiAgICAgICAgICAvLyBvdmVybGFwaW5nIGNoYXJzIGBhYCBhbmQgYGJgIGFyZSBhZGphY2VudCwgdGhlIGN1cnNvciBpcyBtb3ZlZCB0byBiIGFuZCBhXG4gICAgICAgICAgLy8gc3BhY2UgaXMgYWRkZWQuIFdpdGhvdXQgdGhpcywgdGhlIGZpcnN0IGhhbGYgb2YgYGJgIHdvdWxkIG5ldmVyXG4gICAgICAgICAgLy8gZ2V0IHJlbW92ZWQsIGFuZCBgYWAgd291bGQgbm90IHJlLXJlbmRlciBiZWNhdXNlIGl0IHRoaW5rcyBpdCdzXG4gICAgICAgICAgLy8gYWxyZWFkeSBpbiB0aGUgY29ycmVjdCBzdGF0ZS5cbiAgICAgICAgICAvLyB0aGlzLl9zdGF0ZS5jYWNoZVt4XVt5XSA9IE9WRVJMQVBfT1dORURfQ0hBUl9EQVRBO1xuICAgICAgICAgIGlmIChsYXN0Q2hhclggPCBsaW5lLmxlbmd0aCAtIDEgJiYgbGluZS5nZXQobGFzdENoYXJYICsgMSlbQ0hBUl9EQVRBX0NPREVfSU5ERVhdID09PSBOVUxMX0NFTExfQ09ERSkge1xuICAgICAgICAgICAgd2lkdGggPSAyO1xuICAgICAgICAgICAgLy8gdGhpcy5fY2xlYXJDaGFyKHggKyAxLCB5KTtcbiAgICAgICAgICAgIC8vIFRoZSBvdmVybGFwcGluZyBjaGFyJ3MgY2hhciBkYXRhIHdpbGwgZm9yY2UgYSBjbGVhciBhbmQgcmVuZGVyIHdoZW4gdGhlXG4gICAgICAgICAgICAvLyBvdmVybGFwcGluZyBjaGFyIGlzIG5vIGxvbmdlciB0byB0aGUgbGVmdCBvZiB0aGUgY2hhcmFjdGVyIGFuZCBhbHNvIHdoZW5cbiAgICAgICAgICAgIC8vIHRoZSBzcGFjZSBjaGFuZ2VzIHRvIGFub3RoZXIgY2hhcmFjdGVyLlxuICAgICAgICAgICAgLy8gdGhpcy5fc3RhdGUuY2FjaGVbeCArIDFdW3ldID0gT1ZFUkxBUF9PV05FRF9DSEFSX0RBVEE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmxhZ3MgPSBhdHRyID4+IDE4O1xuICAgICAgICBsZXQgYmcgPSBhdHRyICYgMHgxZmY7XG4gICAgICAgIGxldCBmZyA9IChhdHRyID4+IDkpICYgMHgxZmY7XG5cbiAgICAgICAgLy8gSWYgaW52ZXJzZSBmbGFnIGlzIG9uLCB0aGUgZm9yZWdyb3VuZCBzaG91bGQgYmVjb21lIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAgICBpZiAoZmxhZ3MgJiBGTEFHUy5JTlZFUlNFKSB7XG4gICAgICAgICAgY29uc3QgdGVtcCA9IGJnO1xuICAgICAgICAgIGJnID0gZmc7XG4gICAgICAgICAgZmcgPSB0ZW1wO1xuICAgICAgICAgIGlmIChmZyA9PT0gREVGQVVMVF9DT0xPUikge1xuICAgICAgICAgICAgZmcgPSBJTlZFUlRFRF9ERUZBVUxUX0NPTE9SO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYmcgPT09IERFRkFVTFRfQ09MT1IpIHtcbiAgICAgICAgICAgIGJnID0gSU5WRVJURURfREVGQVVMVF9DT0xPUjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICBjb2RlLFxuICAgICAgICAgIGNoYXJzLFxuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIHgsXG4gICAgICAgICAgeSxcbiAgICAgICAgICBmZyxcbiAgICAgICAgICBiZyxcbiAgICAgICAgICBmbGFnc1xuICAgICAgICApO1xuXG4gICAgICAgIHggPSBsYXN0Q2hhclg7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBiYWNrZ3JvdW5kIGZvciBhIHNwZWNpZmllZCByYW5nZSBvZiBjb2x1bW5zLiBUcmllcyB0byBiYXRjaCBhZGphY2VudCBjZWxscyBvZiB0aGVcbiAgICogc2FtZSBjb2xvciB0b2dldGhlciB0byByZWR1Y2UgZHJhdyBjYWxscy5cbiAgICovXG4gIHByaXZhdGUgX2RyYXdCYWNrZ3JvdW5kKHRlcm1pbmFsOiBJVGVybWluYWwsIGZpcnN0Um93OiBudW1iZXIsIGxhc3RSb3c6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuX2N0eDtcbiAgICBjb25zdCBjb2xzID0gdGVybWluYWwuY29scztcbiAgICBsZXQgc3RhcnRYOiBudW1iZXIgPSAwO1xuICAgIGxldCBzdGFydFk6IG51bWJlciA9IDA7XG4gICAgbGV0IHByZXZGaWxsU3R5bGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gICAgY3R4LnNhdmUoKTtcblxuICAgIHRoaXMuX2ZvckVhY2hDZWxsKHRlcm1pbmFsLCBmaXJzdFJvdywgbGFzdFJvdywgbnVsbCwgKGNvZGUsIGNoYXJzLCB3aWR0aCwgeCwgeSwgZmcsIGJnLCBmbGFncykgPT4ge1xuICAgICAgLy8gbGlidnRlIGFuZCB4dGVybSBib3RoIGRyYXcgdGhlIGJhY2tncm91bmQgKGJ1dCBub3QgZm9yZWdyb3VuZCkgb2YgaW52aXNpYmxlIGNoYXJhY3RlcnMsXG4gICAgICAvLyBzbyB3ZSBzaG91bGQgdG9vLlxuICAgICAgbGV0IG5leHRGaWxsU3R5bGUgPSBudWxsOyAvLyBudWxsIHJlcHJlc2VudHMgZGVmYXVsdCBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgICBpZiAoYmcgPT09IElOVkVSVEVEX0RFRkFVTFRfQ09MT1IpIHtcbiAgICAgICAgbmV4dEZpbGxTdHlsZSA9IHRoaXMuX2NvbG9ycy5mb3JlZ3JvdW5kLmNzcztcbiAgICAgIH0gZWxzZSBpZiAoaXMyNTZDb2xvcihiZykpIHtcbiAgICAgICAgbmV4dEZpbGxTdHlsZSA9IHRoaXMuX2NvbG9ycy5hbnNpW2JnXS5jc3M7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcmV2RmlsbFN0eWxlID09PSBudWxsKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgZWl0aGVyIHRoZSBmaXJzdCBpdGVyYXRpb24sIG9yIHRoZSBkZWZhdWx0IGJhY2tncm91bmQgd2FzIHNldC4gRWl0aGVyIHdheSwgd2VcbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byBkcmF3IGFueXRoaW5nLlxuICAgICAgICBzdGFydFggPSB4O1xuICAgICAgICBzdGFydFkgPSB5O1xuICAgICAgfSBpZiAoeSAhPT0gc3RhcnRZKSB7XG4gICAgICAgIC8vIG91ciByb3cgY2hhbmdlZCwgZHJhdyB0aGUgcHJldmlvdXMgcm93XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBwcmV2RmlsbFN0eWxlO1xuICAgICAgICB0aGlzLmZpbGxDZWxscyhzdGFydFgsIHN0YXJ0WSwgY29scyAtIHN0YXJ0WCwgMSk7XG4gICAgICAgIHN0YXJ0WCA9IHg7XG4gICAgICAgIHN0YXJ0WSA9IHk7XG4gICAgICB9IGVsc2UgaWYgKHByZXZGaWxsU3R5bGUgIT09IG5leHRGaWxsU3R5bGUpIHtcbiAgICAgICAgLy8gb3VyIGNvbG9yIGNoYW5nZWQsIGRyYXcgdGhlIHByZXZpb3VzIGNoYXJhY3RlcnMgaW4gdGhpcyByb3dcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHByZXZGaWxsU3R5bGU7XG4gICAgICAgIHRoaXMuZmlsbENlbGxzKHN0YXJ0WCwgc3RhcnRZLCB4IC0gc3RhcnRYLCAxKTtcbiAgICAgICAgc3RhcnRYID0geDtcbiAgICAgICAgc3RhcnRZID0geTtcbiAgICAgIH1cblxuICAgICAgcHJldkZpbGxTdHlsZSA9IG5leHRGaWxsU3R5bGU7XG4gICAgfSk7XG5cbiAgICAvLyBmbHVzaCB0aGUgbGFzdCBjb2xvciB3ZSBlbmNvdW50ZXJlZFxuICAgIGlmIChwcmV2RmlsbFN0eWxlICE9PSBudWxsKSB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gcHJldkZpbGxTdHlsZTtcbiAgICAgIHRoaXMuZmlsbENlbGxzKHN0YXJ0WCwgc3RhcnRZLCBjb2xzIC0gc3RhcnRYLCAxKTtcbiAgICB9XG5cbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfZHJhd0ZvcmVncm91bmQodGVybWluYWw6IElUZXJtaW5hbCwgZmlyc3RSb3c6IG51bWJlciwgbGFzdFJvdzogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fZm9yRWFjaENlbGwodGVybWluYWwsIGZpcnN0Um93LCBsYXN0Um93LCB0aGlzLl9jaGFyYWN0ZXJKb2luZXJSZWdpc3RyeSwgKGNvZGUsIGNoYXJzLCB3aWR0aCwgeCwgeSwgZmcsIGJnLCBmbGFncykgPT4ge1xuICAgICAgaWYgKGZsYWdzICYgRkxBR1MuSU5WSVNJQkxFKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChmbGFncyAmIEZMQUdTLlVOREVSTElORSkge1xuICAgICAgICB0aGlzLl9jdHguc2F2ZSgpO1xuICAgICAgICBpZiAoZmcgPT09IElOVkVSVEVEX0RFRkFVTFRfQ09MT1IpIHtcbiAgICAgICAgICB0aGlzLl9jdHguZmlsbFN0eWxlID0gdGhpcy5fY29sb3JzLmJhY2tncm91bmQuY3NzO1xuICAgICAgICB9IGVsc2UgaWYgKGlzMjU2Q29sb3IoZmcpKSB7XG4gICAgICAgICAgLy8gMjU2IGNvbG9yIHN1cHBvcnRcbiAgICAgICAgICB0aGlzLl9jdHguZmlsbFN0eWxlID0gdGhpcy5fY29sb3JzLmFuc2lbZmddLmNzcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9jdHguZmlsbFN0eWxlID0gdGhpcy5fY29sb3JzLmZvcmVncm91bmQuY3NzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmlsbEJvdHRvbUxpbmVBdENlbGxzKHgsIHksIHdpZHRoKTtcbiAgICAgICAgdGhpcy5fY3R4LnJlc3RvcmUoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZHJhd0NoYXJzKFxuICAgICAgICB0ZXJtaW5hbCwgY2hhcnMsIGNvZGUsXG4gICAgICAgIHdpZHRoLCB4LCB5LFxuICAgICAgICBmZywgYmcsXG4gICAgICAgICEhKGZsYWdzICYgRkxBR1MuQk9MRCksICEhKGZsYWdzICYgRkxBR1MuRElNKSwgISEoZmxhZ3MgJiBGTEFHUy5JVEFMSUMpXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIG9uR3JpZENoYW5nZWQodGVybWluYWw6IElUZXJtaW5hbCwgZmlyc3RSb3c6IG51bWJlciwgbGFzdFJvdzogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gUmVzaXplIGhhcyBub3QgYmVlbiBjYWxsZWQgeWV0XG4gICAgaWYgKHRoaXMuX3N0YXRlLmNhY2hlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jaGFyQXRsYXMpIHtcbiAgICAgIHRoaXMuX2NoYXJBdGxhcy5iZWdpbkZyYW1lKCk7XG4gICAgfVxuXG4gICAgdGhpcy5jbGVhckNlbGxzKDAsIGZpcnN0Um93LCB0ZXJtaW5hbC5jb2xzLCBsYXN0Um93IC0gZmlyc3RSb3cgKyAxKTtcbiAgICB0aGlzLl9kcmF3QmFja2dyb3VuZCh0ZXJtaW5hbCwgZmlyc3RSb3csIGxhc3RSb3cpO1xuICAgIHRoaXMuX2RyYXdGb3JlZ3JvdW5kKHRlcm1pbmFsLCBmaXJzdFJvdywgbGFzdFJvdyk7XG4gIH1cblxuICBwdWJsaWMgb25PcHRpb25zQ2hhbmdlZCh0ZXJtaW5hbDogSVRlcm1pbmFsKTogdm9pZCB7XG4gICAgdGhpcy5zZXRUcmFuc3BhcmVuY3kodGVybWluYWwsIHRlcm1pbmFsLm9wdGlvbnMuYWxsb3dUcmFuc3BhcmVuY3kpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgYSBjaGFyYWN0ZXIgaXMgb3ZlcmxhcHBpbmcgdG8gdGhlIG5leHQgY2VsbC5cbiAgICovXG4gIHByaXZhdGUgX2lzT3ZlcmxhcHBpbmcoY2hhckRhdGE6IENoYXJEYXRhKTogYm9vbGVhbiB7XG4gICAgLy8gT25seSBzaW5nbGUgY2VsbCBjaGFyYWN0ZXJzIGNhbiBiZSBvdmVybGFwcGluZywgcmVuZGVyaW5nIGlzc3VlcyBjYW5cbiAgICAvLyBvY2N1ciB3aXRob3V0IHRoaXMgY2hlY2tcbiAgICBpZiAoY2hhckRhdGFbQ0hBUl9EQVRBX1dJRFRIX0lOREVYXSAhPT0gMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFdlIGFzc3VtZSB0aGF0IGFueSBhc2NpaSBjaGFyYWN0ZXIgd2lsbCBub3Qgb3ZlcmxhcFxuICAgIGNvbnN0IGNvZGUgPSBjaGFyRGF0YVtDSEFSX0RBVEFfQ09ERV9JTkRFWF07XG4gICAgaWYgKGNvZGUgPCAyNTYpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBEZWxpdmVyIGZyb20gY2FjaGUgaWYgYXZhaWxhYmxlXG4gICAgY29uc3QgY2hhciA9IGNoYXJEYXRhW0NIQVJfREFUQV9DSEFSX0lOREVYXTtcbiAgICBpZiAodGhpcy5fY2hhcmFjdGVyT3ZlcmxhcENhY2hlLmhhc093blByb3BlcnR5KGNoYXIpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2hhcmFjdGVyT3ZlcmxhcENhY2hlW2NoYXJdO1xuICAgIH1cblxuICAgIC8vIFNldHVwIHRoZSBmb250XG4gICAgdGhpcy5fY3R4LnNhdmUoKTtcbiAgICB0aGlzLl9jdHguZm9udCA9IHRoaXMuX2NoYXJhY3RlckZvbnQ7XG5cbiAgICAvLyBNZWFzdXJlIHRoZSB3aWR0aCBvZiB0aGUgY2hhcmFjdGVyLCBidXQgTWF0aC5mbG9vciBpdFxuICAgIC8vIGJlY2F1c2UgdGhhdCBpcyB3aGF0IHRoZSByZW5kZXJlciBkb2VzIHdoZW4gaXQgY2FsY3VsYXRlc1xuICAgIC8vIHRoZSBjaGFyYWN0ZXIgZGltZW5zaW9ucyB3ZSBhcmUgY29tcGFyaW5nIGFnYWluc3RcbiAgICBjb25zdCBvdmVybGFwcyA9IE1hdGguZmxvb3IodGhpcy5fY3R4Lm1lYXN1cmVUZXh0KGNoYXIpLndpZHRoKSA+IHRoaXMuX2NoYXJhY3RlcldpZHRoO1xuXG4gICAgLy8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgY29udGV4dFxuICAgIHRoaXMuX2N0eC5yZXN0b3JlKCk7XG5cbiAgICAvLyBDYWNoZSBhbmQgcmV0dXJuXG4gICAgdGhpcy5fY2hhcmFjdGVyT3ZlcmxhcENhY2hlW2NoYXJdID0gb3ZlcmxhcHM7XG4gICAgcmV0dXJuIG92ZXJsYXBzO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIHRoZSBjaGFyY2F0ZXIgYXQgdGhlIGNlbGwgc3BlY2lmaWVkLlxuICAgKiBAcGFyYW0geCBUaGUgY29sdW1uIG9mIHRoZSBjaGFyLlxuICAgKiBAcGFyYW0geSBUaGUgcm93IG9mIHRoZSBjaGFyLlxuICAgKi9cbiAgLy8gcHJpdmF0ZSBfY2xlYXJDaGFyKHg6IG51bWJlciwgeTogbnVtYmVyKTogdm9pZCB7XG4gIC8vICAgbGV0IGNvbHNUb0NsZWFyID0gMTtcbiAgLy8gICAvLyBDbGVhciB0aGUgYWRqYWNlbnQgY2hhcmFjdGVyIGlmIGl0IHdhcyB3aWRlXG4gIC8vICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9zdGF0ZS5jYWNoZVt4XVt5XTtcbiAgLy8gICBpZiAoc3RhdGUgJiYgc3RhdGVbQ0hBUl9EQVRBX1dJRFRIX0lOREVYXSA9PT0gMikge1xuICAvLyAgICAgY29sc1RvQ2xlYXIgPSAyO1xuICAvLyAgIH1cbiAgLy8gICB0aGlzLmNsZWFyQ2VsbHMoeCwgeSwgY29sc1RvQ2xlYXIsIDEpO1xuICAvLyB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL1RleHRSZW5kZXJMYXllci50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///38\n")},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar GridCache = (function () {\n    function GridCache() {\n        this.cache = [];\n    }\n    GridCache.prototype.resize = function (width, height) {\n        for (var x = 0; x < width; x++) {\n            if (this.cache.length <= x) {\n                this.cache.push([]);\n            }\n            for (var y = this.cache[x].length; y < height; y++) {\n                this.cache[x].push(null);\n            }\n            this.cache[x].length = height;\n        }\n        this.cache.length = width;\n    };\n    GridCache.prototype.clear = function () {\n        for (var x = 0; x < this.cache.length; x++) {\n            for (var y = 0; y < this.cache[x].length; y++) {\n                this.cache[x][y] = null;\n            }\n        }\n    };\n    return GridCache;\n}());\nexports.GridCache = GridCache;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL0dyaWRDYWNoZS50cz80OWYwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBS0E7SUFHRTtRQUNFLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFTSwwQkFBTSxHQUFiLFVBQWMsS0FBYSxFQUFFLE1BQWM7UUFDekMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUM5QixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtnQkFDMUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7YUFDckI7WUFDRCxLQUFLLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2xELElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQzFCO1lBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1NBQy9CO1FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQzVCLENBQUM7SUFFTSx5QkFBSyxHQUFaO1FBQ0UsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzFDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDN0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7YUFDekI7U0FDRjtJQUNILENBQUM7SUFDSCxnQkFBQztBQUFELENBQUM7QUEzQlksOEJBQVMiLCJmaWxlIjoiMzkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmV4cG9ydCBjbGFzcyBHcmlkQ2FjaGU8VD4ge1xuICBwdWJsaWMgY2FjaGU6IFRbXVtdO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNhY2hlID0gW107XG4gIH1cblxuICBwdWJsaWMgcmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XG4gICAgICBpZiAodGhpcy5jYWNoZS5sZW5ndGggPD0geCkge1xuICAgICAgICB0aGlzLmNhY2hlLnB1c2goW10pO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgeSA9IHRoaXMuY2FjaGVbeF0ubGVuZ3RoOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgdGhpcy5jYWNoZVt4XS5wdXNoKG51bGwpO1xuICAgICAgfVxuICAgICAgdGhpcy5jYWNoZVt4XS5sZW5ndGggPSBoZWlnaHQ7XG4gICAgfVxuICAgIHRoaXMuY2FjaGUubGVuZ3RoID0gd2lkdGg7XG4gIH1cblxuICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLmNhY2hlLmxlbmd0aDsgeCsrKSB7XG4gICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuY2FjaGVbeF0ubGVuZ3RoOyB5KyspIHtcbiAgICAgICAgdGhpcy5jYWNoZVt4XVt5XSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL0dyaWRDYWNoZS50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///39\n')},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = __webpack_require__(1);\nvar BaseCharAtlas_1 = __webpack_require__(10);\nvar ColorManager_1 = __webpack_require__(9);\nvar CharAtlasGenerator_1 = __webpack_require__(15);\nvar LRUMap_1 = __webpack_require__(41);\nvar Platform_1 = __webpack_require__(5);\nvar TEXTURE_WIDTH = 1024;\nvar TEXTURE_HEIGHT = 1024;\nvar TRANSPARENT_COLOR = {\n    css: 'rgba(0, 0, 0, 0)',\n    rgba: 0\n};\nvar FRAME_CACHE_DRAW_LIMIT = 100;\nvar GLYPH_BITMAP_COMMIT_DELAY = 100;\nfunction getGlyphCacheKey(glyph) {\n    return glyph.code << 21 | glyph.bg << 12 | glyph.fg << 3 | (glyph.bold ? 0 : 4) + (glyph.dim ? 0 : 2) + (glyph.italic ? 0 : 1);\n}\nexports.getGlyphCacheKey = getGlyphCacheKey;\nvar DynamicCharAtlas = (function (_super) {\n    __extends(DynamicCharAtlas, _super);\n    function DynamicCharAtlas(document, _config) {\n        var _this = _super.call(this) || this;\n        _this._config = _config;\n        _this._drawToCacheCount = 0;\n        _this._glyphsWaitingOnBitmap = [];\n        _this._bitmapCommitTimeout = null;\n        _this._bitmap = null;\n        _this._cacheCanvas = document.createElement('canvas');\n        _this._cacheCanvas.width = TEXTURE_WIDTH;\n        _this._cacheCanvas.height = TEXTURE_HEIGHT;\n        _this._cacheCtx = _this._cacheCanvas.getContext('2d', { alpha: true });\n        var tmpCanvas = document.createElement('canvas');\n        tmpCanvas.width = _this._config.scaledCharWidth;\n        tmpCanvas.height = _this._config.scaledCharHeight;\n        _this._tmpCtx = tmpCanvas.getContext('2d', { alpha: _this._config.allowTransparency });\n        _this._width = Math.floor(TEXTURE_WIDTH / _this._config.scaledCharWidth);\n        _this._height = Math.floor(TEXTURE_HEIGHT / _this._config.scaledCharHeight);\n        var capacity = _this._width * _this._height;\n        _this._cacheMap = new LRUMap_1.default(capacity);\n        _this._cacheMap.prealloc(capacity);\n        return _this;\n    }\n    DynamicCharAtlas.prototype.dispose = function () {\n        if (this._bitmapCommitTimeout !== null) {\n            window.clearTimeout(this._bitmapCommitTimeout);\n            this._bitmapCommitTimeout = null;\n        }\n    };\n    DynamicCharAtlas.prototype.beginFrame = function () {\n        this._drawToCacheCount = 0;\n    };\n    DynamicCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (glyph.code === 32) {\n            return true;\n        }\n        if (!this._canCache(glyph)) {\n            return false;\n        }\n        var glyphKey = getGlyphCacheKey(glyph);\n        var cacheValue = this._cacheMap.get(glyphKey);\n        if (cacheValue !== null && cacheValue !== undefined) {\n            this._drawFromCache(ctx, cacheValue, x, y);\n            return true;\n        }\n        else if (this._drawToCacheCount < FRAME_CACHE_DRAW_LIMIT) {\n            var index = void 0;\n            if (this._cacheMap.size < this._cacheMap.capacity) {\n                index = this._cacheMap.size;\n            }\n            else {\n                index = this._cacheMap.peek().index;\n            }\n            var cacheValue_1 = this._drawToCache(glyph, index);\n            this._cacheMap.set(glyphKey, cacheValue_1);\n            this._drawFromCache(ctx, cacheValue_1, x, y);\n            return true;\n        }\n        return false;\n    };\n    DynamicCharAtlas.prototype._canCache = function (glyph) {\n        return glyph.code < 256;\n    };\n    DynamicCharAtlas.prototype._toCoordinateX = function (index) {\n        return (index % this._width) * this._config.scaledCharWidth;\n    };\n    DynamicCharAtlas.prototype._toCoordinateY = function (index) {\n        return Math.floor(index / this._width) * this._config.scaledCharHeight;\n    };\n    DynamicCharAtlas.prototype._drawFromCache = function (ctx, cacheValue, x, y) {\n        if (cacheValue.isEmpty) {\n            return;\n        }\n        var cacheX = this._toCoordinateX(cacheValue.index);\n        var cacheY = this._toCoordinateY(cacheValue.index);\n        ctx.drawImage(cacheValue.inBitmap ? this._bitmap : this._cacheCanvas, cacheX, cacheY, this._config.scaledCharWidth, this._config.scaledCharHeight, x, y, this._config.scaledCharWidth, this._config.scaledCharHeight);\n    };\n    DynamicCharAtlas.prototype._getColorFromAnsiIndex = function (idx) {\n        if (idx < this._config.colors.ansi.length) {\n            return this._config.colors.ansi[idx];\n        }\n        return ColorManager_1.DEFAULT_ANSI_COLORS[idx];\n    };\n    DynamicCharAtlas.prototype._getBackgroundColor = function (glyph) {\n        if (this._config.allowTransparency) {\n            return TRANSPARENT_COLOR;\n        }\n        else if (glyph.bg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.foreground;\n        }\n        else if (glyph.bg < 256) {\n            return this._getColorFromAnsiIndex(glyph.bg);\n        }\n        return this._config.colors.background;\n    };\n    DynamicCharAtlas.prototype._getForegroundColor = function (glyph) {\n        if (glyph.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            return this._config.colors.background;\n        }\n        else if (glyph.fg < 256) {\n            return this._getColorFromAnsiIndex(glyph.fg);\n        }\n        return this._config.colors.foreground;\n    };\n    DynamicCharAtlas.prototype._drawToCache = function (glyph, index) {\n        this._drawToCacheCount++;\n        this._tmpCtx.save();\n        var backgroundColor = this._getBackgroundColor(glyph);\n        this._tmpCtx.globalCompositeOperation = 'copy';\n        this._tmpCtx.fillStyle = backgroundColor.css;\n        this._tmpCtx.fillRect(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        this._tmpCtx.globalCompositeOperation = 'source-over';\n        var fontWeight = glyph.bold ? this._config.fontWeightBold : this._config.fontWeight;\n        var fontStyle = glyph.italic ? 'italic' : '';\n        this._tmpCtx.font =\n            fontStyle + \" \" + fontWeight + \" \" + this._config.fontSize * this._config.devicePixelRatio + \"px \" + this._config.fontFamily;\n        this._tmpCtx.textBaseline = 'top';\n        this._tmpCtx.fillStyle = this._getForegroundColor(glyph).css;\n        if (glyph.dim) {\n            this._tmpCtx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        this._tmpCtx.fillText(glyph.chars, 0, 0);\n        this._tmpCtx.restore();\n        var imageData = this._tmpCtx.getImageData(0, 0, this._config.scaledCharWidth, this._config.scaledCharHeight);\n        var isEmpty = false;\n        if (!this._config.allowTransparency) {\n            isEmpty = CharAtlasGenerator_1.clearColor(imageData, backgroundColor);\n        }\n        var x = this._toCoordinateX(index);\n        var y = this._toCoordinateY(index);\n        this._cacheCtx.putImageData(imageData, x, y);\n        var cacheValue = {\n            index: index,\n            isEmpty: isEmpty,\n            inBitmap: false\n        };\n        this._addGlyphToBitmap(cacheValue);\n        return cacheValue;\n    };\n    DynamicCharAtlas.prototype._addGlyphToBitmap = function (cacheValue) {\n        var _this = this;\n        if (!('createImageBitmap' in window) || Platform_1.isFirefox || Platform_1.isSafari) {\n            return;\n        }\n        this._glyphsWaitingOnBitmap.push(cacheValue);\n        if (this._bitmapCommitTimeout !== null) {\n            return;\n        }\n        this._bitmapCommitTimeout = window.setTimeout(function () { return _this._generateBitmap(); }, GLYPH_BITMAP_COMMIT_DELAY);\n    };\n    DynamicCharAtlas.prototype._generateBitmap = function () {\n        var _this = this;\n        var glyphsMovingToBitmap = this._glyphsWaitingOnBitmap;\n        this._glyphsWaitingOnBitmap = [];\n        window.createImageBitmap(this._cacheCanvas).then(function (bitmap) {\n            _this._bitmap = bitmap;\n            for (var i = 0; i < glyphsMovingToBitmap.length; i++) {\n                var value = glyphsMovingToBitmap[i];\n                value.inBitmap = true;\n            }\n        });\n        this._bitmapCommitTimeout = null;\n    };\n    return DynamicCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = DynamicCharAtlas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL2F0bGFzL0R5bmFtaWNDaGFyQXRsYXMudHM/NTJkMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFLQSxxQ0FBa0c7QUFDbEcsOENBQTRDO0FBQzVDLDRDQUFzRDtBQUN0RCxtREFBa0Q7QUFDbEQsdUNBQThCO0FBQzlCLHdDQUEwRDtBQUsxRCxJQUFNLGFBQWEsR0FBRyxJQUFJLENBQUM7QUFDM0IsSUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDO0FBRTVCLElBQU0saUJBQWlCLEdBQUc7SUFDeEIsR0FBRyxFQUFFLGtCQUFrQjtJQUN2QixJQUFJLEVBQUUsQ0FBQztDQUNSLENBQUM7QUFRRixJQUFNLHNCQUFzQixHQUFHLEdBQUcsQ0FBQztBQU1uQyxJQUFNLHlCQUF5QixHQUFHLEdBQUcsQ0FBQztBQVF0QyxTQUFnQixnQkFBZ0IsQ0FBQyxLQUF1QjtJQVV0RCxPQUFPLEtBQUssQ0FBQyxJQUFJLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxFQUFFLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2pJLENBQUM7QUFYRCw0Q0FXQztBQUVEO0lBQThDLG9DQUFhO0lBMkJ6RCwwQkFBWSxRQUFrQixFQUFVLE9BQXlCO1FBQWpFLFlBQ0UsaUJBQU8sU0FzQlI7UUF2QnVDLGFBQU8sR0FBUCxPQUFPLENBQWtCO1FBWHpELHVCQUFpQixHQUFX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R0FBRyxvQkFBb0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3BELElBQU0sS0FBSyxHQUFHLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUd0QyxLQUFLLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzthQUN2QjtRQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksQ0FBQztJQUNuQyxDQUFDO0lBQ0gsdUJBQUM7QUFBRCxDQUFDLENBalI2Qyx1QkFBYSxHQWlSMUQiLCJmaWxlIjoiNDAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IERJTV9PUEFDSVRZLCBJR2x5cGhJZGVudGlmaWVyLCBJTlZFUlRFRF9ERUZBVUxUX0NPTE9SLCBJQ2hhckF0bGFzQ29uZmlnIH0gZnJvbSAnLi9UeXBlcyc7XG5pbXBvcnQgQmFzZUNoYXJBdGxhcyBmcm9tICcuL0Jhc2VDaGFyQXRsYXMnO1xuaW1wb3J0IHsgREVGQVVMVF9BTlNJX0NPTE9SUyB9IGZyb20gJy4uL0NvbG9yTWFuYWdlcic7XG5pbXBvcnQgeyBjbGVhckNvbG9yIH0gZnJvbSAnLi9DaGFyQXRsYXNHZW5lcmF0b3InO1xuaW1wb3J0IExSVU1hcCBmcm9tICcuL0xSVU1hcCc7XG5pbXBvcnQgeyBpc0ZpcmVmb3gsIGlzU2FmYXJpIH0gZnJvbSAnLi4vLi4vY29yZS9QbGF0Zm9ybSc7XG5pbXBvcnQgeyBJQ29sb3IgfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8vIEluIHByYWN0aWNlIHdlJ3JlIHByb2JhYmx5IG5ldmVyIGdvaW5nIHRvIGV4aGF1c3QgYSB0ZXh0dXJlIHRoaXMgbGFyZ2UuIEZvciBkZWJ1Z2dpbmcgcHVycG9zZXMsXG4vLyBob3dldmVyLCBpdCBjYW4gYmUgdXNlZnVsIHRvIHNldCB0aGlzIHRvIGEgcmVhbGx5IHRpbnkgdmFsdWUsIHRvIHZlcmlmeSB0aGF0IExSVSBldmljdGlvbiB3b3Jrcy5cbmNvbnN0IFRFWFRVUkVfV0lEVEggPSAxMDI0O1xuY29uc3QgVEVYVFVSRV9IRUlHSFQgPSAxMDI0O1xuXG5jb25zdCBUUkFOU1BBUkVOVF9DT0xPUiA9IHtcbiAgY3NzOiAncmdiYSgwLCAwLCAwLCAwKScsXG4gIHJnYmE6IDBcbn07XG5cbi8vIERyYXdpbmcgdG8gdGhlIGNhY2hlIGlzIGV4cGVuc2l2ZTogSWYgd2UgaGF2ZSB0byBkcmF3IG1vcmUgdGhhbiB0aGlzIG51bWJlciBvZiBnbHlwaHMgdG8gdGhlXG4vLyBjYWNoZSBpbiBhIHNpbmdsZSBmcmFtZSwgZ2l2ZSB1cCBvbiB0cnlpbmcgdG8gY2FjaGUgYW55dGhpbmcgZWxzZSwgYW5kIHRyeSB0byBmaW5pc2ggdGhlIGN1cnJlbnRcbi8vIGZyYW1lIEFTQVAuXG4vL1xuLy8gVGhpcyBoZWxwcyB0byBsaW1pdCB0aGUgYW1vdW50IG9mIGRhbWFnZSBhIHByb2dyYW0gY2FuIGRvIHdoZW4gaXQgd291bGQgb3RoZXJ3aXNlIHRocmFzaCB0aGVcbi8vIGNhY2hlLlxuY29uc3QgRlJBTUVfQ0FDSEVfRFJBV19MSU1JVCA9IDEwMDtcblxuLyoqXG4gKiBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBnZW5lcmF0aW5nIHRoZSBJbWFnZUJpdG1hcCwgdGhpcyBpcyB0byBkZWJvdW5jZS9iYXRjaFxuICogdGhlIG9wZXJhdGlvbiBhcyB3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXAgaXMgYXN5bmNocm9ub3VzLlxuICovXG5jb25zdCBHTFlQSF9CSVRNQVBfQ09NTUlUX0RFTEFZID0gMTAwO1xuXG5pbnRlcmZhY2UgSUdseXBoQ2FjaGVWYWx1ZSB7XG4gIGluZGV4OiBudW1iZXI7XG4gIGlzRW1wdHk6IGJvb2xlYW47XG4gIGluQml0bWFwOiBib29sZWFuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2x5cGhDYWNoZUtleShnbHlwaDogSUdseXBoSWRlbnRpZmllcik6IG51bWJlciB7XG4gIC8vIE5vdGUgdGhhdCB0aGlzIG9ubHkgcmV0dXJucyBhIHZhbGlkIGtleSB3aGVuIGNvZGUgPCAyNTZcbiAgLy8gTGF5b3V0OlxuICAvLyAwYjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxOiBpdGFsaWMgKDEpXG4gIC8vIDBiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTA6IGRpbSAoMSlcbiAgLy8gMGIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEwMDogYm9sZCAoMSlcbiAgLy8gMGIwMDAwMDAwMDAwMDAwMDAwMDAwMDExMTExMTExMTAwMDogZmcgKDkpXG4gIC8vIDBiMDAwMDAwMDAwMDAxMTExMTExMTEwMDAwMDAwMDAwMDA6IGJnICg5KVxuICAvLyAwYjAwMDExMTExMTExMDAwMDAwMDAwMDAwMDAwMDAwMDAwOiBjb2RlICg4KVxuICAvLyAwYjExMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwOiB1bnVzZWQgKDMpXG4gIHJldHVybiBnbHlwaC5jb2RlIDw8IDIxIHwgZ2x5cGguYmcgPDwgMTIgfCBnbHlwaC5mZyA8PCAzIHwgKGdseXBoLmJvbGQgPyAwIDogNCkgKyAoZ2x5cGguZGltID8gMCA6IDIpICsgKGdseXBoLml0YWxpYyA/IDAgOiAxKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHluYW1pY0NoYXJBdGxhcyBleHRlbmRzIEJhc2VDaGFyQXRsYXMge1xuICAvLyBBbiBvcmRlcmVkIG1hcCB0aGF0IHdlJ3JlIHVzaW5nIHRvIGtlZXAgdHJhY2sgb2Ygd2hlcmUgZWFjaCBnbHlwaCBpcyBpbiB0aGUgYXRsYXMgdGV4dHVyZS5cbiAgLy8gSXQncyBvcmRlcmVkIHNvIHRoYXQgd2UgY2FuIGRldGVybWluZSB3aGVuIHRvIHJlbW92ZSB0aGUgb2xkIGVudHJpZXMuXG4gIHByaXZhdGUgX2NhY2hlTWFwOiBMUlVNYXA8SUdseXBoQ2FjaGVWYWx1ZT47XG5cbiAgLy8gVGhlIHRleHR1cmUgdGhhdCB0aGUgYXRsYXMgaXMgZHJhd24gdG9cbiAgcHJpdmF0ZSBfY2FjaGVDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBwcml2YXRlIF9jYWNoZUN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG4gIC8vIEEgdGVtcG9yYXJ5IGNvbnRleHQgdGhhdCBnbHlwaHMgYXJlIGRyYXduIHRvIGJlZm9yZSBiZWluZyB0cmFuc2ZlcmVkIHRvIHRoZSBhdGxhcy5cbiAgcHJpdmF0ZSBfdG1wQ3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbiAgLy8gVGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIHN0b3JlZCBpbiB0aGUgYXRsYXMgYnkgd2lkdGgvaGVpZ2h0XG4gIHByaXZhdGUgX3dpZHRoOiBudW1iZXI7XG4gIHByaXZhdGUgX2hlaWdodDogbnVtYmVyO1xuXG4gIHByaXZhdGUgX2RyYXdUb0NhY2hlQ291bnQ6IG51bWJlciA9IDA7XG5cbiAgLy8gQW4gYXJyYXkgb2YgZ2x5cGgga2V5cyB0aGF0IGFyZSB3YWl0aW5nIG9uIHRoZSBiaXRtYXAgdG8gYmUgZ2VuZXJhdGVkLlxuICBwcml2YXRlIF9nbHlwaHNXYWl0aW5nT25CaXRtYXA6IElHbHlwaENhY2hlVmFsdWVbXSA9IFtdO1xuXG4gIC8vIFRoZSB0aW1lb3V0IHRoYXQgaXMgdXNlZCB0byBiYXRjaCBiaXRtYXAgZ2VuZXJhdGlvbiBzbyBpdCdzIG5vdCByZXF1ZXN0ZWQgZm9yIGV2ZXJ5IG5ldyBnbHlwaC5cbiAgcHJpdmF0ZSBfYml0bWFwQ29tbWl0VGltZW91dDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgLy8gVGhlIGJpdG1hcCB0byBkcmF3IGZyb20sIHRoaXMgaXMgbXVjaCBmYXN0ZXIgb24gb3RoZXIgYnJvd3NlcnMgdGhhbiBvdGhlcnMuXG4gIHByaXZhdGUgX2JpdG1hcDogSW1hZ2VCaXRtYXAgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihkb2N1bWVudDogRG9jdW1lbnQsIHByaXZhdGUgX2NvbmZpZzogSUNoYXJBdGxhc0NvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fY2FjaGVDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB0aGlzLl9jYWNoZUNhbnZhcy53aWR0aCA9IFRFWFRVUkVfV0lEVEg7XG4gICAgdGhpcy5fY2FjaGVDYW52YXMuaGVpZ2h0ID0gVEVYVFVSRV9IRUlHSFQ7XG4gICAgLy8gVGhlIGNhbnZhcyBuZWVkcyBhbHBoYSBiZWNhdXNlIHdlIHVzZSBjbGVhckNvbG9yIHRvIGNvbnZlcnQgdGhlIGJhY2tncm91bmQgY29sb3IgdG8gYWxwaGEuXG4gICAgLy8gSXQgbWlnaHQgYWxzbyBjb250YWluIHNvbWUgY2hhcmFjdGVycyB3aXRoIHRyYW5zcGFyZW50IGJhY2tncm91bmRzIGlmIGFsbG93VHJhbnNwYXJlbmN5IGlzXG4gICAgLy8gc2V0LlxuICAgIHRoaXMuX2NhY2hlQ3R4ID0gdGhpcy5fY2FjaGVDYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7YWxwaGE6IHRydWV9KTtcblxuICAgIGNvbnN0IHRtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHRtcENhbnZhcy53aWR0aCA9IHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFyV2lkdGg7XG4gICAgdG1wQ2FudmFzLmhlaWdodCA9IHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFySGVpZ2h0O1xuICAgIHRoaXMuX3RtcEN0eCA9IHRtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHthbHBoYTogdGhpcy5fY29uZmlnLmFsbG93VHJhbnNwYXJlbmN5fSk7XG5cbiAgICB0aGlzLl93aWR0aCA9IE1hdGguZmxvb3IoVEVYVFVSRV9XSURUSCAvIHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFyV2lkdGgpO1xuICAgIHRoaXMuX2hlaWdodCA9IE1hdGguZmxvb3IoVEVYVFVSRV9IRUlHSFQgLyB0aGlzLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodCk7XG4gICAgY29uc3QgY2FwYWNpdHkgPSB0aGlzLl93aWR0aCAqIHRoaXMuX2hlaWdodDtcbiAgICB0aGlzLl9jYWNoZU1hcCA9IG5ldyBMUlVNYXAoY2FwYWNpdHkpO1xuICAgIHRoaXMuX2NhY2hlTWFwLnByZWFsbG9jKGNhcGFjaXR5KTtcblxuICAgIC8vIFRoaXMgaXMgdXNlZnVsIGZvciBkZWJ1Z2dpbmdcbiAgICAvLyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2NhY2hlQ2FudmFzKTtcbiAgfVxuXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9iaXRtYXBDb21taXRUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX2JpdG1hcENvbW1pdFRpbWVvdXQpO1xuICAgICAgdGhpcy5fYml0bWFwQ29tbWl0VGltZW91dCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGJlZ2luRnJhbWUoKTogdm9pZCB7XG4gICAgdGhpcy5fZHJhd1RvQ2FjaGVDb3VudCA9IDA7XG4gIH1cblxuICBwdWJsaWMgZHJhdyhcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICBnbHlwaDogSUdseXBoSWRlbnRpZmllcixcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyXG4gICk6IGJvb2xlYW4ge1xuICAgIC8vIFNwYWNlIGlzIGFsd2F5cyBhbiBlbXB0eSBjZWxsLCBzcGVjaWFsIGNhc2UgdGhpcyBhcyBpdCdzIHNvIGNvbW1vblxuICAgIGlmIChnbHlwaC5jb2RlID09PSAzMikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gRXhpdCBlYXJseSBmb3IgdW5jYWNoYWJsZSBnbHlwaHNcbiAgICBpZiAoIXRoaXMuX2NhbkNhY2hlKGdseXBoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGdseXBoS2V5ID0gZ2V0R2x5cGhDYWNoZUtleShnbHlwaCk7XG4gICAgY29uc3QgY2FjaGVWYWx1ZSA9IHRoaXMuX2NhY2hlTWFwLmdldChnbHlwaEtleSk7XG4gICAgaWYgKGNhY2hlVmFsdWUgIT09IG51bGwgJiYgY2FjaGVWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9kcmF3RnJvbUNhY2hlKGN0eCwgY2FjaGVWYWx1ZSwgeCwgeSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2RyYXdUb0NhY2hlQ291bnQgPCBGUkFNRV9DQUNIRV9EUkFXX0xJTUlUKSB7XG4gICAgICBsZXQgaW5kZXg7XG4gICAgICBpZiAodGhpcy5fY2FjaGVNYXAuc2l6ZSA8IHRoaXMuX2NhY2hlTWFwLmNhcGFjaXR5KSB7XG4gICAgICAgIGluZGV4ID0gdGhpcy5fY2FjaGVNYXAuc2l6ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHdlJ3JlIG91dCBvZiBzcGFjZSwgc28gb3VyIGNhbGwgdG8gc2V0IHdpbGwgZGVsZXRlIHRoaXMgaXRlbVxuICAgICAgICBpbmRleCA9IHRoaXMuX2NhY2hlTWFwLnBlZWsoKS5pbmRleDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNhY2hlVmFsdWUgPSB0aGlzLl9kcmF3VG9DYWNoZShnbHlwaCwgaW5kZXgpO1xuICAgICAgdGhpcy5fY2FjaGVNYXAuc2V0KGdseXBoS2V5LCBjYWNoZVZhbHVlKTtcbiAgICAgIHRoaXMuX2RyYXdGcm9tQ2FjaGUoY3R4LCBjYWNoZVZhbHVlLCB4LCB5KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIF9jYW5DYWNoZShnbHlwaDogSUdseXBoSWRlbnRpZmllcik6IGJvb2xlYW4ge1xuICAgIC8vIE9ubHkgY2FjaGUgYXNjaWkgYW5kIGV4dGVuZGVkIGNoYXJhY3RlcnMgZm9yIG5vdywgdG8gYmUgc2FmZS4gSW4gdGhlIGZ1dHVyZSwgd2UgY291bGQgZG9cbiAgICAvLyBzb21ldGhpbmcgbW9yZSBjb21wbGljYXRlZCB0byBkZXRlcm1pbmUgdGhlIGV4cGVjdGVkIHdpZHRoIG9mIGEgY2hhcmFjdGVyLlxuICAgIC8vXG4gICAgLy8gSWYgd2Ugc3dpdGNoIHRoZSByZW5kZXJlciBvdmVyIHRvIHdlYmdsIGF0IHNvbWUgcG9pbnQsIHdlIG1heSBiZSBhYmxlIHRvIHVzZSBibGVuZGluZyBtb2Rlc1xuICAgIC8vIHRvIGRyYXcgb3ZlcmxhcHBpbmcgZ2x5cGhzIGZyb20gdGhlIGF0bGFzOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zZXJ2by93ZWJyZW5kZXIvaXNzdWVzLzQ2NCNpc3N1ZWNvbW1lbnQtMjU1NjMyODc1XG4gICAgLy8gaHR0cHM6Ly93ZWJnbGZ1bmRhbWVudGFscy5vcmcvd2ViZ2wvbGVzc29ucy93ZWJnbC10ZXh0LXRleHR1cmUuaHRtbFxuICAgIHJldHVybiBnbHlwaC5jb2RlIDwgMjU2O1xuICB9XG5cbiAgcHJpdmF0ZSBfdG9Db29yZGluYXRlWChpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gKGluZGV4ICUgdGhpcy5fd2lkdGgpICogdGhpcy5fY29uZmlnLnNjYWxlZENoYXJXaWR0aDtcbiAgfVxuXG4gIHByaXZhdGUgX3RvQ29vcmRpbmF0ZVkoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoaW5kZXggLyB0aGlzLl93aWR0aCkgKiB0aGlzLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodDtcbiAgfVxuXG4gIHByaXZhdGUgX2RyYXdGcm9tQ2FjaGUoXG4gICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gICAgY2FjaGVWYWx1ZTogSUdseXBoQ2FjaGVWYWx1ZSxcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyXG4gICk6IHZvaWQge1xuICAgIC8vIFdlIGRvbid0IGFjdHVhbGx5IG5lZWQgdG8gZG8gYW55dGhpbmcgaWYgdGhpcyBpcyB3aGl0ZXNwYWNlLlxuICAgIGlmIChjYWNoZVZhbHVlLmlzRW1wdHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2FjaGVYID0gdGhpcy5fdG9Db29yZGluYXRlWChjYWNoZVZhbHVlLmluZGV4KTtcbiAgICBjb25zdCBjYWNoZVkgPSB0aGlzLl90b0Nvb3JkaW5hdGVZKGNhY2hlVmFsdWUuaW5kZXgpO1xuICAgIGN0eC5kcmF3SW1hZ2UoXG4gICAgICBjYWNoZVZhbHVlLmluQml0bWFwID8gdGhpcy5fYml0bWFwIDogdGhpcy5fY2FjaGVDYW52YXMsXG4gICAgICBjYWNoZVgsXG4gICAgICBjYWNoZVksXG4gICAgICB0aGlzLl9jb25maWcuc2NhbGVkQ2hhcldpZHRoLFxuICAgICAgdGhpcy5fY29uZmlnLnNjYWxlZENoYXJIZWlnaHQsXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFyV2lkdGgsXG4gICAgICB0aGlzLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRDb2xvckZyb21BbnNpSW5kZXgoaWR4OiBudW1iZXIpOiBJQ29sb3Ige1xuICAgIGlmIChpZHggPCB0aGlzLl9jb25maWcuY29sb3JzLmFuc2kubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29uZmlnLmNvbG9ycy5hbnNpW2lkeF07XG4gICAgfVxuICAgIHJldHVybiBERUZBVUxUX0FOU0lfQ09MT1JTW2lkeF07XG4gIH1cblxuICBwcml2YXRlIF9nZXRCYWNrZ3JvdW5kQ29sb3IoZ2x5cGg6IElHbHlwaElkZW50aWZpZXIpOiBJQ29sb3Ige1xuICAgIGlmICh0aGlzLl9jb25maWcuYWxsb3dUcmFuc3BhcmVuY3kpIHtcbiAgICAgIC8vIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG1pZ2h0IGhhdmUgc29tZSB0cmFuc3BhcmVuY3ksIHNvIHdlIG5lZWQgdG8gcmVuZGVyIGl0IGFzIGZ1bGx5XG4gICAgICAvLyB0cmFuc3BhcmVudCBpbiB0aGUgYXRsYXMuIE90aGVyd2lzZSB3ZSdkIGVuZCB1cCBkcmF3aW5nIHRoZSB0cmFuc3BhcmVudCBiYWNrZ3JvdW5kIHR3aWNlXG4gICAgICAvLyBhcm91bmQgdGhlIGFudGktYWxpYXNlZCBlZGdlcyBvZiB0aGUgZ2x5cGgsIGFuZCBpdCB3b3VsZCBsb29rIHRvbyBkYXJrLlxuICAgICAgcmV0dXJuIFRSQU5TUEFSRU5UX0NPTE9SO1xuICAgIH0gZWxzZSBpZiAoZ2x5cGguYmcgPT09IElOVkVSVEVEX0RFRkFVTFRfQ09MT1IpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb25maWcuY29sb3JzLmZvcmVncm91bmQ7XG4gICAgfSBlbHNlIGlmIChnbHlwaC5iZyA8IDI1Nikge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldENvbG9yRnJvbUFuc2lJbmRleChnbHlwaC5iZyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jb25maWcuY29sb3JzLmJhY2tncm91bmQ7XG4gIH1cblxuICBwcml2YXRlIF9nZXRGb3JlZ3JvdW5kQ29sb3IoZ2x5cGg6IElHbHlwaElkZW50aWZpZXIpOiBJQ29sb3Ige1xuICAgIGlmIChnbHlwaC5mZyA9PT0gSU5WRVJURURfREVGQVVMVF9DT0xPUikge1xuICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5jb2xvcnMuYmFja2dyb3VuZDtcbiAgICB9IGVsc2UgaWYgKGdseXBoLmZnIDwgMjU2KSB7XG4gICAgICAvLyAyNTYgY29sb3Igc3VwcG9ydFxuICAgICAgcmV0dXJuIHRoaXMuX2dldENvbG9yRnJvbUFuc2lJbmRleChnbHlwaC5mZyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jb25maWcuY29sb3JzLmZvcmVncm91bmQ7XG4gIH1cblxuICAvLyBUT0RPOiBXZSBkbyB0aGlzIChvciBzb21ldGhpbmcgc2ltaWxhcikgaW4gbXVsdGlwbGUgcGxhY2VzLiBXZSBzaG91bGQgc3BsaXQgdGhpcyBvZmZcbiAgLy8gaW50byBhIHNoYXJlZCBmdW5jdGlvbi5cbiAgcHJpdmF0ZSBfZHJhd1RvQ2FjaGUoZ2x5cGg6IElHbHlwaElkZW50aWZpZXIsIGluZGV4OiBudW1iZXIpOiBJR2x5cGhDYWNoZVZhbHVlIHtcbiAgICB0aGlzLl9kcmF3VG9DYWNoZUNvdW50Kys7XG5cbiAgICB0aGlzLl90bXBDdHguc2F2ZSgpO1xuXG4gICAgLy8gZHJhdyB0aGUgYmFja2dyb3VuZFxuICAgIGNvbnN0IGJhY2tncm91bmRDb2xvciA9IHRoaXMuX2dldEJhY2tncm91bmRDb2xvcihnbHlwaCk7XG4gICAgLy8gVXNlIGEgJ2NvcHknIGNvbXBvc2l0ZSBvcGVyYXRpb24gdG8gY2xlYXIgYW55IGV4aXN0aW5nIGdseXBoIG91dCBvZiBfdG1wQ3R4V2l0aEFscGhhLCByZWdhcmRsZXNzIG9mXG4gICAgLy8gdHJhbnNwYXJlbmN5IGluIGJhY2tncm91bmRDb2xvclxuICAgIHRoaXMuX3RtcEN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnY29weSc7XG4gICAgdGhpcy5fdG1wQ3R4LmZpbGxTdHlsZSA9IGJhY2tncm91bmRDb2xvci5jc3M7XG4gICAgdGhpcy5fdG1wQ3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFyV2lkdGgsIHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFySGVpZ2h0KTtcbiAgICB0aGlzLl90bXBDdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcblxuICAgIC8vIGRyYXcgdGhlIGZvcmVncm91bmQvZ2x5cGhcbiAgICBjb25zdCBmb250V2VpZ2h0ID0gZ2x5cGguYm9sZCA/IHRoaXMuX2NvbmZpZy5mb250V2VpZ2h0Qm9sZCA6IHRoaXMuX2NvbmZpZy5mb250V2VpZ2h0O1xuICAgIGNvbnN0IGZvbnRTdHlsZSA9IGdseXBoLml0YWxpYyA/ICdpdGFsaWMnIDogJyc7XG4gICAgdGhpcy5fdG1wQ3R4LmZvbnQgPVxuICAgICAgYCR7Zm9udFN0eWxlfSAke2ZvbnRXZWlnaHR9ICR7dGhpcy5fY29uZmlnLmZvbnRTaXplICogdGhpcy5fY29uZmlnLmRldmljZVBpeGVsUmF0aW99cHggJHt0aGlzLl9jb25maWcuZm9udEZhbWlseX1gO1xuICAgIHRoaXMuX3RtcEN0eC50ZXh0QmFzZWxpbmUgPSAndG9wJztcblxuICAgIHRoaXMuX3RtcEN0eC5maWxsU3R5bGUgPSB0aGlzLl9nZXRGb3JlZ3JvdW5kQ29sb3IoZ2x5cGgpLmNzcztcblxuICAgIC8vIEFwcGx5IGFscGhhIHRvIGRpbSB0aGUgY2hhcmFjdGVyXG4gICAgaWYgKGdseXBoLmRpbSkge1xuICAgICAgdGhpcy5fdG1wQ3R4Lmdsb2JhbEFscGhhID0gRElNX09QQUNJVFk7XG4gICAgfVxuICAgIC8vIERyYXcgdGhlIGNoYXJhY3RlclxuICAgIHRoaXMuX3RtcEN0eC5maWxsVGV4dChnbHlwaC5jaGFycywgMCwgMCk7XG4gICAgdGhpcy5fdG1wQ3R4LnJlc3RvcmUoKTtcblxuICAgIC8vIGNsZWFyIHRoZSBiYWNrZ3JvdW5kIGZyb20gdGhlIGNoYXJhY3RlciB0byBhdm9pZCBpc3N1ZXMgd2l0aCBkcmF3aW5nIG92ZXIgdGhlIHByZXZpb3VzXG4gICAgLy8gY2hhcmFjdGVyIGlmIGl0IGV4dGVuZHMgcGFzdCBpdCdzIGJvdW5kc1xuICAgIGNvbnN0IGltYWdlRGF0YSA9IHRoaXMuX3RtcEN0eC5nZXRJbWFnZURhdGEoXG4gICAgICAwLCAwLCB0aGlzLl9jb25maWcuc2NhbGVkQ2hhcldpZHRoLCB0aGlzLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodFxuICAgICk7XG4gICAgbGV0IGlzRW1wdHkgPSBmYWxzZTtcbiAgICBpZiAoIXRoaXMuX2NvbmZpZy5hbGxvd1RyYW5zcGFyZW5jeSkge1xuICAgICAgaXNFbXB0eSA9IGNsZWFyQ29sb3IoaW1hZ2VEYXRhLCBiYWNrZ3JvdW5kQ29sb3IpO1xuICAgIH1cblxuICAgIC8vIGNvcHkgdGhlIGRhdGEgZnJvbSBpbWFnZURhdGEgdG8gX2NhY2hlQ2FudmFzXG4gICAgY29uc3QgeCA9IHRoaXMuX3RvQ29vcmRpbmF0ZVgoaW5kZXgpO1xuICAgIGNvbnN0IHkgPSB0aGlzLl90b0Nvb3JkaW5hdGVZKGluZGV4KTtcbiAgICAvLyBwdXRJbWFnZURhdGEgZG9lc24ndCBkbyBhbnkgYmxlbmRpbmcsIHNvIGl0IHdpbGwgb3ZlcndyaXRlIGFueSBleGlzdGluZyBjYWNoZSBlbnRyeSBmb3IgdXNcbiAgICB0aGlzLl9jYWNoZUN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCB4LCB5KTtcblxuICAgIC8vIEFkZCB0aGUgZ2x5cGggYW5kIHF1ZXVlIGl0IHRvIHRoZSBiaXRtYXAgKGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIGl0KVxuICAgIGNvbnN0IGNhY2hlVmFsdWUgPSB7XG4gICAgICBpbmRleCxcbiAgICAgIGlzRW1wdHksXG4gICAgICBpbkJpdG1hcDogZmFsc2VcbiAgICB9O1xuICAgIHRoaXMuX2FkZEdseXBoVG9CaXRtYXAoY2FjaGVWYWx1ZSk7XG5cbiAgICByZXR1cm4gY2FjaGVWYWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgX2FkZEdseXBoVG9CaXRtYXAoY2FjaGVWYWx1ZTogSUdseXBoQ2FjaGVWYWx1ZSk6IHZvaWQge1xuICAgIC8vIFN1cHBvcnQgaXMgcGF0Y2h5IGZvciBjcmVhdGVJbWFnZUJpdG1hcCBhdCB0aGUgbW9tZW50LCBwYXNzIGEgY2FudmFzIGJhY2tcbiAgICAvLyBpZiBzdXBwb3J0IGlzIGxhY2tpbmcgYXMgZHJhd0ltYWdlIHdvcmtzIHRoZXJlIHRvby4gRmlyZWZveCBpcyBhbHNvXG4gICAgLy8gaW5jbHVkZWQgaGVyZSBhcyBJbWFnZUJpdG1hcCBhcHBlYXJzIGJvdGggYnVnZ3kgYW5kIGhhcyBob3JyaWJsZVxuICAgIC8vIHBlcmZvcm1hbmNlICh0ZXN0ZWQgb24gdjU1KS5cbiAgICBpZiAoISgnY3JlYXRlSW1hZ2VCaXRtYXAnIGluIHdpbmRvdykgfHwgaXNGaXJlZm94IHx8IGlzU2FmYXJpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBnbHlwaCB0byB0aGUgcXVldWVcbiAgICB0aGlzLl9nbHlwaHNXYWl0aW5nT25CaXRtYXAucHVzaChjYWNoZVZhbHVlKTtcblxuICAgIC8vIENoZWNrIGlmIGJpdG1hcCBnZW5lcmF0aW9uIHRpbWVvdXQgYWxyZWFkeSBleGlzdHNcbiAgICBpZiAodGhpcy5fYml0bWFwQ29tbWl0VGltZW91dCAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2JpdG1hcENvbW1pdFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLl9nZW5lcmF0ZUJpdG1hcCgpLCBHTFlQSF9CSVRNQVBfQ09NTUlUX0RFTEFZKTtcbiAgfVxuXG4gIHByaXZhdGUgX2dlbmVyYXRlQml0bWFwKCk6IHZvaWQge1xuICAgIGNvbnN0IGdseXBoc01vdmluZ1RvQml0bWFwID0gdGhpcy5fZ2x5cGhzV2FpdGluZ09uQml0bWFwO1xuICAgIHRoaXMuX2dseXBoc1dhaXRpbmdPbkJpdG1hcCA9IFtdO1xuICAgIHdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcCh0aGlzLl9jYWNoZUNhbnZhcykudGhlbihiaXRtYXAgPT4ge1xuICAgICAgLy8gU2V0IGJpdG1hcFxuICAgICAgdGhpcy5fYml0bWFwID0gYml0bWFwO1xuXG4gICAgICAvLyBNYXJrIGFsbCBuZXcgZ2x5cGhzIGFzIGluIGJpdG1hcCwgZXhjbHVkaW5nIGdseXBocyB0aGF0IGNhbWUgaW4gYWZ0ZXJcbiAgICAgIC8vIHRoZSBiaXRtYXAgd2FzIHJlcXVlc3RlZFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnbHlwaHNNb3ZpbmdUb0JpdG1hcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGdseXBoc01vdmluZ1RvQml0bWFwW2ldO1xuICAgICAgICAvLyBJdCBkb2Vzbid0IG1hdHRlciBpZiB0aGUgdmFsdWUgd2FzIGFscmVhZHkgZXZpY3RlZCwgaXQgd2lsbCBiZVxuICAgICAgICAvLyByZWxlYXNlZCBmcm9tIG1lbW9yeSBhZnRlciB0aGlzIGJsb2NrIGlmIHNvLlxuICAgICAgICB2YWx1ZS5pbkJpdG1hcCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fYml0bWFwQ29tbWl0VGltZW91dCA9IG51bGw7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvcmVuZGVyZXIvYXRsYXMvRHluYW1pY0NoYXJBdGxhcy50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///40\n")},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar LRUMap = (function () {\n    function LRUMap(capacity) {\n        this.capacity = capacity;\n        this._map = {};\n        this._head = null;\n        this._tail = null;\n        this._nodePool = [];\n        this.size = 0;\n    }\n    LRUMap.prototype._unlinkNode = function (node) {\n        var prev = node.prev;\n        var next = node.next;\n        if (node === this._head) {\n            this._head = next;\n        }\n        if (node === this._tail) {\n            this._tail = prev;\n        }\n        if (prev !== null) {\n            prev.next = next;\n        }\n        if (next !== null) {\n            next.prev = prev;\n        }\n    };\n    LRUMap.prototype._appendNode = function (node) {\n        var tail = this._tail;\n        if (tail !== null) {\n            tail.next = node;\n        }\n        node.prev = tail;\n        node.next = null;\n        this._tail = node;\n        if (this._head === null) {\n            this._head = node;\n        }\n    };\n    LRUMap.prototype.prealloc = function (count) {\n        var nodePool = this._nodePool;\n        for (var i = 0; i < count; i++) {\n            nodePool.push({\n                prev: null,\n                next: null,\n                key: null,\n                value: null\n            });\n        }\n    };\n    LRUMap.prototype.get = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            this._unlinkNode(node);\n            this._appendNode(node);\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peekValue = function (key) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            return node.value;\n        }\n        return null;\n    };\n    LRUMap.prototype.peek = function () {\n        var head = this._head;\n        return head === null ? null : head.value;\n    };\n    LRUMap.prototype.set = function (key, value) {\n        var node = this._map[key];\n        if (node !== undefined) {\n            node = this._map[key];\n            this._unlinkNode(node);\n            node.value = value;\n        }\n        else if (this.size >= this.capacity) {\n            node = this._head;\n            this._unlinkNode(node);\n            delete this._map[node.key];\n            node.key = key;\n            node.value = value;\n            this._map[key] = node;\n        }\n        else {\n            var nodePool = this._nodePool;\n            if (nodePool.length > 0) {\n                node = nodePool.pop();\n                node.key = key;\n                node.value = value;\n            }\n            else {\n                node = {\n                    prev: null,\n                    next: null,\n                    key: key,\n                    value: value\n                };\n            }\n            this._map[key] = node;\n            this.size++;\n        }\n        this._appendNode(node);\n    };\n    return LRUMap;\n}());\nexports.default = LRUMap;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL2F0bGFzL0xSVU1hcC50cz9lZGE3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBWUE7SUFPRSxnQkFBbUIsUUFBZ0I7UUFBaEIsYUFBUSxHQUFSLFFBQVEsQ0FBUTtRQU4zQixTQUFJLEdBQTBDLEVBQUUsQ0FBQztRQUNqRCxVQUFLLEdBQXVCLElBQUksQ0FBQztRQUNqQyxVQUFLLEdBQXVCLElBQUksQ0FBQztRQUNqQyxjQUFTLEdBQXlCLEVBQUUsQ0FBQztRQUN0QyxTQUFJLEdBQVcsQ0FBQyxDQUFDO0lBRWUsQ0FBQztJQUVoQyw0QkFBVyxHQUFuQixVQUFvQixJQUF3QjtRQUMxQyxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3ZCLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDdkIsSUFBSSxJQUFJLEtBQUssSUFBSSxDQUFDLEtBQUssRUFBRTtZQUN2QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztTQUNuQjtRQUNELElBQUksSUFBSSxLQUFLLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDdkIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7U0FDbkI7UUFDRCxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUU7WUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7U0FDbEI7UUFDRCxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUU7WUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7U0FDbEI7SUFDSCxDQUFDO0lBRU8sNEJBQVcsR0FBbkIsVUFBb0IsSUFBd0I7UUFDMUMsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN4QixJQUFJLElBQUksS0FBSyxJQUFJLEVBQUU7WUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7U0FDbEI7UUFDRCxJQUFJLENBQUMs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Q0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2FBQ3BCO2lCQUFNO2dCQUNMLElBQUksR0FBRztvQkFDTCxJQUFJLEVBQUUsSUFBSTtvQkFDVixJQUFJLEVBQUUsSUFBSTtvQkFDVixHQUFHO29CQUNILEtBQUs7aUJBQ04sQ0FBQzthQUNIO1lBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7WUFDdEIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ2I7UUFDRCxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFDSCxhQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiI0MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSB4dGVybS5qcyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuaW50ZXJmYWNlIElMaW5rZWRMaXN0Tm9kZTxUPiB7XG4gIHByZXY6IElMaW5rZWRMaXN0Tm9kZTxUPjtcbiAgbmV4dDogSUxpbmtlZExpc3ROb2RlPFQ+O1xuICBrZXk6IG51bWJlcjtcbiAgdmFsdWU6IFQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExSVU1hcDxUPiB7XG4gIHByaXZhdGUgX21hcDogeyBba2V5OiBudW1iZXJdOiBJTGlua2VkTGlzdE5vZGU8VD4gfSA9IHt9O1xuICBwcml2YXRlIF9oZWFkOiBJTGlua2VkTGlzdE5vZGU8VD4gPSBudWxsO1xuICBwcml2YXRlIF90YWlsOiBJTGlua2VkTGlzdE5vZGU8VD4gPSBudWxsO1xuICBwcml2YXRlIF9ub2RlUG9vbDogSUxpbmtlZExpc3ROb2RlPFQ+W10gPSBbXTtcbiAgcHVibGljIHNpemU6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IocHVibGljIGNhcGFjaXR5OiBudW1iZXIpIHsgfVxuXG4gIHByaXZhdGUgX3VubGlua05vZGUobm9kZTogSUxpbmtlZExpc3ROb2RlPFQ+KTogdm9pZCB7XG4gICAgY29uc3QgcHJldiA9IG5vZGUucHJldjtcbiAgICBjb25zdCBuZXh0ID0gbm9kZS5uZXh0O1xuICAgIGlmIChub2RlID09PSB0aGlzLl9oZWFkKSB7XG4gICAgICB0aGlzLl9oZWFkID0gbmV4dDtcbiAgICB9XG4gICAgaWYgKG5vZGUgPT09IHRoaXMuX3RhaWwpIHtcbiAgICAgIHRoaXMuX3RhaWwgPSBwcmV2O1xuICAgIH1cbiAgICBpZiAocHJldiAhPT0gbnVsbCkge1xuICAgICAgcHJldi5uZXh0ID0gbmV4dDtcbiAgICB9XG4gICAgaWYgKG5leHQgIT09IG51bGwpIHtcbiAgICAgIG5leHQucHJldiA9IHByZXY7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfYXBwZW5kTm9kZShub2RlOiBJTGlua2VkTGlzdE5vZGU8VD4pOiB2b2lkIHtcbiAgICBjb25zdCB0YWlsID0gdGhpcy5fdGFpbDtcbiAgICBpZiAodGFpbCAhPT0gbnVsbCkge1xuICAgICAgdGFpbC5uZXh0ID0gbm9kZTtcbiAgICB9XG4gICAgbm9kZS5wcmV2ID0gdGFpbDtcbiAgICBub2RlLm5leHQgPSBudWxsO1xuICAgIHRoaXMuX3RhaWwgPSBub2RlO1xuICAgIGlmICh0aGlzLl9oZWFkID09PSBudWxsKSB7XG4gICAgICB0aGlzLl9oZWFkID0gbm9kZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJlYWxsb2NhdGUgYSBidW5jaCBvZiBsaW5rZWQtbGlzdCBub2Rlcy4gQWxsb2NhdGluZyB0aGVzZSBub2RlcyBhaGVhZCBvZiB0aW1lIG1lYW5zIHRoYXRcbiAgICogdGhleSdyZSBtb3JlIGxpa2VseSB0byBsaXZlIG5leHQgdG8gZWFjaCBvdGhlciBpbiBtZW1vcnksIHdoaWNoIHNlZW1zIHRvIGltcHJvdmUgcGVyZm9ybWFuY2UuXG4gICAqXG4gICAqIEVhY2ggZW1wdHkgb2JqZWN0IG9ubHkgY29uc3VtZXMgYWJvdXQgNjAgYnl0ZXMgb2YgbWVtb3J5LCBzbyB0aGlzIGlzIHByZXR0eSBjaGVhcCwgZXZlbiBmb3JcbiAgICogbGFyZ2UgbWFwcy5cbiAgICovXG4gIHB1YmxpYyBwcmVhbGxvYyhjb3VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3Qgbm9kZVBvb2wgPSB0aGlzLl9ub2RlUG9vbDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIG5vZGVQb29sLnB1c2goe1xuICAgICAgICBwcmV2OiBudWxsLFxuICAgICAgICBuZXh0OiBudWxsLFxuICAgICAgICBrZXk6IG51bGwsXG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0KGtleTogbnVtYmVyKTogVCB8IG51bGwge1xuICAgIC8vIFRoaXMgaXMgdW5zYWZlOiBXZSdyZSBhc3N1bWluZyBvdXIga2V5c3BhY2UgZG9lc24ndCBvdmVybGFwIHdpdGggT2JqZWN0LnByb3RvdHlwZS4gSG93ZXZlcixcbiAgICAvLyBpdCdzIGZhc3RlciB0aGFuIGNhbGxpbmcgaGFzT3duUHJvcGVydHksIGFuZCBpbiBvdXIgY2FzZSwgaXQgd291bGQgbmV2ZXIgb3ZlcmxhcC5cbiAgICBjb25zdCBub2RlID0gdGhpcy5fbWFwW2tleV07XG4gICAgaWYgKG5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fdW5saW5rTm9kZShub2RlKTtcbiAgICAgIHRoaXMuX2FwcGVuZE5vZGUobm9kZSk7XG4gICAgICByZXR1cm4gbm9kZS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIHZhbHVlIGZyb20gYSBrZXkgd2l0aG91dCBtYXJraW5nIGl0IGFzIHRoZSBtb3N0IHJlY2VudGx5IHVzZWQgaXRlbS5cbiAgICovXG4gIHB1YmxpYyBwZWVrVmFsdWUoa2V5OiBudW1iZXIpOiBUIHwgbnVsbCB7XG4gICAgY29uc3Qgbm9kZSA9IHRoaXMuX21hcFtrZXldO1xuICAgIGlmIChub2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBub2RlLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHB1YmxpYyBwZWVrKCk6IFQgfCBudWxsIHtcbiAgICBjb25zdCBoZWFkID0gdGhpcy5faGVhZDtcbiAgICByZXR1cm4gaGVhZCA9PT0gbnVsbCA/IG51bGwgOiBoZWFkLnZhbHVlO1xuICB9XG5cbiAgcHVibGljIHNldChrZXk6IG51bWJlciwgdmFsdWU6IFQpOiB2b2lkIHtcbiAgICAvLyBUaGlzIGlzIHVuc2FmZTogU2VlIG5vdGUgYWJvdmUuXG4gICAgbGV0IG5vZGUgPSB0aGlzLl9tYXBba2V5XTtcbiAgICBpZiAobm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBhbHJlYWR5IGV4aXN0cywgd2UganVzdCBuZWVkIHRvIG11dGF0ZSBpdCBhbmQgbW92ZSBpdCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0XG4gICAgICBub2RlID0gdGhpcy5fbWFwW2tleV07XG4gICAgICB0aGlzLl91bmxpbmtOb2RlKG5vZGUpO1xuICAgICAgbm9kZS52YWx1ZSA9IHZhbHVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zaXplID49IHRoaXMuY2FwYWNpdHkpIHtcbiAgICAgIC8vIHdlJ3JlIG91dCBvZiBzcGFjZTogcmVjeWNsZSB0aGUgaGVhZCBub2RlLCBtb3ZlIGl0IHRvIHRoZSB0YWlsXG4gICAgICBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgIHRoaXMuX3VubGlua05vZGUobm9kZSk7XG4gICAgICBkZWxldGUgdGhpcy5fbWFwW25vZGUua2V5XTtcbiAgICAgIG5vZGUua2V5ID0ga2V5O1xuICAgICAgbm9kZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgdGhpcy5fbWFwW2tleV0gPSBub2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBtYWtlIGEgbmV3IGVsZW1lbnRcbiAgICAgIGNvbnN0IG5vZGVQb29sID0gdGhpcy5fbm9kZVBvb2w7XG4gICAgICBpZiAobm9kZVBvb2wubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyB1c2UgYSBwcmVhbGxvY2F0ZWQgbm9kZSBpZiB3ZSBjYW5cbiAgICAgICAgbm9kZSA9IG5vZGVQb29sLnBvcCgpO1xuICAgICAgICBub2RlLmtleSA9IGtleTtcbiAgICAgICAgbm9kZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZSA9IHtcbiAgICAgICAgICBwcmV2OiBudWxsLFxuICAgICAgICAgIG5leHQ6IG51bGwsXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB0aGlzLl9tYXBba2V5XSA9IG5vZGU7XG4gICAgICB0aGlzLnNpemUrKztcbiAgICB9XG4gICAgdGhpcy5fYXBwZW5kTm9kZShub2RlKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3h0ZXJtL3NyYy9yZW5kZXJlci9hdGxhcy9MUlVNYXAudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///41\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar BaseCharAtlas_1 = __webpack_require__(10);\nvar NoneCharAtlas = (function (_super) {\n    __extends(NoneCharAtlas, _super);\n    function NoneCharAtlas(document, config) {\n        return _super.call(this) || this;\n    }\n    NoneCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        return false;\n    };\n    return NoneCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = NoneCharAtlas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL2F0bGFzL05vbmVDaGFyQXRsYXMudHM/YmNjNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFRQSw4Q0FBNEM7QUFFNUM7SUFBMkMsaUNBQWE7SUFDdEQsdUJBQVksUUFBa0IsRUFBRSxNQUF3QjtlQUN0RCxpQkFBTztJQUNULENBQUM7SUFFTSw0QkFBSSxHQUFYLFVBQ0UsR0FBNkIsRUFDN0IsS0FBdUIsRUFDdkIsQ0FBUyxFQUNULENBQVM7UUFFVCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFDSCxvQkFBQztBQUFELENBQUMsQ0FiMEMsdUJBQWEsR0FhdkQiLCJmaWxlIjoiNDIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICpcbiAqIEEgZHVtbXkgQ2hhckF0bGFzIGltcGxlbWVudGF0aW9uIHRoYXQgYWx3YXlzIGZhaWxzIHRvIGRyYXcgY2hhcmFjdGVycy5cbiAqL1xuXG5pbXBvcnQgeyBJR2x5cGhJZGVudGlmaWVyLCBJQ2hhckF0bGFzQ29uZmlnIH0gZnJvbSAnLi9UeXBlcyc7XG5pbXBvcnQgQmFzZUNoYXJBdGxhcyBmcm9tICcuL0Jhc2VDaGFyQXRsYXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb25lQ2hhckF0bGFzIGV4dGVuZHMgQmFzZUNoYXJBdGxhcyB7XG4gIGNvbnN0cnVjdG9yKGRvY3VtZW50OiBEb2N1bWVudCwgY29uZmlnOiBJQ2hhckF0bGFzQ29uZmlnKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyBkcmF3KFxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICAgIGdseXBoOiBJR2x5cGhJZGVudGlmaWVyLFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXJcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL2F0bGFzL05vbmVDaGFyQXRsYXMudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///42\n')},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Types_1 = __webpack_require__(1);\nvar CharAtlasGenerator_1 = __webpack_require__(15);\nvar BaseCharAtlas_1 = __webpack_require__(10);\nvar CharAtlasUtils_1 = __webpack_require__(4);\nvar StaticCharAtlas = (function (_super) {\n    __extends(StaticCharAtlas, _super);\n    function StaticCharAtlas(_document, _config) {\n        var _this = _super.call(this) || this;\n        _this._document = _document;\n        _this._config = _config;\n        _this._canvasFactory = function (width, height) {\n            var canvas = _this._document.createElement('canvas');\n            canvas.width = width;\n            canvas.height = height;\n            return canvas;\n        };\n        return _this;\n    }\n    StaticCharAtlas.prototype._doWarmUp = function () {\n        var _this = this;\n        var result = CharAtlasGenerator_1.generateStaticCharAtlasTexture(window, this._canvasFactory, this._config);\n        if (result instanceof HTMLCanvasElement) {\n            this._texture = result;\n        }\n        else {\n            result.then(function (texture) {\n                _this._texture = texture;\n            });\n        }\n    };\n    StaticCharAtlas.prototype._isCached = function (glyph, colorIndex) {\n        var isAscii = glyph.code < 256;\n        var isBasicColor = glyph.fg < 16;\n        var isDefaultColor = glyph.fg === Types_1.DEFAULT_COLOR;\n        var isDefaultBackground = glyph.bg === Types_1.DEFAULT_COLOR;\n        return isAscii && (isBasicColor || isDefaultColor) && isDefaultBackground && !glyph.italic;\n    };\n    StaticCharAtlas.prototype.draw = function (ctx, glyph, x, y) {\n        if (this._texture === null || this._texture === undefined) {\n            return false;\n        }\n        var colorIndex = 0;\n        if (CharAtlasUtils_1.is256Color(glyph.fg)) {\n            colorIndex = 2 + glyph.fg + (glyph.bold ? 16 : 0);\n        }\n        else if (glyph.fg === Types_1.DEFAULT_COLOR) {\n            if (glyph.bold) {\n                colorIndex = 1;\n            }\n        }\n        if (!this._isCached(glyph, colorIndex)) {\n            return false;\n        }\n        ctx.save();\n        var charAtlasCellWidth = this._config.scaledCharWidth + Types_1.CHAR_ATLAS_CELL_SPACING;\n        var charAtlasCellHeight = this._config.scaledCharHeight + Types_1.CHAR_ATLAS_CELL_SPACING;\n        if (glyph.dim) {\n            ctx.globalAlpha = Types_1.DIM_OPACITY;\n        }\n        ctx.drawImage(this._texture, glyph.code * charAtlasCellWidth, colorIndex * charAtlasCellHeight, charAtlasCellWidth, this._config.scaledCharHeight, x, y, charAtlasCellWidth, this._config.scaledCharHeight);\n        ctx.restore();\n        return true;\n    };\n    return StaticCharAtlas;\n}(BaseCharAtlas_1.default));\nexports.default = StaticCharAtlas;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL2F0bGFzL1N0YXRpY0NoYXJBdGxhcy50cz85ODVjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUtBLHFDQUFrSDtBQUNsSCxtREFBc0U7QUFDdEUsOENBQTRDO0FBQzVDLDhDQUE4QztBQUU5QztJQUE2QyxtQ0FBYTtJQUd4RCx5QkFBb0IsU0FBbUIsRUFBVSxPQUF5QjtRQUExRSxZQUNFLGlCQUFPLFNBQ1I7UUFGbUIsZUFBUyxHQUFULFNBQVMsQ0FBVTtRQUFVLGFBQU8sR0FBUCxPQUFPLENBQWtCO1FBSWxFLG9CQUFjLEdBQUcsVUFBQyxLQUFhLEVBQUUsTUFBYztZQUNyRCxJQUFNLE1BQU0sR0FBRyxLQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN0RCxNQUFNLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUNyQixNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztZQUt2QixPQUFPLE1BQU0sQ0FBQztRQUNoQixDQUFDOztJQVhELENBQUM7SUFhUyxtQ0FBUyxHQUFuQjtRQUFBLGlCQVNDO1FBUkMsSUFBTSxNQUFNLEdBQUcsbURBQThCLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3pGLElBQUksTUFBTSxZQUFZLGlCQUFpQixFQUFFO1lBQ3ZDLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDO1NBQ3hCO2FBQU07WUFDTCxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFPO2dCQUNqQixLQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztZQUMxQixDQUFDLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQztJQUVPLG1DQUFTLEdBQWpCLFVBQWtCLEtBQXVCLEVBQUUsVUFBa0I7UUFDM0QsSUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7UUFFakMsSUFBTSxZQUFZLEdBQUcsS0FBSyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDbkMsSUFBTSxjQUFjLEdBQUcsS0FBSyxDQUFDLEVBQUUsS0FBSyxxQkFBYSxDQUFDO1FBQ2xELElBQU0sbUJBQW1CLEdBQUcsS0FBSyxDQUFDLEVBQUUsS0FBSyxxQkFBYSxDQUFDO1FBQ3ZELE9BQU8sT0FBTyxJQUFJLENBQUMsWUFBWSxJQUFJLGNBQWMsQ0FBQyxJQUFJLG1CQUFtQixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUM3RixDQUFDO0lBRU0sOEJBQUksR0FBWCxVQUNFLEdBQTZCLEVBQzdCLEtBQXVCLEVBQ3ZCLENBQVMsRUFDVCxDQUFTO1FBR1QsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLFNBQVMsRUFBRTtZQUN6RCxPQUFPLEtBQUssQ0FBQztTQUNkO1FBRUQsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQ25CLElBQUksMkJBQVUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUU7WUFDeEIsVUFBVSxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUMsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNuRDthQUFNLElBQUksS0FBSyxDQUFDLEVBQUUsS0FBSyxxQkFBYSxFQUFFO1lBRXJDLElBQUksS0FBSyxDQUFDLElBQUksRUFBRTtnQkFDZCxVQUFVLEdBQUcsQ0FBQyxDQUFDO2FBQ2hCO1NBQ0Y7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsVUFBVSxDQUFDLEVBQUU7WUFDdEMsT0FBTyxLQUFLLENBQUM7U0FDZDtRQUVELEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUdYLElBQU0sa0JBQWtCLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLEdBQUcsK0JBQXVCLENBQUM7UUFDbEYsSUFBTSxtQkFBbUIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixHQUFHLCtCQUF1QixDQUFDO1FBR3BGLElBQUksS0FBSyxDQUFDLEdBQUcsRUFBRTtZQUNiLEdBQUcsQ0FBQyxXQUFXLEdBQUcsbUJBQVcsQ0FBQztTQUMvQjtRQUVELEdBQUcsQ0FBQyxTQUFTLENBQ1gsSUFBSSxDQUFDLFFBQVEsRUFDYixLQUFLLENBQUMsSUFBSSxHQUFHLGtCQUFrQixFQUMvQixVQUFVLEdBQUcsbUJBQW1CLEVBQ2hDLGtCQUFrQixFQUNsQixJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixFQUM3QixDQUFDLEVBQ0QsQ0FBQyxFQUNELGtCQUFrQixFQUNsQixJQUFJLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUM5QixDQUFDO1FBRUYsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBRWQsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBQ0gsc0JBQUM7QUFBRCxDQUFDLENBekY0Qyx1QkFBYSxHQXlGekQiLCJmaWxlIjoiNDMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IERJTV9PUEFDSVRZLCBJR2x5cGhJZGVudGlmaWVyLCBERUZBVUxUX0NPTE9SLCBJQ2hhckF0bGFzQ29uZmlnLCBDSEFSX0FUTEFTX0NFTExfU1BBQ0lORyB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVTdGF0aWNDaGFyQXRsYXNUZXh0dXJlIH0gZnJvbSAnLi9DaGFyQXRsYXNHZW5lcmF0b3InO1xuaW1wb3J0IEJhc2VDaGFyQXRsYXMgZnJvbSAnLi9CYXNlQ2hhckF0bGFzJztcbmltcG9ydCB7IGlzMjU2Q29sb3IgfSBmcm9tICcuL0NoYXJBdGxhc1V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGljQ2hhckF0bGFzIGV4dGVuZHMgQmFzZUNoYXJBdGxhcyB7XG4gIHByaXZhdGUgX3RleHR1cmU6IEhUTUxDYW52YXNFbGVtZW50IHwgSW1hZ2VCaXRtYXA7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfZG9jdW1lbnQ6IERvY3VtZW50LCBwcml2YXRlIF9jb25maWc6IElDaGFyQXRsYXNDb25maWcpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcHJpdmF0ZSBfY2FudmFzRmFjdG9yeSA9ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAvLyBUaGlzIGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nXG4gICAgLy8gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xuXG4gICAgcmV0dXJuIGNhbnZhcztcbiAgfVxuXG4gIHByb3RlY3RlZCBfZG9XYXJtVXAoKTogdm9pZCB7XG4gICAgY29uc3QgcmVzdWx0ID0gZ2VuZXJhdGVTdGF0aWNDaGFyQXRsYXNUZXh0dXJlKHdpbmRvdywgdGhpcy5fY2FudmFzRmFjdG9yeSwgdGhpcy5fY29uZmlnKTtcbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgIHRoaXMuX3RleHR1cmUgPSByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC50aGVuKHRleHR1cmUgPT4ge1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2lzQ2FjaGVkKGdseXBoOiBJR2x5cGhJZGVudGlmaWVyLCBjb2xvckluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBjb25zdCBpc0FzY2lpID0gZ2x5cGguY29kZSA8IDI1NjtcbiAgICAvLyBBIGNvbG9yIGlzIGJhc2ljIGlmIGl0IGlzIG9uZSBvZiB0aGUgNCBiaXQgQU5TSSBjb2xvcnMuXG4gICAgY29uc3QgaXNCYXNpY0NvbG9yID0gZ2x5cGguZmcgPCAxNjtcbiAgICBjb25zdCBpc0RlZmF1bHRDb2xvciA9IGdseXBoLmZnID09PSBERUZBVUxUX0NPTE9SO1xuICAgIGNvbnN0IGlzRGVmYXVsdEJhY2tncm91bmQgPSBnbHlwaC5iZyA9PT0gREVGQVVMVF9DT0xPUjtcbiAgICByZXR1cm4gaXNBc2NpaSAmJiAoaXNCYXNpY0NvbG9yIHx8IGlzRGVmYXVsdENvbG9yKSAmJiBpc0RlZmF1bHRCYWNrZ3JvdW5kICYmICFnbHlwaC5pdGFsaWM7XG4gIH1cblxuICBwdWJsaWMgZHJhdyhcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICBnbHlwaDogSUdseXBoSWRlbnRpZmllcixcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyXG4gICk6IGJvb2xlYW4ge1xuICAgIC8vIHdlJ3JlIG5vdCB3YXJtZWQgdXAgeWV0XG4gICAgaWYgKHRoaXMuX3RleHR1cmUgPT09IG51bGwgfHwgdGhpcy5fdGV4dHVyZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IGNvbG9ySW5kZXggPSAwO1xuICAgIGlmIChpczI1NkNvbG9yKGdseXBoLmZnKSkge1xuICAgICAgY29sb3JJbmRleCA9IDIgKyBnbHlwaC5mZyArIChnbHlwaC5ib2xkID8gMTYgOiAwKTtcbiAgICB9IGVsc2UgaWYgKGdseXBoLmZnID09PSBERUZBVUxUX0NPTE9SKSB7XG4gICAgICAvLyBJZiBkZWZhdWx0IGNvbG9yIGFuZCBib2xkXG4gICAgICBpZiAoZ2x5cGguYm9sZCkge1xuICAgICAgICBjb2xvckluZGV4ID0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLl9pc0NhY2hlZChnbHlwaCwgY29sb3JJbmRleCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjdHguc2F2ZSgpO1xuXG4gICAgLy8gSW1hZ2VCaXRtYXAncyBkcmF3IGFib3V0IHR3aWNlIGFzIGZhc3QgYXMgZnJvbSBhIGNhbnZhc1xuICAgIGNvbnN0IGNoYXJBdGxhc0NlbGxXaWR0aCA9IHRoaXMuX2NvbmZpZy5zY2FsZWRDaGFyV2lkdGggKyBDSEFSX0FUTEFTX0NFTExfU1BBQ0lORztcbiAgICBjb25zdCBjaGFyQXRsYXNDZWxsSGVpZ2h0ID0gdGhpcy5fY29uZmlnLnNjYWxlZENoYXJIZWlnaHQgKyBDSEFSX0FUTEFTX0NFTExfU1BBQ0lORztcblxuICAgIC8vIEFwcGx5IGFscGhhIHRvIGRpbSB0aGUgY2hhcmFjdGVyXG4gICAgaWYgKGdseXBoLmRpbSkge1xuICAgICAgY3R4Lmdsb2JhbEFscGhhID0gRElNX09QQUNJVFk7XG4gICAgfVxuXG4gICAgY3R4LmRyYXdJbWFnZShcbiAgICAgIHRoaXMuX3RleHR1cmUsXG4gICAgICBnbHlwaC5jb2RlICogY2hhckF0bGFzQ2VsbFdpZHRoLFxuICAgICAgY29sb3JJbmRleCAqIGNoYXJBdGxhc0NlbGxIZWlnaHQsXG4gICAgICBjaGFyQXRsYXNDZWxsV2lkdGgsXG4gICAgICB0aGlzLl9jb25maWcuc2NhbGVkQ2hhckhlaWdodCxcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgY2hhckF0bGFzQ2VsbFdpZHRoLFxuICAgICAgdGhpcy5fY29uZmlnLnNjYWxlZENoYXJIZWlnaHRcbiAgICApO1xuXG4gICAgY3R4LnJlc3RvcmUoKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL2F0bGFzL1N0YXRpY0NoYXJBdGxhcy50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///43\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseRenderLayer_1 = __webpack_require__(8);\nvar SelectionRenderLayer = (function (_super) {\n    __extends(SelectionRenderLayer, _super);\n    function SelectionRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'selection', zIndex, true, colors) || this;\n        _this._clearState();\n        return _this;\n    }\n    SelectionRenderLayer.prototype._clearState = function () {\n        this._state = {\n            start: null,\n            end: null,\n            columnSelectMode: null,\n            ydisp: null\n        };\n    };\n    SelectionRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._clearState();\n    };\n    SelectionRenderLayer.prototype.reset = function (terminal) {\n        if (this._state.start && this._state.end) {\n            this._clearState();\n            this.clearAll();\n        }\n    };\n    SelectionRenderLayer.prototype.onSelectionChanged = function (terminal, start, end, columnSelectMode) {\n        if (!this._didStateChange(start, end, columnSelectMode, terminal.buffer.ydisp)) {\n            return;\n        }\n        this.clearAll();\n        if (!start || !end) {\n            return;\n        }\n        var viewportStartRow = start[1] - terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, terminal.rows - 1);\n        if (viewportCappedStartRow >= terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        this._ctx.fillStyle = this._colors.selection.css;\n        if (columnSelectMode) {\n            var startCol = start[0];\n            var width = end[0] - startCol;\n            var height = viewportCappedEndRow - viewportCappedStartRow + 1;\n            this.fillCells(startCol, viewportCappedStartRow, width, height);\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var startRowEndCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : terminal.cols;\n            this.fillCells(startCol, viewportCappedStartRow, startRowEndCol - startCol, 1);\n            var middleRowsCount = Math.max(viewportCappedEndRow - viewportCappedStartRow - 1, 0);\n            this.fillCells(0, viewportCappedStartRow + 1, terminal.cols, middleRowsCount);\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol = viewportEndRow === viewportCappedEndRow ? end[0] : terminal.cols;\n                this.fillCells(0, viewportCappedEndRow, endCol, 1);\n            }\n        }\n        this._state.start = [start[0], start[1]];\n        this._state.end = [end[0], end[1]];\n        this._state.columnSelectMode = columnSelectMode;\n        this._state.ydisp = terminal.buffer.ydisp;\n    };\n    SelectionRenderLayer.prototype._didStateChange = function (start, end, columnSelectMode, ydisp) {\n        return !this._areCoordinatesEqual(start, this._state.start) ||\n            !this._areCoordinatesEqual(end, this._state.end) ||\n            columnSelectMode !== this._state.columnSelectMode ||\n            ydisp !== this._state.ydisp;\n    };\n    SelectionRenderLayer.prototype._areCoordinatesEqual = function (coord1, coord2) {\n        if (!coord1 || !coord2) {\n            return false;\n        }\n        return coord1[0] === coord2[0] && coord1[1] === coord2[1];\n    };\n    return SelectionRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.SelectionRenderLayer = SelectionRenderLayer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL1NlbGVjdGlvblJlbmRlckxheWVyLnRzPzcxMjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBT0EsK0NBQW9EO0FBU3BEO0lBQTBDLHdDQUFlO0lBR3ZELDhCQUFZLFNBQXNCLEVBQUUsTUFBYyxFQUFFLE1BQWlCO1FBQXJFLFlBQ0Usa0JBQU0sU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxTQUVwRDtRQURDLEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQzs7SUFDckIsQ0FBQztJQUVPLDBDQUFXLEdBQW5CO1FBQ0UsSUFBSSxDQUFDLE1BQU0sR0FBRztZQUNaLEtBQUssRUFBRSxJQUFJO1lBQ1gsR0FBRyxFQUFFLElBQUk7WUFDVCxnQkFBZ0IsRUFBRSxJQUFJO1lBQ3RCLEtBQUssRUFBRSxJQUFJO1NBQ1osQ0FBQztJQUNKLENBQUM7SUFFTSxxQ0FBTSxHQUFiLFVBQWMsUUFBbUIsRUFBRSxHQUFzQjtRQUN2RCxpQkFBTSxNQUFNLFlBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBRTVCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBRU0sb0NBQUssR0FBWixVQUFhLFFBQW1CO1FBQzlCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7WUFDeEMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ25CLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztTQUNqQjtJQUNILENBQUM7SUFFTSxpREFBa0IsR0FBekIsVUFBMEIsUUFBbUIsRUFBRSxLQUF1QixFQUFFLEdBQXFCLEVBQUUsZ0JBQXlCO1FBRXRILElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsZ0JBQWdCLEVB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R0FBRyxnQkFBZ0IsQ0FBQztRQUNoRCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUM1QyxDQUFDO0lBRU8sOENBQWUsR0FBdkIsVUFBd0IsS0FBdUIsRUFBRSxHQUFxQixFQUFFLGdCQUF5QixFQUFFLEtBQWE7UUFDOUcsT0FBTyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7WUFDekQsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDO1lBQ2hELGdCQUFnQixLQUFLLElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCO1lBQ2pELEtBQUssS0FBSyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUNoQyxDQUFDO0lBRU8sbURBQW9CLEdBQTVCLFVBQTZCLE1BQXdCLEVBQUUsTUFBd0I7UUFDN0UsSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUN0QixPQUFPLEtBQUssQ0FBQztTQUNkO1FBRUQsT0FBTyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUNILDJCQUFDO0FBQUQsQ0FBQyxDQXJHeUMsaUNBQWUsR0FxR3hEO0FBckdZLG9EQUFvQiIsImZpbGUiOiI0NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSB4dGVybS5qcyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuaW1wb3J0IHsgSVRlcm1pbmFsIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgSUNvbG9yU2V0LCBJUmVuZGVyRGltZW5zaW9ucyB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHsgQmFzZVJlbmRlckxheWVyIH0gZnJvbSAnLi9CYXNlUmVuZGVyTGF5ZXInO1xuXG5pbnRlcmZhY2UgSVNlbGVjdGlvblN0YXRlIHtcbiAgc3RhcnQ6IFtudW1iZXIsIG51bWJlcl07XG4gIGVuZDogW251bWJlciwgbnVtYmVyXTtcbiAgY29sdW1uU2VsZWN0TW9kZTogYm9vbGVhbjtcbiAgeWRpc3A6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFNlbGVjdGlvblJlbmRlckxheWVyIGV4dGVuZHMgQmFzZVJlbmRlckxheWVyIHtcbiAgcHJpdmF0ZSBfc3RhdGU6IElTZWxlY3Rpb25TdGF0ZTtcblxuICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCB6SW5kZXg6IG51bWJlciwgY29sb3JzOiBJQ29sb3JTZXQpIHtcbiAgICBzdXBlcihjb250YWluZXIsICdzZWxlY3Rpb24nLCB6SW5kZXgsIHRydWUsIGNvbG9ycyk7XG4gICAgdGhpcy5fY2xlYXJTdGF0ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfY2xlYXJTdGF0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLl9zdGF0ZSA9IHtcbiAgICAgIHN0YXJ0OiBudWxsLFxuICAgICAgZW5kOiBudWxsLFxuICAgICAgY29sdW1uU2VsZWN0TW9kZTogbnVsbCxcbiAgICAgIHlkaXNwOiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyByZXNpemUodGVybWluYWw6IElUZXJtaW5hbCwgZGltOiBJUmVuZGVyRGltZW5zaW9ucyk6IHZvaWQge1xuICAgIHN1cGVyLnJlc2l6ZSh0ZXJtaW5hbCwgZGltKTtcbiAgICAvLyBSZXNpemluZyB0aGUgY2FudmFzIGRpc2NhcmRzIHRoZSBjb250ZW50cyBvZiB0aGUgY2FudmFzIHNvIGNsZWFyIHN0YXRlXG4gICAgdGhpcy5fY2xlYXJTdGF0ZSgpO1xuICB9XG5cbiAgcHVibGljIHJlc2V0KHRlcm1pbmFsOiBJVGVybWluYWwpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fc3RhdGUuc3RhcnQgJiYgdGhpcy5fc3RhdGUuZW5kKSB7XG4gICAgICB0aGlzLl9jbGVhclN0YXRlKCk7XG4gICAgICB0aGlzLmNsZWFyQWxsKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG9uU2VsZWN0aW9uQ2hhbmdlZCh0ZXJtaW5hbDogSVRlcm1pbmFsLCBzdGFydDogW251bWJlciwgbnVtYmVyXSwgZW5kOiBbbnVtYmVyLCBudW1iZXJdLCBjb2x1bW5TZWxlY3RNb2RlOiBib29sZWFuKTogdm9pZCB7XG4gICAgLy8gU2VsZWN0aW9uIGhhcyBub3QgY2hhbmdlZFxuICAgIGlmICghdGhpcy5fZGlkU3RhdGVDaGFuZ2Uoc3RhcnQsIGVuZCwgY29sdW1uU2VsZWN0TW9kZSwgdGVybWluYWwuYnVmZmVyLnlkaXNwKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBhbGwgc2VsZWN0aW9uc1xuICAgIHRoaXMuY2xlYXJBbGwoKTtcblxuICAgIC8vIFNlbGVjdGlvbiBkb2VzIG5vdCBleGlzdFxuICAgIGlmICghc3RhcnQgfHwgIWVuZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRyYW5zbGF0ZSBmcm9tIGJ1ZmZlciBwb3NpdGlvbiB0byB2aWV3cG9ydCBwb3NpdGlvblxuICAgIGNvbnN0IHZpZXdwb3J0U3RhcnRSb3cgPSBzdGFydFsxXSAtIHRlcm1pbmFsLmJ1ZmZlci55ZGlzcDtcbiAgICBjb25zdCB2aWV3cG9ydEVuZFJvdyA9IGVuZFsxXSAtIHRlcm1pbmFsLmJ1ZmZlci55ZGlzcDtcbiAgICBjb25zdCB2aWV3cG9ydENhcHBlZFN0YXJ0Um93ID0gTWF0aC5tYXgodmlld3BvcnRTdGFydFJvdywgMCk7XG4gICAgY29uc3Qgdmlld3BvcnRDYXBwZWRFbmRSb3cgPSBNYXRoLm1pbih2aWV3cG9ydEVuZFJvdywgdGVybWluYWwucm93cyAtIDEpO1xuXG4gICAgLy8gTm8gbmVlZCB0byBkcmF3IHRoZSBzZWxlY3Rpb25cbiAgICBpZiAodmlld3BvcnRDYXBwZWRTdGFydFJvdyA+PSB0ZXJtaW5hbC5yb3dzIHx8IHZpZXdwb3J0Q2FwcGVkRW5kUm93IDwgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSB0aGlzLl9jb2xvcnMuc2VsZWN0aW9uLmNzcztcblxuICAgIGlmIChjb2x1bW5TZWxlY3RNb2RlKSB7XG4gICAgICBjb25zdCBzdGFydENvbCA9IHN0YXJ0WzBdO1xuICAgICAgY29uc3Qgd2lkdGggPSBlbmRbMF0gLSBzdGFydENvbDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IHZpZXdwb3J0Q2FwcGVkRW5kUm93IC0gdmlld3BvcnRDYXBwZWRTdGFydFJvdyArIDE7XG4gICAgICB0aGlzLmZpbGxDZWxscyhzdGFydENvbCwgdmlld3BvcnRDYXBwZWRTdGFydFJvdywgd2lkdGgsIGhlaWdodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERyYXcgZmlyc3Qgcm93XG4gICAgICBjb25zdCBzdGFydENvbCA9IHZpZXdwb3J0U3RhcnRSb3cgPT09IHZpZXdwb3J0Q2FwcGVkU3RhcnRSb3cgPyBzdGFydFswXSA6IDA7XG4gICAgICBjb25zdCBzdGFydFJvd0VuZENvbCA9IHZpZXdwb3J0Q2FwcGVkU3RhcnRSb3cgPT09IHZpZXdwb3J0Q2FwcGVkRW5kUm93ID8gZW5kWzBdIDogdGVybWluYWwuY29scztcbiAgICAgIHRoaXMuZmlsbENlbGxzKHN0YXJ0Q29sLCB2aWV3cG9ydENhcHBlZFN0YXJ0Um93LCBzdGFydFJvd0VuZENvbCAtIHN0YXJ0Q29sLCAxKTtcblxuICAgICAgLy8gRHJhdyBtaWRkbGUgcm93c1xuICAgICAgY29uc3QgbWlkZGxlUm93c0NvdW50ID0gTWF0aC5tYXgodmlld3BvcnRDYXBwZWRFbmRSb3cgLSB2aWV3cG9ydENhcHBlZFN0YXJ0Um93IC0gMSwgMCk7XG4gICAgICB0aGlzLmZpbGxDZWxscygwLCB2aWV3cG9ydENhcHBlZFN0YXJ0Um93ICsgMSwgdGVybWluYWwuY29scywgbWlkZGxlUm93c0NvdW50KTtcblxuICAgICAgLy8gRHJhdyBmaW5hbCByb3dcbiAgICAgIGlmICh2aWV3cG9ydENhcHBlZFN0YXJ0Um93ICE9PSB2aWV3cG9ydENhcHBlZEVuZFJvdykge1xuICAgICAgICAvLyBPbmx5IGRyYXcgdmlld3BvcnRFbmRSb3cgaWYgaXQncyBub3QgdGhlIHNhbWUgYXMgdmlld3BvcnRTdGFydFJvd1xuICAgICAgICBjb25zdCBlbmRDb2wgPSB2aWV3cG9ydEVuZFJvdyA9PT0gdmlld3BvcnRDYXBwZWRFbmRSb3cgPyBlbmRbMF0gOiB0ZXJtaW5hbC5jb2xzO1xuICAgICAgICB0aGlzLmZpbGxDZWxscygwLCB2aWV3cG9ydENhcHBlZEVuZFJvdywgZW5kQ29sLCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTYXZlIHN0YXRlIGZvciBuZXh0IHJlbmRlclxuICAgIHRoaXMuX3N0YXRlLnN0YXJ0ID0gW3N0YXJ0WzBdLCBzdGFydFsxXV07XG4gICAgdGhpcy5fc3RhdGUuZW5kID0gW2VuZFswXSwgZW5kWzFdXTtcbiAgICB0aGlzLl9zdGF0ZS5jb2x1bW5TZWxlY3RNb2RlID0gY29sdW1uU2VsZWN0TW9kZTtcbiAgICB0aGlzLl9zdGF0ZS55ZGlzcCA9IHRlcm1pbmFsLmJ1ZmZlci55ZGlzcDtcbiAgfVxuXG4gIHByaXZhdGUgX2RpZFN0YXRlQ2hhbmdlKHN0YXJ0OiBbbnVtYmVyLCBudW1iZXJdLCBlbmQ6IFtudW1iZXIsIG51bWJlcl0sIGNvbHVtblNlbGVjdE1vZGU6IGJvb2xlYW4sIHlkaXNwOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXRoaXMuX2FyZUNvb3JkaW5hdGVzRXF1YWwoc3RhcnQsIHRoaXMuX3N0YXRlLnN0YXJ0KSB8fFxuICAgICAgIXRoaXMuX2FyZUNvb3JkaW5hdGVzRXF1YWwoZW5kLCB0aGlzLl9zdGF0ZS5lbmQpIHx8XG4gICAgICBjb2x1bW5TZWxlY3RNb2RlICE9PSB0aGlzLl9zdGF0ZS5jb2x1bW5TZWxlY3RNb2RlIHx8XG4gICAgICB5ZGlzcCAhPT0gdGhpcy5fc3RhdGUueWRpc3A7XG4gIH1cblxuICBwcml2YXRlIF9hcmVDb29yZGluYXRlc0VxdWFsKGNvb3JkMTogW251bWJlciwgbnVtYmVyXSwgY29vcmQyOiBbbnVtYmVyLCBudW1iZXJdKTogYm9vbGVhbiB7XG4gICAgaWYgKCFjb29yZDEgfHwgIWNvb3JkMikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBjb29yZDFbMF0gPT09IGNvb3JkMlswXSAmJiBjb29yZDFbMV0gPT09IGNvb3JkMlsxXTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3h0ZXJtL3NyYy9yZW5kZXJlci9TZWxlY3Rpb25SZW5kZXJMYXllci50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///44\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = __webpack_require__(0);\nvar BaseRenderLayer_1 = __webpack_require__(8);\nvar BLINK_INTERVAL = 600;\nvar CursorRenderLayer = (function (_super) {\n    __extends(CursorRenderLayer, _super);\n    function CursorRenderLayer(container, zIndex, colors) {\n        var _this = _super.call(this, container, 'cursor', zIndex, true, colors) || this;\n        _this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n        _this._cursorRenderers = {\n            'bar': _this._renderBarCursor.bind(_this),\n            'block': _this._renderBlockCursor.bind(_this),\n            'underline': _this._renderUnderlineCursor.bind(_this)\n        };\n        return _this;\n    }\n    CursorRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = {\n            x: null,\n            y: null,\n            isFocused: null,\n            style: null,\n            width: null\n        };\n    };\n    CursorRenderLayer.prototype.reset = function (terminal) {\n        this._clearCursor();\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.dispose();\n            this._cursorBlinkStateManager = null;\n            this.onOptionsChanged(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onBlur = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.pause();\n        }\n        terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n    };\n    CursorRenderLayer.prototype.onFocus = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.resume(terminal);\n        }\n        else {\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onOptionsChanged = function (terminal) {\n        var _this = this;\n        if (terminal.options.cursorBlink) {\n            if (!this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager = new CursorBlinkStateManager(terminal, function () {\n                    _this._render(terminal, true);\n                });\n            }\n        }\n        else {\n            if (this._cursorBlinkStateManager) {\n                this._cursorBlinkStateManager.dispose();\n                this._cursorBlinkStateManager = null;\n            }\n            terminal.refresh(terminal.buffer.y, terminal.buffer.y);\n        }\n    };\n    CursorRenderLayer.prototype.onCursorMove = function (terminal) {\n        if (this._cursorBlinkStateManager) {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype.onGridChanged = function (terminal, startRow, endRow) {\n        if (!this._cursorBlinkStateManager || this._cursorBlinkStateManager.isPaused) {\n            this._render(terminal, false);\n        }\n        else {\n            this._cursorBlinkStateManager.restartBlinkAnimation(terminal);\n        }\n    };\n    CursorRenderLayer.prototype._render = function (terminal, triggeredByAnimationFrame) {\n        if (!terminal.cursorState || terminal.cursorHidden) {\n            this._clearCursor();\n            return;\n        }\n        var cursorY = terminal.buffer.ybase + terminal.buffer.y;\n        var viewportRelativeCursorY = cursorY - terminal.buffer.ydisp;\n        if (viewportRelativeCursorY < 0 || viewportRelativeCursorY >= terminal.rows) {\n            this._clearCursor();\n            return;\n        }\n        var charData = terminal.buffer.lines.get(cursorY).get(terminal.buffer.x);\n        if (!charData) {\n            return;\n        }\n        if (!terminal.isFocused) {\n            this._clearCursor();\n            this._ctx.save();\n            this._ctx.fillStyle = this._colors.cursor.css;\n            this._renderBlurCursor(terminal, terminal.buffer.x, viewportRelativeCursorY, charData);\n            this._ctx.restore();\n            this._state.x = terminal.buffer.x;\n            this._state.y = viewportRelativeCursorY;\n            this._state.isFocused = false;\n            this._state.style = terminal.options.cursorStyle;\n            this._state.width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n            return;\n        }\n        if (this._cursorBlinkStateManager && !this._cursorBlinkStateManager.isCursorVisible) {\n            this._clearCursor();\n            return;\n        }\n        if (this._state) {\n            if (this._state.x === terminal.buffer.x &&\n                this._state.y === viewportRelativeCursorY &&\n                this._state.isFocused === terminal.isFocused &&\n                this._state.style === terminal.options.cursorStyle &&\n                this._state.width === charData[Buffer_1.CHAR_DATA_WIDTH_INDEX]) {\n                return;\n            }\n            this._clearCursor();\n        }\n        this._ctx.save();\n        this._cursorRenderers[terminal.options.cursorStyle || 'block'](terminal, terminal.buffer.x, viewportRelativeCursorY, charData);\n        this._ctx.restore();\n        this._state.x = terminal.buffer.x;\n        this._state.y = viewportRelativeCursorY;\n        this._state.isFocused = false;\n        this._state.style = terminal.options.cursorStyle;\n        this._state.width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n    };\n    CursorRenderLayer.prototype._clearCursor = function () {\n        if (this._state) {\n            this.clearCells(this._state.x, this._state.y, this._state.width, 1);\n            this._state = {\n                x: null,\n                y: null,\n                isFocused: null,\n                style: null,\n                width: null\n            };\n        }\n    };\n    CursorRenderLayer.prototype._renderBarCursor = function (terminal, x, y, charData) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillLeftLineAtCell(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlockCursor = function (terminal, x, y, charData) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillCells(x, y, charData[Buffer_1.CHAR_DATA_WIDTH_INDEX], 1);\n        this._ctx.fillStyle = this._colors.cursorAccent.css;\n        this.fillCharTrueColor(terminal, charData, x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderUnderlineCursor = function (terminal, x, y, charData) {\n        this._ctx.save();\n        this._ctx.fillStyle = this._colors.cursor.css;\n        this.fillBottomLineAtCells(x, y);\n        this._ctx.restore();\n    };\n    CursorRenderLayer.prototype._renderBlurCursor = function (terminal, x, y, charData) {\n        this._ctx.save();\n        this._ctx.strokeStyle = this._colors.cursor.css;\n        this.strokeRectAtCell(x, y, charData[Buffer_1.CHAR_DATA_WIDTH_INDEX], 1);\n        this._ctx.restore();\n    };\n    return CursorRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.CursorRenderLayer = CursorRenderLayer;\nvar CursorBlinkStateManager = (function () {\n    function CursorBlinkStateManager(terminal, _renderCallback) {\n        this._renderCallback = _renderCallback;\n        this.isCursorVisible = true;\n        if (terminal.isFocused) {\n            this._restartInterval();\n        }\n    }\n    Object.defineProperty(CursorBlinkStateManager.prototype, \"isPaused\", {\n        get: function () { return !(this._blinkStartTimeout || this._blinkInterval); },\n        enumerable: true,\n        configurable: true\n    });\n    CursorBlinkStateManager.prototype.dispose = function () {\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.restartBlinkAnimation = function (terminal) {\n        var _this = this;\n        if (this.isPaused) {\n            return;\n        }\n        this._animationTimeRestarted = Date.now();\n        this.isCursorVisible = true;\n        if (!this._animationFrame) {\n            this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n        }\n    };\n    CursorBlinkStateManager.prototype._restartInterval = function (timeToStart) {\n        var _this = this;\n        if (timeToStart === void 0) { timeToStart = BLINK_INTERVAL; }\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n        }\n        this._blinkStartTimeout = setTimeout(function () {\n            if (_this._animationTimeRestarted) {\n                var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                _this._animationTimeRestarted = null;\n                if (time > 0) {\n                    _this._restartInterval(time);\n                    return;\n                }\n            }\n            _this.isCursorVisible = false;\n            _this._animationFrame = window.requestAnimationFrame(function () {\n                _this._renderCallback();\n                _this._animationFrame = null;\n            });\n            _this._blinkInterval = setInterval(function () {\n                if (_this._animationTimeRestarted) {\n                    var time = BLINK_INTERVAL - (Date.now() - _this._animationTimeRestarted);\n                    _this._animationTimeRestarted = null;\n                    _this._restartInterval(time);\n                    return;\n                }\n                _this.isCursorVisible = !_this.isCursorVisible;\n                _this._animationFrame = window.requestAnimationFrame(function () {\n                    _this._renderCallback();\n                    _this._animationFrame = null;\n                });\n            }, BLINK_INTERVAL);\n        }, timeToStart);\n    };\n    CursorBlinkStateManager.prototype.pause = function () {\n        this.isCursorVisible = true;\n        if (this._blinkInterval) {\n            window.clearInterval(this._blinkInterval);\n            this._blinkInterval = null;\n        }\n        if (this._blinkStartTimeout) {\n            window.clearTimeout(this._blinkStartTimeout);\n            this._blinkStartTimeout = null;\n        }\n        if (this._animationFrame) {\n            window.cancelAnimationFrame(this._animationFrame);\n            this._animationFrame = null;\n        }\n    };\n    CursorBlinkStateManager.prototype.resume = function (terminal) {\n        this._animationTimeRestarted = null;\n        this._restartInterval();\n        this.restartBlinkAnimation(terminal);\n    };\n    return CursorBlinkStateManager;\n}());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL0N1cnNvclJlbmRlckxheWVyLnRzP2JiN2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBS0Esc0NBQWtEO0FBRWxELCtDQUFvRDtBQWNwRCxJQUFNLGNBQWMsR0FBRyxHQUFHLENBQUM7QUFFM0I7SUFBdUMscUNBQWU7SUFLcEQsMkJBQVksU0FBc0IsRUFBRSxNQUFjLEVBQUUsTUFBaUI7UUFBckUsWUFDRSxrQkFBTSxTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLFNBY2pEO1FBYkMsS0FBSSxDQUFDLE1BQU0sR0FBRztZQUNaLENBQUMsRUFBRSxJQUFJO1lBQ1AsQ0FBQyxFQUFFLElBQUk7WUFDUCxTQUFTLEVBQUUsSUFBSTtZQUNmLEtBQUssRUFBRSxJQUFJO1lBQ1gsS0FBSyxFQUFFLElBQUk7U0FDWixDQUFDO1FBQ0YsS0FBSSxDQUFDLGdCQUFnQixHQUFHO1lBQ3RCLEtBQUssRUFBRSxLQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEtBQUksQ0FBQztZQUN2QyxPQUFPLEVBQUUsS0FBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxLQUFJLENBQUM7WUFDM0MsV0FBVyxFQUFFLEtBQUksQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsS0FBSSxDQUFDO1NBQ3BELENBQUM7O0lBRUosQ0FBQztJQUVNLGtDQUFNLEdBQWIsVUFBYyxRQUFtQixFQUFFLEdBQXNCO1FBQ3ZELGlCQUFNLE1BQU0sWUFBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFFNUIsSUFBSSxDQUFDLE1BQU0sR0FBRztZQUNaLENBQUMsRUFBRSxJQUFJO1lBQ1AsQ0FBQyxFQUFFLElBQUk7WUFDUCxTQUFTLEVBQUUsSUFBSTtZQUNmLEtBQUssRUFBRSxJQUFJO1lBQ1gsS0FBSyxFQUFFLElBQUk7U0FDWixDQUFD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LENBQUM7U0FDN0I7SUFDSCxDQUFDO0lBRU0sd0NBQU0sR0FBYixVQUFjLFFBQW1CO1FBQy9CLElBQUksQ0FBQyx1QkFBdUIsR0FBRyxJQUFJLENBQUM7UUFDcEMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDeEIsSUFBSSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFDSCw4QkFBQztBQUFELENBQUMiLCJmaWxlIjoiNDUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IENIQVJfREFUQV9XSURUSF9JTkRFWCB9IGZyb20gJy4uL0J1ZmZlcic7XG5pbXBvcnQgeyBJQ29sb3JTZXQsIElSZW5kZXJEaW1lbnNpb25zIH0gZnJvbSAnLi9UeXBlcyc7XG5pbXBvcnQgeyBCYXNlUmVuZGVyTGF5ZXIgfSBmcm9tICcuL0Jhc2VSZW5kZXJMYXllcic7XG5pbXBvcnQgeyBDaGFyRGF0YSwgSVRlcm1pbmFsIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG5pbnRlcmZhY2UgSUN1cnNvclN0YXRlIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIGlzRm9jdXNlZDogYm9vbGVhbjtcbiAgc3R5bGU6IHN0cmluZztcbiAgd2lkdGg6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBUaGUgdGltZSBiZXR3ZWVuIGN1cnNvciBibGlua3MuXG4gKi9cbmNvbnN0IEJMSU5LX0lOVEVSVkFMID0gNjAwO1xuXG5leHBvcnQgY2xhc3MgQ3Vyc29yUmVuZGVyTGF5ZXIgZXh0ZW5kcyBCYXNlUmVuZGVyTGF5ZXIge1xuICBwcml2YXRlIF9zdGF0ZTogSUN1cnNvclN0YXRlO1xuICBwcml2YXRlIF9jdXJzb3JSZW5kZXJlcnM6IHtba2V5OiBzdHJpbmddOiAodGVybWluYWw6IElUZXJtaW5hbCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGNoYXJEYXRhOiBDaGFyRGF0YSkgPT4gdm9pZH07XG4gIHByaXZhdGUgX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyOiBDdXJzb3JCbGlua1N0YXRlTWFuYWdlcjtcblxuICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCB6SW5kZXg6IG51bWJlciwgY29sb3JzOiBJQ29sb3JTZXQpIHtcbiAgICBzdXBlcihjb250YWluZXIsICdjdXJzb3InLCB6SW5kZXgsIHRydWUsIGNvbG9ycyk7XG4gICAgdGhpcy5fc3RhdGUgPSB7XG4gICAgICB4OiBudWxsLFxuICAgICAgeTogbnVsbCxcbiAgICAgIGlzRm9jdXNlZDogbnVsbCxcbiAgICAgIHN0eWxlOiBudWxsLFxuICAgICAgd2lkdGg6IG51bGxcbiAgICB9O1xuICAgIHRoaXMuX2N1cnNvclJlbmRlcmVycyA9IHtcbiAgICAgICdiYXInOiB0aGlzLl9yZW5kZXJCYXJDdXJzb3IuYmluZCh0aGlzKSxcbiAgICAgICdibG9jayc6IHRoaXMuX3JlbmRlckJsb2NrQ3Vyc29yLmJpbmQodGhpcyksXG4gICAgICAndW5kZXJsaW5lJzogdGhpcy5fcmVuZGVyVW5kZXJsaW5lQ3Vyc29yLmJpbmQodGhpcylcbiAgICB9O1xuICAgIC8vIFRPRE86IENvbnNpZGVyIGluaXRpYWwgb3B0aW9ucz8gTWF5YmUgb25PcHRpb25zQ2hhbmdlZCBzaG91bGQgYmUgY2FsbGVkIGF0IHRoZSBlbmQgb2Ygb3Blbj9cbiAgfVxuXG4gIHB1YmxpYyByZXNpemUodGVybWluYWw6IElUZXJtaW5hbCwgZGltOiBJUmVuZGVyRGltZW5zaW9ucyk6IHZvaWQge1xuICAgIHN1cGVyLnJlc2l6ZSh0ZXJtaW5hbCwgZGltKTtcbiAgICAvLyBSZXNpemluZyB0aGUgY2FudmFzIGRpc2NhcmRzIHRoZSBjb250ZW50cyBvZiB0aGUgY2FudmFzIHNvIGNsZWFyIHN0YXRlXG4gICAgdGhpcy5fc3RhdGUgPSB7XG4gICAgICB4OiBudWxsLFxuICAgICAgeTogbnVsbCxcbiAgICAgIGlzRm9jdXNlZDogbnVsbCxcbiAgICAgIHN0eWxlOiBudWxsLFxuICAgICAgd2lkdGg6IG51bGxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIHJlc2V0KHRlcm1pbmFsOiBJVGVybWluYWwpOiB2b2lkIHtcbiAgICB0aGlzLl9jbGVhckN1cnNvcigpO1xuICAgIGlmICh0aGlzLl9jdXJzb3JCbGlua1N0YXRlTWFuYWdlcikge1xuICAgICAgdGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIgPSBudWxsO1xuICAgICAgdGhpcy5vbk9wdGlvbnNDaGFuZ2VkKHRlcm1pbmFsKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgb25CbHVyKHRlcm1pbmFsOiBJVGVybWluYWwpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIpIHtcbiAgICAgIHRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyLnBhdXNlKCk7XG4gICAgfVxuICAgIHRlcm1pbmFsLnJlZnJlc2godGVybWluYWwuYnVmZmVyLnksIHRlcm1pbmFsLmJ1ZmZlci55KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkZvY3VzKHRlcm1pbmFsOiBJVGVybWluYWwpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIpIHtcbiAgICAgIHRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyLnJlc3VtZSh0ZXJtaW5hbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRlcm1pbmFsLnJlZnJlc2godGVybWluYWwuYnVmZmVyLnksIHRlcm1pbmFsLmJ1ZmZlci55KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgb25PcHRpb25zQ2hhbmdlZCh0ZXJtaW5hbDogSVRlcm1pbmFsKTogdm9pZCB7XG4gICAgaWYgKHRlcm1pbmFsLm9wdGlvbnMuY3Vyc29yQmxpbmspIHtcbiAgICAgIGlmICghdGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIpIHtcbiAgICAgICAgdGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIgPSBuZXcgQ3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIodGVybWluYWwsICgpID0+IHtcbiAgICAgICAgICB0aGlzLl9yZW5kZXIodGVybWluYWwsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIgPSBudWxsO1xuICAgICAgfVxuICAgICAgLy8gUmVxdWVzdCBhIHJlZnJlc2ggZnJvbSB0aGUgdGVybWluYWwgYXMgbWFuYWdlbWVudCBvZiByZW5kZXJpbmcgaXMgYmVpbmdcbiAgICAgIC8vIG1vdmVkIGJhY2sgdG8gdGhlIHRlcm1pbmFsXG4gICAgICB0ZXJtaW5hbC5yZWZyZXNoKHRlcm1pbmFsLmJ1ZmZlci55LCB0ZXJtaW5hbC5idWZmZXIueSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG9uQ3Vyc29yTW92ZSh0ZXJtaW5hbDogSVRlcm1pbmFsKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyKSB7XG4gICAgICB0aGlzLl9jdXJzb3JCbGlua1N0YXRlTWFuYWdlci5yZXN0YXJ0QmxpbmtBbmltYXRpb24odGVybWluYWwpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBvbkdyaWRDaGFuZ2VkKHRlcm1pbmFsOiBJVGVybWluYWwsIHN0YXJ0Um93OiBudW1iZXIsIGVuZFJvdzogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLl9jdXJzb3JCbGlua1N0YXRlTWFuYWdlciB8fCB0aGlzLl9jdXJzb3JCbGlua1N0YXRlTWFuYWdlci5pc1BhdXNlZCkge1xuICAgICAgdGhpcy5fcmVuZGVyKHRlcm1pbmFsLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyLnJlc3RhcnRCbGlua0FuaW1hdGlvbih0ZXJtaW5hbCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVyKHRlcm1pbmFsOiBJVGVybWluYWwsIHRyaWdnZXJlZEJ5QW5pbWF0aW9uRnJhbWU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAvLyBEb24ndCBkcmF3IHRoZSBjdXJzb3IgaWYgaXQncyBoaWRkZW5cbiAgICBpZiAoIXRlcm1pbmFsLmN1cnNvclN0YXRlIHx8IHRlcm1pbmFsLmN1cnNvckhpZGRlbikge1xuICAgICAgdGhpcy5fY2xlYXJDdXJzb3IoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJzb3JZID0gdGVybWluYWwuYnVmZmVyLnliYXNlICsgdGVybWluYWwuYnVmZmVyLnk7XG4gICAgY29uc3Qgdmlld3BvcnRSZWxhdGl2ZUN1cnNvclkgPSBjdXJzb3JZIC0gdGVybWluYWwuYnVmZmVyLnlkaXNwO1xuXG4gICAgLy8gRG9uJ3QgZHJhdyB0aGUgY3Vyc29yIGlmIGl0J3Mgb2ZmLXNjcmVlblxuICAgIGlmICh2aWV3cG9ydFJlbGF0aXZlQ3Vyc29yWSA8IDAgfHwgdmlld3BvcnRSZWxhdGl2ZUN1cnNvclkgPj0gdGVybWluYWwucm93cykge1xuICAgICAgdGhpcy5fY2xlYXJDdXJzb3IoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjaGFyRGF0YSA9IHRlcm1pbmFsLmJ1ZmZlci5saW5lcy5nZXQoY3Vyc29yWSkuZ2V0KHRlcm1pbmFsLmJ1ZmZlci54KTtcbiAgICBpZiAoIWNoYXJEYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0ZXJtaW5hbC5pc0ZvY3VzZWQpIHtcbiAgICAgIHRoaXMuX2NsZWFyQ3Vyc29yKCk7XG4gICAgICB0aGlzLl9jdHguc2F2ZSgpO1xuICAgICAgdGhpcy5fY3R4LmZpbGxTdHlsZSA9IHRoaXMuX2NvbG9ycy5jdXJzb3IuY3NzO1xuICAgICAgdGhpcy5fcmVuZGVyQmx1ckN1cnNvcih0ZXJtaW5hbCwgdGVybWluYWwuYnVmZmVyLngsIHZpZXdwb3J0UmVsYXRpdmVDdXJzb3JZLCBjaGFyRGF0YSk7XG4gICAgICB0aGlzLl9jdHgucmVzdG9yZSgpO1xuICAgICAgdGhpcy5fc3RhdGUueCA9IHRlcm1pbmFsLmJ1ZmZlci54O1xuICAgICAgdGhpcy5fc3RhdGUueSA9IHZpZXdwb3J0UmVsYXRpdmVDdXJzb3JZO1xuICAgICAgdGhpcy5fc3RhdGUuaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgICB0aGlzLl9zdGF0ZS5zdHlsZSA9IHRlcm1pbmFsLm9wdGlvbnMuY3Vyc29yU3R5bGU7XG4gICAgICB0aGlzLl9zdGF0ZS53aWR0aCA9IGNoYXJEYXRhW0NIQVJfREFUQV9XSURUSF9JTkRFWF07XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRG9uJ3QgZHJhdyB0aGUgY3Vyc29yIGlmIGl0J3MgYmxpbmtpbmdcbiAgICBpZiAodGhpcy5fY3Vyc29yQmxpbmtTdGF0ZU1hbmFnZXIgJiYgIXRoaXMuX2N1cnNvckJsaW5rU3RhdGVNYW5hZ2VyLmlzQ3Vyc29yVmlzaWJsZSkge1xuICAgICAgdGhpcy5fY2xlYXJDdXJzb3IoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc3RhdGUpIHtcbiAgICAgIC8vIFRoZSBjdXJzb3IgaXMgYWxyZWFkeSBpbiB0aGUgY29ycmVjdCBzcG90LCBkb24ndCByZWRyYXdcbiAgICAgIGlmICh0aGlzLl9zdGF0ZS54ID09PSB0ZXJtaW5hbC5idWZmZXIueCAmJlxuICAgICAgICAgIHRoaXMuX3N0YXRlLnkgPT09IHZpZXdwb3J0UmVsYXRpdmVDdXJzb3JZICYmXG4gICAgICAgICAgdGhpcy5fc3RhdGUuaXNGb2N1c2VkID09PSB0ZXJtaW5hbC5pc0ZvY3VzZWQgJiZcbiAgICAgICAgICB0aGlzLl9zdGF0ZS5zdHlsZSA9PT0gdGVybWluYWwub3B0aW9ucy5jdXJzb3JTdHlsZSAmJlxuICAgICAgICAgIHRoaXMuX3N0YXRlLndpZHRoID09PSBjaGFyRGF0YVtDSEFSX0RBVEFfV0lEVEhfSU5ERVhdKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NsZWFyQ3Vyc29yKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fY3R4LnNhdmUoKTtcbiAgICB0aGlzLl9jdXJzb3JSZW5kZXJlcnNbdGVybWluYWwub3B0aW9ucy5jdXJzb3JTdHlsZSB8fCAnYmxvY2snXSh0ZXJtaW5hbCwgdGVybWluYWwuYnVmZmVyLngsIHZpZXdwb3J0UmVsYXRpdmVDdXJzb3JZLCBjaGFyRGF0YSk7XG4gICAgdGhpcy5fY3R4LnJlc3RvcmUoKTtcblxuICAgIHRoaXMuX3N0YXRlLnggPSB0ZXJtaW5hbC5idWZmZXIueDtcbiAgICB0aGlzLl9zdGF0ZS55ID0gdmlld3BvcnRSZWxhdGl2ZUN1cnNvclk7XG4gICAgdGhpcy5fc3RhdGUuaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5fc3RhdGUuc3R5bGUgPSB0ZXJtaW5hbC5vcHRpb25zLmN1cnNvclN0eWxlO1xuICAgIHRoaXMuX3N0YXRlLndpZHRoID0gY2hhckRhdGFbQ0hBUl9EQVRBX1dJRFRIX0lOREVYXTtcbiAgfVxuXG4gIHByaXZhdGUgX2NsZWFyQ3Vyc29yKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9zdGF0ZSkge1xuICAgICAgdGhpcy5jbGVhckNlbGxzKHRoaXMuX3N0YXRlLngsIHRoaXMuX3N0YXRlLnksIHRoaXMuX3N0YXRlLndpZHRoLCAxKTtcbiAgICAgIHRoaXMuX3N0YXRlID0ge1xuICAgICAgICB4OiBudWxsLFxuICAgICAgICB5OiBudWxsLFxuICAgICAgICBpc0ZvY3VzZWQ6IG51bGwsXG4gICAgICAgIHN0eWxlOiBudWxsLFxuICAgICAgICB3aWR0aDogbnVsbFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9yZW5kZXJCYXJDdXJzb3IodGVybWluYWw6IElUZXJtaW5hbCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGNoYXJEYXRhOiBDaGFyRGF0YSk6IHZvaWQge1xuICAgIHRoaXMuX2N0eC5zYXZlKCk7XG4gICAgdGhpcy5fY3R4LmZpbGxTdHlsZSA9IHRoaXMuX2NvbG9ycy5jdXJzb3IuY3NzO1xuICAgIHRoaXMuZmlsbExlZnRMaW5lQXRDZWxsKHgsIHkpO1xuICAgIHRoaXMuX2N0eC5yZXN0b3JlKCk7XG4gIH1cblxuICBwcml2YXRlIF9yZW5kZXJCbG9ja0N1cnNvcih0ZXJtaW5hbDogSVRlcm1pbmFsLCB4OiBudW1iZXIsIHk6IG51bWJlciwgY2hhckRhdGE6IENoYXJEYXRhKTogdm9pZCB7XG4gICAgdGhpcy5fY3R4LnNhdmUoKTtcbiAgICB0aGlzLl9jdHguZmlsbFN0eWxlID0gdGhpcy5fY29sb3JzLmN1cnNvci5jc3M7XG4gICAgdGhpcy5maWxsQ2VsbHMoeCwgeSwgY2hhckRhdGFbQ0hBUl9EQVRBX1dJRFRIX0lOREVYXSwgMSk7XG4gICAgdGhpcy5fY3R4LmZpbGxTdHlsZSA9IHRoaXMuX2NvbG9ycy5jdXJzb3JBY2NlbnQuY3NzO1xuICAgIHRoaXMuZmlsbENoYXJUcnVlQ29sb3IodGVybWluYWwsIGNoYXJEYXRhLCB4LCB5KTtcbiAgICB0aGlzLl9jdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVyVW5kZXJsaW5lQ3Vyc29yKHRlcm1pbmFsOiBJVGVybWluYWwsIHg6IG51bWJlciwgeTogbnVtYmVyLCBjaGFyRGF0YTogQ2hhckRhdGEpOiB2b2lkIHtcbiAgICB0aGlzLl9jdHguc2F2ZSgpO1xuICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSB0aGlzLl9jb2xvcnMuY3Vyc29yLmNzcztcbiAgICB0aGlzLmZpbGxCb3R0b21MaW5lQXRDZWxscyh4LCB5KTtcbiAgICB0aGlzLl9jdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVyQmx1ckN1cnNvcih0ZXJtaW5hbDogSVRlcm1pbmFsLCB4OiBudW1iZXIsIHk6IG51bWJlciwgY2hhckRhdGE6IENoYXJEYXRhKTogdm9pZCB7XG4gICAgdGhpcy5fY3R4LnNhdmUoKTtcbiAgICB0aGlzLl9jdHguc3Ryb2tlU3R5bGUgPSB0aGlzLl9jb2xvcnMuY3Vyc29yLmNzcztcbiAgICB0aGlzLnN0cm9rZVJlY3RBdENlbGwoeCwgeSwgY2hhckRhdGFbQ0hBUl9EQVRBX1dJRFRIX0lOREVYXSwgMSk7XG4gICAgdGhpcy5fY3R4LnJlc3RvcmUoKTtcbiAgfVxufVxuXG5jbGFzcyBDdXJzb3JCbGlua1N0YXRlTWFuYWdlciB7XG4gIHB1YmxpYyBpc0N1cnNvclZpc2libGU6IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSBfYW5pbWF0aW9uRnJhbWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBfYmxpbmtTdGFydFRpbWVvdXQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBfYmxpbmtJbnRlcnZhbDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgdGltZSBhdCB3aGljaCB0aGUgYW5pbWF0aW9uIGZyYW1lIHdhcyByZXN0YXJ0ZWQsIHRoaXMgaXMgdXNlZCBvbiB0aGVcbiAgICogbmV4dCByZW5kZXIgdG8gcmVzdGFydCB0aGUgdGltZXJzIHNvIHRoZXkgZG9uJ3QgbmVlZCB0byByZXN0YXJ0IHRoZSB0aW1lcnNcbiAgICogbXVsdGlwbGUgdGltZXMgb3ZlciBhIHNob3J0IHBlcmlvZC5cbiAgICovXG4gIHByaXZhdGUgX2FuaW1hdGlvblRpbWVSZXN0YXJ0ZWQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICB0ZXJtaW5hbDogSVRlcm1pbmFsLFxuICAgIHByaXZhdGUgX3JlbmRlckNhbGxiYWNrOiAoKSA9PiB2b2lkXG4gICkge1xuICAgIHRoaXMuaXNDdXJzb3JWaXNpYmxlID0gdHJ1ZTtcbiAgICBpZiAodGVybWluYWwuaXNGb2N1c2VkKSB7XG4gICAgICB0aGlzLl9yZXN0YXJ0SW50ZXJ2YWwoKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0IGlzUGF1c2VkKCk6IGJvb2xlYW4geyByZXR1cm4gISh0aGlzLl9ibGlua1N0YXJ0VGltZW91dCB8fCB0aGlzLl9ibGlua0ludGVydmFsKTsgfVxuXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9ibGlua0ludGVydmFsKSB7XG4gICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9ibGlua0ludGVydmFsKTtcbiAgICAgIHRoaXMuX2JsaW5rSW50ZXJ2YWwgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5fYmxpbmtTdGFydFRpbWVvdXQpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fYmxpbmtTdGFydFRpbWVvdXQpO1xuICAgICAgdGhpcy5fYmxpbmtTdGFydFRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5fYW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltYXRpb25GcmFtZSk7XG4gICAgICB0aGlzLl9hbmltYXRpb25GcmFtZSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlc3RhcnRCbGlua0FuaW1hdGlvbih0ZXJtaW5hbDogSVRlcm1pbmFsKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNQYXVzZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gU2F2ZSBhIHRpbWVzdGFtcCBzbyB0aGF0IHRoZSByZXN0YXJ0IGNhbiBiZSBkb25lIG9uIHRoZSBuZXh0IGludGVydmFsXG4gICAgdGhpcy5fYW5pbWF0aW9uVGltZVJlc3RhcnRlZCA9IERhdGUubm93KCk7XG4gICAgLy8gRm9yY2UgYSBjdXJzb3IgcmVuZGVyIHRvIGVuc3VyZSBpdCdzIHZpc2libGUgYW5kIGluIHRoZSBjb3JyZWN0IHBvc2l0aW9uXG4gICAgdGhpcy5pc0N1cnNvclZpc2libGUgPSB0cnVlO1xuICAgIGlmICghdGhpcy5fYW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgIHRoaXMuX2FuaW1hdGlvbkZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHRoaXMuX3JlbmRlckNhbGxiYWNrKCk7XG4gICAgICAgIHRoaXMuX2FuaW1hdGlvbkZyYW1lID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3Jlc3RhcnRJbnRlcnZhbCh0aW1lVG9TdGFydDogbnVtYmVyID0gQkxJTktfSU5URVJWQUwpOiB2b2lkIHtcbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgaW50ZXJ2YWxcbiAgICBpZiAodGhpcy5fYmxpbmtJbnRlcnZhbCkge1xuICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fYmxpbmtJbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgLy8gU2V0dXAgdGhlIGluaXRpYWwgdGltZW91dCB3aGljaCB3aWxsIGhpZGUgdGhlIGN1cnNvciwgdGhpcyBpcyBkb25lIGJlZm9yZVxuICAgIC8vIHRoZSByZWd1bGFyIGludGVydmFsIGlzIHNldHVwIGluIG9yZGVyIHRvIHN1cHBvcnQgcmVzdGFydGluZyB0aGUgYmxpbmtcbiAgICAvLyBhbmltYXRpb24gaW4gYSBsaWdodHdlaWdodCB3YXkgKHdpdGhvdXQgdGhyYXNoaW5nIGNsZWFySW50ZXJ2YWwgYW5kXG4gICAgLy8gc2V0SW50ZXJ2YWwpLlxuICAgIHRoaXMuX2JsaW5rU3RhcnRUaW1lb3V0ID0gPG51bWJlcj48YW55PnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8gQ2hlY2sgaWYgYW5vdGhlciBhbmltYXRpb24gcmVzdGFydCB3YXMgcmVxdWVzdGVkIHdoaWxlIHRoaXMgd2FzIGJlaW5nXG4gICAgICAvLyBzdGFydGVkXG4gICAgICBpZiAodGhpcy5fYW5pbWF0aW9uVGltZVJlc3RhcnRlZCkge1xuICAgICAgICBjb25zdCB0aW1lID0gQkxJTktfSU5URVJWQUwgLSAoRGF0ZS5ub3coKSAtIHRoaXMuX2FuaW1hdGlvblRpbWVSZXN0YXJ0ZWQpO1xuICAgICAgICB0aGlzLl9hbmltYXRpb25UaW1lUmVzdGFydGVkID0gbnVsbDtcbiAgICAgICAgaWYgKHRpbWUgPiAwKSB7XG4gICAgICAgICAgdGhpcy5fcmVzdGFydEludGVydmFsKHRpbWUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBIaWRlIHRoZSBjdXJzb3JcbiAgICAgIHRoaXMuaXNDdXJzb3JWaXNpYmxlID0gZmFsc2U7XG4gICAgICB0aGlzLl9hbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICB0aGlzLl9yZW5kZXJDYWxsYmFjaygpO1xuICAgICAgICB0aGlzLl9hbmltYXRpb25GcmFtZSA9IG51bGw7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2V0dXAgdGhlIGJsaW5rIGludGVydmFsXG4gICAgICB0aGlzLl9ibGlua0ludGVydmFsID0gPG51bWJlcj48YW55PnNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgLy8gQWRqdXN0IHRoZSBhbmltYXRpb24gdGltZSBpZiBpdCB3YXMgcmVzdGFydGVkXG4gICAgICAgIGlmICh0aGlzLl9hbmltYXRpb25UaW1lUmVzdGFydGVkKSB7XG4gICAgICAgICAgLy8gY2FsYyB0aW1lIGRpZmZcbiAgICAgICAgICAvLyBNYWtlIHJlc3RhcnQgaW50ZXJ2YWwgZG8gYSBzZXRUaW1lb3V0IGluaXRpYWxseT9cbiAgICAgICAgICBjb25zdCB0aW1lID0gQkxJTktfSU5URVJWQUwgLSAoRGF0ZS5ub3coKSAtIHRoaXMuX2FuaW1hdGlvblRpbWVSZXN0YXJ0ZWQpO1xuICAgICAgICAgIHRoaXMuX2FuaW1hdGlvblRpbWVSZXN0YXJ0ZWQgPSBudWxsO1xuICAgICAgICAgIHRoaXMuX3Jlc3RhcnRJbnRlcnZhbCh0aW1lKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJbnZlcnQgdmlzaWJpbGl0eSBhbmQgcmVuZGVyXG4gICAgICAgIHRoaXMuaXNDdXJzb3JWaXNpYmxlID0gIXRoaXMuaXNDdXJzb3JWaXNpYmxlO1xuICAgICAgICB0aGlzLl9hbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX3JlbmRlckNhbGxiYWNrKCk7XG4gICAgICAgICAgdGhpcy5fYW5pbWF0aW9uRnJhbWUgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIH0sIEJMSU5LX0lOVEVSVkFMKTtcbiAgICB9LCB0aW1lVG9TdGFydCk7XG4gIH1cblxuICBwdWJsaWMgcGF1c2UoKTogdm9pZCB7XG4gICAgdGhpcy5pc0N1cnNvclZpc2libGUgPSB0cnVlO1xuICAgIGlmICh0aGlzLl9ibGlua0ludGVydmFsKSB7XG4gICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9ibGlua0ludGVydmFsKTtcbiAgICAgIHRoaXMuX2JsaW5rSW50ZXJ2YWwgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5fYmxpbmtTdGFydFRpbWVvdXQpIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fYmxpbmtTdGFydFRpbWVvdXQpO1xuICAgICAgdGhpcy5fYmxpbmtTdGFydFRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5fYW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltYXRpb25GcmFtZSk7XG4gICAgICB0aGlzLl9hbmltYXRpb25GcmFtZSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlc3VtZSh0ZXJtaW5hbDogSVRlcm1pbmFsKTogdm9pZCB7XG4gICAgdGhpcy5fYW5pbWF0aW9uVGltZVJlc3RhcnRlZCA9IG51bGw7XG4gICAgdGhpcy5fcmVzdGFydEludGVydmFsKCk7XG4gICAgdGhpcy5yZXN0YXJ0QmxpbmtBbmltYXRpb24odGVybWluYWwpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL0N1cnNvclJlbmRlckxheWVyLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///45\n")},function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar BaseRenderLayer_1 = __webpack_require__(8);\nvar Types_1 = __webpack_require__(1);\nvar CharAtlasUtils_1 = __webpack_require__(4);\nvar LinkRenderLayer = (function (_super) {\n    __extends(LinkRenderLayer, _super);\n    function LinkRenderLayer(container, zIndex, colors, terminal) {\n        var _this = _super.call(this, container, \'link\', zIndex, true, colors) || this;\n        _this._state = null;\n        terminal.linkifier.on("linkhover", function (e) { return _this._onLinkHover(e); });\n        terminal.linkifier.on("linkleave", function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    LinkRenderLayer.prototype.resize = function (terminal, dim) {\n        _super.prototype.resize.call(this, terminal, dim);\n        this._state = null;\n    };\n    LinkRenderLayer.prototype.reset = function (terminal) {\n        this._clearCurrentLink();\n    };\n    LinkRenderLayer.prototype._clearCurrentLink = function () {\n        if (this._state) {\n            this.clearCells(this._state.x1, this._state.y1, this._state.cols - this._state.x1, 1);\n            var middleRowCount = this._state.y2 - this._state.y1 - 1;\n            if (middleRowCount > 0) {\n                this.clearCells(0, this._state.y1 + 1, this._state.cols, middleRowCount);\n            }\n            this.clearCells(0, this._state.y2, this._state.x2, 1);\n            this._state = null;\n        }\n    };\n    LinkRenderLayer.prototype._onLinkHover = function (e) {\n        if (e.fg === Types_1.INVERTED_DEFAULT_COLOR) {\n            this._ctx.fillStyle = this._colors.background.css;\n        }\n        else if (CharAtlasUtils_1.is256Color(e.fg)) {\n            this._ctx.fillStyle = this._colors.ansi[e.fg].css;\n        }\n        else {\n            this._ctx.fillStyle = this._colors.foreground.css;\n        }\n        if (e.y1 === e.y2) {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.x2 - e.x1);\n        }\n        else {\n            this.fillBottomLineAtCells(e.x1, e.y1, e.cols - e.x1);\n            for (var y = e.y1 + 1; y < e.y2; y++) {\n                this.fillBottomLineAtCells(0, y, e.cols);\n            }\n            this.fillBottomLineAtCells(0, e.y2, e.x2);\n        }\n        this._state = e;\n    };\n    LinkRenderLayer.prototype._onLinkLeave = function (e) {\n        this._clearCurrentLink();\n    };\n    return LinkRenderLayer;\n}(BaseRenderLayer_1.BaseRenderLayer));\nexports.LinkRenderLayer = LinkRenderLayer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL0xpbmtSZW5kZXJMYXllci50cz9lYjU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQU9BLCtDQUFvRDtBQUNwRCxxQ0FBdUQ7QUFDdkQsOENBQW9EO0FBRXBEO0lBQXFDLG1DQUFlO0lBR2xELHlCQUFZLFNBQXNCLEVBQUUsTUFBYyxFQUFFLE1BQWlCLEVBQUUsUUFBNEI7UUFBbkcsWUFDRSxrQkFBTSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLFNBRy9DO1FBTk8sWUFBTSxHQUFvQixJQUFJLENBQUM7UUFJckMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFFLGNBQTRCLFVBQUMsQ0FBa0IsSUFBSyxZQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUFwQixDQUFvQixDQUFDLENBQUM7UUFDL0YsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFFLGNBQTRCLFVBQUMsQ0FBa0IsSUFBSyxZQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUFwQixDQUFvQixDQUFDLENBQUM7O0lBQ2pHLENBQUM7SUFFTSxnQ0FBTSxHQUFiLFVBQWMsUUFBbUIsRUFBRSxHQUFzQjtRQUN2RCxpQkFBTSxNQUFNLFlBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBRTVCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFFTSwrQkFBSyxHQUFaLFVBQWEsUUFBbUI7UUFDOUIsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUVPLDJDQUFpQixHQUF6QjtRQUNFLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNmLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdEYsSUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQzNELElBQUksY0FBYyxHQUFHLENBQUMsRUFBRTtnQkFDdEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLGNBQWMsQ0FBQyxDQUFDO2FBQzFFO1lBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdEQsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FDcEI7SUFDSCxDQUFDO0lBRU8sc0NBQVksR0FBcEIsVUFBcUIsQ0FBa0I7UUFDckMsSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLDhCQUFzQixFQUFFO1lBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQztTQUNuRDthQUFNLElBQUksMkJBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7WUFFM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQztTQUNuRDthQUFNO1lBQ0wsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDO1NBQ25EO1FBRUQsSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUU7WUFFakIsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUNyRDthQUFNO1lBRUwsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN0RCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNwQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDMUM7WUFDRCxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQzNDO1FBQ0QsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDbEIsQ0FBQztJQUVPLHNDQUFZLEdBQXBCLFVBQXFCLENBQWtCO1FBQ3JDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFDSCxzQkFBQztBQUFELENBQUMsQ0ExRG9DLGlDQUFlLEdBMERuRDtBQTFEWSwwQ0FBZSIsImZpbGUiOiI0Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSB4dGVybS5qcyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuaW1wb3J0IHsgSUxpbmtIb3ZlckV2ZW50LCBJVGVybWluYWwsIElMaW5raWZpZXJBY2Nlc3NvciwgTGlua0hvdmVyRXZlbnRUeXBlcyB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IElDb2xvclNldCwgSVJlbmRlckRpbWVuc2lvbnMgfSBmcm9tICcuL1R5cGVzJztcbmltcG9ydCB7IEJhc2VSZW5kZXJMYXllciB9IGZyb20gJy4vQmFzZVJlbmRlckxheWVyJztcbmltcG9ydCB7IElOVkVSVEVEX0RFRkFVTFRfQ09MT1IgfSBmcm9tICcuL2F0bGFzL1R5cGVzJztcbmltcG9ydCB7IGlzMjU2Q29sb3IgfSBmcm9tICcuL2F0bGFzL0NoYXJBdGxhc1V0aWxzJztcblxuZXhwb3J0IGNsYXNzIExpbmtSZW5kZXJMYXllciBleHRlbmRzIEJhc2VSZW5kZXJMYXllciB7XG4gIHByaXZhdGUgX3N0YXRlOiBJTGlua0hvdmVyRXZlbnQgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHpJbmRleDogbnVtYmVyLCBjb2xvcnM6IElDb2xvclNldCwgdGVybWluYWw6IElMaW5raWZpZXJBY2Nlc3Nvcikge1xuICAgIHN1cGVyKGNvbnRhaW5lciwgJ2xpbmsnLCB6SW5kZXgsIHRydWUsIGNvbG9ycyk7XG4gICAgdGVybWluYWwubGlua2lmaWVyLm9uKExpbmtIb3ZlckV2ZW50VHlwZXMuSE9WRVIsIChlOiBJTGlua0hvdmVyRXZlbnQpID0+IHRoaXMuX29uTGlua0hvdmVyKGUpKTtcbiAgICB0ZXJtaW5hbC5saW5raWZpZXIub24oTGlua0hvdmVyRXZlbnRUeXBlcy5MRUFWRSwgKGU6IElMaW5rSG92ZXJFdmVudCkgPT4gdGhpcy5fb25MaW5rTGVhdmUoZSkpO1xuICB9XG5cbiAgcHVibGljIHJlc2l6ZSh0ZXJtaW5hbDogSVRlcm1pbmFsLCBkaW06IElSZW5kZXJEaW1lbnNpb25zKTogdm9pZCB7XG4gICAgc3VwZXIucmVzaXplKHRlcm1pbmFsLCBkaW0pO1xuICAgIC8vIFJlc2l6aW5nIHRoZSBjYW52YXMgZGlzY2FyZHMgdGhlIGNvbnRlbnRzIG9mIHRoZSBjYW52YXMgc28gY2xlYXIgc3RhdGVcbiAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gIH1cblxuICBwdWJsaWMgcmVzZXQodGVybWluYWw6IElUZXJtaW5hbCk6IHZvaWQge1xuICAgIHRoaXMuX2NsZWFyQ3VycmVudExpbmsoKTtcbiAgfVxuXG4gIHByaXZhdGUgX2NsZWFyQ3VycmVudExpbmsoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX3N0YXRlKSB7XG4gICAgICB0aGlzLmNsZWFyQ2VsbHModGhpcy5fc3RhdGUueDEsIHRoaXMuX3N0YXRlLnkxLCB0aGlzLl9zdGF0ZS5jb2xzIC0gdGhpcy5fc3RhdGUueDEsIDEpO1xuICAgICAgY29uc3QgbWlkZGxlUm93Q291bnQgPSB0aGlzLl9zdGF0ZS55MiAtIHRoaXMuX3N0YXRlLnkxIC0gMTtcbiAgICAgIGlmIChtaWRkbGVSb3dDb3VudCA+IDApIHtcbiAgICAgICAgdGhpcy5jbGVhckNlbGxzKDAsIHRoaXMuX3N0YXRlLnkxICsgMSwgdGhpcy5fc3RhdGUuY29scywgbWlkZGxlUm93Q291bnQpO1xuICAgICAgfVxuICAgICAgdGhpcy5jbGVhckNlbGxzKDAsIHRoaXMuX3N0YXRlLnkyLCB0aGlzLl9zdGF0ZS54MiwgMSk7XG4gICAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfb25MaW5rSG92ZXIoZTogSUxpbmtIb3ZlckV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGUuZmcgPT09IElOVkVSVEVEX0RFRkFVTFRfQ09MT1IpIHtcbiAgICAgIHRoaXMuX2N0eC5maWxsU3R5bGUgPSB0aGlzLl9jb2xvcnMuYmFja2dyb3VuZC5jc3M7XG4gICAgfSBlbHNlIGlmIChpczI1NkNvbG9yKGUuZmcpKSB7XG4gICAgICAvLyAyNTYgY29sb3Igc3VwcG9ydFxuICAgICAgdGhpcy5fY3R4LmZpbGxTdHlsZSA9IHRoaXMuX2NvbG9ycy5hbnNpW2UuZmddLmNzcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY3R4LmZpbGxTdHlsZSA9IHRoaXMuX2NvbG9ycy5mb3JlZ3JvdW5kLmNzcztcbiAgICB9XG5cbiAgICBpZiAoZS55MSA9PT0gZS55Mikge1xuICAgICAgLy8gU2luZ2xlIGxpbmUgbGlua1xuICAgICAgdGhpcy5maWxsQm90dG9tTGluZUF0Q2VsbHMoZS54MSwgZS55MSwgZS54MiAtIGUueDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBNdWx0aS1saW5lIGxpbmtcbiAgICAgIHRoaXMuZmlsbEJvdHRvbUxpbmVBdENlbGxzKGUueDEsIGUueTEsIGUuY29scyAtIGUueDEpO1xuICAgICAgZm9yIChsZXQgeSA9IGUueTEgKyAxOyB5IDwgZS55MjsgeSsrKSB7XG4gICAgICAgIHRoaXMuZmlsbEJvdHRvbUxpbmVBdENlbGxzKDAsIHksIGUuY29scyk7XG4gICAgICB9XG4gICAgICB0aGlzLmZpbGxCb3R0b21MaW5lQXRDZWxscygwLCBlLnkyLCBlLngyKTtcbiAgICB9XG4gICAgdGhpcy5fc3RhdGUgPSBlO1xuICB9XG5cbiAgcHJpdmF0ZSBfb25MaW5rTGVhdmUoZTogSUxpbmtIb3ZlckV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy5fY2xlYXJDdXJyZW50TGluaygpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL0xpbmtSZW5kZXJMYXllci50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///46\n')},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar Buffer_1 = __webpack_require__(0);\nvar CharacterJoinerRegistry = (function () {\n    function CharacterJoinerRegistry(_terminal) {\n        this._terminal = _terminal;\n        this._characterJoiners = [];\n        this._nextCharacterJoinerId = 0;\n    }\n    CharacterJoinerRegistry.prototype.registerCharacterJoiner = function (handler) {\n        var joiner = {\n            id: this._nextCharacterJoinerId++,\n            handler: handler\n        };\n        this._characterJoiners.push(joiner);\n        return joiner.id;\n    };\n    CharacterJoinerRegistry.prototype.deregisterCharacterJoiner = function (joinerId) {\n        for (var i = 0; i < this._characterJoiners.length; i++) {\n            if (this._characterJoiners[i].id === joinerId) {\n                this._characterJoiners.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    CharacterJoinerRegistry.prototype.getJoinedCharacters = function (row) {\n        if (this._characterJoiners.length === 0) {\n            return [];\n        }\n        var line = this._terminal.buffer.lines.get(row);\n        if (line.length === 0) {\n            return [];\n        }\n        var ranges = [];\n        var lineStr = this._terminal.buffer.translateBufferLineToString(row, true);\n        var rangeStartColumn = 0;\n        var currentStringIndex = 0;\n        var rangeStartStringIndex = 0;\n        var rangeAttr = line.get(0)[Buffer_1.CHAR_DATA_ATTR_INDEX] >> 9;\n        for (var x = 0; x < this._terminal.cols; x++) {\n            var charData = line.get(x);\n            var chars = charData[Buffer_1.CHAR_DATA_CHAR_INDEX];\n            var width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n            var attr = charData[Buffer_1.CHAR_DATA_ATTR_INDEX] >> 9;\n            if (width === 0) {\n                continue;\n            }\n            if (attr !== rangeAttr) {\n                if (x - rangeStartColumn > 1) {\n                    var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n                    for (var i = 0; i < joinedRanges.length; i++) {\n                        ranges.push(joinedRanges[i]);\n                    }\n                }\n                rangeStartColumn = x;\n                rangeStartStringIndex = currentStringIndex;\n                rangeAttr = attr;\n            }\n            currentStringIndex += chars.length;\n        }\n        if (this._terminal.cols - rangeStartColumn > 1) {\n            var joinedRanges = this._getJoinedRanges(lineStr, rangeStartStringIndex, currentStringIndex, line, rangeStartColumn);\n            for (var i = 0; i < joinedRanges.length; i++) {\n                ranges.push(joinedRanges[i]);\n            }\n        }\n        return ranges;\n    };\n    CharacterJoinerRegistry.prototype._getJoinedRanges = function (line, startIndex, endIndex, lineData, startCol) {\n        var text = line.substring(startIndex, endIndex);\n        var joinedRanges = this._characterJoiners[0].handler(text);\n        for (var i = 1; i < this._characterJoiners.length; i++) {\n            var joinerRanges = this._characterJoiners[i].handler(text);\n            for (var j = 0; j < joinerRanges.length; j++) {\n                CharacterJoinerRegistry._mergeRanges(joinedRanges, joinerRanges[j]);\n            }\n        }\n        this._stringRangesToCellRanges(joinedRanges, lineData, startCol);\n        return joinedRanges;\n    };\n    CharacterJoinerRegistry.prototype._stringRangesToCellRanges = function (ranges, line, startCol) {\n        var currentRangeIndex = 0;\n        var currentRangeStarted = false;\n        var currentStringIndex = 0;\n        var currentRange = ranges[currentRangeIndex];\n        if (!currentRange) {\n            return;\n        }\n        for (var x = startCol; x < this._terminal.cols; x++) {\n            var charData = line.get(x);\n            var width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n            var length_1 = charData[Buffer_1.CHAR_DATA_CHAR_INDEX].length;\n            if (width === 0) {\n                continue;\n            }\n            if (!currentRangeStarted && currentRange[0] <= currentStringIndex) {\n                currentRange[0] = x;\n                currentRangeStarted = true;\n            }\n            if (currentRange[1] <= currentStringIndex) {\n                currentRange[1] = x;\n                currentRange = ranges[++currentRangeIndex];\n                if (!currentRange) {\n                    break;\n                }\n                if (currentRange[0] <= currentStringIndex) {\n                    currentRange[0] = x;\n                    currentRangeStarted = true;\n                }\n                else {\n                    currentRangeStarted = false;\n                }\n            }\n            currentStringIndex += length_1;\n        }\n        if (currentRange) {\n            currentRange[1] = this._terminal.cols;\n        }\n    };\n    CharacterJoinerRegistry._mergeRanges = function (ranges, newRange) {\n        var inRange = false;\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            if (!inRange) {\n                if (newRange[1] <= range[0]) {\n                    ranges.splice(i, 0, newRange);\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    return ranges;\n                }\n                if (newRange[0] < range[1]) {\n                    range[0] = Math.min(newRange[0], range[0]);\n                    inRange = true;\n                }\n                continue;\n            }\n            else {\n                if (newRange[1] <= range[0]) {\n                    ranges[i - 1][1] = newRange[1];\n                    return ranges;\n                }\n                if (newRange[1] <= range[1]) {\n                    ranges[i - 1][1] = Math.max(newRange[1], range[1]);\n                    ranges.splice(i, 1);\n                    inRange = false;\n                    return ranges;\n                }\n                ranges.splice(i, 1);\n                i--;\n            }\n        }\n        if (inRange) {\n            ranges[ranges.length - 1][1] = newRange[1];\n        }\n        else {\n            ranges.push(newRange);\n        }\n        return ranges;\n    };\n    return CharacterJoinerRegistry;\n}());\nexports.CharacterJoinerRegistry = CharacterJoinerRegistry;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL0NoYXJhY3RlckpvaW5lclJlZ2lzdHJ5LnRzPzRjNjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxzQ0FBOEY7QUFJOUY7SUFLRSxpQ0FBb0IsU0FBb0I7UUFBcEIsY0FBUyxHQUFULFNBQVMsQ0FBVztRQUhoQyxzQkFBaUIsR0FBdUIsRUFBRSxDQUFDO1FBQzNDLDJCQUFzQixHQUFXLENBQUMsQ0FBQztJQUczQyxDQUFDO0lBRU0seURBQXVCLEdBQTlCLFVBQStCLE9BQTZDO1FBQzFFLElBQU0sTUFBTSxHQUFxQjtZQUMvQixFQUFFLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixFQUFFO1lBQ2pDLE9BQU87U0FDUixDQUFDO1FBRUYsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNwQyxPQUFPLE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDbkIsQ0FBQztJQUVNLDJEQUF5QixHQUFoQyxVQUFpQyxRQUFnQjtRQUMvQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN0RCxJQUFJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssUUFBUSxFQUFFO2dCQUM3QyxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDcEMsT0FBTyxJQUFJLENBQUM7YUFDYjtTQUNGO1FBRUQsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRU0scURBQW1CLEdBQTFCLFVBQTJCLEdBQVc7UUFDcEMsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUN2QyxPQUFPLEVBQUUsQ0FBQztTQUNYO1FBRUQsSUFBTSxJ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QyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ25ELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUNwQixPQUFPLEdBQUcsS0FBSyxDQUFDO29CQUNoQixPQUFPLE1BQU0sQ0FBQztpQkFDZjtnQkFJRCxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDcEIsQ0FBQyxFQUFFLENBQUM7YUFDTDtTQUNGO1FBRUQsSUFBSSxPQUFPLEVBQUU7WUFFWCxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDNUM7YUFBTTtZQUVMLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDdkI7UUFFRCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0lBQ0gsOEJBQUM7QUFBRCxDQUFDO0FBL1FZLDBEQUF1QiIsImZpbGUiOiI0Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENIQVJfREFUQV9BVFRSX0lOREVYLCBDSEFSX0RBVEFfV0lEVEhfSU5ERVgsIENIQVJfREFUQV9DSEFSX0lOREVYIH0gZnJvbSAnLi4vQnVmZmVyJztcbmltcG9ydCB7IElUZXJtaW5hbCwgSUJ1ZmZlckxpbmUgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBJQ2hhcmFjdGVySm9pbmVyUmVnaXN0cnksIElDaGFyYWN0ZXJKb2luZXIgfSBmcm9tICcuL1R5cGVzJztcblxuZXhwb3J0IGNsYXNzIENoYXJhY3RlckpvaW5lclJlZ2lzdHJ5IGltcGxlbWVudHMgSUNoYXJhY3RlckpvaW5lclJlZ2lzdHJ5IHtcblxuICBwcml2YXRlIF9jaGFyYWN0ZXJKb2luZXJzOiBJQ2hhcmFjdGVySm9pbmVyW10gPSBbXTtcbiAgcHJpdmF0ZSBfbmV4dENoYXJhY3RlckpvaW5lcklkOiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX3Rlcm1pbmFsOiBJVGVybWluYWwpIHtcbiAgfVxuXG4gIHB1YmxpYyByZWdpc3RlckNoYXJhY3RlckpvaW5lcihoYW5kbGVyOiAodGV4dDogc3RyaW5nKSA9PiBbbnVtYmVyLCBudW1iZXJdW10pOiBudW1iZXIge1xuICAgIGNvbnN0IGpvaW5lcjogSUNoYXJhY3RlckpvaW5lciA9IHtcbiAgICAgIGlkOiB0aGlzLl9uZXh0Q2hhcmFjdGVySm9pbmVySWQrKyxcbiAgICAgIGhhbmRsZXJcbiAgICB9O1xuXG4gICAgdGhpcy5fY2hhcmFjdGVySm9pbmVycy5wdXNoKGpvaW5lcik7XG4gICAgcmV0dXJuIGpvaW5lci5pZDtcbiAgfVxuXG4gIHB1YmxpYyBkZXJlZ2lzdGVyQ2hhcmFjdGVySm9pbmVyKGpvaW5lcklkOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2NoYXJhY3RlckpvaW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl9jaGFyYWN0ZXJKb2luZXJzW2ldLmlkID09PSBqb2luZXJJZCkge1xuICAgICAgICB0aGlzLl9jaGFyYWN0ZXJKb2luZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGdldEpvaW5lZENoYXJhY3RlcnMocm93OiBudW1iZXIpOiBbbnVtYmVyLCBudW1iZXJdW10ge1xuICAgIGlmICh0aGlzLl9jaGFyYWN0ZXJKb2luZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbnN0IGxpbmUgPSB0aGlzLl90ZXJtaW5hbC5idWZmZXIubGluZXMuZ2V0KHJvdyk7XG4gICAgaWYgKGxpbmUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgcmFuZ2VzOiBbbnVtYmVyLCBudW1iZXJdW10gPSBbXTtcbiAgICBjb25zdCBsaW5lU3RyID0gdGhpcy5fdGVybWluYWwuYnVmZmVyLnRyYW5zbGF0ZUJ1ZmZlckxpbmVUb1N0cmluZyhyb3csIHRydWUpO1xuXG4gICAgLy8gQmVjYXVzZSBzb21lIGNlbGxzIGNhbiBiZSByZXByZXNlbnRlZCBieSBtdWx0aXBsZSBqYXZhc2NyaXB0IGNoYXJhY3RlcnMsXG4gICAgLy8gd2UgdHJhY2sgdGhlIGNlbGwgYW5kIHRoZSBzdHJpbmcgaW5kZXhlcyBzZXBhcmF0ZWx5LiBUaGlzIGFsbG93cyB1cyB0b1xuICAgIC8vIHRyYW5zbGF0ZSB0aGUgc3RyaW5nIHJhbmdlcyB3ZSBnZXQgZnJvbSB0aGUgam9pbmVycyBiYWNrIGludG8gY2VsbCByYW5nZXNcbiAgICAvLyBmb3IgdXNlIHdoZW4gcmVuZGVyaW5nXG4gICAgbGV0IHJhbmdlU3RhcnRDb2x1bW4gPSAwO1xuICAgIGxldCBjdXJyZW50U3RyaW5nSW5kZXggPSAwO1xuICAgIGxldCByYW5nZVN0YXJ0U3RyaW5nSW5kZXggPSAwO1xuICAgIGxldCByYW5nZUF0dHIgPSBsaW5lLmdldCgwKVtDSEFSX0RBVEFfQVRUUl9JTkRFWF0gPj4gOTtcblxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5fdGVybWluYWwuY29sczsgeCsrKSB7XG4gICAgICBjb25zdCBjaGFyRGF0YSA9IGxpbmUuZ2V0KHgpO1xuICAgICAgY29uc3QgY2hhcnMgPSBjaGFyRGF0YVtDSEFSX0RBVEFfQ0hBUl9JTkRFWF07XG4gICAgICBjb25zdCB3aWR0aCA9IGNoYXJEYXRhW0NIQVJfREFUQV9XSURUSF9JTkRFWF07XG4gICAgICBjb25zdCBhdHRyID0gY2hhckRhdGFbQ0hBUl9EQVRBX0FUVFJfSU5ERVhdID4+IDk7XG5cbiAgICAgIGlmICh3aWR0aCA9PT0gMCkge1xuICAgICAgICAvLyBJZiB0aGlzIGNoYXJhY3RlciBpcyBvZiB3aWR0aCAwLCBza2lwIGl0LlxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gRW5kIG9mIHJhbmdlXG4gICAgICBpZiAoYXR0ciAhPT0gcmFuZ2VBdHRyKSB7XG4gICAgICAgIC8vIElmIHdlIGVuZGVkIHVwIHdpdGggYSBzZXF1ZW5jZSBvZiBtb3JlIHRoYW4gb25lIGNoYXJhY3RlcixcbiAgICAgICAgLy8gbG9vayBmb3IgcmFuZ2VzIHRvIGpvaW4uXG4gICAgICAgIGlmICh4IC0gcmFuZ2VTdGFydENvbHVtbiA+IDEpIHtcbiAgICAgICAgICBjb25zdCBqb2luZWRSYW5nZXMgPSB0aGlzLl9nZXRKb2luZWRSYW5nZXMoXG4gICAgICAgICAgICBsaW5lU3RyLFxuICAgICAgICAgICAgcmFuZ2VTdGFydFN0cmluZ0luZGV4LFxuICAgICAgICAgICAgY3VycmVudFN0cmluZ0luZGV4LFxuICAgICAgICAgICAgbGluZSxcbiAgICAgICAgICAgIHJhbmdlU3RhcnRDb2x1bW5cbiAgICAgICAgICApO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgam9pbmVkUmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByYW5nZXMucHVzaChqb2luZWRSYW5nZXNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlc2V0IG91ciBtYXJrZXJzIGZvciBhIG5ldyByYW5nZS5cbiAgICAgICAgcmFuZ2VTdGFydENvbHVtbiA9IHg7XG4gICAgICAgIHJhbmdlU3RhcnRTdHJpbmdJbmRleCA9IGN1cnJlbnRTdHJpbmdJbmRleDtcbiAgICAgICAgcmFuZ2VBdHRyID0gYXR0cjtcbiAgICAgIH1cblxuICAgICAgY3VycmVudFN0cmluZ0luZGV4ICs9IGNoYXJzLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzIGFueSB0cmFpbGluZyByYW5nZXMuXG4gICAgaWYgKHRoaXMuX3Rlcm1pbmFsLmNvbHMgLSByYW5nZVN0YXJ0Q29sdW1uID4gMSkge1xuICAgICAgY29uc3Qgam9pbmVkUmFuZ2VzID0gdGhpcy5fZ2V0Sm9pbmVkUmFuZ2VzKFxuICAgICAgICBsaW5lU3RyLFxuICAgICAgICByYW5nZVN0YXJ0U3RyaW5nSW5kZXgsXG4gICAgICAgIGN1cnJlbnRTdHJpbmdJbmRleCxcbiAgICAgICAgbGluZSxcbiAgICAgICAgcmFuZ2VTdGFydENvbHVtblxuICAgICAgKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgam9pbmVkUmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJhbmdlcy5wdXNoKGpvaW5lZFJhbmdlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHaXZlbiBhIHNlZ21lbnQgb2YgYSBsaW5lIG9mIHRleHQsIGZpbmQgYWxsIHJhbmdlcyBvZiB0ZXh0IHRoYXQgc2hvdWxkIGJlXG4gICAqIGpvaW5lZCBpbiBhIHNpbmdsZSByZW5kZXJpbmcgdW5pdC4gUmFuZ2VzIGFyZSBpbnRlcm5hbGx5IGNvbnZlcnRlZCB0b1xuICAgKiBjb2x1bW4gcmFuZ2VzLCByYXRoZXIgdGhhbiBzdHJpbmcgcmFuZ2VzLlxuICAgKiBAcGFyYW0gbGluZSBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGZ1bGwgbGluZSBvZiB0ZXh0XG4gICAqIEBwYXJhbSBzdGFydEluZGV4IFN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByYW5nZSB0byBzZWFyY2ggaW4gdGhlIHN0cmluZyAoaW5jbHVzaXZlKVxuICAgKiBAcGFyYW0gZW5kSW5kZXggRW5kIHBvc2l0aW9uIG9mIHRoZSByYW5nZSB0byBzZWFyY2ggaW4gdGhlIHN0cmluZyAoZXhjbHVzaXZlKVxuICAgKi9cbiAgcHJpdmF0ZSBfZ2V0Sm9pbmVkUmFuZ2VzKGxpbmU6IHN0cmluZywgc3RhcnRJbmRleDogbnVtYmVyLCBlbmRJbmRleDogbnVtYmVyLCBsaW5lRGF0YTogSUJ1ZmZlckxpbmUsIHN0YXJ0Q29sOiBudW1iZXIpOiBbbnVtYmVyLCBudW1iZXJdW10ge1xuICAgIGNvbnN0IHRleHQgPSBsaW5lLnN1YnN0cmluZyhzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gICAgLy8gQXQgdGhpcyBwb2ludCB3ZSBhbHJlYWR5IGtub3cgdGhhdCB0aGVyZSBpcyBhdCBsZWFzdCBvbmUgam9pbmVyIHNvXG4gICAgLy8gd2UgY2FuIGp1c3QgcHVsbCBpdHMgdmFsdWUgYW5kIGFzc2lnbiBpdCBkaXJlY3RseSByYXRoZXIgdGhhblxuICAgIC8vIG1lcmdpbmcgaXQgaW50byBhbiBlbXB0eSBhcnJheSwgd2hpY2ggaW5jdXJzIHVubmVjZXNzYXJ5IHdyaXRlcy5cbiAgICBjb25zdCBqb2luZWRSYW5nZXM6IFtudW1iZXIsIG51bWJlcl1bXSA9IHRoaXMuX2NoYXJhY3RlckpvaW5lcnNbMF0uaGFuZGxlcih0ZXh0KTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMuX2NoYXJhY3RlckpvaW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIFdlIG1lcmdlIGFueSBvdmVybGFwcGluZyByYW5nZXMgYWNyb3NzIHRoZSBkaWZmZXJlbnQgam9pbmVyc1xuICAgICAgY29uc3Qgam9pbmVyUmFuZ2VzID0gdGhpcy5fY2hhcmFjdGVySm9pbmVyc1tpXS5oYW5kbGVyKHRleHQpO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBqb2luZXJSYW5nZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgQ2hhcmFjdGVySm9pbmVyUmVnaXN0cnkuX21lcmdlUmFuZ2VzKGpvaW5lZFJhbmdlcywgam9pbmVyUmFuZ2VzW2pdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fc3RyaW5nUmFuZ2VzVG9DZWxsUmFuZ2VzKGpvaW5lZFJhbmdlcywgbGluZURhdGEsIHN0YXJ0Q29sKTtcbiAgICByZXR1cm4gam9pbmVkUmFuZ2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vZGlmaWVzIHRoZSBwcm92aWRlZCByYW5nZXMgaW4tcGxhY2UgdG8gYWRqdXN0IGZvciB2YXJpYXRpb25zIGJldHdlZW5cbiAgICogc3RyaW5nIGxlbmd0aCBhbmQgY2VsbCB3aWR0aCBzbyB0aGF0IHRoZSByYW5nZSByZXByZXNlbnRzIGEgY2VsbCByYW5nZSxcbiAgICogcmF0aGVyIHRoYW4gdGhlIHN0cmluZyByYW5nZSB0aGUgam9pbmVyIHByb3ZpZGVzLlxuICAgKiBAcGFyYW0gcmFuZ2VzIFN0cmluZyByYW5nZXMgY29udGFpbmluZyBzdGFydCAoaW5jbHVzaXZlKSBhbmQgZW5kIChleGNsdXNpdmUpIGluZGV4XG4gICAqIEBwYXJhbSBsaW5lIENlbGwgZGF0YSBmb3IgdGhlIHJlbGV2YW50IGxpbmUgaW4gdGhlIHRlcm1pbmFsXG4gICAqIEBwYXJhbSBzdGFydENvbCBPZmZzZXQgd2l0aGluIHRoZSBsaW5lIHRvIHN0YXJ0IGZyb21cbiAgICovXG4gIHByaXZhdGUgX3N0cmluZ1Jhbmdlc1RvQ2VsbFJhbmdlcyhyYW5nZXM6IFtudW1iZXIsIG51bWJlcl1bXSwgbGluZTogSUJ1ZmZlckxpbmUsIHN0YXJ0Q29sOiBudW1iZXIpOiB2b2lkIHtcbiAgICBsZXQgY3VycmVudFJhbmdlSW5kZXggPSAwO1xuICAgIGxldCBjdXJyZW50UmFuZ2VTdGFydGVkID0gZmFsc2U7XG4gICAgbGV0IGN1cnJlbnRTdHJpbmdJbmRleCA9IDA7XG4gICAgbGV0IGN1cnJlbnRSYW5nZSA9IHJhbmdlc1tjdXJyZW50UmFuZ2VJbmRleF07XG5cbiAgICAvLyBJZiB3ZSBnb3QgdGhyb3VnaCBhbGwgb2YgdGhlIHJhbmdlcywgc3RvcCBzZWFyY2hpbmdcbiAgICBpZiAoIWN1cnJlbnRSYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IHggPSBzdGFydENvbDsgeCA8IHRoaXMuX3Rlcm1pbmFsLmNvbHM7IHgrKykge1xuICAgICAgY29uc3QgY2hhckRhdGEgPSBsaW5lLmdldCh4KTtcbiAgICAgIGNvbnN0IHdpZHRoID0gY2hhckRhdGFbQ0hBUl9EQVRBX1dJRFRIX0lOREVYXTtcbiAgICAgIGNvbnN0IGxlbmd0aCA9IGNoYXJEYXRhW0NIQVJfREFUQV9DSEFSX0lOREVYXS5sZW5ndGg7XG5cbiAgICAgIC8vIFdlIHNraXAgemVyby13aWR0aCBjaGFyYWN0ZXJzIHdoZW4gY3JlYXRpbmcgdGhlIHN0cmluZyB0byBqb2luIHRoZSB0ZXh0XG4gICAgICAvLyBzbyB3ZSBkbyB0aGUgc2FtZSBoZXJlXG4gICAgICBpZiAod2lkdGggPT09IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkanVzdCB0aGUgc3RhcnQgb2YgdGhlIHJhbmdlXG4gICAgICBpZiAoIWN1cnJlbnRSYW5nZVN0YXJ0ZWQgJiYgY3VycmVudFJhbmdlWzBdIDw9IGN1cnJlbnRTdHJpbmdJbmRleCkge1xuICAgICAgICBjdXJyZW50UmFuZ2VbMF0gPSB4O1xuICAgICAgICBjdXJyZW50UmFuZ2VTdGFydGVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRqdXN0IHRoZSBlbmQgb2YgdGhlIHJhbmdlXG4gICAgICBpZiAoY3VycmVudFJhbmdlWzFdIDw9IGN1cnJlbnRTdHJpbmdJbmRleCkge1xuICAgICAgICBjdXJyZW50UmFuZ2VbMV0gPSB4O1xuXG4gICAgICAgIC8vIFdlJ3JlIGZpbmlzaGVkIHdpdGggdGhpcyByYW5nZSwgc28gd2UgbW92ZSB0byB0aGUgbmV4dCBvbmVcbiAgICAgICAgY3VycmVudFJhbmdlID0gcmFuZ2VzWysrY3VycmVudFJhbmdlSW5kZXhdO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBtb3JlIHJhbmdlcyBsZWZ0LCBzdG9wIHNlYXJjaGluZ1xuICAgICAgICBpZiAoIWN1cnJlbnRSYW5nZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmFuZ2VzIGNhbiBiZSBvbiBhZGphY2VudCBjaGFyYWN0ZXJzLiBCZWNhdXNlIHRoZSBlbmQgaW5kZXggb2YgdGhlXG4gICAgICAgIC8vIHJhbmdlcyBhcmUgZXhjbHVzaXZlLCB0aGlzIG1lYW5zIHRoYXQgdGhlIGluZGV4IGZvciB0aGUgc3RhcnQgb2YgYVxuICAgICAgICAvLyByYW5nZSBjYW4gYmUgdGhlIHNhbWUgYXMgdGhlIGVuZCBpbmRleCBvZiB0aGUgcHJldmlvdXMgcmFuZ2UuIFRvXG4gICAgICAgIC8vIGFjY291bnQgZm9yIHRoZSBzdGFydCBvZiB0aGUgbmV4dCByYW5nZSwgd2UgY2hlY2sgaGVyZSBqdXN0IGluIGNhc2UuXG4gICAgICAgIGlmIChjdXJyZW50UmFuZ2VbMF0gPD0gY3VycmVudFN0cmluZ0luZGV4KSB7XG4gICAgICAgICAgY3VycmVudFJhbmdlWzBdID0geDtcbiAgICAgICAgICBjdXJyZW50UmFuZ2VTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50UmFuZ2VTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWRqdXN0IHRoZSBzdHJpbmcgaW5kZXggYmFzZWQgb24gdGhlIGNoYXJhY3RlciBsZW5ndGggdG8gbGluZSB1cCB3aXRoXG4gICAgICAvLyB0aGUgY29sdW1uIGFkanVzdG1lbnRcbiAgICAgIGN1cnJlbnRTdHJpbmdJbmRleCArPSBsZW5ndGg7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUgaXMgc3RpbGwgYSByYW5nZSBsZWZ0IGF0IHRoZSBlbmQsIGl0IG11c3QgZXh0ZW5kIGFsbCB0aGUgd2F5IHRvXG4gICAgLy8gdGhlIGVuZCBvZiB0aGUgbGluZS5cbiAgICBpZiAoY3VycmVudFJhbmdlKSB7XG4gICAgICBjdXJyZW50UmFuZ2VbMV0gPSB0aGlzLl90ZXJtaW5hbC5jb2xzO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNZXJnZXMgdGhlIHJhbmdlIGRlZmluZWQgYnkgdGhlIHByb3ZpZGVkIHN0YXJ0IGFuZCBlbmQgaW50byB0aGUgbGlzdCBvZlxuICAgKiBleGlzdGluZyByYW5nZXMuIFRoZSBtZXJnZSBpcyBkb25lIGluIHBsYWNlIG9uIHRoZSBleGlzdGluZyByYW5nZSBmb3JcbiAgICogcGVyZm9ybWFuY2UgYW5kIGlzIGFsc28gcmV0dXJuZWQuXG4gICAqIEBwYXJhbSByYW5nZXMgRXhpc3RpbmcgcmFuZ2UgbGlzdFxuICAgKiBAcGFyYW0gbmV3UmFuZ2UgVHVwbGUgb2YgdHdvIG51bWJlcnMgcmVwcmVzZW50aW5nIHRoZSBuZXcgcmFuZ2UgdG8gbWVyZ2UgaW4uXG4gICAqIEByZXR1cm5zIFRoZSByYW5nZXMgaW5wdXQgd2l0aCB0aGUgbmV3IHJhbmdlIG1lcmdlZCBpbiBwbGFjZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX21lcmdlUmFuZ2VzKHJhbmdlczogW251bWJlciwgbnVtYmVyXVtdLCBuZXdSYW5nZTogW251bWJlciwgbnVtYmVyXSk6IFtudW1iZXIsIG51bWJlcl1bXSB7XG4gICAgbGV0IGluUmFuZ2UgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcmFuZ2UgPSByYW5nZXNbaV07XG4gICAgICBpZiAoIWluUmFuZ2UpIHtcbiAgICAgICAgaWYgKG5ld1JhbmdlWzFdIDw9IHJhbmdlWzBdKSB7XG4gICAgICAgICAgLy8gQ2FzZSAxOiBOZXcgcmFuZ2UgaXMgYmVmb3JlIHRoZSBzZWFyY2ggcmFuZ2VcbiAgICAgICAgICByYW5nZXMuc3BsaWNlKGksIDAsIG5ld1JhbmdlKTtcbiAgICAgICAgICByZXR1cm4gcmFuZ2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld1JhbmdlWzFdIDw9IHJhbmdlWzFdKSB7XG4gICAgICAgICAgLy8gQ2FzZSAyOiBOZXcgcmFuZ2UgaXMgZWl0aGVyIHdob2xseSBjb250YWluZWQgd2l0aGluIHRoZVxuICAgICAgICAgIC8vIHNlYXJjaCByYW5nZSBvciBvdmVybGFwcyB3aXRoIHRoZSBmcm9udCBvZiBpdFxuICAgICAgICAgIHJhbmdlWzBdID0gTWF0aC5taW4obmV3UmFuZ2VbMF0sIHJhbmdlWzBdKTtcbiAgICAgICAgICByZXR1cm4gcmFuZ2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld1JhbmdlWzBdIDwgcmFuZ2VbMV0pIHtcbiAgICAgICAgICAvLyBDYXNlIDM6IE5ldyByYW5nZSBlaXRoZXIgd2hvbGx5IGNvbnRhaW5zIHRoZSBzZWFyY2ggcmFuZ2VcbiAgICAgICAgICAvLyBvciBvdmVybGFwcyB3aXRoIHRoZSBlbmQgb2YgaXRcbiAgICAgICAgICByYW5nZVswXSA9IE1hdGgubWluKG5ld1JhbmdlWzBdLCByYW5nZVswXSk7XG4gICAgICAgICAgaW5SYW5nZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYXNlIDQ6IE5ldyByYW5nZSBzdGFydHMgYWZ0ZXIgdGhlIHNlYXJjaCByYW5nZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChuZXdSYW5nZVsxXSA8PSByYW5nZVswXSkge1xuICAgICAgICAgIC8vIENhc2UgNTogTmV3IHJhbmdlIGV4dGVuZHMgZnJvbSBwcmV2aW91cyByYW5nZSBidXQgZG9lc24ndFxuICAgICAgICAgIC8vIHJlYWNoIHRoZSBjdXJyZW50IG9uZVxuICAgICAgICAgIHJhbmdlc1tpIC0gMV1bMV0gPSBuZXdSYW5nZVsxXTtcbiAgICAgICAgICByZXR1cm4gcmFuZ2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld1JhbmdlWzFdIDw9IHJhbmdlWzFdKSB7XG4gICAgICAgICAgLy8gQ2FzZSA2OiBOZXcgcmFuZ2UgZXh0ZW5kcyBmcm9tIHBydmlvdXMgcmFuZ2UgaW50byB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IHJhbmdlXG4gICAgICAgICAgcmFuZ2VzW2kgLSAxXVsxXSA9IE1hdGgubWF4KG5ld1JhbmdlWzFdLCByYW5nZVsxXSk7XG4gICAgICAgICAgcmFuZ2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICBpblJhbmdlID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHJhbmdlcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhc2UgNzogTmV3IHJhbmdlIGV4dGVuZHMgZnJvbSBwcmV2aW91cyByYW5nZSBwYXN0IHRoZVxuICAgICAgICAvLyBlbmQgb2YgdGhlIGN1cnJlbnQgcmFuZ2VcbiAgICAgICAgcmFuZ2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgaS0tO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpblJhbmdlKSB7XG4gICAgICAvLyBDYXNlIDg6IE5ldyByYW5nZSBleHRlbmRzIHBhc3QgdGhlIGxhc3QgZXhpc3RpbmcgcmFuZ2VcbiAgICAgIHJhbmdlc1tyYW5nZXMubGVuZ3RoIC0gMV1bMV0gPSBuZXdSYW5nZVsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2FzZSA5OiBOZXcgcmFuZ2Ugc3RhcnRzIGFmdGVyIHRoZSBsYXN0IGV4aXN0aW5nIHJhbmdlXG4gICAgICByYW5nZXMucHVzaChuZXdSYW5nZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlcztcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3h0ZXJtL3NyYy9yZW5kZXJlci9DaGFyYWN0ZXJKb2luZXJSZWdpc3RyeS50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///47\n')},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseZoneManager_1 = __webpack_require__(17);\nvar EventEmitter_1 = __webpack_require__(2);\nvar Buffer_1 = __webpack_require__(0);\nvar CharWidth_1 = __webpack_require__(13);\nvar Linkifier = (function (_super) {\n    __extends(Linkifier, _super);\n    function Linkifier(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._linkMatchers = [];\n        _this._nextLinkMatcherId = 0;\n        _this._rowsToLinkify = {\n            start: null,\n            end: null\n        };\n        return _this;\n    }\n    Linkifier.prototype.attachToDom = function (mouseZoneManager) {\n        this._mouseZoneManager = mouseZoneManager;\n    };\n    Linkifier.prototype.linkifyRows = function (start, end) {\n        var _this = this;\n        if (!this._mouseZoneManager) {\n            return;\n        }\n        if (this._rowsToLinkify.start === null) {\n            this._rowsToLinkify.start = start;\n            this._rowsToLinkify.end = end;\n        }\n        else {\n            this._rowsToLinkify.start = Math.min(this._rowsToLinkify.start, start);\n            this._rowsToLinkify.end = Math.max(this._rowsToLinkify.end, end);\n        }\n        this._mouseZoneManager.clearAll(start, end);\n        if (this._rowsTimeoutId) {\n            clearTimeout(this._rowsTimeoutId);\n        }\n        this._rowsTimeoutId = setTimeout(function () { return _this._linkifyRows(); }, Linkifier.TIME_BEFORE_LINKIFY);\n    };\n    Linkifier.prototype._linkifyRows = function () {\n        this._rowsTimeoutId = null;\n        var buffer = this._terminal.buffer;\n        var absoluteRowIndexStart = buffer.ydisp + this._rowsToLinkify.start;\n        if (absoluteRowIndexStart >= buffer.lines.length) {\n            return;\n        }\n        var absoluteRowIndexEnd = buffer.ydisp + Math.min(this._rowsToLinkify.end, this._terminal.rows) + 1;\n        var overscanLineLimit = Math.ceil(Linkifier.OVERSCAN_CHAR_LIMIT / this._terminal.cols);\n        var iterator = this._terminal.buffer.iterator(false, absoluteRowIndexStart, absoluteRowIndexEnd, overscanLineLimit, overscanLineLimit);\n        while (iterator.hasNext()) {\n            var lineData = iterator.next();\n            for (var i = 0; i < this._linkMatchers.length; i++) {\n                this._doLinkifyRow(lineData.range.first, lineData.content, this._linkMatchers[i]);\n            }\n        }\n        this._rowsToLinkify.start = null;\n        this._rowsToLinkify.end = null;\n    };\n    Linkifier.prototype.registerLinkMatcher = function (regex, handler, options) {\n        if (options === void 0) { options = {}; }\n        if (!handler) {\n            throw new Error('handler must be defined');\n        }\n        var matcher = {\n            id: this._nextLinkMatcherId++,\n            regex: regex,\n            handler: handler,\n            matchIndex: options.matchIndex,\n            validationCallback: options.validationCallback,\n            hoverTooltipCallback: options.tooltipCallback,\n            hoverLeaveCallback: options.leaveCallback,\n            willLinkActivate: options.willLinkActivate,\n            priority: options.priority || 0\n        };\n        this._addLinkMatcherToList(matcher);\n        return matcher.id;\n    };\n    Linkifier.prototype._addLinkMatcherToList = function (matcher) {\n        if (this._linkMatchers.length === 0) {\n            this._linkMatchers.push(matcher);\n            return;\n        }\n        for (var i = this._linkMatchers.length - 1; i >= 0; i--) {\n            if (matcher.priority <= this._linkMatchers[i].priority) {\n                this._linkMatchers.splice(i + 1, 0, matcher);\n                return;\n            }\n        }\n        this._linkMatchers.splice(0, 0, matcher);\n    };\n    Linkifier.prototype.deregisterLinkMatcher = function (matcherId) {\n        for (var i = 0; i < this._linkMatchers.length; i++) {\n            if (this._linkMatchers[i].id === matcherId) {\n                this._linkMatchers.splice(i, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    Linkifier.prototype._doLinkifyRow = function (rowIndex, text, matcher) {\n        var _this = this;\n        var rex = new RegExp(matcher.regex.source, matcher.regex.flags + 'g');\n        var match;\n        var stringIndex = -1;\n        var _loop_1 = function () {\n            var uri = match[typeof matcher.matchIndex !== 'number' ? 0 : matcher.matchIndex];\n            if (!uri) {\n                if (this_1._terminal.debug) {\n                    console.log({ match: match, matcher: matcher });\n                    throw new Error('match found without corresponding matchIndex');\n                }\n                return \"break\";\n            }\n            stringIndex = text.indexOf(uri, stringIndex + 1);\n            rex.lastIndex = stringIndex + uri.length;\n            var bufferIndex = this_1._terminal.buffer.stringIndexToBufferIndex(rowIndex, stringIndex);\n            var line = this_1._terminal.buffer.lines.get(bufferIndex[0]);\n            var char = line.get(bufferIndex[1]);\n            var fg;\n            if (char) {\n                var attr = char[Buffer_1.CHAR_DATA_ATTR_INDEX];\n                fg = (attr >> 9) & 0x1ff;\n            }\n            if (matcher.validationCallback) {\n                matcher.validationCallback(uri, function (isValid) {\n                    if (_this._rowsTimeoutId) {\n                        return;\n                    }\n                    if (isValid) {\n                        _this._addLink(bufferIndex[1], bufferIndex[0] - _this._terminal.buffer.ydisp, uri, matcher, fg);\n                    }\n                });\n            }\n            else {\n                this_1._addLink(bufferIndex[1], bufferIndex[0] - this_1._terminal.buffer.ydisp, uri, matcher, fg);\n            }\n        };\n        var this_1 = this;\n        while ((match = rex.exec(text)) !== null) {\n            var state_1 = _loop_1();\n            if (state_1 === \"break\")\n                break;\n        }\n    };\n    Linkifier.prototype._addLink = function (x, y, uri, matcher, fg) {\n        var _this = this;\n        var width = CharWidth_1.getStringCellWidth(uri);\n        var x1 = x % this._terminal.cols;\n        var y1 = y + Math.floor(x / this._terminal.cols);\n        var x2 = (x1 + width) % this._terminal.cols;\n        var y2 = y1 + Math.floor((x1 + width) / this._terminal.cols);\n        if (x2 === 0) {\n            x2 = this._terminal.cols;\n            y2--;\n        }\n        this._mouseZoneManager.add(new MouseZoneManager_1.MouseZone(x1 + 1, y1 + 1, x2 + 1, y2 + 1, function (e) {\n            if (matcher.handler) {\n                return matcher.handler(e, uri);\n            }\n            window.open(uri, '_blank');\n        }, function (e) {\n            _this.emit(\"linkhover\", _this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.add('xterm-cursor-pointer');\n        }, function (e) {\n            _this.emit(\"linktooltip\", _this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            if (matcher.hoverTooltipCallback) {\n                matcher.hoverTooltipCallback(e, uri);\n            }\n        }, function () {\n            _this.emit(\"linkleave\", _this._createLinkHoverEvent(x1, y1, x2, y2, fg));\n            _this._terminal.element.classList.remove('xterm-cursor-pointer');\n            if (matcher.hoverLeaveCallback) {\n                matcher.hoverLeaveCallback();\n            }\n        }, function (e) {\n            if (matcher.willLinkActivate) {\n                return matcher.willLinkActivate(e, uri);\n            }\n            return true;\n        }));\n    };\n    Linkifier.prototype._createLinkHoverEvent = function (x1, y1, x2, y2, fg) {\n        return { x1: x1, y1: y1, x2: x2, y2: y2, cols: this._terminal.cols, fg: fg };\n    };\n    Linkifier.TIME_BEFORE_LINKIFY = 200;\n    Linkifier.OVERSCAN_CHAR_LIMIT = 2000;\n    return Linkifier;\n}(EventEmitter_1.EventEmitter));\nexports.Linkifier = Linkifier;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL0xpbmtpZmllci50cz84NzU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQU9BLGlEQUFrRDtBQUNsRCw0Q0FBcUQ7QUFDckQsc0NBQWdEO0FBQ2hELDBDQUFpRDtBQUtqRDtJQUErQiw2QkFBWTtJQXNCekMsbUJBQ1ksU0FBb0I7UUFEaEMsWUFHRSxpQkFBTyxTQUtSO1FBUFcsZUFBUyxHQUFULFNBQVMsQ0FBVztRQVJ0QixtQkFBYSxHQUFtQixFQUFFLENBQUM7UUFJckMsd0JBQWtCLEdBQUcsQ0FBQyxDQUFDO1FBTzdCLEtBQUksQ0FBQyxjQUFjLEdBQUc7WUFDcEIsS0FBSyxFQUFFLElBQUk7WUFDWCxHQUFHLEVBQUUsSUFBSTtTQUNWLENBQUM7O0lBQ0osQ0FBQztJQU1NLCtCQUFXLEdBQWxCLFVBQW1CLGdCQUFtQztRQUNwRCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsZ0JBQWdCLENBQUM7SUFDNUMsQ0FBQztJQU9NLCtCQUFXLEdBQWxCLFVBQW1CLEtBQWEsRUFBRSxHQUFXO1FBQTdDLGlCQXVCQztRQXJCQyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFO1lBQzNCLE9BQU87U0FDUjtRQUdELElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEtBQUssSUFBSSxFQUFFO1lBQ3RDLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUNsQyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7U0FDL0I7YUFBTTtZQUNMLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDdkUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENB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LENBclM4QiwyQkFBWSxHQXFTMUM7QUFyU1ksOEJBQVMiLCJmaWxlIjoiNDguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IElNb3VzZVpvbmVNYW5hZ2VyIH0gZnJvbSAnLi91aS9UeXBlcyc7XG5pbXBvcnQgeyBJTGlua0hvdmVyRXZlbnQsIElMaW5rTWF0Y2hlciwgTGlua01hdGNoZXJIYW5kbGVyLCBMaW5rSG92ZXJFdmVudFR5cGVzLCBJTGlua01hdGNoZXJPcHRpb25zLCBJTGlua2lmaWVyLCBJVGVybWluYWwsIElCdWZmZXJTdHJpbmdJdGVyYXRvclJlc3VsdCB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHsgTW91c2Vab25lIH0gZnJvbSAnLi91aS9Nb3VzZVpvbmVNYW5hZ2VyJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJy4vY29tbW9uL0V2ZW50RW1pdHRlcic7XG5pbXBvcnQgeyBDSEFSX0RBVEFfQVRUUl9JTkRFWCB9IGZyb20gJy4vQnVmZmVyJztcbmltcG9ydCB7IGdldFN0cmluZ0NlbGxXaWR0aCB9IGZyb20gJy4vQ2hhcldpZHRoJztcblxuLyoqXG4gKiBUaGUgTGlua2lmaWVyIGFwcGxpZXMgbGlua3MgdG8gcm93cyBzaG9ydGx5IGFmdGVyIHRoZXkgaGF2ZSBiZWVuIHJlZnJlc2hlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIExpbmtpZmllciBleHRlbmRzIEV2ZW50RW1pdHRlciBpbXBsZW1lbnRzIElMaW5raWZpZXIge1xuICAvKipcbiAgICogVGhlIHRpbWUgdG8gd2FpdCBhZnRlciBhIHJvdyBpcyBjaGFuZ2VkIGJlZm9yZSBpdCBpcyBsaW5raWZpZWQuIFRoaXMgcHJldmVudHNcbiAgICogdGhlIGNvc3RseSBvcGVyYXRpb24gb2Ygc2VhcmNoaW5nIGV2ZXJ5IHJvdyBtdWx0aXBsZSB0aW1lcywgcG90ZW50aWFsbHkgYVxuICAgKiBodWdlIGFtb3VudCBvZiB0aW1lcy5cbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgcmVhZG9ubHkgVElNRV9CRUZPUkVfTElOS0lGWSA9IDIwMDtcblxuICAvKipcbiAgICogTGltaXQgb2YgdGhlIHVud3JhcHBpbmcgbGluZSBleHBhbnNpb24gKG92ZXJzY2FuKSBhdCB0aGUgdG9wIGFuZCBib3R0b21cbiAgICogb2YgdGhlIGFjdHVhbCB2aWV3cG9ydCBpbiBBU0NJSSBjaGFyYWN0ZXJzLlxuICAgKiBBIGxpbWl0IG9mIDIwMDAgc2hvdWxkIG1hdGNoIG1vc3Qgc2FuZSB1cmxzLlxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBPVkVSU0NBTl9DSEFSX0xJTUlUID0gMjAwMDtcblxuICBwcm90ZWN0ZWQgX2xpbmtNYXRjaGVyczogSUxpbmtNYXRjaGVyW10gPSBbXTtcblxuICBwcml2YXRlIF9tb3VzZVpvbmVNYW5hZ2VyOiBJTW91c2Vab25lTWFuYWdlcjtcbiAgcHJpdmF0ZSBfcm93c1RpbWVvdXRJZDogbnVtYmVyO1xuICBwcml2YXRlIF9uZXh0TGlua01hdGNoZXJJZCA9IDA7XG4gIHByaXZhdGUgX3Jvd3NUb0xpbmtpZnk6IHsgc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgX3Rlcm1pbmFsOiBJVGVybWluYWxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9yb3dzVG9MaW5raWZ5ID0ge1xuICAgICAgc3RhcnQ6IG51bGwsXG4gICAgICBlbmQ6IG51bGxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIHRoZSBsaW5raWZpZXIgdG8gdGhlIERPTSwgZW5hYmxpbmcgbGlua2lmaWNhdGlvbi5cbiAgICogQHBhcmFtIG1vdXNlWm9uZU1hbmFnZXIgVGhlIG1vdXNlIHpvbmUgbWFuYWdlciB0byByZWdpc3RlciBsaW5rIHpvbmVzIHdpdGguXG4gICAqL1xuICBwdWJsaWMgYXR0YWNoVG9Eb20obW91c2Vab25lTWFuYWdlcjogSU1vdXNlWm9uZU1hbmFnZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9tb3VzZVpvbmVNYW5hZ2VyID0gbW91c2Vab25lTWFuYWdlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWV1ZSBsaW5raWZpY2F0aW9uIG9uIGEgc2V0IG9mIHJvd3MuXG4gICAqIEBwYXJhbSBzdGFydCBUaGUgcm93IHRvIGxpbmtpZnkgZnJvbSAoaW5jbHVzaXZlKS5cbiAgICogQHBhcmFtIGVuZCBUaGUgcm93IHRvIGxpbmtpZnkgdG8gKGluY2x1c2l2ZSkuXG4gICAqL1xuICBwdWJsaWMgbGlua2lmeVJvd3Moc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBEb24ndCBhdHRlbXB0IGxpbmtpZnkgaWYgbm90IHlldCBhdHRhY2hlZCB0byBET01cbiAgICBpZiAoIXRoaXMuX21vdXNlWm9uZU1hbmFnZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJbmNyZWFzZSByYW5nZSB0byBsaW5raWZ5XG4gICAgaWYgKHRoaXMuX3Jvd3NUb0xpbmtpZnkuc3RhcnQgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuX3Jvd3NUb0xpbmtpZnkuc3RhcnQgPSBzdGFydDtcbiAgICAgIHRoaXMuX3Jvd3NUb0xpbmtpZnkuZW5kID0gZW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yb3dzVG9MaW5raWZ5LnN0YXJ0ID0gTWF0aC5taW4odGhpcy5fcm93c1RvTGlua2lmeS5zdGFydCwgc3RhcnQpO1xuICAgICAgdGhpcy5fcm93c1RvTGlua2lmeS5lbmQgPSBNYXRoLm1heCh0aGlzLl9yb3dzVG9MaW5raWZ5LmVuZCwgZW5kKTtcbiAgICB9XG5cbiAgICAvLyBDbGVhciBvdXQgYW55IGV4aXN0aW5nIGxpbmtzIG9uIHRoaXMgcm93IHJhbmdlXG4gICAgdGhpcy5fbW91c2Vab25lTWFuYWdlci5jbGVhckFsbChzdGFydCwgZW5kKTtcblxuICAgIC8vIFJlc3RhcnQgdGltZXJcbiAgICBpZiAodGhpcy5fcm93c1RpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Jvd3NUaW1lb3V0SWQpO1xuICAgIH1cbiAgICB0aGlzLl9yb3dzVGltZW91dElkID0gPG51bWJlcj48YW55PnNldFRpbWVvdXQoKCkgPT4gdGhpcy5fbGlua2lmeVJvd3MoKSwgTGlua2lmaWVyLlRJTUVfQkVGT1JFX0xJTktJRlkpO1xuICB9XG5cbiAgLyoqXG4gICAqIExpbmtpZmllcyB0aGUgcm93cyByZXF1ZXN0ZWQuXG4gICAqL1xuICBwcml2YXRlIF9saW5raWZ5Um93cygpOiB2b2lkIHtcbiAgICB0aGlzLl9yb3dzVGltZW91dElkID0gbnVsbDtcbiAgICBjb25zdCBidWZmZXIgPSB0aGlzLl90ZXJtaW5hbC5idWZmZXI7XG5cbiAgICAvLyBFbnN1cmUgdGhlIHN0YXJ0IHJvdyBleGlzdHNcbiAgICBjb25zdCBhYnNvbHV0ZVJvd0luZGV4U3RhcnQgPSBidWZmZXIueWRpc3AgKyB0aGlzLl9yb3dzVG9MaW5raWZ5LnN0YXJ0O1xuICAgIGlmIChhYnNvbHV0ZVJvd0luZGV4U3RhcnQgPj0gYnVmZmVyLmxpbmVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEludmFsaWRhdGUgYmFkIGVuZCByb3cgdmFsdWVzIChpZiBhIHJlc2l6ZSBoYXBwZW5lZClcbiAgICBjb25zdCBhYnNvbHV0ZVJvd0luZGV4RW5kID0gYnVmZmVyLnlkaXNwICsgTWF0aC5taW4odGhpcy5fcm93c1RvTGlua2lmeS5lbmQsIHRoaXMuX3Rlcm1pbmFsLnJvd3MpICsgMTtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUgcmFuZ2Ugb2YgdW53cmFwcGVkIGNvbnRlbnQgc3RyaW5ncyB3aXRoaW4gc3RhcnQuLmVuZFxuICAgIC8vIChleGNsdWRpbmcpLlxuICAgIC8vIF9kb0xpbmtpZnlSb3cgZ2V0cyBmdWxsIHVud3JhcHBlZCBsaW5lcyB3aXRoIHRoZSBzdGFydCByb3cgYXMgYnVmZmVyIG9mZnNldFxuICAgIC8vIGZvciBldmVyeSBtYXRjaGVyLlxuICAgIC8vIFRoZSB1bndyYXBwaW5nIGlzIG5lZWRlZCB0byBhbHNvIG1hdGNoIGNvbnRlbnQgdGhhdCBnb3Qgd3JhcHBlZCBhY3Jvc3NcbiAgICAvLyBzZXZlcmFsIGJ1ZmZlciBsaW5lcy4gVG8gYXZvaWQgYSB3b3JzdCBjYXNlIHNjZW5hcmlvIHdoZXJlIHRoZSB3aG9sZSBidWZmZXJcbiAgICAvLyBjb250YWlucyBqdXN0IGEgc2luZ2xlIHVud3JhcHBlZCBzdHJpbmcgd2UgbGltaXQgdGhpcyBsaW5lIGV4cGFuc2lvbiBiZXlvbmRcbiAgICAvLyB0aGUgdmlld3BvcnQgdG8gK09WRVJTQ0FOX0NIQVJfTElNSVQgY2hhcnMgKG92ZXJzY2FuKSBhdCB0b3AgYW5kIGJvdHRvbS5cbiAgICAvLyBUaGlzIGNvbWVzIHdpdGggdGhlIHRyYWRlb2ZmIHRoYXQgbWF0Y2hlcyBsb25nZXIgdGhhbiBPVkVSU0NBTl9DSEFSX0xJTUlUXG4gICAgLy8gY2hhcnMgd2lsbCBub3QgbWF0Y2ggYW55bW9yZSBhdCB0aGUgdmlld3BvcnQgYm9yZGVycy5cbiAgICBjb25zdCBvdmVyc2NhbkxpbmVMaW1pdCA9IE1hdGguY2VpbChMaW5raWZpZXIuT1ZFUlNDQU5fQ0hBUl9MSU1JVCAvIHRoaXMuX3Rlcm1pbmFsLmNvbHMpO1xuICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5fdGVybWluYWwuYnVmZmVyLml0ZXJhdG9yKFxuICAgICAgZmFsc2UsIGFic29sdXRlUm93SW5kZXhTdGFydCwgYWJzb2x1dGVSb3dJbmRleEVuZCwgb3ZlcnNjYW5MaW5lTGltaXQsIG92ZXJzY2FuTGluZUxpbWl0KTtcbiAgICB3aGlsZSAoaXRlcmF0b3IuaGFzTmV4dCgpKSB7XG4gICAgICBjb25zdCBsaW5lRGF0YTogSUJ1ZmZlclN0cmluZ0l0ZXJhdG9yUmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9saW5rTWF0Y2hlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fZG9MaW5raWZ5Um93KGxpbmVEYXRhLnJhbmdlLmZpcnN0LCBsaW5lRGF0YS5jb250ZW50LCB0aGlzLl9saW5rTWF0Y2hlcnNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX3Jvd3NUb0xpbmtpZnkuc3RhcnQgPSBudWxsO1xuICAgIHRoaXMuX3Jvd3NUb0xpbmtpZnkuZW5kID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBsaW5rIG1hdGNoZXIsIGFsbG93aW5nIGN1c3RvbSBsaW5rIHBhdHRlcm5zIHRvIGJlIG1hdGNoZWQgYW5kXG4gICAqIGhhbmRsZWQuXG4gICAqIEBwYXJhbSByZWdleCBUaGUgcmVndWxhciBleHByZXNzaW9uIHRvIHNlYXJjaCBmb3IuIFNwZWNpZmljYWxseSwgdGhpc1xuICAgKiBzZWFyY2hlcyB0aGUgdGV4dENvbnRlbnQgb2YgdGhlIHJvd3MuIFlvdSB3aWxsIHdhbnQgdG8gdXNlIFxccyB0byBtYXRjaCBhXG4gICAqIHNwYWNlICcgJyBjaGFyYWN0ZXIgZm9yIGV4YW1wbGUuXG4gICAqIEBwYXJhbSBoYW5kbGVyIFRoZSBjYWxsYmFjayB3aGVuIHRoZSBsaW5rIGlzIGNhbGxlZC5cbiAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBmb3IgdGhlIGxpbmsgbWF0Y2hlci5cbiAgICogQHJldHVybiBUaGUgSUQgb2YgdGhlIG5ldyBtYXRjaGVyLCB0aGlzIGNhbiBiZSB1c2VkIHRvIGRlcmVnaXN0ZXIuXG4gICAqL1xuICBwdWJsaWMgcmVnaXN0ZXJMaW5rTWF0Y2hlcihyZWdleDogUmVnRXhwLCBoYW5kbGVyOiBMaW5rTWF0Y2hlckhhbmRsZXIsIG9wdGlvbnM6IElMaW5rTWF0Y2hlck9wdGlvbnMgPSB7fSk6IG51bWJlciB7XG4gICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hhbmRsZXIgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoZXI6IElMaW5rTWF0Y2hlciA9IHtcbiAgICAgIGlkOiB0aGlzLl9uZXh0TGlua01hdGNoZXJJZCsrLFxuICAgICAgcmVnZXgsXG4gICAgICBoYW5kbGVyLFxuICAgICAgbWF0Y2hJbmRleDogb3B0aW9ucy5tYXRjaEluZGV4LFxuICAgICAgdmFsaWRhdGlvbkNhbGxiYWNrOiBvcHRpb25zLnZhbGlkYXRpb25DYWxsYmFjayxcbiAgICAgIGhvdmVyVG9vbHRpcENhbGxiYWNrOiBvcHRpb25zLnRvb2x0aXBDYWxsYmFjayxcbiAgICAgIGhvdmVyTGVhdmVDYWxsYmFjazogb3B0aW9ucy5sZWF2ZUNhbGxiYWNrLFxuICAgICAgd2lsbExpbmtBY3RpdmF0ZTogb3B0aW9ucy53aWxsTGlua0FjdGl2YXRlLFxuICAgICAgcHJpb3JpdHk6IG9wdGlvbnMucHJpb3JpdHkgfHwgMFxuICAgIH07XG4gICAgdGhpcy5fYWRkTGlua01hdGNoZXJUb0xpc3QobWF0Y2hlcik7XG4gICAgcmV0dXJuIG1hdGNoZXIuaWQ7XG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0cyBhIGxpbmsgbWF0Y2hlciB0byB0aGUgbGlzdCBpbiB0aGUgY29ycmVjdCBwb3NpdGlvbiBiYXNlZCBvbiB0aGVcbiAgICogcHJpb3JpdHkgb2YgZWFjaCBsaW5rIG1hdGNoZXIuIE5ldyBsaW5rIG1hdGNoZXJzIG9mIGVxdWFsIHByaW9yaXR5IGFyZVxuICAgKiBjb25zaWRlcmVkIGFmdGVyIG9sZGVyIGxpbmsgbWF0Y2hlcnMuXG4gICAqIEBwYXJhbSBtYXRjaGVyIFRoZSBsaW5rIG1hdGNoZXIgdG8gYmUgYWRkZWQuXG4gICAqL1xuICBwcml2YXRlIF9hZGRMaW5rTWF0Y2hlclRvTGlzdChtYXRjaGVyOiBJTGlua01hdGNoZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fbGlua01hdGNoZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5fbGlua01hdGNoZXJzLnB1c2gobWF0Y2hlcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IHRoaXMuX2xpbmtNYXRjaGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKG1hdGNoZXIucHJpb3JpdHkgPD0gdGhpcy5fbGlua01hdGNoZXJzW2ldLnByaW9yaXR5KSB7XG4gICAgICAgIHRoaXMuX2xpbmtNYXRjaGVycy5zcGxpY2UoaSArIDEsIDAsIG1hdGNoZXIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fbGlua01hdGNoZXJzLnNwbGljZSgwLCAwLCBtYXRjaGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXJlZ2lzdGVycyBhIGxpbmsgbWF0Y2hlciBpZiBpdCBoYXMgYmVlbiByZWdpc3RlcmVkLlxuICAgKiBAcGFyYW0gbWF0Y2hlcklkIFRoZSBsaW5rIG1hdGNoZXIncyBJRCAocmV0dXJuZWQgYWZ0ZXIgcmVnaXN0ZXIpXG4gICAqIEByZXR1cm4gV2hldGhlciBhIGxpbmsgbWF0Y2hlciB3YXMgZm91bmQgYW5kIGRlcmVnaXN0ZXJlZC5cbiAgICovXG4gIHB1YmxpYyBkZXJlZ2lzdGVyTGlua01hdGNoZXIobWF0Y2hlcklkOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2xpbmtNYXRjaGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuX2xpbmtNYXRjaGVyc1tpXS5pZCA9PT0gbWF0Y2hlcklkKSB7XG4gICAgICAgIHRoaXMuX2xpbmtNYXRjaGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogTGlua2lmaWVzIGEgcm93IGdpdmVuIGEgc3BlY2lmaWMgaGFuZGxlci5cbiAgICogQHBhcmFtIHJvd0luZGV4IFRoZSByb3cgaW5kZXggdG8gbGlua2lmeSAoYWJzb2x1dGUgaW5kZXgpLlxuICAgKiBAcGFyYW0gdGV4dCBzdHJpbmcgY29udGVudCBvZiB0aGUgdW53cmFwcGVkIHJvdy5cbiAgICogQHBhcmFtIG1hdGNoZXIgVGhlIGxpbmsgbWF0Y2hlciBmb3IgdGhpcyBsaW5lLlxuICAgKi9cbiAgcHJpdmF0ZSBfZG9MaW5raWZ5Um93KHJvd0luZGV4OiBudW1iZXIsIHRleHQ6IHN0cmluZywgbWF0Y2hlcjogSUxpbmtNYXRjaGVyKTogdm9pZCB7XG4gICAgLy8gY2xvbmUgcmVnZXggdG8gZG8gYSBnbG9iYWwgc2VhcmNoIG9uIHRleHRcbiAgICBjb25zdCByZXggPSBuZXcgUmVnRXhwKG1hdGNoZXIucmVnZXguc291cmNlLCBtYXRjaGVyLnJlZ2V4LmZsYWdzICsgJ2cnKTtcbiAgICBsZXQgbWF0Y2g7XG4gICAgbGV0IHN0cmluZ0luZGV4ID0gLTE7XG4gICAgd2hpbGUgKChtYXRjaCA9IHJleC5leGVjKHRleHQpKSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgdXJpID0gbWF0Y2hbdHlwZW9mIG1hdGNoZXIubWF0Y2hJbmRleCAhPT0gJ251bWJlcicgPyAwIDogbWF0Y2hlci5tYXRjaEluZGV4XTtcbiAgICAgIGlmICghdXJpKSB7XG4gICAgICAgIC8vIHNvbWV0aGluZyBtYXRjaGVkIGJ1dCBkb2VzIG5vdCBjb21wbHkgd2l0aCB0aGUgZ2l2ZW4gbWF0Y2hJbmRleFxuICAgICAgICAvLyBzaW5jZSB0aGlzIGlzIG1vc3QgbGlrZWx5IGEgYnVnIHRoZSByZWdleCBpdHNlbGYgd2Ugc2ltcGx5IGRvIG5vdGhpbmcgaGVyZVxuICAgICAgICAvLyBERUJVRzogcHJpbnQgbWF0Y2ggYW5kIHRocm93XG4gICAgICAgIGlmICgoPGFueT50aGlzLl90ZXJtaW5hbCkuZGVidWcpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyh7bWF0Y2gsIG1hdGNoZXJ9KTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21hdGNoIGZvdW5kIHdpdGhvdXQgY29ycmVzcG9uZGluZyBtYXRjaEluZGV4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCBpbmRleCwgbWF0Y2guaW5kZXggaXMgZm9yIHRoZSBvdXRlciBtYXRjaCB3aGljaCBpbmNsdWRlcyBuZWdhdGVkIGNoYXJzXG4gICAgICAvLyB0aGVyZWZvcmUgd2UgY2Fubm90IHVzZSBtYXRjaC5pbmRleCBkaXJlY3RseSwgaW5zdGVhZCB3ZSBzZWFyY2ggdGhlIHBvc2l0aW9uXG4gICAgICAvLyBvZiB0aGUgbWF0Y2ggZ3JvdXAgaW4gdGV4dCBhZ2FpblxuICAgICAgLy8gYWxzbyBjb3JyZWN0IHJlZ2V4IGFuZCBzdHJpbmcgc2VhcmNoIG9mZnNldHMgZm9yIHRoZSBuZXh0IGxvb3AgcnVuXG4gICAgICBzdHJpbmdJbmRleCA9IHRleHQuaW5kZXhPZih1cmksIHN0cmluZ0luZGV4ICsgMSk7XG4gICAgICByZXgubGFzdEluZGV4ID0gc3RyaW5nSW5kZXggKyB1cmkubGVuZ3RoO1xuXG4gICAgICAvLyBnZXQgdGhlIGJ1ZmZlciBpbmRleCBhcyBbYWJzb2x1dGUgcm93LCBjb2xdIGZvciB0aGUgbWF0Y2hcbiAgICAgIGNvbnN0IGJ1ZmZlckluZGV4ID0gdGhpcy5fdGVybWluYWwuYnVmZmVyLnN0cmluZ0luZGV4VG9CdWZmZXJJbmRleChyb3dJbmRleCwgc3RyaW5nSW5kZXgpO1xuXG4gICAgICBjb25zdCBsaW5lID0gdGhpcy5fdGVybWluYWwuYnVmZmVyLmxpbmVzLmdldChidWZmZXJJbmRleFswXSk7XG4gICAgICBjb25zdCBjaGFyID0gbGluZS5nZXQoYnVmZmVySW5kZXhbMV0pO1xuICAgICAgbGV0IGZnOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgICBpZiAoY2hhcikge1xuICAgICAgICBjb25zdCBhdHRyOiBudW1iZXIgPSBjaGFyW0NIQVJfREFUQV9BVFRSX0lOREVYXTtcbiAgICAgICAgZmcgPSAoYXR0ciA+PiA5KSAmIDB4MWZmO1xuICAgICAgfVxuXG4gICAgICBpZiAobWF0Y2hlci52YWxpZGF0aW9uQ2FsbGJhY2spIHtcbiAgICAgICAgbWF0Y2hlci52YWxpZGF0aW9uQ2FsbGJhY2sodXJpLCBpc1ZhbGlkID0+IHtcbiAgICAgICAgICAvLyBEaXNjYXJkIGxpbmsgaWYgdGhlIGxpbmUgaGFzIGFscmVhZHkgY2hhbmdlZFxuICAgICAgICAgIGlmICh0aGlzLl9yb3dzVGltZW91dElkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRMaW5rKGJ1ZmZlckluZGV4WzFdLCBidWZmZXJJbmRleFswXSAtIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55ZGlzcCwgdXJpLCBtYXRjaGVyLCBmZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2FkZExpbmsoYnVmZmVySW5kZXhbMV0sIGJ1ZmZlckluZGV4WzBdIC0gdGhpcy5fdGVybWluYWwuYnVmZmVyLnlkaXNwLCB1cmksIG1hdGNoZXIsIGZnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgbGluayB0byB0aGUgbW91c2Ugem9uZSBtYW5hZ2VyLlxuICAgKiBAcGFyYW0geCBUaGUgY29sdW1uIHRoZSBsaW5rIHN0YXJ0cy5cbiAgICogQHBhcmFtIHkgVGhlIHJvdyB0aGUgbGluayBpcyBvbi5cbiAgICogQHBhcmFtIHVyaSBUaGUgVVJJIG9mIHRoZSBsaW5rLlxuICAgKiBAcGFyYW0gbWF0Y2hlciBUaGUgbGluayBtYXRjaGVyIGZvciB0aGUgbGluay5cbiAgICogQHBhcmFtIGZnIFRoZSBsaW5rIGNvbG9yIGZvciBob3ZlciBldmVudC5cbiAgICovXG4gIHByaXZhdGUgX2FkZExpbmsoeDogbnVtYmVyLCB5OiBudW1iZXIsIHVyaTogc3RyaW5nLCBtYXRjaGVyOiBJTGlua01hdGNoZXIsIGZnOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB3aWR0aCA9IGdldFN0cmluZ0NlbGxXaWR0aCh1cmkpO1xuICAgIGNvbnN0IHgxID0geCAlIHRoaXMuX3Rlcm1pbmFsLmNvbHM7XG4gICAgY29uc3QgeTEgPSB5ICsgTWF0aC5mbG9vcih4IC8gdGhpcy5fdGVybWluYWwuY29scyk7XG4gICAgbGV0IHgyID0gKHgxICsgd2lkdGgpICUgdGhpcy5fdGVybWluYWwuY29scztcbiAgICBsZXQgeTIgPSB5MSArIE1hdGguZmxvb3IoKHgxICsgd2lkdGgpIC8gdGhpcy5fdGVybWluYWwuY29scyk7XG4gICAgaWYgKHgyID09PSAwKSB7XG4gICAgICB4MiA9IHRoaXMuX3Rlcm1pbmFsLmNvbHM7XG4gICAgICB5Mi0tO1xuICAgIH1cblxuICAgIHRoaXMuX21vdXNlWm9uZU1hbmFnZXIuYWRkKG5ldyBNb3VzZVpvbmUoXG4gICAgICB4MSArIDEsXG4gICAgICB5MSArIDEsXG4gICAgICB4MiArIDEsXG4gICAgICB5MiArIDEsXG4gICAgICBlID0+IHtcbiAgICAgICAgaWYgKG1hdGNoZXIuaGFuZGxlcikge1xuICAgICAgICAgIHJldHVybiBtYXRjaGVyLmhhbmRsZXIoZSwgdXJpKTtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cub3Blbih1cmksICdfYmxhbmsnKTtcbiAgICAgIH0sXG4gICAgICBlID0+IHtcbiAgICAgICAgdGhpcy5lbWl0KExpbmtIb3ZlckV2ZW50VHlwZXMuSE9WRVIsIHRoaXMuX2NyZWF0ZUxpbmtIb3ZlckV2ZW50KHgxLCB5MSwgeDIsIHkyLCBmZykpO1xuICAgICAgICB0aGlzLl90ZXJtaW5hbC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3h0ZXJtLWN1cnNvci1wb2ludGVyJyk7XG4gICAgICB9LFxuICAgICAgZSA9PiB7XG4gICAgICAgIHRoaXMuZW1pdChMaW5rSG92ZXJFdmVudFR5cGVzLlRPT0xUSVAsIHRoaXMuX2NyZWF0ZUxpbmtIb3ZlckV2ZW50KHgxLCB5MSwgeDIsIHkyLCBmZykpO1xuICAgICAgICBpZiAobWF0Y2hlci5ob3ZlclRvb2x0aXBDYWxsYmFjaykge1xuICAgICAgICAgIG1hdGNoZXIuaG92ZXJUb29sdGlwQ2FsbGJhY2soZSwgdXJpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5lbWl0KExpbmtIb3ZlckV2ZW50VHlwZXMuTEVBVkUsIHRoaXMuX2NyZWF0ZUxpbmtIb3ZlckV2ZW50KHgxLCB5MSwgeDIsIHkyLCBmZykpO1xuICAgICAgICB0aGlzLl90ZXJtaW5hbC5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3h0ZXJtLWN1cnNvci1wb2ludGVyJyk7XG4gICAgICAgIGlmIChtYXRjaGVyLmhvdmVyTGVhdmVDYWxsYmFjaykge1xuICAgICAgICAgIG1hdGNoZXIuaG92ZXJMZWF2ZUNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlID0+IHtcbiAgICAgICAgaWYgKG1hdGNoZXIud2lsbExpbmtBY3RpdmF0ZSkge1xuICAgICAgICAgIHJldHVybiBtYXRjaGVyLndpbGxMaW5rQWN0aXZhdGUoZSwgdXJpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICApKTtcbiAgfVxuXG4gIHByaXZhdGUgX2NyZWF0ZUxpbmtIb3ZlckV2ZW50KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsIGZnOiBudW1iZXIpOiBJTGlua0hvdmVyRXZlbnQge1xuICAgIHJldHVybiB7IHgxLCB5MSwgeDIsIHkyLCBjb2xzOiB0aGlzLl90ZXJtaW5hbC5jb2xzLCBmZyB9O1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL0xpbmtpZmllci50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///48\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseHelper_1 = __webpack_require__(18);\nvar Browser = __webpack_require__(5);\nvar EventEmitter_1 = __webpack_require__(2);\nvar SelectionModel_1 = __webpack_require__(50);\nvar Buffer_1 = __webpack_require__(0);\nvar AltClickHandler_1 = __webpack_require__(51);\nvar DRAG_SCROLL_MAX_THRESHOLD = 50;\nvar DRAG_SCROLL_MAX_SPEED = 15;\nvar DRAG_SCROLL_INTERVAL = 50;\nvar ALT_CLICK_MOVE_CURSOR_TIME = 500;\nvar WORD_SEPARATORS = ' ()[]{}\\'\"';\nvar NON_BREAKING_SPACE_CHAR = String.fromCharCode(160);\nvar ALL_NON_BREAKING_SPACE_REGEX = new RegExp(NON_BREAKING_SPACE_CHAR, 'g');\nvar SelectionManager = (function (_super) {\n    __extends(SelectionManager, _super);\n    function SelectionManager(_terminal, _charMeasure) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._charMeasure = _charMeasure;\n        _this._enabled = true;\n        _this._initListeners();\n        _this.enable();\n        _this._model = new SelectionModel_1.SelectionModel(_terminal);\n        _this._activeSelectionMode = 0;\n        return _this;\n    }\n    SelectionManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._removeMouseDownListeners();\n    };\n    Object.defineProperty(SelectionManager.prototype, \"_buffer\", {\n        get: function () {\n            return this._terminal.buffers.active;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype._initListeners = function () {\n        var _this = this;\n        this._mouseMoveListener = function (event) { return _this._onMouseMove(event); };\n        this._mouseUpListener = function (event) { return _this._onMouseUp(event); };\n        this._trimListener = function (amount) { return _this._onTrim(amount); };\n        this.initBuffersListeners();\n    };\n    SelectionManager.prototype.initBuffersListeners = function () {\n        var _this = this;\n        this._terminal.buffer.lines.on('trim', this._trimListener);\n        this._terminal.buffers.on('activate', function (e) { return _this._onBufferActivate(e); });\n    };\n    SelectionManager.prototype.disable = function () {\n        this.clearSelection();\n        this._enabled = false;\n    };\n    SelectionManager.prototype.enable = function () {\n        this._enabled = true;\n    };\n    Object.defineProperty(SelectionManager.prototype, \"selectionStart\", {\n        get: function () { return this._model.finalSelectionStart; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionEnd\", {\n        get: function () { return this._model.finalSelectionEnd; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"hasSelection\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return false;\n            }\n            return start[0] !== end[0] || start[1] !== end[1];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionManager.prototype, \"selectionText\", {\n        get: function () {\n            var start = this._model.finalSelectionStart;\n            var end = this._model.finalSelectionEnd;\n            if (!start || !end) {\n                return '';\n            }\n            var result = [];\n            if (this._activeSelectionMode === 3) {\n                if (start[0] === end[0]) {\n                    return '';\n                }\n                for (var i = start[1]; i <= end[1]; i++) {\n                    var lineText = this._buffer.translateBufferLineToString(i, true, start[0], end[0]);\n                    result.push(lineText);\n                }\n            }\n            else {\n                var startRowEndCol = start[1] === end[1] ? end[0] : null;\n                result.push(this._buffer.translateBufferLineToString(start[1], true, start[0], startRowEndCol));\n                for (var i = start[1] + 1; i <= end[1] - 1; i++) {\n                    var bufferLine = this._buffer.lines.get(i);\n                    var lineText = this._buffer.translateBufferLineToString(i, true);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n                if (start[1] !== end[1]) {\n                    var bufferLine = this._buffer.lines.get(end[1]);\n                    var lineText = this._buffer.translateBufferLineToString(end[1], true, 0, end[0]);\n                    if (bufferLine.isWrapped) {\n                        result[result.length - 1] += lineText;\n                    }\n                    else {\n                        result.push(lineText);\n                    }\n                }\n            }\n            var formattedResult = result.map(function (line) {\n                return line.replace(ALL_NON_BREAKING_SPACE_REGEX, ' ');\n            }).join(Browser.isMSWindows ? '\\r\\n' : '\\n');\n            return formattedResult;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionManager.prototype.clearSelection = function () {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this.refresh();\n    };\n    SelectionManager.prototype.refresh = function (isNewSelection) {\n        var _this = this;\n        if (!this._refreshAnimationFrame) {\n            this._refreshAnimationFrame = window.requestAnimationFrame(function () { return _this._refresh(); });\n        }\n        if (Browser.isLinux && isNewSelection) {\n            var selectionText = this.selectionText;\n            if (selectionText.length) {\n                this.emit('newselection', this.selectionText);\n            }\n        }\n    };\n    SelectionManager.prototype._refresh = function () {\n        this._refreshAnimationFrame = null;\n        this.emit('refresh', {\n            start: this._model.finalSelectionStart,\n            end: this._model.finalSelectionEnd,\n            columnSelectMode: this._activeSelectionMode === 3\n        });\n    };\n    SelectionManager.prototype.isClickInSelection = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        var start = this._model.finalSelectionStart;\n        var end = this._model.finalSelectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return this._areCoordsInSelection(coords, start, end);\n    };\n    SelectionManager.prototype._areCoordsInSelection = function (coords, start, end) {\n        return (coords[1] > start[1] && coords[1] < end[1]) ||\n            (start[1] === end[1] && coords[1] === start[1] && coords[0] >= start[0] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === end[1] && coords[0] < end[0]) ||\n            (start[1] < end[1] && coords[1] === start[1] && coords[0] >= start[0]);\n    };\n    SelectionManager.prototype.selectWordAtCursor = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._selectWordAt(coords, false);\n            this._model.selectionEnd = null;\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype.selectAll = function () {\n        this._model.isSelectAllActive = true;\n        this.refresh();\n        this._terminal.emit('selection');\n    };\n    SelectionManager.prototype.selectLines = function (start, end) {\n        this._model.clearSelection();\n        start = Math.max(start, 0);\n        end = Math.min(end, this._terminal.buffer.lines.length - 1);\n        this._model.selectionStart = [0, start];\n        this._model.selectionEnd = [this._terminal.cols, end];\n        this.refresh();\n        this._terminal.emit('selection');\n    };\n    SelectionManager.prototype._onTrim = function (amount) {\n        var needsRefresh = this._model.onTrim(amount);\n        if (needsRefresh) {\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._getMouseBufferCoords = function (event) {\n        var coords = this._terminal.mouseHelper.getCoords(event, this._terminal.screenElement, this._charMeasure, this._terminal.cols, this._terminal.rows, true);\n        if (!coords) {\n            return null;\n        }\n        coords[0]--;\n        coords[1]--;\n        coords[1] += this._terminal.buffer.ydisp;\n        return coords;\n    };\n    SelectionManager.prototype._getMouseEventScrollAmount = function (event) {\n        var offset = MouseHelper_1.MouseHelper.getCoordsRelativeToElement(event, this._terminal.screenElement)[1];\n        var terminalHeight = this._terminal.rows * Math.ceil(this._charMeasure.height * this._terminal.options.lineHeight);\n        if (offset >= 0 && offset <= terminalHeight) {\n            return 0;\n        }\n        if (offset > terminalHeight) {\n            offset -= terminalHeight;\n        }\n        offset = Math.min(Math.max(offset, -DRAG_SCROLL_MAX_THRESHOLD), DRAG_SCROLL_MAX_THRESHOLD);\n        offset /= DRAG_SCROLL_MAX_THRESHOLD;\n        return (offset / Math.abs(offset)) + Math.round(offset * (DRAG_SCROLL_MAX_SPEED - 1));\n    };\n    SelectionManager.prototype.shouldForceSelection = function (event) {\n        if (Browser.isMac) {\n            return event.altKey && this._terminal.options.macOptionClickForcesSelection;\n        }\n        return event.shiftKey;\n    };\n    SelectionManager.prototype.onMouseDown = function (event) {\n        this._mouseDownTimeStamp = event.timeStamp;\n        if (event.button === 2 && this.hasSelection) {\n            return;\n        }\n        if (event.button !== 0) {\n            return;\n        }\n        if (!this._enabled) {\n            if (!this.shouldForceSelection(event)) {\n                return;\n            }\n            event.stopPropagation();\n        }\n        event.preventDefault();\n        this._dragScrollAmount = 0;\n        if (this._enabled && event.shiftKey) {\n            this._onIncrementalClick(event);\n        }\n        else {\n            if (event.detail === 1) {\n                this._onSingleClick(event);\n            }\n            else if (event.detail === 2) {\n                this._onDoubleClick(event);\n            }\n            else if (event.detail === 3) {\n                this._onTripleClick(event);\n            }\n        }\n        this._addMouseDownListeners();\n        this.refresh(true);\n    };\n    SelectionManager.prototype._addMouseDownListeners = function () {\n        var _this = this;\n        this._terminal.element.ownerDocument.addEventListener('mousemove', this._mouseMoveListener);\n        this._terminal.element.ownerDocument.addEventListener('mouseup', this._mouseUpListener);\n        this._dragScrollIntervalTimer = setInterval(function () { return _this._dragScroll(); }, DRAG_SCROLL_INTERVAL);\n    };\n    SelectionManager.prototype._removeMouseDownListeners = function () {\n        if (this._terminal.element.ownerDocument) {\n            this._terminal.element.ownerDocument.removeEventListener('mousemove', this._mouseMoveListener);\n            this._terminal.element.ownerDocument.removeEventListener('mouseup', this._mouseUpListener);\n        }\n        clearInterval(this._dragScrollIntervalTimer);\n        this._dragScrollIntervalTimer = null;\n    };\n    SelectionManager.prototype._onIncrementalClick = function (event) {\n        if (this._model.selectionStart) {\n            this._model.selectionEnd = this._getMouseBufferCoords(event);\n        }\n    };\n    SelectionManager.prototype._onSingleClick = function (event) {\n        this._model.selectionStartLength = 0;\n        this._model.isSelectAllActive = false;\n        this._activeSelectionMode = this.shouldColumnSelect(event) ? 3 : 0;\n        this._model.selectionStart = this._getMouseBufferCoords(event);\n        if (!this._model.selectionStart) {\n            return;\n        }\n        this._model.selectionEnd = null;\n        var line = this._buffer.lines.get(this._model.selectionStart[1]);\n        if (!line) {\n            return;\n        }\n        if (line.length >= this._model.selectionStart[0]) {\n            return;\n        }\n        var char = line.get(this._model.selectionStart[0]);\n        if (char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n            this._model.selectionStart[0]++;\n        }\n    };\n    SelectionManager.prototype._onDoubleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 1;\n            this._selectWordAt(coords, true);\n        }\n    };\n    SelectionManager.prototype._onTripleClick = function (event) {\n        var coords = this._getMouseBufferCoords(event);\n        if (coords) {\n            this._activeSelectionMode = 2;\n            this._selectLineAt(coords[1]);\n        }\n    };\n    SelectionManager.prototype.shouldColumnSelect = function (event) {\n        return event.altKey && !(Browser.isMac && this._terminal.options.macOptionClickForcesSelection);\n    };\n    SelectionManager.prototype._onMouseMove = function (event) {\n        event.stopImmediatePropagation();\n        var previousSelectionEnd = this._model.selectionEnd ? [this._model.selectionEnd[0], this._model.selectionEnd[1]] : null;\n        this._model.selectionEnd = this._getMouseBufferCoords(event);\n        if (!this._model.selectionEnd) {\n            this.refresh(true);\n            return;\n        }\n        if (this._activeSelectionMode === 2) {\n            if (this._model.selectionEnd[1] < this._model.selectionStart[1]) {\n                this._model.selectionEnd[0] = 0;\n            }\n            else {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n        }\n        else if (this._activeSelectionMode === 1) {\n            this._selectToWordAt(this._model.selectionEnd);\n        }\n        this._dragScrollAmount = this._getMouseEventScrollAmount(event);\n        if (this._activeSelectionMode !== 3) {\n            if (this._dragScrollAmount > 0) {\n                this._model.selectionEnd[0] = this._terminal.cols;\n            }\n            else if (this._dragScrollAmount < 0) {\n                this._model.selectionEnd[0] = 0;\n            }\n        }\n        if (this._model.selectionEnd[1] < this._buffer.lines.length) {\n            var char = this._buffer.lines.get(this._model.selectionEnd[1]).get(this._model.selectionEnd[0]);\n            if (char && char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n                this._model.selectionEnd[0]++;\n            }\n        }\n        if (!previousSelectionEnd ||\n            previousSelectionEnd[0] !== this._model.selectionEnd[0] ||\n            previousSelectionEnd[1] !== this._model.selectionEnd[1]) {\n            this.refresh(true);\n        }\n    };\n    SelectionManager.prototype._dragScroll = function () {\n        if (this._dragScrollAmount) {\n            this._terminal.scrollLines(this._dragScrollAmount, false);\n            if (this._dragScrollAmount > 0) {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = this._terminal.cols;\n                }\n                this._model.selectionEnd[1] = Math.min(this._terminal.buffer.ydisp + this._terminal.rows, this._terminal.buffer.lines.length - 1);\n            }\n            else {\n                if (this._activeSelectionMode !== 3) {\n                    this._model.selectionEnd[0] = 0;\n                }\n                this._model.selectionEnd[1] = this._terminal.buffer.ydisp;\n            }\n            this.refresh();\n        }\n    };\n    SelectionManager.prototype._onMouseUp = function (event) {\n        var timeElapsed = event.timeStamp - this._mouseDownTimeStamp;\n        this._removeMouseDownListeners();\n        if (this.selectionText.length <= 1 && timeElapsed < ALT_CLICK_MOVE_CURSOR_TIME) {\n            (new AltClickHandler_1.AltClickHandler(event, this._terminal)).move();\n        }\n        else if (this.hasSelection) {\n            this._terminal.emit('selection');\n        }\n    };\n    SelectionManager.prototype._onBufferActivate = function (e) {\n        this.clearSelection();\n        e.inactiveBuffer.lines.off('trim', this._trimListener);\n        e.activeBuffer.lines.on('trim', this._trimListener);\n    };\n    SelectionManager.prototype._convertViewportColToCharacterIndex = function (bufferLine, coords) {\n        var charIndex = coords[0];\n        for (var i = 0; coords[0] >= i; i++) {\n            var char = bufferLine.get(i);\n            if (char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n                charIndex--;\n            }\n            else if (char[Buffer_1.CHAR_DATA_CHAR_INDEX].length > 1 && coords[0] !== i) {\n                charIndex += char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n            }\n        }\n        return charIndex;\n    };\n    SelectionManager.prototype.setSelection = function (col, row, length) {\n        this._model.clearSelection();\n        this._removeMouseDownListeners();\n        this._model.selectionStart = [col, row];\n        this._model.selectionStartLength = length;\n        this.refresh();\n    };\n    SelectionManager.prototype._getWordAt = function (coords, allowWhitespaceOnlySelection, followWrappedLinesAbove, followWrappedLinesBelow) {\n        if (followWrappedLinesAbove === void 0) { followWrappedLinesAbove = true; }\n        if (followWrappedLinesBelow === void 0) { followWrappedLinesBelow = true; }\n        if (coords[0] >= this._terminal.cols) {\n            return null;\n        }\n        var bufferLine = this._buffer.lines.get(coords[1]);\n        if (!bufferLine) {\n            return null;\n        }\n        var line = this._buffer.translateBufferLineToString(coords[1], false);\n        var startIndex = this._convertViewportColToCharacterIndex(bufferLine, coords);\n        var endIndex = startIndex;\n        var charOffset = coords[0] - startIndex;\n        var leftWideCharCount = 0;\n        var rightWideCharCount = 0;\n        var leftLongCharOffset = 0;\n        var rightLongCharOffset = 0;\n        if (line.charAt(startIndex) === ' ') {\n            while (startIndex > 0 && line.charAt(startIndex - 1) === ' ') {\n                startIndex--;\n            }\n            while (endIndex < line.length && line.charAt(endIndex + 1) === ' ') {\n                endIndex++;\n            }\n        }\n        else {\n            var startCol = coords[0];\n            var endCol = coords[0];\n            if (bufferLine.get(startCol)[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n                leftWideCharCount++;\n                startCol--;\n            }\n            if (bufferLine.get(endCol)[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 2) {\n                rightWideCharCount++;\n                endCol++;\n            }\n            if (bufferLine.get(endCol)[Buffer_1.CHAR_DATA_CHAR_INDEX].length > 1) {\n                rightLongCharOffset += bufferLine.get(endCol)[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                endIndex += bufferLine.get(endCol)[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n            }\n            while (startCol > 0 && startIndex > 0 && !this._isCharWordSeparator(bufferLine.get(startCol - 1))) {\n                var char = bufferLine.get(startCol - 1);\n                if (char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n                    leftWideCharCount++;\n                    startCol--;\n                }\n                else if (char[Buffer_1.CHAR_DATA_CHAR_INDEX].length > 1) {\n                    leftLongCharOffset += char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                    startIndex -= char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                }\n                startIndex--;\n                startCol--;\n            }\n            while (endCol < bufferLine.length && endIndex + 1 < line.length && !this._isCharWordSeparator(bufferLine.get(endCol + 1))) {\n                var char = bufferLine.get(endCol + 1);\n                if (char[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 2) {\n                    rightWideCharCount++;\n                    endCol++;\n                }\n                else if (char[Buffer_1.CHAR_DATA_CHAR_INDEX].length > 1) {\n                    rightLongCharOffset += char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                    endIndex += char[Buffer_1.CHAR_DATA_CHAR_INDEX].length - 1;\n                }\n                endIndex++;\n                endCol++;\n            }\n        }\n        endIndex++;\n        var start = startIndex\n            + charOffset\n            - leftWideCharCount\n            + leftLongCharOffset;\n        var length = Math.min(this._terminal.cols, endIndex\n            - startIndex\n            + leftWideCharCount\n            + rightWideCharCount\n            - leftLongCharOffset\n            - rightLongCharOffset);\n        if (!allowWhitespaceOnlySelection && line.slice(startIndex, endIndex).trim() === '') {\n            return null;\n        }\n        if (followWrappedLinesAbove) {\n            if (start === 0 && bufferLine.get(0)[Buffer_1.CHAR_DATA_CODE_INDEX] !== 32) {\n                var previousBufferLine = this._buffer.lines.get(coords[1] - 1);\n                if (previousBufferLine && bufferLine.isWrapped && previousBufferLine.get(this._terminal.cols - 1)[Buffer_1.CHAR_DATA_CODE_INDEX] !== 32) {\n                    var previousLineWordPosition = this._getWordAt([this._terminal.cols - 1, coords[1] - 1], false, true, false);\n                    if (previousLineWordPosition) {\n                        var offset = this._terminal.cols - previousLineWordPosition.start;\n                        start -= offset;\n                        length += offset;\n                    }\n                }\n            }\n        }\n        if (followWrappedLinesBelow) {\n            if (start + length === this._terminal.cols && bufferLine.get(this._terminal.cols - 1)[Buffer_1.CHAR_DATA_CODE_INDEX] !== 32) {\n                var nextBufferLine = this._buffer.lines.get(coords[1] + 1);\n                if (nextBufferLine && nextBufferLine.isWrapped && nextBufferLine.get(0)[Buffer_1.CHAR_DATA_CODE_INDEX] !== 32) {\n                    var nextLineWordPosition = this._getWordAt([0, coords[1] + 1], false, false, true);\n                    if (nextLineWordPosition) {\n                        length += nextLineWordPosition.length;\n                    }\n                }\n            }\n        }\n        return { start: start, length: length };\n    };\n    SelectionManager.prototype._selectWordAt = function (coords, allowWhitespaceOnlySelection) {\n        var wordPosition = this._getWordAt(coords, allowWhitespaceOnlySelection);\n        if (wordPosition) {\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                coords[1]--;\n            }\n            this._model.selectionStart = [wordPosition.start, coords[1]];\n            this._model.selectionStartLength = wordPosition.length;\n        }\n    };\n    SelectionManager.prototype._selectToWordAt = function (coords) {\n        var wordPosition = this._getWordAt(coords, true);\n        if (wordPosition) {\n            var endRow = coords[1];\n            while (wordPosition.start < 0) {\n                wordPosition.start += this._terminal.cols;\n                endRow--;\n            }\n            if (!this._model.areSelectionValuesReversed()) {\n                while (wordPosition.start + wordPosition.length > this._terminal.cols) {\n                    wordPosition.length -= this._terminal.cols;\n                    endRow++;\n                }\n            }\n            this._model.selectionEnd = [this._model.areSelectionValuesReversed() ? wordPosition.start : wordPosition.start + wordPosition.length, endRow];\n        }\n    };\n    SelectionManager.prototype._isCharWordSeparator = function (charData) {\n        if (charData[Buffer_1.CHAR_DATA_WIDTH_INDEX] === 0) {\n            return false;\n        }\n        return WORD_SEPARATORS.indexOf(charData[Buffer_1.CHAR_DATA_CHAR_INDEX]) >= 0;\n    };\n    SelectionManager.prototype._selectLineAt = function (line) {\n        var wrappedRange = this._buffer.getWrappedRangeForLine(line);\n        this._model.selectionStart = [0, wrappedRange.first];\n        this._model.selectionEnd = [this._terminal.cols, wrappedRange.last];\n        this._model.selectionStartLength = 0;\n    };\n    return SelectionManager;\n}(EventEmitter_1.EventEmitter));\nexports.SelectionManager = SelectionManager;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL1NlbGVjdGlvbk1hbmFnZXIudHM/ODRiOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFPQSw0Q0FBa0Q7QUFDbEQscUNBQTJDO0FBRTNDLDRDQUFxRDtBQUNyRCwrQ0FBa0Q7QUFDbEQsc0NBQTZGO0FBQzdGLGdEQUE2RDtBQU03RCxJQUFNLHlCQUF5QixHQUFHLEVBQUUsQ0FBQztBQUtyQyxJQUFNLHFCQUFxQixHQUFHLEVBQUUsQ0FBQztBQUtqQyxJQUFNLG9CQUFvQixHQUFHLEVBQUUsQ0FBQztBQU1oQyxJQUFNLDBCQUEwQixHQUFHLEdBQUcsQ0FBQztBQU12QyxJQUFNLGVBQWUsR0FBRyxZQUFZLENBQUM7QUFFckMsSUFBTSx1QkFBdUIsR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3pELElBQU0sNEJBQTRCLEdBQUcsSUFBSSxNQUFNLENBQUMsdUJBQXVCLEVBQUUsR0FBRyxDQUFDLENBQUM7QUE0QjlFO0lBQXNDLG9DQUFZO0lBb0NoRCwwQkFDVSxTQUFvQixFQUNwQixZQUF5QjtRQUZuQyxZQUlFLGlCQUFPLFNBTVI7UUFUUyxlQUFTLEdBQVQsU0FBUyxDQUFXO1FBQ3BCLGtCQUFZLEdBQVosWUFBWSxDQUFhO1FBVjNCLGNBQVEsR0FBRyxJQUFJLENBQUM7UUFhdEIsS0FBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3RCLEtBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUVkLEtBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSwrQkFBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzVDLEtBQUksQ0FBQyxvQkFBb0IsSUFBdUIsQ0FBQzs7SUFDbkQsQ0FBQztJQUVNLGtDQUFPLEdBQWQ7UUFDRSxpQkFBTSxPQUFPLFdBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMseUJBQXlCLEVBQUUsQ0FBQztJQUNuQyxDQUFDO0lBRUQsc0JBQVks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QyxDQUFDO0lBQ3ZDLENBQUM7SUFDSCx1QkFBQztBQUFELENBQUMsQ0EzMEJxQywyQkFBWSxHQTIwQmpEO0FBMzBCWSw0Q0FBZ0IiLCJmaWxlIjoiNDkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgeHRlcm0uanMgYXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbmltcG9ydCB7IElUZXJtaW5hbCwgSVNlbGVjdGlvbk1hbmFnZXIsIElCdWZmZXIsIENoYXJEYXRhLCBJQnVmZmVyTGluZSB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHsgWHRlcm1MaXN0ZW5lciB9IGZyb20gJy4vY29tbW9uL1R5cGVzJztcbmltcG9ydCB7IE1vdXNlSGVscGVyIH0gZnJvbSAnLi91dGlscy9Nb3VzZUhlbHBlcic7XG5pbXBvcnQgKiBhcyBCcm93c2VyIGZyb20gJy4vY29yZS9QbGF0Zm9ybSc7XG5pbXBvcnQgeyBDaGFyTWVhc3VyZSB9IGZyb20gJy4vdWkvQ2hhck1lYXN1cmUnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi9jb21tb24vRXZlbnRFbWl0dGVyJztcbmltcG9ydCB7IFNlbGVjdGlvbk1vZGVsIH0gZnJvbSAnLi9TZWxlY3Rpb25Nb2RlbCc7XG5pbXBvcnQgeyBDSEFSX0RBVEFfV0lEVEhfSU5ERVgsIENIQVJfREFUQV9DSEFSX0lOREVYLCBDSEFSX0RBVEFfQ09ERV9JTkRFWCB9IGZyb20gJy4vQnVmZmVyJztcbmltcG9ydCB7IEFsdENsaWNrSGFuZGxlciB9IGZyb20gJy4vaGFuZGxlcnMvQWx0Q2xpY2tIYW5kbGVyJztcblxuLyoqXG4gKiBUaGUgbnVtYmVyIG9mIHBpeGVscyB0aGUgbW91c2UgbmVlZHMgdG8gYmUgYWJvdmUgb3IgYmVsb3cgdGhlIHZpZXdwb3J0IGluXG4gKiBvcmRlciB0byBzY3JvbGwgYXQgdGhlIG1heGltdW0gc3BlZWQuXG4gKi9cbmNvbnN0IERSQUdfU0NST0xMX01BWF9USFJFU0hPTEQgPSA1MDtcblxuLyoqXG4gKiBUaGUgbWF4aW11bSBzY3JvbGxpbmcgc3BlZWRcbiAqL1xuY29uc3QgRFJBR19TQ1JPTExfTUFYX1NQRUVEID0gMTU7XG5cbi8qKlxuICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYmV0d2VlbiBkcmFnIHNjcm9sbCB1cGRhdGVzLlxuICovXG5jb25zdCBEUkFHX1NDUk9MTF9JTlRFUlZBTCA9IDUwO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIHRoYXQgY2FuIGhhdmUgZWxhcHNlZCBmb3IgYW4gYWx0IGNsaWNrIHRvIG1vdmUgdGhlXG4gKiBjdXJzb3IuXG4gKi9cbmNvbnN0IEFMVF9DTElDS19NT1ZFX0NVUlNPUl9USU1FID0gNTAwO1xuXG4vKipcbiAqIEEgc3RyaW5nIGNvbnRhaW5pbmcgYWxsIGNoYXJhY3RlcnMgdGhhdCBhcmUgY29uc2lkZXJlZCB3b3JkIHNlcGFyYXRlZCBieSB0aGVcbiAqIGRvdWJsZSBjbGljayB0byBzZWxlY3Qgd29yayBsb2dpYy5cbiAqL1xuY29uc3QgV09SRF9TRVBBUkFUT1JTID0gJyAoKVtde31cXCdcIic7XG5cbmNvbnN0IE5PTl9CUkVBS0lOR19TUEFDRV9DSEFSID0gU3RyaW5nLmZyb21DaGFyQ29kZSgxNjApO1xuY29uc3QgQUxMX05PTl9CUkVBS0lOR19TUEFDRV9SRUdFWCA9IG5ldyBSZWdFeHAoTk9OX0JSRUFLSU5HX1NQQUNFX0NIQVIsICdnJyk7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHBvc2l0aW9uIG9mIGEgd29yZCBvbiBhIGxpbmUuXG4gKi9cbmludGVyZmFjZSBJV29yZFBvc2l0aW9uIHtcbiAgc3RhcnQ6IG51bWJlcjtcbiAgbGVuZ3RoOiBudW1iZXI7XG59XG5cbi8qKlxuICogQSBzZWxlY3Rpb24gbW9kZSwgdGhpcyBkcml2ZXMgaG93IHRoZSBzZWxlY3Rpb24gYmVoYXZlcyBvbiBtb3VzZSBtb3ZlLlxuICovXG5leHBvcnQgY29uc3QgZW51bSBTZWxlY3Rpb25Nb2RlIHtcbiAgTk9STUFMLFxuICBXT1JELFxuICBMSU5FLFxuICBDT0xVTU5cbn1cblxuLyoqXG4gKiBBIGNsYXNzIHRoYXQgbWFuYWdlcyB0aGUgc2VsZWN0aW9uIG9mIHRoZSB0ZXJtaW5hbC4gV2l0aCBoZWxwIGZyb21cbiAqIFNlbGVjdGlvbk1vZGVsLCBTZWxlY3Rpb25NYW5hZ2VyIGhhbmRsZXMgd2l0aCBhbGwgbG9naWMgYXNzb2NpYXRlZCB3aXRoXG4gKiBkZWFsaW5nIHdpdGggdGhlIHNlbGVjdGlvbiwgaW5jbHVkaW5nIGhhbmRsaW5nIG1vdXNlIGludGVyYWN0aW9uLCB3aWRlXG4gKiBjaGFyYWN0ZXJzIGFuZCBmZXRjaGluZyB0aGUgYWN0dWFsIHRleHQgd2l0aGluIHRoZSBzZWxlY3Rpb24uIFJlbmRlcmluZyBpc1xuICogbm90IGhhbmRsZWQgYnkgdGhlIFNlbGVjdGlvbk1hbmFnZXIgYnV0IGEgJ3JlZnJlc2gnIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlXG4gKiBzZWxlY3Rpb24gaXMgcmVhZHkgdG8gYmUgcmVkcmF3bi5cbiAqL1xuZXhwb3J0IGNsYXNzIFNlbGVjdGlvbk1hbmFnZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIgaW1wbGVtZW50cyBJU2VsZWN0aW9uTWFuYWdlciB7XG4gIHByb3RlY3RlZCBfbW9kZWw6IFNlbGVjdGlvbk1vZGVsO1xuXG4gIC8qKlxuICAgKiBUaGUgYW1vdW50IHRvIHNjcm9sbCBldmVyeSBkcmFnIHNjcm9sbCB1cGRhdGUgKGRlcGVuZHMgb24gaG93IGZhciB0aGUgbW91c2VcbiAgICogZHJhZyBpcyBhYm92ZSBvciBiZWxvdyB0aGUgdGVybWluYWwpLlxuICAgKi9cbiAgcHJpdmF0ZSBfZHJhZ1Njcm9sbEFtb3VudDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBzZWxlY3Rpb24gbW9kZS5cbiAgICovXG4gIHByb3RlY3RlZCBfYWN0aXZlU2VsZWN0aW9uTW9kZTogU2VsZWN0aW9uTW9kZTtcblxuICAvKipcbiAgICogQSBzZXRJbnRlcnZhbCB0aW1lciB0aGF0IGlzIGFjdGl2ZSB3aGlsZSB0aGUgbW91c2UgaXMgZG93biB3aG9zZSBjYWxsYmFja1xuICAgKiBzY3JvbGxzIHRoZSB2aWV3cG9ydCB3aGVuIG5lY2Vzc2FyeS5cbiAgICovXG4gIHByaXZhdGUgX2RyYWdTY3JvbGxJbnRlcnZhbFRpbWVyOiBOb2RlSlMuVGltZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBhbmltYXRpb24gZnJhbWUgSUQgdXNlZCBmb3IgcmVmcmVzaGluZyB0aGUgc2VsZWN0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSBfcmVmcmVzaEFuaW1hdGlvbkZyYW1lOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgc2VsZWN0aW9uIGlzIGVuYWJsZWQuXG4gICAqL1xuICBwcml2YXRlIF9lbmFibGVkID0gdHJ1ZTtcblxuICBwcml2YXRlIF9tb3VzZU1vdmVMaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcjtcbiAgcHJpdmF0ZSBfbW91c2VVcExpc3RlbmVyOiBFdmVudExpc3RlbmVyO1xuICBwcml2YXRlIF90cmltTGlzdGVuZXI6IFh0ZXJtTGlzdGVuZXI7XG5cbiAgcHJpdmF0ZSBfbW91c2VEb3duVGltZVN0YW1wOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBfdGVybWluYWw6IElUZXJtaW5hbCxcbiAgICBwcml2YXRlIF9jaGFyTWVhc3VyZTogQ2hhck1lYXN1cmVcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9pbml0TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5lbmFibGUoKTtcblxuICAgIHRoaXMuX21vZGVsID0gbmV3IFNlbGVjdGlvbk1vZGVsKF90ZXJtaW5hbCk7XG4gICAgdGhpcy5fYWN0aXZlU2VsZWN0aW9uTW9kZSA9IFNlbGVjdGlvbk1vZGUuTk9STUFMO1xuICB9XG5cbiAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIHRoaXMuX3JlbW92ZU1vdXNlRG93bkxpc3RlbmVycygpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgX2J1ZmZlcigpOiBJQnVmZmVyIHtcbiAgICByZXR1cm4gdGhpcy5fdGVybWluYWwuYnVmZmVycy5hY3RpdmU7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgbGlzdGVuZXIgdmFyaWFibGVzLlxuICAgKi9cbiAgcHJpdmF0ZSBfaW5pdExpc3RlbmVycygpOiB2b2lkIHtcbiAgICB0aGlzLl9tb3VzZU1vdmVMaXN0ZW5lciA9IGV2ZW50ID0+IHRoaXMuX29uTW91c2VNb3ZlKDxNb3VzZUV2ZW50PmV2ZW50KTtcbiAgICB0aGlzLl9tb3VzZVVwTGlzdGVuZXIgPSBldmVudCA9PiB0aGlzLl9vbk1vdXNlVXAoPE1vdXNlRXZlbnQ+ZXZlbnQpO1xuICAgIHRoaXMuX3RyaW1MaXN0ZW5lciA9IChhbW91bnQ6IG51bWJlcikgPT4gdGhpcy5fb25UcmltKGFtb3VudCk7XG5cbiAgICB0aGlzLmluaXRCdWZmZXJzTGlzdGVuZXJzKCk7XG4gIH1cblxuICBwdWJsaWMgaW5pdEJ1ZmZlcnNMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgdGhpcy5fdGVybWluYWwuYnVmZmVyLmxpbmVzLm9uKCd0cmltJywgdGhpcy5fdHJpbUxpc3RlbmVyKTtcbiAgICB0aGlzLl90ZXJtaW5hbC5idWZmZXJzLm9uKCdhY3RpdmF0ZScsIGUgPT4gdGhpcy5fb25CdWZmZXJBY3RpdmF0ZShlKSk7XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZXMgdGhlIHNlbGVjdGlvbiBtYW5hZ2VyLiBUaGlzIGlzIHVzZWZ1bCBmb3Igd2hlbiB0ZXJtaW5hbCBtb3VzZVxuICAgKiBhcmUgZW5hYmxlZC5cbiAgICovXG4gIHB1YmxpYyBkaXNhYmxlKCk6IHZvaWQge1xuICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIHRoZSBzZWxlY3Rpb24gbWFuYWdlci5cbiAgICovXG4gIHB1YmxpYyBlbmFibGUoKTogdm9pZCB7XG4gICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHNlbGVjdGlvblN0YXJ0KCk6IFtudW1iZXIsIG51bWJlcl0geyByZXR1cm4gdGhpcy5fbW9kZWwuZmluYWxTZWxlY3Rpb25TdGFydDsgfVxuICBwdWJsaWMgZ2V0IHNlbGVjdGlvbkVuZCgpOiBbbnVtYmVyLCBudW1iZXJdIHsgcmV0dXJuIHRoaXMuX21vZGVsLmZpbmFsU2VsZWN0aW9uRW5kOyB9XG5cbiAgLyoqXG4gICAqIEdldHMgd2hldGhlciB0aGVyZSBpcyBhbiBhY3RpdmUgdGV4dCBzZWxlY3Rpb24uXG4gICAqL1xuICBwdWJsaWMgZ2V0IGhhc1NlbGVjdGlvbigpOiBib29sZWFuIHtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMuX21vZGVsLmZpbmFsU2VsZWN0aW9uU3RhcnQ7XG4gICAgY29uc3QgZW5kID0gdGhpcy5fbW9kZWwuZmluYWxTZWxlY3Rpb25FbmQ7XG4gICAgaWYgKCFzdGFydCB8fCAhZW5kKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBzdGFydFswXSAhPT0gZW5kWzBdIHx8IHN0YXJ0WzFdICE9PSBlbmRbMV07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdGV4dCBjdXJyZW50bHkgc2VsZWN0ZWQuXG4gICAqL1xuICBwdWJsaWMgZ2V0IHNlbGVjdGlvblRleHQoKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMuX21vZGVsLmZpbmFsU2VsZWN0aW9uU3RhcnQ7XG4gICAgY29uc3QgZW5kID0gdGhpcy5fbW9kZWwuZmluYWxTZWxlY3Rpb25FbmQ7XG4gICAgaWYgKCFzdGFydCB8fCAhZW5kKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgaWYgKHRoaXMuX2FjdGl2ZVNlbGVjdGlvbk1vZGUgPT09IFNlbGVjdGlvbk1vZGUuQ09MVU1OKSB7XG4gICAgICAvLyBJZ25vcmUgemVybyB3aWR0aCBzZWxlY3Rpb25zXG4gICAgICBpZiAoc3RhcnRbMF0gPT09IGVuZFswXSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGkgPSBzdGFydFsxXTsgaSA8PSBlbmRbMV07IGkrKykge1xuICAgICAgICBjb25zdCBsaW5lVGV4dCA9IHRoaXMuX2J1ZmZlci50cmFuc2xhdGVCdWZmZXJMaW5lVG9TdHJpbmcoaSwgdHJ1ZSwgc3RhcnRbMF0sIGVuZFswXSk7XG4gICAgICAgIHJlc3VsdC5wdXNoKGxpbmVUZXh0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gR2V0IGZpcnN0IHJvd1xuICAgICAgY29uc3Qgc3RhcnRSb3dFbmRDb2wgPSBzdGFydFsxXSA9PT0gZW5kWzFdID8gZW5kWzBdIDogbnVsbDtcbiAgICAgIHJlc3VsdC5wdXNoKHRoaXMuX2J1ZmZlci50cmFuc2xhdGVCdWZmZXJMaW5lVG9TdHJpbmcoc3RhcnRbMV0sIHRydWUsIHN0YXJ0WzBdLCBzdGFydFJvd0VuZENvbCkpO1xuXG4gICAgICAvLyBHZXQgbWlkZGxlIHJvd3NcbiAgICAgIGZvciAobGV0IGkgPSBzdGFydFsxXSArIDE7IGkgPD0gZW5kWzFdIC0gMTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlckxpbmUgPSB0aGlzLl9idWZmZXIubGluZXMuZ2V0KGkpO1xuICAgICAgICBjb25zdCBsaW5lVGV4dCA9IHRoaXMuX2J1ZmZlci50cmFuc2xhdGVCdWZmZXJMaW5lVG9TdHJpbmcoaSwgdHJ1ZSk7XG4gICAgICAgIGlmIChidWZmZXJMaW5lLmlzV3JhcHBlZCkge1xuICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gKz0gbGluZVRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2gobGluZVRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCBmaW5hbCByb3dcbiAgICAgIGlmIChzdGFydFsxXSAhPT0gZW5kWzFdKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlckxpbmUgPSB0aGlzLl9idWZmZXIubGluZXMuZ2V0KGVuZFsxXSk7XG4gICAgICAgIGNvbnN0IGxpbmVUZXh0ID0gdGhpcy5fYnVmZmVyLnRyYW5zbGF0ZUJ1ZmZlckxpbmVUb1N0cmluZyhlbmRbMV0sIHRydWUsIDAsIGVuZFswXSk7XG4gICAgICAgIGlmIChidWZmZXJMaW5lLmlzV3JhcHBlZCkge1xuICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gKz0gbGluZVRleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2gobGluZVRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRm9ybWF0IHN0cmluZyBieSByZXBsYWNpbmcgbm9uLWJyZWFraW5nIHNwYWNlIGNoYXJzIHdpdGggcmVndWxhciBzcGFjZXNcbiAgICAvLyBhbmQgam9pbmluZyB0aGUgYXJyYXkgaW50byBhIG11bHRpLWxpbmUgc3RyaW5nLlxuICAgIGNvbnN0IGZvcm1hdHRlZFJlc3VsdCA9IHJlc3VsdC5tYXAobGluZSA9PiB7XG4gICAgICByZXR1cm4gbGluZS5yZXBsYWNlKEFMTF9OT05fQlJFQUtJTkdfU1BBQ0VfUkVHRVgsICcgJyk7XG4gICAgfSkuam9pbihCcm93c2VyLmlzTVNXaW5kb3dzID8gJ1xcclxcbicgOiAnXFxuJyk7XG5cbiAgICByZXR1cm4gZm9ybWF0dGVkUmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgY3VycmVudCB0ZXJtaW5hbCBzZWxlY3Rpb24uXG4gICAqL1xuICBwdWJsaWMgY2xlYXJTZWxlY3Rpb24oKTogdm9pZCB7XG4gICAgdGhpcy5fbW9kZWwuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB0aGlzLl9yZW1vdmVNb3VzZURvd25MaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnJlZnJlc2goKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWV1ZXMgYSByZWZyZXNoLCByZWRyYXdpbmcgdGhlIHNlbGVjdGlvbiBvbiB0aGUgbmV4dCBvcHBvcnR1bml0eS5cbiAgICogQHBhcmFtIGlzTmV3U2VsZWN0aW9uIFdoZXRoZXIgdGhlIHNlbGVjdGlvbiBzaG91bGQgYmUgcmVnaXN0ZXJlZCBhcyBhIG5ld1xuICAgKiBzZWxlY3Rpb24gb24gTGludXguXG4gICAqL1xuICBwdWJsaWMgcmVmcmVzaChpc05ld1NlbGVjdGlvbj86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAvLyBRdWV1ZSB0aGUgcmVmcmVzaCBmb3IgdGhlIHJlbmRlcmVyXG4gICAgaWYgKCF0aGlzLl9yZWZyZXNoQW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgIHRoaXMuX3JlZnJlc2hBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5fcmVmcmVzaCgpKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgcGxhdGZvcm0gaXMgTGludXggYW5kIHRoZSByZWZyZXNoIGNhbGwgY29tZXMgZnJvbSBhIG1vdXNlIGV2ZW50LFxuICAgIC8vIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBzZWxlY3Rpb24gZm9yIG1pZGRsZSBjbGljayB0byBwYXN0ZSBzZWxlY3Rpb24uXG4gICAgaWYgKEJyb3dzZXIuaXNMaW51eCAmJiBpc05ld1NlbGVjdGlvbikge1xuICAgICAgY29uc3Qgc2VsZWN0aW9uVGV4dCA9IHRoaXMuc2VsZWN0aW9uVGV4dDtcbiAgICAgIGlmIChzZWxlY3Rpb25UZXh0Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLmVtaXQoJ25ld3NlbGVjdGlvbicsIHRoaXMuc2VsZWN0aW9uVGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVzIHRoZSByZWZyZXNoIGV2ZW50LCBjYXVzaW5nIGNvbnN1bWVycyB0byBwaWNrIGl0IHVwIGFuZCByZWRyYXcgdGhlXG4gICAqIHNlbGVjdGlvbiBzdGF0ZS5cbiAgICovXG4gIHByaXZhdGUgX3JlZnJlc2goKTogdm9pZCB7XG4gICAgdGhpcy5fcmVmcmVzaEFuaW1hdGlvbkZyYW1lID0gbnVsbDtcbiAgICB0aGlzLmVtaXQoJ3JlZnJlc2gnLCB7XG4gICAgICBzdGFydDogdGhpcy5fbW9kZWwuZmluYWxTZWxlY3Rpb25TdGFydCxcbiAgICAgIGVuZDogdGhpcy5fbW9kZWwuZmluYWxTZWxlY3Rpb25FbmQsXG4gICAgICBjb2x1bW5TZWxlY3RNb2RlOiB0aGlzLl9hY3RpdmVTZWxlY3Rpb25Nb2RlID09PSBTZWxlY3Rpb25Nb2RlLkNPTFVNTlxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBjbGljayB3YXMgaW5zaWRlIHRoZSBjdXJyZW50IHNlbGVjdGlvblxuICAgKiBAcGFyYW0gZXZlbnQgVGhlIG1vdXNlIGV2ZW50XG4gICAqL1xuICBwdWJsaWMgaXNDbGlja0luU2VsZWN0aW9uKGV2ZW50OiBNb3VzZUV2ZW50KTogYm9vbGVhbiB7XG4gICAgY29uc3QgY29vcmRzID0gdGhpcy5fZ2V0TW91c2VCdWZmZXJDb29yZHMoZXZlbnQpO1xuICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5fbW9kZWwuZmluYWxTZWxlY3Rpb25TdGFydDtcbiAgICBjb25zdCBlbmQgPSB0aGlzLl9tb2RlbC5maW5hbFNlbGVjdGlvbkVuZDtcblxuICAgIGlmICghc3RhcnQgfHwgIWVuZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9hcmVDb29yZHNJblNlbGVjdGlvbihjb29yZHMsIHN0YXJ0LCBlbmQpO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9hcmVDb29yZHNJblNlbGVjdGlvbihjb29yZHM6IFtudW1iZXIsIG51bWJlcl0sIHN0YXJ0OiBbbnVtYmVyLCBudW1iZXJdLCBlbmQ6IFtudW1iZXIsIG51bWJlcl0pOiBib29sZWFuIHtcbiAgICByZXR1cm4gKGNvb3Jkc1sxXSA+IHN0YXJ0WzFdICYmIGNvb3Jkc1sxXSA8IGVuZFsxXSkgfHxcbiAgICAgICAgKHN0YXJ0WzFdID09PSBlbmRbMV0gJiYgY29vcmRzWzFdID09PSBzdGFydFsxXSAmJiBjb29yZHNbMF0gPj0gc3RhcnRbMF0gJiYgY29vcmRzWzBdIDwgZW5kWzBdKSB8fFxuICAgICAgICAoc3RhcnRbMV0gPCBlbmRbMV0gJiYgY29vcmRzWzFdID09PSBlbmRbMV0gJiYgY29vcmRzWzBdIDwgZW5kWzBdKSB8fFxuICAgICAgICAoc3RhcnRbMV0gPCBlbmRbMV0gJiYgY29vcmRzWzFdID09PSBzdGFydFsxXSAmJiBjb29yZHNbMF0gPj0gc3RhcnRbMF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdHMgd29yZCBhdCB0aGUgY3VycmVudCBtb3VzZSBldmVudCBjb29yZGluYXRlcy5cbiAgICogQHBhcmFtIGV2ZW50IFRoZSBtb3VzZSBldmVudC5cbiAgICovXG4gIHB1YmxpYyBzZWxlY3RXb3JkQXRDdXJzb3IoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLl9nZXRNb3VzZUJ1ZmZlckNvb3JkcyhldmVudCk7XG4gICAgaWYgKGNvb3Jkcykge1xuICAgICAgdGhpcy5fc2VsZWN0V29yZEF0KGNvb3JkcywgZmFsc2UpO1xuICAgICAgdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kID0gbnVsbDtcbiAgICAgIHRoaXMucmVmcmVzaCh0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2VsZWN0cyBhbGwgdGV4dCB3aXRoaW4gdGhlIHRlcm1pbmFsLlxuICAgKi9cbiAgcHVibGljIHNlbGVjdEFsbCgpOiB2b2lkIHtcbiAgICB0aGlzLl9tb2RlbC5pc1NlbGVjdEFsbEFjdGl2ZSA9IHRydWU7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgdGhpcy5fdGVybWluYWwuZW1pdCgnc2VsZWN0aW9uJyk7XG4gIH1cblxuICBwdWJsaWMgc2VsZWN0TGluZXMoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9tb2RlbC5jbGVhclNlbGVjdGlvbigpO1xuICAgIHN0YXJ0ID0gTWF0aC5tYXgoc3RhcnQsIDApO1xuICAgIGVuZCA9IE1hdGgubWluKGVuZCwgdGhpcy5fdGVybWluYWwuYnVmZmVyLmxpbmVzLmxlbmd0aCAtIDEpO1xuICAgIHRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0ID0gWzAsIHN0YXJ0XTtcbiAgICB0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmQgPSBbdGhpcy5fdGVybWluYWwuY29scywgZW5kXTtcbiAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB0aGlzLl90ZXJtaW5hbC5lbWl0KCdzZWxlY3Rpb24nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGhlIGJ1ZmZlciBiZWluZyB0cmltbWVkLCBhZGp1c3QgdGhlIHNlbGVjdGlvbiBwb3NpdGlvbi5cbiAgICogQHBhcmFtIGFtb3VudCBUaGUgYW1vdW50IHRoZSBidWZmZXIgaXMgYmVpbmcgdHJpbW1lZC5cbiAgICovXG4gIHByaXZhdGUgX29uVHJpbShhbW91bnQ6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IG5lZWRzUmVmcmVzaCA9IHRoaXMuX21vZGVsLm9uVHJpbShhbW91bnQpO1xuICAgIGlmIChuZWVkc1JlZnJlc2gpIHtcbiAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSAwLWJhc2VkIFt4LCB5XSBidWZmZXIgY29vcmRpbmF0ZXMgb2YgdGhlIGN1cnJlbnQgbW91c2UgZXZlbnQuXG4gICAqIEBwYXJhbSBldmVudCBUaGUgbW91c2UgZXZlbnQuXG4gICAqL1xuICBwcml2YXRlIF9nZXRNb3VzZUJ1ZmZlckNvb3JkcyhldmVudDogTW91c2VFdmVudCk6IFtudW1iZXIsIG51bWJlcl0ge1xuICAgIGNvbnN0IGNvb3JkcyA9IHRoaXMuX3Rlcm1pbmFsLm1vdXNlSGVscGVyLmdldENvb3JkcyhldmVudCwgdGhpcy5fdGVybWluYWwuc2NyZWVuRWxlbWVudCwgdGhpcy5fY2hhck1lYXN1cmUsIHRoaXMuX3Rlcm1pbmFsLmNvbHMsIHRoaXMuX3Rlcm1pbmFsLnJvd3MsIHRydWUpO1xuICAgIGlmICghY29vcmRzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IHRvIDAtYmFzZWRcbiAgICBjb29yZHNbMF0tLTtcbiAgICBjb29yZHNbMV0tLTtcblxuICAgIC8vIENvbnZlcnQgdmlld3BvcnQgY29vcmRzIHRvIGJ1ZmZlciBjb29yZHNcbiAgICBjb29yZHNbMV0gKz0gdGhpcy5fdGVybWluYWwuYnVmZmVyLnlkaXNwO1xuICAgIHJldHVybiBjb29yZHM7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgYW1vdW50IHRoZSB2aWV3cG9ydCBzaG91bGQgYmUgc2Nyb2xsZWQgYmFzZWQgb24gaG93IGZhciBvdXQgb2YgdGhlXG4gICAqIHRlcm1pbmFsIHRoZSBtb3VzZSBpcy5cbiAgICogQHBhcmFtIGV2ZW50IFRoZSBtb3VzZSBldmVudC5cbiAgICovXG4gIHByaXZhdGUgX2dldE1vdXNlRXZlbnRTY3JvbGxBbW91bnQoZXZlbnQ6IE1vdXNlRXZlbnQpOiBudW1iZXIge1xuICAgIGxldCBvZmZzZXQgPSBNb3VzZUhlbHBlci5nZXRDb29yZHNSZWxhdGl2ZVRvRWxlbWVudChldmVudCwgdGhpcy5fdGVybWluYWwuc2NyZWVuRWxlbWVudClbMV07XG4gICAgY29uc3QgdGVybWluYWxIZWlnaHQgPSB0aGlzLl90ZXJtaW5hbC5yb3dzICogTWF0aC5jZWlsKHRoaXMuX2NoYXJNZWFzdXJlLmhlaWdodCAqIHRoaXMuX3Rlcm1pbmFsLm9wdGlvbnMubGluZUhlaWdodCk7XG4gICAgaWYgKG9mZnNldCA+PSAwICYmIG9mZnNldCA8PSB0ZXJtaW5hbEhlaWdodCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmIChvZmZzZXQgPiB0ZXJtaW5hbEhlaWdodCkge1xuICAgICAgb2Zmc2V0IC09IHRlcm1pbmFsSGVpZ2h0O1xuICAgIH1cblxuICAgIG9mZnNldCA9IE1hdGgubWluKE1hdGgubWF4KG9mZnNldCwgLURSQUdfU0NST0xMX01BWF9USFJFU0hPTEQpLCBEUkFHX1NDUk9MTF9NQVhfVEhSRVNIT0xEKTtcbiAgICBvZmZzZXQgLz0gRFJBR19TQ1JPTExfTUFYX1RIUkVTSE9MRDtcbiAgICByZXR1cm4gKG9mZnNldCAvIE1hdGguYWJzKG9mZnNldCkpICsgTWF0aC5yb3VuZChvZmZzZXQgKiAoRFJBR19TQ1JPTExfTUFYX1NQRUVEIC0gMSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgc2VsZWN0aW9uIG1hbmFnZXIgc2hvdWxkIGZvcmNlIHNlbGVjdGlvbiwgcmVnYXJkbGVzcyBvZlxuICAgKiB3aGV0aGVyIHRoZSB0ZXJtaW5hbCBpcyBpbiBtb3VzZSBldmVudHMgbW9kZS5cbiAgICogQHBhcmFtIGV2ZW50IFRoZSBtb3VzZSBldmVudC5cbiAgICovXG4gIHB1YmxpYyBzaG91bGRGb3JjZVNlbGVjdGlvbihldmVudDogTW91c2VFdmVudCk6IGJvb2xlYW4ge1xuICAgIGlmIChCcm93c2VyLmlzTWFjKSB7XG4gICAgICByZXR1cm4gZXZlbnQuYWx0S2V5ICYmIHRoaXMuX3Rlcm1pbmFsLm9wdGlvbnMubWFjT3B0aW9uQ2xpY2tGb3JjZXNTZWxlY3Rpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIGV2ZW50LnNoaWZ0S2V5O1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGUgbW91c2Vkb3duIGV2ZW50LCBzZXR0aW5nIHVwIGZvciBhIG5ldyBzZWxlY3Rpb24uXG4gICAqIEBwYXJhbSBldmVudCBUaGUgbW91c2Vkb3duIGV2ZW50LlxuICAgKi9cbiAgcHVibGljIG9uTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy5fbW91c2VEb3duVGltZVN0YW1wID0gZXZlbnQudGltZVN0YW1wO1xuICAgIC8vIElmIHdlIGhhdmUgc2VsZWN0aW9uLCB3ZSB3YW50IHRoZSBjb250ZXh0IG1lbnUgb24gcmlnaHQgY2xpY2sgZXZlbiBpZiB0aGVcbiAgICAvLyB0ZXJtaW5hbCBpcyBpbiBtb3VzZSBtb2RlLlxuICAgIGlmIChldmVudC5idXR0b24gPT09IDIgJiYgdGhpcy5oYXNTZWxlY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBPbmx5IGFjdGlvbiB0aGUgcHJpbWFyeSBidXR0b25cbiAgICBpZiAoZXZlbnQuYnV0dG9uICE9PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWxsb3cgc2VsZWN0aW9uIHdoZW4gdXNpbmcgYSBzcGVjaWZpYyBtb2RpZmllciBrZXksIGV2ZW4gd2hlbiBkaXNhYmxlZFxuICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgaWYgKCF0aGlzLnNob3VsZEZvcmNlU2VsZWN0aW9uKGV2ZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IHNlbmQgdGhlIG1vdXNlIGRvd24gZXZlbnQgdG8gdGhlIGN1cnJlbnQgcHJvY2Vzcywgd2Ugd2FudCB0byBzZWxlY3RcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIC8vIFRlbGwgdGhlIGJyb3dzZXIgbm90IHRvIHN0YXJ0IGEgcmVndWxhciBzZWxlY3Rpb25cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgLy8gUmVzZXQgZHJhZyBzY3JvbGwgc3RhdGVcbiAgICB0aGlzLl9kcmFnU2Nyb2xsQW1vdW50ID0gMDtcblxuICAgIGlmICh0aGlzLl9lbmFibGVkICYmIGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICB0aGlzLl9vbkluY3JlbWVudGFsQ2xpY2soZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZXZlbnQuZGV0YWlsID09PSAxKSB7XG4gICAgICAgIHRoaXMuX29uU2luZ2xlQ2xpY2soZXZlbnQpO1xuICAgICAgfSBlbHNlIGlmIChldmVudC5kZXRhaWwgPT09IDIpIHtcbiAgICAgICAgdGhpcy5fb25Eb3VibGVDbGljayhldmVudCk7XG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmRldGFpbCA9PT0gMykge1xuICAgICAgICB0aGlzLl9vblRyaXBsZUNsaWNrKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9hZGRNb3VzZURvd25MaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnJlZnJlc2godHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBsaXN0ZW5lcnMgd2hlbiBtb3VzZWRvd24gaXMgdHJpZ2dlcmVkLlxuICAgKi9cbiAgcHJpdmF0ZSBfYWRkTW91c2VEb3duTGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIC8vIExpc3RlbiBvbiB0aGUgZG9jdW1lbnQgc28gdGhhdCBkcmFnZ2luZyBvdXRzaWRlIG9mIHZpZXdwb3J0IHdvcmtzXG4gICAgdGhpcy5fdGVybWluYWwuZWxlbWVudC5vd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX21vdXNlTW92ZUxpc3RlbmVyKTtcbiAgICB0aGlzLl90ZXJtaW5hbC5lbGVtZW50Lm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX21vdXNlVXBMaXN0ZW5lcik7XG4gICAgdGhpcy5fZHJhZ1Njcm9sbEludGVydmFsVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLl9kcmFnU2Nyb2xsKCksIERSQUdfU0NST0xMX0lOVEVSVkFMKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBsaXN0ZW5lcnMgdGhhdCBhcmUgcmVnaXN0ZXJlZCB3aGVuIG1vdXNlZG93biBpcyB0cmlnZ2VyZWQuXG4gICAqL1xuICBwcml2YXRlIF9yZW1vdmVNb3VzZURvd25MaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX3Rlcm1pbmFsLmVsZW1lbnQub3duZXJEb2N1bWVudCkge1xuICAgICAgdGhpcy5fdGVybWluYWwuZWxlbWVudC5vd25lckRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX21vdXNlTW92ZUxpc3RlbmVyKTtcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmVsZW1lbnQub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fbW91c2VVcExpc3RlbmVyKTtcbiAgICB9XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9kcmFnU2Nyb2xsSW50ZXJ2YWxUaW1lcik7XG4gICAgdGhpcy5fZHJhZ1Njcm9sbEludGVydmFsVGltZXIgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGFuIGluY3JlbWVudGFsIGNsaWNrLCBzZXR0aW5nIHRoZSBzZWxlY3Rpb24gZW5kIHBvc2l0aW9uIHRvIHRoZSBtb3VzZVxuICAgKiBwb3NpdGlvbi5cbiAgICogQHBhcmFtIGV2ZW50IFRoZSBtb3VzZSBldmVudC5cbiAgICovXG4gIHByaXZhdGUgX29uSW5jcmVtZW50YWxDbGljayhldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9tb2RlbC5zZWxlY3Rpb25TdGFydCkge1xuICAgICAgdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kID0gdGhpcy5fZ2V0TW91c2VCdWZmZXJDb29yZHMoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhIHNpbmdsZSBjbGljaywgcmVzZXR0aW5nIHJlbGV2YW50IHN0YXRlIGFuZCBzZXR0aW5nIHRoZSBzZWxlY3Rpb25cbiAgICogc3RhcnQgcG9zaXRpb24uXG4gICAqIEBwYXJhbSBldmVudCBUaGUgbW91c2UgZXZlbnQuXG4gICAqL1xuICBwcml2YXRlIF9vblNpbmdsZUNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnRMZW5ndGggPSAwO1xuICAgIHRoaXMuX21vZGVsLmlzU2VsZWN0QWxsQWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5fYWN0aXZlU2VsZWN0aW9uTW9kZSA9IHRoaXMuc2hvdWxkQ29sdW1uU2VsZWN0KGV2ZW50KSA/IFNlbGVjdGlvbk1vZGUuQ09MVU1OIDogU2VsZWN0aW9uTW9kZS5OT1JNQUw7XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBuZXcgc2VsZWN0aW9uXG4gICAgdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQgPSB0aGlzLl9nZXRNb3VzZUJ1ZmZlckNvb3JkcyhldmVudCk7XG4gICAgaWYgKCF0aGlzLl9tb2RlbC5zZWxlY3Rpb25TdGFydCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmQgPSBudWxsO1xuXG4gICAgLy8gRW5zdXJlIHRoZSBsaW5lIGV4aXN0c1xuICAgIGNvbnN0IGxpbmUgPSB0aGlzLl9idWZmZXIubGluZXMuZ2V0KHRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0WzFdKTtcbiAgICBpZiAoIWxpbmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gZWFybHkgaWYgdGhlIGNsaWNrIGV2ZW50IGlzIG5vdCBpbiB0aGUgYnVmZmVyIChlZy4gaW4gc2Nyb2xsIGJhcilcbiAgICBpZiAobGluZS5sZW5ndGggPj0gdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnRbMF0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgbW91c2UgaXMgb3ZlciB0aGUgc2Vjb25kIGhhbGYgb2YgYSB3aWRlIGNoYXJhY3RlciwgYWRqdXN0IHRoZVxuICAgIC8vIHNlbGVjdGlvbiB0byBjb3ZlciB0aGUgd2hvbGUgY2hhcmFjdGVyXG4gICAgY29uc3QgY2hhciA9IGxpbmUuZ2V0KHRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0WzBdKTtcbiAgICBpZiAoY2hhcltDSEFSX0RBVEFfV0lEVEhfSU5ERVhdID09PSAwKSB7XG4gICAgICB0aGlzLl9tb2RlbC5zZWxlY3Rpb25TdGFydFswXSsrO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhIGRvdWJsZSBjbGljaywgc2VsZWN0aW5nIHRoZSBjdXJyZW50IHdvcmsuXG4gICAqIEBwYXJhbSBldmVudCBUaGUgbW91c2UgZXZlbnQuXG4gICAqL1xuICBwcml2YXRlIF9vbkRvdWJsZUNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgY29vcmRzID0gdGhpcy5fZ2V0TW91c2VCdWZmZXJDb29yZHMoZXZlbnQpO1xuICAgIGlmIChjb29yZHMpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZVNlbGVjdGlvbk1vZGUgPSBTZWxlY3Rpb25Nb2RlLldPUkQ7XG4gICAgICB0aGlzLl9zZWxlY3RXb3JkQXQoY29vcmRzLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgYSB0cmlwbGUgY2xpY2ssIHNlbGVjdGluZyB0aGUgY3VycmVudCBsaW5lIGFuZCBhY3RpdmF0aW5nIGxpbmVcbiAgICogc2VsZWN0IG1vZGUuXG4gICAqIEBwYXJhbSBldmVudCBUaGUgbW91c2UgZXZlbnQuXG4gICAqL1xuICBwcml2YXRlIF9vblRyaXBsZUNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgY29vcmRzID0gdGhpcy5fZ2V0TW91c2VCdWZmZXJDb29yZHMoZXZlbnQpO1xuICAgIGlmIChjb29yZHMpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZVNlbGVjdGlvbk1vZGUgPSBTZWxlY3Rpb25Nb2RlLkxJTkU7XG4gICAgICB0aGlzLl9zZWxlY3RMaW5lQXQoY29vcmRzWzFdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBzZWxlY3Rpb24gbWFuYWdlciBzaG91bGQgb3BlcmF0ZSBpbiBjb2x1bW4gc2VsZWN0IG1vZGVcbiAgICogQHBhcmFtIGV2ZW50IHRoZSBtb3VzZSBvciBrZXlib2FyZCBldmVudFxuICAgKi9cbiAgcHVibGljIHNob3VsZENvbHVtblNlbGVjdChldmVudDogS2V5Ym9hcmRFdmVudCB8IE1vdXNlRXZlbnQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZXZlbnQuYWx0S2V5ICYmICEoQnJvd3Nlci5pc01hYyAmJiB0aGlzLl90ZXJtaW5hbC5vcHRpb25zLm1hY09wdGlvbkNsaWNrRm9yY2VzU2VsZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBtb3VzZW1vdmUgZXZlbnQgd2hlbiB0aGUgbW91c2UgYnV0dG9uIGlzIGRvd24sIHJlY29yZGluZyB0aGVcbiAgICogZW5kIG9mIHRoZSBzZWxlY3Rpb24gYW5kIHJlZnJlc2hpbmcgdGhlIHNlbGVjdGlvbi5cbiAgICogQHBhcmFtIGV2ZW50IFRoZSBtb3VzZW1vdmUgZXZlbnQuXG4gICAqL1xuICBwcml2YXRlIF9vbk1vdXNlTW92ZShldmVudDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIC8vIElmIHRoZSBtb3VzZW1vdmUgbGlzdGVuZXIgaXMgYWN0aXZlIGl0IG1lYW5zIHRoYXQgYSBzZWxlY3Rpb24gaXNcbiAgICAvLyBjdXJyZW50bHkgYmVpbmcgbWFkZSwgd2Ugc2hvdWxkIHN0b3AgcHJvcG9nYXRpb24gdG8gcHJldmVudCBtb3VzZSBldmVudHNcbiAgICAvLyB0byBiZSBzZW50IHRvIHRoZSBwdHkuXG4gICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cbiAgICAvLyBSZWNvcmQgdGhlIHByZXZpb3VzIHBvc2l0aW9uIHNvIHdlIGtub3cgd2hldGhlciB0byByZWRyYXcgdGhlIHNlbGVjdGlvblxuICAgIC8vIGF0IHRoZSBlbmQuXG4gICAgY29uc3QgcHJldmlvdXNTZWxlY3Rpb25FbmQgPSB0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmQgPyBbdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzBdLCB0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmRbMV1dIDogbnVsbDtcblxuICAgIC8vIFNldCB0aGUgaW5pdGlhbCBzZWxlY3Rpb24gZW5kIGJhc2VkIG9uIHRoZSBtb3VzZSBjb29yZGluYXRlc1xuICAgIHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZCA9IHRoaXMuX2dldE1vdXNlQnVmZmVyQ29vcmRzKGV2ZW50KTtcbiAgICBpZiAoIXRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZCkge1xuICAgICAgdGhpcy5yZWZyZXNoKHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNlbGVjdCB0aGUgZW50aXJlIGxpbmUgaWYgbGluZSBzZWxlY3QgbW9kZSBpcyBhY3RpdmUuXG4gICAgaWYgKHRoaXMuX2FjdGl2ZVNlbGVjdGlvbk1vZGUgPT09IFNlbGVjdGlvbk1vZGUuTElORSkge1xuICAgICAgaWYgKHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFsxXSA8IHRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0WzFdKSB7XG4gICAgICAgIHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXSA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmRbMF0gPSB0aGlzLl90ZXJtaW5hbC5jb2xzO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5fYWN0aXZlU2VsZWN0aW9uTW9kZSA9PT0gU2VsZWN0aW9uTW9kZS5XT1JEKSB7XG4gICAgICB0aGlzLl9zZWxlY3RUb1dvcmRBdCh0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmQpO1xuICAgIH1cblxuICAgIC8vIERldGVybWluZSB0aGUgYW1vdW50IG9mIHNjcm9sbGluZyB0aGF0IHdpbGwgaGFwcGVuLlxuICAgIHRoaXMuX2RyYWdTY3JvbGxBbW91bnQgPSB0aGlzLl9nZXRNb3VzZUV2ZW50U2Nyb2xsQW1vdW50KGV2ZW50KTtcblxuICAgIC8vIElmIHRoZSBjdXJzb3Igd2FzIGFib3ZlIG9yIGJlbG93IHRoZSB2aWV3cG9ydCwgbWFrZSBzdXJlIGl0J3MgYXQgdGhlXG4gICAgLy8gc3RhcnQgb3IgZW5kIG9mIHRoZSB2aWV3cG9ydCByZXNwZWN0aXZlbHkuIFRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIHdoZW5cbiAgICAvLyBOT1QgaW4gY29sdW1uIHNlbGVjdCBtb2RlLlxuICAgIGlmICh0aGlzLl9hY3RpdmVTZWxlY3Rpb25Nb2RlICE9PSBTZWxlY3Rpb25Nb2RlLkNPTFVNTikge1xuICAgICAgaWYgKHRoaXMuX2RyYWdTY3JvbGxBbW91bnQgPiAwKSB7XG4gICAgICAgIHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXSA9IHRoaXMuX3Rlcm1pbmFsLmNvbHM7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2RyYWdTY3JvbGxBbW91bnQgPCAwKSB7XG4gICAgICAgIHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXSA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIGNoYXJhY3RlciBpcyBhIHdpZGUgY2hhcmFjdGVyIGluY2x1ZGUgdGhlIGNlbGwgdG8gdGhlIHJpZ2h0IGluIHRoZVxuICAgIC8vIHNlbGVjdGlvbi4gTm90ZSB0aGF0IHNlbGVjdGlvbnMgYXQgdGhlIHZlcnkgZW5kIG9mIHRoZSBsaW5lIHdpbGwgbmV2ZXJcbiAgICAvLyBoYXZlIGEgY2hhcmFjdGVyLlxuICAgIGlmICh0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmRbMV0gPCB0aGlzLl9idWZmZXIubGluZXMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBjaGFyID0gdGhpcy5fYnVmZmVyLmxpbmVzLmdldCh0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmRbMV0pLmdldCh0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmRbMF0pO1xuICAgICAgaWYgKGNoYXIgJiYgY2hhcltDSEFSX0RBVEFfV0lEVEhfSU5ERVhdID09PSAwKSB7XG4gICAgICAgIHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXSsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9ubHkgZHJhdyBoZXJlIGlmIHRoZSBzZWxlY3Rpb24gY2hhbmdlcy5cbiAgICBpZiAoIXByZXZpb3VzU2VsZWN0aW9uRW5kIHx8XG4gICAgICBwcmV2aW91c1NlbGVjdGlvbkVuZFswXSAhPT0gdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzBdIHx8XG4gICAgICBwcmV2aW91c1NlbGVjdGlvbkVuZFsxXSAhPT0gdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzFdKSB7XG4gICAgICB0aGlzLnJlZnJlc2godHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsYmFjayB0aGF0IG9jY3VycyBldmVyeSBEUkFHX1NDUk9MTF9JTlRFUlZBTCBtcyB0aGF0IGRvZXMgdGhlXG4gICAqIHNjcm9sbGluZyBvZiB0aGUgdmlld3BvcnQuXG4gICAqL1xuICBwcml2YXRlIF9kcmFnU2Nyb2xsKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9kcmFnU2Nyb2xsQW1vdW50KSB7XG4gICAgICB0aGlzLl90ZXJtaW5hbC5zY3JvbGxMaW5lcyh0aGlzLl9kcmFnU2Nyb2xsQW1vdW50LCBmYWxzZSk7XG4gICAgICAvLyBSZS1ldmFsdWF0ZSBzZWxlY3Rpb25cbiAgICAgIC8vIElmIHRoZSBjdXJzb3Igd2FzIGFib3ZlIG9yIGJlbG93IHRoZSB2aWV3cG9ydCwgbWFrZSBzdXJlIGl0J3MgYXQgdGhlXG4gICAgICAvLyBzdGFydCBvciBlbmQgb2YgdGhlIHZpZXdwb3J0IHJlc3BlY3RpdmVseS4gVGhpcyBzaG91bGQgb25seSBoYXBwZW4gd2hlblxuICAgICAgLy8gTk9UIGluIGNvbHVtbiBzZWxlY3QgbW9kZS5cbiAgICAgIGlmICh0aGlzLl9kcmFnU2Nyb2xsQW1vdW50ID4gMCkge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlU2VsZWN0aW9uTW9kZSAhPT0gU2VsZWN0aW9uTW9kZS5DT0xVTU4pIHtcbiAgICAgICAgICB0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmRbMF0gPSB0aGlzLl90ZXJtaW5hbC5jb2xzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFsxXSA9IE1hdGgubWluKHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55ZGlzcCArIHRoaXMuX3Rlcm1pbmFsLnJvd3MsIHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci5saW5lcy5sZW5ndGggLSAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVTZWxlY3Rpb25Nb2RlICE9PSBTZWxlY3Rpb25Nb2RlLkNPTFVNTikge1xuICAgICAgICAgIHRoaXMuX21vZGVsLnNlbGVjdGlvbkVuZFswXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kWzFdID0gdGhpcy5fdGVybWluYWwuYnVmZmVyLnlkaXNwO1xuICAgICAgfVxuICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIG1vdXNldXAgZXZlbnQsIHJlbW92aW5nIHRoZSBtb3VzZWRvd24gbGlzdGVuZXJzLlxuICAgKiBAcGFyYW0gZXZlbnQgVGhlIG1vdXNldXAgZXZlbnQuXG4gICAqL1xuICBwcml2YXRlIF9vbk1vdXNlVXAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCB0aW1lRWxhcHNlZCA9IGV2ZW50LnRpbWVTdGFtcCAtIHRoaXMuX21vdXNlRG93blRpbWVTdGFtcDtcblxuICAgIHRoaXMuX3JlbW92ZU1vdXNlRG93bkxpc3RlbmVycygpO1xuXG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uVGV4dC5sZW5ndGggPD0gMSAmJiB0aW1lRWxhcHNlZCA8IEFMVF9DTElDS19NT1ZFX0NVUlNPUl9USU1FKSB7XG4gICAgICAobmV3IEFsdENsaWNrSGFuZGxlcihldmVudCwgdGhpcy5fdGVybWluYWwpKS5tb3ZlKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmhhc1NlbGVjdGlvbikge1xuICAgICAgdGhpcy5fdGVybWluYWwuZW1pdCgnc2VsZWN0aW9uJyk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfb25CdWZmZXJBY3RpdmF0ZShlOiB7YWN0aXZlQnVmZmVyOiBJQnVmZmVyLCBpbmFjdGl2ZUJ1ZmZlcjogSUJ1ZmZlcn0pOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgLy8gT25seSBhZGp1c3QgdGhlIHNlbGVjdGlvbiBvbiB0cmltLCBzaGlmdEVsZW1lbnRzIGlzIHJhcmVseSB1c2VkIChvbmx5IGluXG4gICAgLy8gcmV2ZXJzZUluZGV4KSBhbmQgZGVsZXRlIGluIGEgc3BsaWNlIGlzIG9ubHkgZXZlciB1c2VkIHdoZW4gdGhlIHNhbWVcbiAgICAvLyBudW1iZXIgb2YgZWxlbWVudHMgd2FzIGp1c3QgYWRkZWQuIEdpdmVuIHRoaXMgaXMgY291bGQgYWN0dWFsbHkgYmVcbiAgICAvLyBiZW5lZmljaWFsIHRvIGxlYXZlIHRoZSBzZWxlY3Rpb24gYXMgaXMgZm9yIHRoZXNlIGNhc2VzLlxuICAgIGUuaW5hY3RpdmVCdWZmZXIubGluZXMub2ZmKCd0cmltJywgdGhpcy5fdHJpbUxpc3RlbmVyKTtcbiAgICBlLmFjdGl2ZUJ1ZmZlci5saW5lcy5vbigndHJpbScsIHRoaXMuX3RyaW1MaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSB2aWV3cG9ydCBjb2x1bW4gdG8gdGhlIGNoYXJhY3RlciBpbmRleCBvbiB0aGUgYnVmZmVyIGxpbmUsIHRoZVxuICAgKiBsYXR0ZXIgdGFrZXMgaW50byBhY2NvdW50IHdpZGUgY2hhcmFjdGVycy5cbiAgICogQHBhcmFtIGNvb3JkcyBUaGUgY29vcmRpbmF0ZXMgdG8gZmluZCB0aGUgMiBpbmRleCBmb3IuXG4gICAqL1xuICBwcml2YXRlIF9jb252ZXJ0Vmlld3BvcnRDb2xUb0NoYXJhY3RlckluZGV4KGJ1ZmZlckxpbmU6IElCdWZmZXJMaW5lLCBjb29yZHM6IFtudW1iZXIsIG51bWJlcl0pOiBudW1iZXIge1xuICAgIGxldCBjaGFySW5kZXggPSBjb29yZHNbMF07XG4gICAgZm9yIChsZXQgaSA9IDA7IGNvb3Jkc1swXSA+PSBpOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoYXIgPSBidWZmZXJMaW5lLmdldChpKTtcbiAgICAgIGlmIChjaGFyW0NIQVJfREFUQV9XSURUSF9JTkRFWF0gPT09IDApIHtcbiAgICAgICAgLy8gV2lkZSBjaGFyYWN0ZXJzIGFyZW4ndCBpbmNsdWRlZCBpbiB0aGUgbGluZSBzdHJpbmcgc28gZGVjcmVtZW50IHRoZVxuICAgICAgICAvLyBpbmRleCBzbyB0aGUgaW5kZXggaXMgYmFjayBvbiB0aGUgd2lkZSBjaGFyYWN0ZXIuXG4gICAgICAgIGNoYXJJbmRleC0tO1xuICAgICAgfSBlbHNlIGlmIChjaGFyW0NIQVJfREFUQV9DSEFSX0lOREVYXS5sZW5ndGggPiAxICYmIGNvb3Jkc1swXSAhPT0gaSkge1xuICAgICAgICAvLyBFbW9qaXMgdGFrZSB1cCBtdWx0aXBsZSBjaGFyYWN0ZXJzLCBzbyBhZGp1c3QgYWNjb3JkaW5nbHkuIEZvciB0aGVzZVxuICAgICAgICAvLyB3ZSBkb24ndCB3YW50IG90IGluY2x1ZGUgdGhlIGNoYXJhY3RlciBhdCB0aGUgY29sdW1uIGFzIHdlJ3JlXG4gICAgICAgIC8vIHJldHVybmluZyB0aGUgc3RhcnQgaW5kZXggaW4gdGhlIHN0cmluZywgbm90IHRoZSBlbmQgaW5kZXguXG4gICAgICAgIGNoYXJJbmRleCArPSBjaGFyW0NIQVJfREFUQV9DSEFSX0lOREVYXS5sZW5ndGggLSAxO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2hhckluZGV4O1xuICB9XG5cbiAgcHVibGljIHNldFNlbGVjdGlvbihjb2w6IG51bWJlciwgcm93OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fbW9kZWwuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB0aGlzLl9yZW1vdmVNb3VzZURvd25MaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9tb2RlbC5zZWxlY3Rpb25TdGFydCA9IFtjb2wsIHJvd107XG4gICAgdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnRMZW5ndGggPSBsZW5ndGg7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBwb3NpdGlvbmFsIGluZm9ybWF0aW9uIGZvciB0aGUgd29yZCBhdCB0aGUgY29vcmRpbmF0ZWQgc3BlY2lmaWVkLlxuICAgKiBAcGFyYW0gY29vcmRzIFRoZSBjb29yZGluYXRlcyB0byBnZXQgdGhlIHdvcmQgYXQuXG4gICAqL1xuICBwcml2YXRlIF9nZXRXb3JkQXQoY29vcmRzOiBbbnVtYmVyLCBudW1iZXJdLCBhbGxvd1doaXRlc3BhY2VPbmx5U2VsZWN0aW9uOiBib29sZWFuLCBmb2xsb3dXcmFwcGVkTGluZXNBYm92ZTogYm9vbGVhbiA9IHRydWUsIGZvbGxvd1dyYXBwZWRMaW5lc0JlbG93OiBib29sZWFuID0gdHJ1ZSk6IElXb3JkUG9zaXRpb24ge1xuICAgIC8vIEVuc3VyZSBjb29yZHMgYXJlIHdpdGhpbiB2aWV3cG9ydCAoZWcuIG5vdCB3aXRoaW4gc2Nyb2xsIGJhcilcbiAgICBpZiAoY29vcmRzWzBdID49IHRoaXMuX3Rlcm1pbmFsLmNvbHMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1ZmZlckxpbmUgPSB0aGlzLl9idWZmZXIubGluZXMuZ2V0KGNvb3Jkc1sxXSk7XG4gICAgaWYgKCFidWZmZXJMaW5lKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBsaW5lID0gdGhpcy5fYnVmZmVyLnRyYW5zbGF0ZUJ1ZmZlckxpbmVUb1N0cmluZyhjb29yZHNbMV0sIGZhbHNlKTtcblxuICAgIC8vIEdldCBhY3R1YWwgaW5kZXgsIHRha2luZyBpbnRvIGNvbnNpZGVyYXRpb24gd2lkZSBjaGFyYWN0ZXJzXG4gICAgbGV0IHN0YXJ0SW5kZXggPSB0aGlzLl9jb252ZXJ0Vmlld3BvcnRDb2xUb0NoYXJhY3RlckluZGV4KGJ1ZmZlckxpbmUsIGNvb3Jkcyk7XG4gICAgbGV0IGVuZEluZGV4ID0gc3RhcnRJbmRleDtcblxuICAgIC8vIFJlY29yZCBvZmZzZXQgdG8gYmUgdXNlZCBsYXRlclxuICAgIGNvbnN0IGNoYXJPZmZzZXQgPSBjb29yZHNbMF0gLSBzdGFydEluZGV4O1xuICAgIGxldCBsZWZ0V2lkZUNoYXJDb3VudCA9IDA7XG4gICAgbGV0IHJpZ2h0V2lkZUNoYXJDb3VudCA9IDA7XG4gICAgbGV0IGxlZnRMb25nQ2hhck9mZnNldCA9IDA7XG4gICAgbGV0IHJpZ2h0TG9uZ0NoYXJPZmZzZXQgPSAwO1xuXG4gICAgaWYgKGxpbmUuY2hhckF0KHN0YXJ0SW5kZXgpID09PSAnICcpIHtcbiAgICAgIC8vIEV4cGFuZCB1bnRpbCBub24td2hpdGVzcGFjZSBpcyBoaXRcbiAgICAgIHdoaWxlIChzdGFydEluZGV4ID4gMCAmJiBsaW5lLmNoYXJBdChzdGFydEluZGV4IC0gMSkgPT09ICcgJykge1xuICAgICAgICBzdGFydEluZGV4LS07XG4gICAgICB9XG4gICAgICB3aGlsZSAoZW5kSW5kZXggPCBsaW5lLmxlbmd0aCAmJiBsaW5lLmNoYXJBdChlbmRJbmRleCArIDEpID09PSAnICcpIHtcbiAgICAgICAgZW5kSW5kZXgrKztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRXhwYW5kIHVudGlsIHdoaXRlc3BhY2UgaXMgaGl0LiBUaGlzIGFsZ29yaXRobSB3b3JrcyBieSBzY2FubmluZyBsZWZ0XG4gICAgICAvLyBhbmQgcmlnaHQgZnJvbSB0aGUgc3RhcnRpbmcgcG9zaXRpb24sIGtlZXBpbmcgYm90aCB0aGUgaW5kZXggZm9ybWF0XG4gICAgICAvLyAobGluZSkgYW5kIHRoZSBjb2x1bW4gZm9ybWF0IChidWZmZXJMaW5lKSBpbiBzeW5jLiBXaGVuIGEgd2lkZVxuICAgICAgLy8gY2hhcmFjdGVyIGlzIGhpdCwgaXQgaXMgcmVjb3JkZWQgYW5kIHRoZSBjb2x1bW4gaW5kZXggaXMgYWRqdXN0ZWQuXG4gICAgICBsZXQgc3RhcnRDb2wgPSBjb29yZHNbMF07XG4gICAgICBsZXQgZW5kQ29sID0gY29vcmRzWzBdO1xuXG4gICAgICAvLyBDb25zaWRlciB0aGUgaW5pdGlhbCBwb3NpdGlvbiwgc2tpcCBpdCBhbmQgaW5jcmVtZW50IHRoZSB3aWRlIGNoYXJcbiAgICAgIC8vIHZhcmlhYmxlXG4gICAgICBpZiAoYnVmZmVyTGluZS5nZXQoc3RhcnRDb2wpW0NIQVJfREFUQV9XSURUSF9JTkRFWF0gPT09IDApIHtcbiAgICAgICAgbGVmdFdpZGVDaGFyQ291bnQrKztcbiAgICAgICAgc3RhcnRDb2wtLTtcbiAgICAgIH1cbiAgICAgIGlmIChidWZmZXJMaW5lLmdldChlbmRDb2wpW0NIQVJfREFUQV9XSURUSF9JTkRFWF0gPT09IDIpIHtcbiAgICAgICAgcmlnaHRXaWRlQ2hhckNvdW50Kys7XG4gICAgICAgIGVuZENvbCsrO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGp1c3QgdGhlIGVuZCBpbmRleCBmb3IgY2hhcmFjdGVycyB3aG9zZSBsZW5ndGggYXJlID4gMSAoZW1vamlzKVxuICAgICAgaWYgKGJ1ZmZlckxpbmUuZ2V0KGVuZENvbClbQ0hBUl9EQVRBX0NIQVJfSU5ERVhdLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcmlnaHRMb25nQ2hhck9mZnNldCArPSBidWZmZXJMaW5lLmdldChlbmRDb2wpW0NIQVJfREFUQV9DSEFSX0lOREVYXS5sZW5ndGggLSAxO1xuICAgICAgICBlbmRJbmRleCArPSBidWZmZXJMaW5lLmdldChlbmRDb2wpW0NIQVJfREFUQV9DSEFSX0lOREVYXS5sZW5ndGggLSAxO1xuICAgICAgfVxuXG4gICAgICAvLyBFeHBhbmQgdGhlIHN0cmluZyBpbiBib3RoIGRpcmVjdGlvbnMgdW50aWwgYSBzcGFjZSBpcyBoaXRcbiAgICAgIHdoaWxlIChzdGFydENvbCA+IDAgJiYgc3RhcnRJbmRleCA+IDAgJiYgIXRoaXMuX2lzQ2hhcldvcmRTZXBhcmF0b3IoYnVmZmVyTGluZS5nZXQoc3RhcnRDb2wgLSAxKSkpIHtcbiAgICAgICAgY29uc3QgY2hhciA9IGJ1ZmZlckxpbmUuZ2V0KHN0YXJ0Q29sIC0gMSk7XG4gICAgICAgIGlmIChjaGFyW0NIQVJfREFUQV9XSURUSF9JTkRFWF0gPT09IDApIHtcbiAgICAgICAgICAvLyBJZiB0aGUgbmV4dCBjaGFyYWN0ZXIgaXMgYSB3aWRlIGNoYXIsIHJlY29yZCBpdCBhbmQgc2tpcCB0aGUgY29sdW1uXG4gICAgICAgICAgbGVmdFdpZGVDaGFyQ291bnQrKztcbiAgICAgICAgICBzdGFydENvbC0tO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXJbQ0hBUl9EQVRBX0NIQVJfSU5ERVhdLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgbmV4dCBjaGFyYWN0ZXIncyBzdHJpbmcgaXMgbG9uZ2VyIHRoYW4gMSBjaGFyIChlZy4gZW1vamkpLFxuICAgICAgICAgIC8vIGFkanVzdCB0aGUgaW5kZXhcbiAgICAgICAgICBsZWZ0TG9uZ0NoYXJPZmZzZXQgKz0gY2hhcltDSEFSX0RBVEFfQ0hBUl9JTkRFWF0ubGVuZ3RoIC0gMTtcbiAgICAgICAgICBzdGFydEluZGV4IC09IGNoYXJbQ0hBUl9EQVRBX0NIQVJfSU5ERVhdLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgc3RhcnRJbmRleC0tO1xuICAgICAgICBzdGFydENvbC0tO1xuICAgICAgfVxuICAgICAgd2hpbGUgKGVuZENvbCA8IGJ1ZmZlckxpbmUubGVuZ3RoICYmIGVuZEluZGV4ICsgMSA8IGxpbmUubGVuZ3RoICYmICF0aGlzLl9pc0NoYXJXb3JkU2VwYXJhdG9yKGJ1ZmZlckxpbmUuZ2V0KGVuZENvbCArIDEpKSkge1xuICAgICAgICBjb25zdCBjaGFyID0gYnVmZmVyTGluZS5nZXQoZW5kQ29sICsgMSk7XG4gICAgICAgIGlmIChjaGFyW0NIQVJfREFUQV9XSURUSF9JTkRFWF0gPT09IDIpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgbmV4dCBjaGFyYWN0ZXIgaXMgYSB3aWRlIGNoYXIsIHJlY29yZCBpdCBhbmQgc2tpcCB0aGUgY29sdW1uXG4gICAgICAgICAgcmlnaHRXaWRlQ2hhckNvdW50Kys7XG4gICAgICAgICAgZW5kQ29sKys7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcltDSEFSX0RBVEFfQ0hBUl9JTkRFWF0ubGVuZ3RoID4gMSkge1xuICAgICAgICAgIC8vIElmIHRoZSBuZXh0IGNoYXJhY3RlcidzIHN0cmluZyBpcyBsb25nZXIgdGhhbiAxIGNoYXIgKGVnLiBlbW9qaSksXG4gICAgICAgICAgLy8gYWRqdXN0IHRoZSBpbmRleFxuICAgICAgICAgIHJpZ2h0TG9uZ0NoYXJPZmZzZXQgKz0gY2hhcltDSEFSX0RBVEFfQ0hBUl9JTkRFWF0ubGVuZ3RoIC0gMTtcbiAgICAgICAgICBlbmRJbmRleCArPSBjaGFyW0NIQVJfREFUQV9DSEFSX0lOREVYXS5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIGVuZEluZGV4Kys7XG4gICAgICAgIGVuZENvbCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEluY3JlbWVuZXQgdGhlIGVuZCBpbmRleCBzbyBpdCBpcyBhdCB0aGUgc3RhcnQgb2YgdGhlIG5leHQgY2hhcmFjdGVyXG4gICAgZW5kSW5kZXgrKztcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgc3RhcnQgX2NvbHVtbl8sIGNvbnZlcnRpbmcgdGhlIHRoZSBzdHJpbmcgaW5kZXhlcyBiYWNrIHRvXG4gICAgLy8gY29sdW1uIGNvb3JkaW5hdGVzLlxuICAgIGxldCBzdGFydCA9XG4gICAgICAgIHN0YXJ0SW5kZXggLy8gVGhlIGluZGV4IG9mIHRoZSBzZWxlY3Rpb24ncyBzdGFydCBjaGFyIGluIHRoZSBsaW5lIHN0cmluZ1xuICAgICAgICArIGNoYXJPZmZzZXQgLy8gVGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgaW5pdGlhbCBjaGFyJ3MgY29sdW1uIGFuZCBpbmRleFxuICAgICAgICAtIGxlZnRXaWRlQ2hhckNvdW50IC8vIFRoZSBudW1iZXIgb2Ygd2lkZSBjaGFycyBsZWZ0IG9mIHRoZSBpbml0aWFsIGNoYXJcbiAgICAgICAgKyBsZWZ0TG9uZ0NoYXJPZmZzZXQ7IC8vIFRoZSBudW1iZXIgb2YgYWRkaXRpb25hbCBjaGFycyBsZWZ0IG9mIHRoZSBpbml0aWFsIGNoYXIgYWRkZWQgYnkgY29sdW1ucyB3aXRoIHN0cmluZ3MgbG9uZ2VyIHRoYW4gMSAoZW1vamlzKVxuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBsZW5ndGggaW4gX2NvbHVtbnNfLCBjb252ZXJ0aW5nIHRoZSB0aGUgc3RyaW5nIGluZGV4ZXMgYmFja1xuICAgIC8vIHRvIGNvbHVtbiBjb29yZGluYXRlcy5cbiAgICBsZXQgbGVuZ3RoID0gTWF0aC5taW4odGhpcy5fdGVybWluYWwuY29scywgLy8gRGlzYWxsb3cgbGVuZ3RocyBsYXJnZXIgdGhhbiB0aGUgdGVybWluYWwgY29sc1xuICAgICAgICBlbmRJbmRleCAvLyBUaGUgaW5kZXggb2YgdGhlIHNlbGVjdGlvbidzIGVuZCBjaGFyIGluIHRoZSBsaW5lIHN0cmluZ1xuICAgICAgICAtIHN0YXJ0SW5kZXggLy8gVGhlIGluZGV4IG9mIHRoZSBzZWxlY3Rpb24ncyBzdGFydCBjaGFyIGluIHRoZSBsaW5lIHN0cmluZ1xuICAgICAgICArIGxlZnRXaWRlQ2hhckNvdW50IC8vIFRoZSBudW1iZXIgb2Ygd2lkZSBjaGFycyBsZWZ0IG9mIHRoZSBpbml0aWFsIGNoYXJcbiAgICAgICAgKyByaWdodFdpZGVDaGFyQ291bnQgLy8gVGhlIG51bWJlciBvZiB3aWRlIGNoYXJzIHJpZ2h0IG9mIHRoZSBpbml0aWFsIGNoYXIgKGluY2x1c2l2ZSlcbiAgICAgICAgLSBsZWZ0TG9uZ0NoYXJPZmZzZXQgLy8gVGhlIG51bWJlciBvZiBhZGRpdGlvbmFsIGNoYXJzIGxlZnQgb2YgdGhlIGluaXRpYWwgY2hhciBhZGRlZCBieSBjb2x1bW5zIHdpdGggc3RyaW5ncyBsb25nZXIgdGhhbiAxIChlbW9qaXMpXG4gICAgICAgIC0gcmlnaHRMb25nQ2hhck9mZnNldCk7IC8vIFRoZSBudW1iZXIgb2YgYWRkaXRpb25hbCBjaGFycyByaWdodCBvZiB0aGUgaW5pdGlhbCBjaGFyIChpbmNsdXNpdmUpIGFkZGVkIGJ5IGNvbHVtbnMgd2l0aCBzdHJpbmdzIGxvbmdlciB0aGFuIDEgKGVtb2ppcylcblxuICAgIGlmICghYWxsb3dXaGl0ZXNwYWNlT25seVNlbGVjdGlvbiAmJiBsaW5lLnNsaWNlKHN0YXJ0SW5kZXgsIGVuZEluZGV4KS50cmltKCkgPT09ICcnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBSZWN1cnNlIHVwd2FyZHMgaWYgdGhlIGxpbmUgaXMgd3JhcHBlZCBhbmQgdGhlIHdvcmQgd3JhcHMgdG8gdGhlIGFib3ZlIGxpbmVcbiAgICBpZiAoZm9sbG93V3JhcHBlZExpbmVzQWJvdmUpIHtcbiAgICAgIGlmIChzdGFydCA9PT0gMCAmJiBidWZmZXJMaW5lLmdldCgwKVtDSEFSX0RBVEFfQ09ERV9JTkRFWF0gIT09IDMyIC8qJyAnKi8pIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNCdWZmZXJMaW5lID0gdGhpcy5fYnVmZmVyLmxpbmVzLmdldChjb29yZHNbMV0gLSAxKTtcbiAgICAgICAgaWYgKHByZXZpb3VzQnVmZmVyTGluZSAmJiBidWZmZXJMaW5lLmlzV3JhcHBlZCAmJiBwcmV2aW91c0J1ZmZlckxpbmUuZ2V0KHRoaXMuX3Rlcm1pbmFsLmNvbHMgLSAxKVtDSEFSX0RBVEFfQ09ERV9JTkRFWF0gIT09IDMyIC8qJyAnKi8pIHtcbiAgICAgICAgICBjb25zdCBwcmV2aW91c0xpbmVXb3JkUG9zaXRpb24gPSB0aGlzLl9nZXRXb3JkQXQoW3RoaXMuX3Rlcm1pbmFsLmNvbHMgLSAxLCBjb29yZHNbMV0gLSAxXSwgZmFsc2UsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgICBpZiAocHJldmlvdXNMaW5lV29yZFBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLl90ZXJtaW5hbC5jb2xzIC0gcHJldmlvdXNMaW5lV29yZFBvc2l0aW9uLnN0YXJ0O1xuICAgICAgICAgICAgc3RhcnQgLT0gb2Zmc2V0O1xuICAgICAgICAgICAgbGVuZ3RoICs9IG9mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZWN1cnNlIGRvd253YXJkcyBpZiB0aGUgbGluZSBpcyB3cmFwcGVkIGFuZCB0aGUgd29yZCB3cmFwcyB0byB0aGUgbmV4dCBsaW5lXG4gICAgaWYgKGZvbGxvd1dyYXBwZWRMaW5lc0JlbG93KSB7XG4gICAgICBpZiAoc3RhcnQgKyBsZW5ndGggPT09IHRoaXMuX3Rlcm1pbmFsLmNvbHMgJiYgYnVmZmVyTGluZS5nZXQodGhpcy5fdGVybWluYWwuY29scyAtIDEpW0NIQVJfREFUQV9DT0RFX0lOREVYXSAhPT0gMzIgLyonICcqLykge1xuICAgICAgICBjb25zdCBuZXh0QnVmZmVyTGluZSA9IHRoaXMuX2J1ZmZlci5saW5lcy5nZXQoY29vcmRzWzFdICsgMSk7XG4gICAgICAgIGlmIChuZXh0QnVmZmVyTGluZSAmJiBuZXh0QnVmZmVyTGluZS5pc1dyYXBwZWQgJiYgbmV4dEJ1ZmZlckxpbmUuZ2V0KDApW0NIQVJfREFUQV9DT0RFX0lOREVYXSAhPT0gMzIgLyonICcqLykge1xuICAgICAgICAgIGNvbnN0IG5leHRMaW5lV29yZFBvc2l0aW9uID0gdGhpcy5fZ2V0V29yZEF0KFswLCBjb29yZHNbMV0gKyAxXSwgZmFsc2UsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICBpZiAobmV4dExpbmVXb3JkUG9zaXRpb24pIHtcbiAgICAgICAgICAgIGxlbmd0aCArPSBuZXh0TGluZVdvcmRQb3NpdGlvbi5sZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3RhcnQsIGxlbmd0aCB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdHMgdGhlIHdvcmQgYXQgdGhlIGNvb3JkaW5hdGVzIHNwZWNpZmllZC5cbiAgICogQHBhcmFtIGNvb3JkcyBUaGUgY29vcmRpbmF0ZXMgdG8gZ2V0IHRoZSB3b3JkIGF0LlxuICAgKiBAcGFyYW0gYWxsb3dXaGl0ZXNwYWNlT25seVNlbGVjdGlvbiBJZiB3aGl0ZXNwYWNlIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgKi9cbiAgcHJvdGVjdGVkIF9zZWxlY3RXb3JkQXQoY29vcmRzOiBbbnVtYmVyLCBudW1iZXJdLCBhbGxvd1doaXRlc3BhY2VPbmx5U2VsZWN0aW9uOiBib29sZWFuKTogdm9pZCB7XG4gICAgY29uc3Qgd29yZFBvc2l0aW9uID0gdGhpcy5fZ2V0V29yZEF0KGNvb3JkcywgYWxsb3dXaGl0ZXNwYWNlT25seVNlbGVjdGlvbik7XG4gICAgaWYgKHdvcmRQb3NpdGlvbikge1xuICAgICAgLy8gQWRqdXN0IG5lZ2F0aXZlIHN0YXJ0IHZhbHVlXG4gICAgICB3aGlsZSAod29yZFBvc2l0aW9uLnN0YXJ0IDwgMCkge1xuICAgICAgICB3b3JkUG9zaXRpb24uc3RhcnQgKz0gdGhpcy5fdGVybWluYWwuY29scztcbiAgICAgICAgY29vcmRzWzFdLS07XG4gICAgICB9XG4gICAgICB0aGlzLl9tb2RlbC5zZWxlY3Rpb25TdGFydCA9IFt3b3JkUG9zaXRpb24uc3RhcnQsIGNvb3Jkc1sxXV07XG4gICAgICB0aGlzLl9tb2RlbC5zZWxlY3Rpb25TdGFydExlbmd0aCA9IHdvcmRQb3NpdGlvbi5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHNlbGVjdGlvbiBlbmQgdG8gdGhlIHdvcmQgYXQgdGhlIGNvb3JkaW5hdGVkIHNwZWNpZmllZC5cbiAgICogQHBhcmFtIGNvb3JkcyBUaGUgY29vcmRpbmF0ZXMgdG8gZ2V0IHRoZSB3b3JkIGF0LlxuICAgKi9cbiAgcHJpdmF0ZSBfc2VsZWN0VG9Xb3JkQXQoY29vcmRzOiBbbnVtYmVyLCBudW1iZXJdKTogdm9pZCB7XG4gICAgY29uc3Qgd29yZFBvc2l0aW9uID0gdGhpcy5fZ2V0V29yZEF0KGNvb3JkcywgdHJ1ZSk7XG4gICAgaWYgKHdvcmRQb3NpdGlvbikge1xuICAgICAgbGV0IGVuZFJvdyA9IGNvb3Jkc1sxXTtcblxuICAgICAgLy8gQWRqdXN0IG5lZ2F0aXZlIHN0YXJ0IHZhbHVlXG4gICAgICB3aGlsZSAod29yZFBvc2l0aW9uLnN0YXJ0IDwgMCkge1xuICAgICAgICB3b3JkUG9zaXRpb24uc3RhcnQgKz0gdGhpcy5fdGVybWluYWwuY29scztcbiAgICAgICAgZW5kUm93LS07XG4gICAgICB9XG5cbiAgICAgIC8vIEFkanVzdCB3cmFwcGVkIGxlbmd0aCB2YWx1ZSwgdGhpcyBvbmx5IG5lZWRzIHRvIGhhcHBlbiB3aGVuIHZhbHVlcyBhcmUgcmV2ZXJzZWQgYXMgaW4gdGhhdFxuICAgICAgLy8gY2FzZSB3ZSdyZSBpbnRlcmVzdGVkIGluIHRoZSBzdGFydCBvZiB0aGUgd29yZCwgbm90IHRoZSBlbmRcbiAgICAgIGlmICghdGhpcy5fbW9kZWwuYXJlU2VsZWN0aW9uVmFsdWVzUmV2ZXJzZWQoKSkge1xuICAgICAgICB3aGlsZSAod29yZFBvc2l0aW9uLnN0YXJ0ICsgd29yZFBvc2l0aW9uLmxlbmd0aCA+IHRoaXMuX3Rlcm1pbmFsLmNvbHMpIHtcbiAgICAgICAgICB3b3JkUG9zaXRpb24ubGVuZ3RoIC09IHRoaXMuX3Rlcm1pbmFsLmNvbHM7XG4gICAgICAgICAgZW5kUm93Kys7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5fbW9kZWwuc2VsZWN0aW9uRW5kID0gW3RoaXMuX21vZGVsLmFyZVNlbGVjdGlvblZhbHVlc1JldmVyc2VkKCkgPyB3b3JkUG9zaXRpb24uc3RhcnQgOiB3b3JkUG9zaXRpb24uc3RhcnQgKyB3b3JkUG9zaXRpb24ubGVuZ3RoLCBlbmRSb3ddO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHdoZXRoZXIgdGhlIGNoYXJhY3RlciBpcyBjb25zaWRlcmVkIGEgd29yZCBzZXBhcmF0b3IgYnkgdGhlIHNlbGVjdFxuICAgKiB3b3JkIGxvZ2ljLlxuICAgKiBAcGFyYW0gY2hhciBUaGUgY2hhcmFjdGVyIHRvIGNoZWNrLlxuICAgKi9cbiAgcHJpdmF0ZSBfaXNDaGFyV29yZFNlcGFyYXRvcihjaGFyRGF0YTogQ2hhckRhdGEpOiBib29sZWFuIHtcbiAgICAvLyBaZXJvIHdpZHRoIGNoYXJhY3RlcnMgYXJlIG5ldmVyIHNlcGFyYXRvcnMgYXMgdGhleSBhcmUgYWx3YXlzIHRvIHRoZVxuICAgIC8vIHJpZ2h0IG9mIHdpZGUgY2hhcmFjdGVyc1xuICAgIGlmIChjaGFyRGF0YVtDSEFSX0RBVEFfV0lEVEhfSU5ERVhdID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBXT1JEX1NFUEFSQVRPUlMuaW5kZXhPZihjaGFyRGF0YVtDSEFSX0RBVEFfQ0hBUl9JTkRFWF0pID49IDA7XG4gIH1cblxuICAvKipcbiAgICogU2VsZWN0cyB0aGUgbGluZSBzcGVjaWZpZWQuXG4gICAqIEBwYXJhbSBsaW5lIFRoZSBsaW5lIGluZGV4LlxuICAgKi9cbiAgcHJvdGVjdGVkIF9zZWxlY3RMaW5lQXQobGluZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3Qgd3JhcHBlZFJhbmdlID0gdGhpcy5fYnVmZmVyLmdldFdyYXBwZWRSYW5nZUZvckxpbmUobGluZSk7XG4gICAgdGhpcy5fbW9kZWwuc2VsZWN0aW9uU3RhcnQgPSBbMCwgd3JhcHBlZFJhbmdlLmZpcnN0XTtcbiAgICB0aGlzLl9tb2RlbC5zZWxlY3Rpb25FbmQgPSBbdGhpcy5fdGVybWluYWwuY29scywgd3JhcHBlZFJhbmdlLmxhc3RdO1xuICAgIHRoaXMuX21vZGVsLnNlbGVjdGlvblN0YXJ0TGVuZ3RoID0gMDtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3h0ZXJtL3NyYy9TZWxlY3Rpb25NYW5hZ2VyLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///49\n")},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar SelectionModel = (function () {\n    function SelectionModel(_terminal) {\n        this._terminal = _terminal;\n        this.clearSelection();\n    }\n    SelectionModel.prototype.clearSelection = function () {\n        this.selectionStart = null;\n        this.selectionEnd = null;\n        this.isSelectAllActive = false;\n        this.selectionStartLength = 0;\n    };\n    Object.defineProperty(SelectionModel.prototype, "finalSelectionStart", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [0, 0];\n            }\n            if (!this.selectionEnd || !this.selectionStart) {\n                return this.selectionStart;\n            }\n            return this.areSelectionValuesReversed() ? this.selectionEnd : this.selectionStart;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionModel.prototype, "finalSelectionEnd", {\n        get: function () {\n            if (this.isSelectAllActive) {\n                return [this._terminal.cols, this._terminal.buffer.ybase + this._terminal.rows - 1];\n            }\n            if (!this.selectionStart) {\n                return null;\n            }\n            if (!this.selectionEnd || this.areSelectionValuesReversed()) {\n                var startPlusLength = this.selectionStart[0] + this.selectionStartLength;\n                if (startPlusLength > this._terminal.cols) {\n                    return [startPlusLength % this._terminal.cols, this.selectionStart[1] + Math.floor(startPlusLength / this._terminal.cols)];\n                }\n                return [startPlusLength, this.selectionStart[1]];\n            }\n            if (this.selectionStartLength) {\n                if (this.selectionEnd[1] === this.selectionStart[1]) {\n                    return [Math.max(this.selectionStart[0] + this.selectionStartLength, this.selectionEnd[0]), this.selectionEnd[1]];\n                }\n            }\n            return this.selectionEnd;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionModel.prototype.areSelectionValuesReversed = function () {\n        var start = this.selectionStart;\n        var end = this.selectionEnd;\n        if (!start || !end) {\n            return false;\n        }\n        return start[1] > end[1] || (start[1] === end[1] && start[0] > end[0]);\n    };\n    SelectionModel.prototype.onTrim = function (amount) {\n        if (this.selectionStart) {\n            this.selectionStart[1] -= amount;\n        }\n        if (this.selectionEnd) {\n            this.selectionEnd[1] -= amount;\n        }\n        if (this.selectionEnd && this.selectionEnd[1] < 0) {\n            this.clearSelection();\n            return true;\n        }\n        if (this.selectionStart && this.selectionStart[1] < 0) {\n            this.selectionStart[1] = 0;\n        }\n        return false;\n    };\n    return SelectionModel;\n}());\nexports.SelectionModel = SelectionModel;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL1NlbGVjdGlvbk1vZGVsLnRzPzdhZjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFXQTtJQXVCRSx3QkFDVSxTQUFvQjtRQUFwQixjQUFTLEdBQVQsU0FBUyxDQUFXO1FBRTVCLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBS00sdUNBQWMsR0FBckI7UUFDRSxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztRQUMzQixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztRQUN6QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDO1FBQy9CLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUtELHNCQUFXLCtDQUFtQjthQUE5QjtZQUNFLElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFO2dCQUMxQixPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ2Y7WUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUU7Z0JBQzlDLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQzthQUM1QjtZQUVELE9BQU8sSUFBSSxDQUFDLDBCQUEwQixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUM7UUFDckYsQ0FBQzs7O09BQUE7SUFNRCxzQkFBVyw2Q0FBaUI7YUFBNUI7WUFDRSxJQUFJLElBQUksQ0FBQyxpQkFBaUIsRUFBRTtnQkFDMUIsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQzthQUNyRjtZQUVELElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFO2dCQUN4QixPQUFPLElBQUksQ0FBQzthQUNiO1lBR0QsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLElBQUksSUFBSSxDQUFDLDBCQUEwQixFQUFFLEVBQUU7Z0JBQzNELElBQU0sZUFBZSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDO2dCQUMzRSxJQUFJLGVBQWUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRTtvQkFDekMsT0FBTyxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztpQkFDNUg7Z0JBQ0QsT0FBTyxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDbEQ7WUFHRCxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtnQkFFN0IsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ25ELE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ25IO2FBQ0Y7WUFDRCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDM0IsQ0FBQzs7O09BQUE7SUFLTSxtREFBMEIsR0FBakM7UUFDRSxJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO1FBQ2xDLElBQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDOUIsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNsQixPQUFPLEtBQUssQ0FBQztTQUNkO1FBQ0QsT0FBTyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekUsQ0FBQztJQU9NLCtCQUFNLEdBQWIsVUFBYyxNQUFjO1FBRTFCLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUN2QixJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQztTQUNsQztRQUNELElBQUksSUFBSSxDQUFDLFlBQVksRUFBRTtZQUNyQixJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQztTQUNoQztRQUdELElBQUksSUFBSSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNqRCxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDdEIsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUdELElBQUksSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNyRCxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUM1QjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUNILHFCQUFDO0FBQUQsQ0FBQztBQTVIWSx3Q0FBYyIsImZpbGUiOiI1MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSB4dGVybS5qcyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuaW1wb3J0IHsgSVRlcm1pbmFsIH0gZnJvbSAnLi9UeXBlcyc7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHNlbGVjdGlvbiB3aXRoaW4gdGhlIGJ1ZmZlci4gVGhpcyBtb2RlbCBvbmx5IGNhcmVzIGFib3V0IGNvbHVtblxuICogYW5kIHJvdyBjb29yZGluYXRlcywgbm90IHdpZGUgY2hhcmFjdGVycy5cbiAqL1xuZXhwb3J0IGNsYXNzIFNlbGVjdGlvbk1vZGVsIHtcbiAgLyoqXG4gICAqIFdoZXRoZXIgc2VsZWN0IGFsbCBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICAgKi9cbiAgcHVibGljIGlzU2VsZWN0QWxsQWN0aXZlOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgW3gsIHldIHBvc2l0aW9uIHRoZSBzZWxlY3Rpb24gc3RhcnRzIGF0LlxuICAgKi9cbiAgcHVibGljIHNlbGVjdGlvblN0YXJ0OiBbbnVtYmVyLCBudW1iZXJdO1xuXG4gIC8qKlxuICAgKiBUaGUgbWluaW1hbCBsZW5ndGggb2YgdGhlIHNlbGVjdGlvbiBmcm9tIHRoZSBzdGFydCBwb3NpdGlvbi4gV2hlbiBkb3VibGVcbiAgICogY2xpY2tpbmcgb24gYSB3b3JkLCB0aGUgd29yZCB3aWxsIGJlIHNlbGVjdGVkIHdoaWNoIG1ha2VzIHRoZSBzZWxlY3Rpb25cbiAgICogc3RhcnQgYXQgdGhlIHN0YXJ0IG9mIHRoZSB3b3JkIGFuZCBtYWtlcyB0aGlzIHZhcmlhYmxlIHRoZSBsZW5ndGguXG4gICAqL1xuICBwdWJsaWMgc2VsZWN0aW9uU3RhcnRMZW5ndGg6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIFt4LCB5XSBwb3NpdGlvbiB0aGUgc2VsZWN0aW9uIGVuZHMgYXQuXG4gICAqL1xuICBwdWJsaWMgc2VsZWN0aW9uRW5kOiBbbnVtYmVyLCBudW1iZXJdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgX3Rlcm1pbmFsOiBJVGVybWluYWxcbiAgKSB7XG4gICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAqL1xuICBwdWJsaWMgY2xlYXJTZWxlY3Rpb24oKTogdm9pZCB7XG4gICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IG51bGw7XG4gICAgdGhpcy5zZWxlY3Rpb25FbmQgPSBudWxsO1xuICAgIHRoaXMuaXNTZWxlY3RBbGxBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLnNlbGVjdGlvblN0YXJ0TGVuZ3RoID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgZmluYWwgc2VsZWN0aW9uIHN0YXJ0LCB0YWtpbmcgaW50byBjb25zaWRlcmF0aW9uIHNlbGVjdCBhbGwuXG4gICAqL1xuICBwdWJsaWMgZ2V0IGZpbmFsU2VsZWN0aW9uU3RhcnQoKTogW251bWJlciwgbnVtYmVyXSB7XG4gICAgaWYgKHRoaXMuaXNTZWxlY3RBbGxBY3RpdmUpIHtcbiAgICAgIHJldHVybiBbMCwgMF07XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnNlbGVjdGlvbkVuZCB8fCAhdGhpcy5zZWxlY3Rpb25TdGFydCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuYXJlU2VsZWN0aW9uVmFsdWVzUmV2ZXJzZWQoKSA/IHRoaXMuc2VsZWN0aW9uRW5kIDogdGhpcy5zZWxlY3Rpb25TdGFydDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgZmluYWwgc2VsZWN0aW9uIGVuZCwgdGFraW5nIGludG8gY29uc2lkZXJhdGlvbiBzZWxlY3QgYWxsLCBkb3VibGUgY2xpY2tcbiAgICogd29yZCBzZWxlY3Rpb24gYW5kIHRyaXBsZSBjbGljayBsaW5lIHNlbGVjdGlvbi5cbiAgICovXG4gIHB1YmxpYyBnZXQgZmluYWxTZWxlY3Rpb25FbmQoKTogW251bWJlciwgbnVtYmVyXSB7XG4gICAgaWYgKHRoaXMuaXNTZWxlY3RBbGxBY3RpdmUpIHtcbiAgICAgIHJldHVybiBbdGhpcy5fdGVybWluYWwuY29scywgdGhpcy5fdGVybWluYWwuYnVmZmVyLnliYXNlICsgdGhpcy5fdGVybWluYWwucm93cyAtIDFdO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5zZWxlY3Rpb25TdGFydCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gVXNlIHRoZSBzZWxlY3Rpb24gc3RhcnQgKyBsZW5ndGggaWYgdGhlIGVuZCBkb2Vzbid0IGV4aXN0IG9yIHRoZXkncmUgcmV2ZXJzZWRcbiAgICBpZiAoIXRoaXMuc2VsZWN0aW9uRW5kIHx8IHRoaXMuYXJlU2VsZWN0aW9uVmFsdWVzUmV2ZXJzZWQoKSkge1xuICAgICAgY29uc3Qgc3RhcnRQbHVzTGVuZ3RoID0gdGhpcy5zZWxlY3Rpb25TdGFydFswXSArIHRoaXMuc2VsZWN0aW9uU3RhcnRMZW5ndGg7XG4gICAgICBpZiAoc3RhcnRQbHVzTGVuZ3RoID4gdGhpcy5fdGVybWluYWwuY29scykge1xuICAgICAgICByZXR1cm4gW3N0YXJ0UGx1c0xlbmd0aCAlIHRoaXMuX3Rlcm1pbmFsLmNvbHMsIHRoaXMuc2VsZWN0aW9uU3RhcnRbMV0gKyBNYXRoLmZsb29yKHN0YXJ0UGx1c0xlbmd0aCAvIHRoaXMuX3Rlcm1pbmFsLmNvbHMpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbc3RhcnRQbHVzTGVuZ3RoLCB0aGlzLnNlbGVjdGlvblN0YXJ0WzFdXTtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgdGhlIHRoZSB3b3JkL2xpbmUgaXMgc2VsZWN0ZWQgYWZ0ZXIgYSBkb3VibGUvdHJpcGxlIGNsaWNrXG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnRMZW5ndGgpIHtcbiAgICAgIC8vIFNlbGVjdCB0aGUgbGFyZ2VyIG9mIHRoZSB0d28gd2hlbiBzdGFydCBhbmQgZW5kIGFyZSBvbiB0aGUgc2FtZSBsaW5lXG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25FbmRbMV0gPT09IHRoaXMuc2VsZWN0aW9uU3RhcnRbMV0pIHtcbiAgICAgICAgcmV0dXJuIFtNYXRoLm1heCh0aGlzLnNlbGVjdGlvblN0YXJ0WzBdICsgdGhpcy5zZWxlY3Rpb25TdGFydExlbmd0aCwgdGhpcy5zZWxlY3Rpb25FbmRbMF0pLCB0aGlzLnNlbGVjdGlvbkVuZFsxXV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbkVuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHNlbGVjdGlvbiBzdGFydCBhbmQgZW5kIGFyZSByZXZlcnNlZC5cbiAgICovXG4gIHB1YmxpYyBhcmVTZWxlY3Rpb25WYWx1ZXNSZXZlcnNlZCgpOiBib29sZWFuIHtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgY29uc3QgZW5kID0gdGhpcy5zZWxlY3Rpb25FbmQ7XG4gICAgaWYgKCFzdGFydCB8fCAhZW5kKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBzdGFydFsxXSA+IGVuZFsxXSB8fCAoc3RhcnRbMV0gPT09IGVuZFsxXSAmJiBzdGFydFswXSA+IGVuZFswXSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHRoZSBidWZmZXIgYmVpbmcgdHJpbW1lZCwgYWRqdXN0IHRoZSBzZWxlY3Rpb24gcG9zaXRpb24uXG4gICAqIEBwYXJhbSBhbW91bnQgVGhlIGFtb3VudCB0aGUgYnVmZmVyIGlzIGJlaW5nIHRyaW1tZWQuXG4gICAqIEByZXR1cm4gV2hldGhlciBhIHJlZnJlc2ggaXMgbmVjZXNzYXJ5LlxuICAgKi9cbiAgcHVibGljIG9uVHJpbShhbW91bnQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIC8vIEFkanVzdCB0aGUgc2VsZWN0aW9uIHBvc2l0aW9uIGJhc2VkIG9uIHRoZSB0cmltbWVkIGFtb3VudC5cbiAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCkge1xuICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydFsxXSAtPSBhbW91bnQ7XG4gICAgfVxuICAgIGlmICh0aGlzLnNlbGVjdGlvbkVuZCkge1xuICAgICAgdGhpcy5zZWxlY3Rpb25FbmRbMV0gLT0gYW1vdW50O1xuICAgIH1cblxuICAgIC8vIFRoZSBzZWxlY3Rpb24gaGFzIG1vdmVkIG9mZiB0aGUgYnVmZmVyLCBjbGVhciBpdC5cbiAgICBpZiAodGhpcy5zZWxlY3Rpb25FbmQgJiYgdGhpcy5zZWxlY3Rpb25FbmRbMV0gPCAwKSB7XG4gICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgc2VsZWN0aW9uIHN0YXJ0IGlzIHRyaW1tZWQsIGVuc3VyZSB0aGUgc3RhcnQgY29sdW1uIGlzIDAuXG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgJiYgdGhpcy5zZWxlY3Rpb25TdGFydFsxXSA8IDApIHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnRbMV0gPSAwO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvU2VsZWN0aW9uTW9kZWwudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///50\n')},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar EscapeSequences_1 = __webpack_require__(7);\nvar AltClickHandler = (function () {\n    function AltClickHandler(_mouseEvent, _terminal) {\n        var _a;\n        this._mouseEvent = _mouseEvent;\n        this._terminal = _terminal;\n        this._lines = this._terminal.buffer.lines;\n        this._startCol = this._terminal.buffer.x;\n        this._startRow = this._terminal.buffer.y;\n        var coordinates = this._terminal.mouseHelper.getCoords(this._mouseEvent, this._terminal.element, this._terminal.charMeasure, this._terminal.cols, this._terminal.rows, false);\n        if (coordinates) {\n            _a = coordinates.map(function (coordinate) {\n                return coordinate - 1;\n            }), this._endCol = _a[0], this._endRow = _a[1];\n        }\n    }\n    AltClickHandler.prototype.move = function () {\n        if (this._mouseEvent.altKey && this._endCol !== undefined && this._endRow !== undefined) {\n            this._terminal.handler(this._arrowSequences());\n        }\n    };\n    AltClickHandler.prototype._arrowSequences = function () {\n        if (!this._terminal.buffer.hasScrollback) {\n            return this._resetStartingRow() + this._moveToRequestedRow() + this._moveToRequestedCol();\n        }\n        return this._moveHorizontallyOnly();\n    };\n    AltClickHandler.prototype._resetStartingRow = function () {\n        if (this._moveToRequestedRow().length === 0) {\n            return \'\';\n        }\n        return repeat(this._bufferLine(this._startCol, this._startRow, this._startCol, this._startRow - this._wrappedRowsForRow(this._startRow), false).length, this._sequence("D"));\n    };\n    AltClickHandler.prototype._moveToRequestedRow = function () {\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        var rowsToMove = Math.abs(startRow - endRow) - this._wrappedRowsCount();\n        return repeat(rowsToMove, this._sequence(this._verticalDirection()));\n    };\n    AltClickHandler.prototype._moveToRequestedCol = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        var endRow = this._endRow;\n        var direction = this._horizontalDirection();\n        return repeat(this._bufferLine(this._startCol, startRow, this._endCol, endRow, direction === "C").length, this._sequence(direction));\n    };\n    AltClickHandler.prototype._moveHorizontallyOnly = function () {\n        var direction = this._horizontalDirection();\n        return repeat(Math.abs(this._startCol - this._endCol), this._sequence(direction));\n    };\n    AltClickHandler.prototype._wrappedRowsCount = function () {\n        var wrappedRows = 0;\n        var startRow = this._startRow - this._wrappedRowsForRow(this._startRow);\n        var endRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        for (var i = 0; i < Math.abs(startRow - endRow); i++) {\n            var direction = this._verticalDirection() === "A" ? -1 : 1;\n            if (this._lines.get(startRow + (direction * i)).isWrapped) {\n                wrappedRows++;\n            }\n        }\n        return wrappedRows;\n    };\n    AltClickHandler.prototype._wrappedRowsForRow = function (currentRow) {\n        var rowCount = 0;\n        var lineWraps = this._lines.get(currentRow).isWrapped;\n        while (lineWraps && currentRow >= 0 && currentRow < this._terminal.rows) {\n            rowCount++;\n            currentRow--;\n            lineWraps = this._lines.get(currentRow).isWrapped;\n        }\n        return rowCount;\n    };\n    AltClickHandler.prototype._horizontalDirection = function () {\n        var startRow;\n        if (this._moveToRequestedRow().length > 0) {\n            startRow = this._endRow - this._wrappedRowsForRow(this._endRow);\n        }\n        else {\n            startRow = this._startRow;\n        }\n        if ((this._startCol < this._endCol &&\n            startRow <= this._endRow) ||\n            (this._startCol >= this._endCol &&\n                startRow < this._endRow)) {\n            return "C";\n        }\n        return "D";\n    };\n    AltClickHandler.prototype._verticalDirection = function () {\n        if (this._startRow > this._endRow) {\n            return "A";\n        }\n        return "B";\n    };\n    AltClickHandler.prototype._bufferLine = function (startCol, startRow, endCol, endRow, forward) {\n        var currentCol = startCol;\n        var currentRow = startRow;\n        var bufferStr = \'\';\n        while (currentCol !== endCol || currentRow !== endRow) {\n            currentCol += forward ? 1 : -1;\n            if (forward && currentCol > this._terminal.cols - 1) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n                currentCol = 0;\n                startCol = 0;\n                currentRow++;\n            }\n            else if (!forward && currentCol < 0) {\n                bufferStr += this._terminal.buffer.translateBufferLineToString(currentRow, false, 0, startCol + 1);\n                currentCol = this._terminal.cols - 1;\n                startCol = currentCol;\n                currentRow--;\n            }\n        }\n        return bufferStr + this._terminal.buffer.translateBufferLineToString(currentRow, false, startCol, currentCol);\n    };\n    AltClickHandler.prototype._sequence = function (direction) {\n        var mod = this._terminal.applicationCursor ? \'O\' : \'[\';\n        return EscapeSequences_1.C0.ESC + mod + direction;\n    };\n    return AltClickHandler;\n}());\nexports.AltClickHandler = AltClickHandler;\nfunction repeat(count, str) {\n    count = Math.floor(count);\n    var rpt = \'\';\n    for (var i = 0; i < count; i++) {\n        rpt += str;\n    }\n    return rpt;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL2hhbmRsZXJzL0FsdENsaWNrSGFuZGxlci50cz8wYjgwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBT0EsK0NBQW9EO0FBU3BEO0lBT0UseUJBQ1UsV0FBdUIsRUFDdkIsU0FBb0I7O1FBRHBCLGdCQUFXLEdBQVgsV0FBVyxDQUFZO1FBQ3ZCLGNBQVMsR0FBVCxTQUFTLENBQVc7UUFFNUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDMUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFFekMsSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUN0RCxJQUFJLENBQUMsV0FBVyxFQUNoQixJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFDdEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQzFCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUNuQixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFDbkIsS0FBSyxDQUNOLENBQUM7UUFFRixJQUFJLFdBQVcsRUFBRTtZQUNmOztjQUVFLEVBRkQsb0JBQVksRUFBRSxvQkFBWSxDQUV4QjtTQUNKO0lBQ0gsQ0FBQztJQUtNLDhCQUFJLEdBQVg7UUFDRSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxPQUFPLEtBQUssU0FBUyxJQUFJLElBQUksQ0FBQyxPQUFPLEtBQUssU0FBUyxFQUFFO1lBQ3ZGLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQyxDQUFDO1NB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QyxFQUFFLEVBQUU7UUFDOUIsR0FBRyxJQUFJLEdBQUcsQ0FBQztLQUNaO0lBQ0QsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDIiwiZmlsZSI6IjUxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBJVGVybWluYWwsIElCdWZmZXJMaW5lIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgSUNpcmN1bGFyTGlzdCB9IGZyb20gJy4uL2NvbW1vbi9UeXBlcyc7XG5pbXBvcnQgeyBDMCB9IGZyb20gJy4uL2NvbW1vbi9kYXRhL0VzY2FwZVNlcXVlbmNlcyc7XG5cbmNvbnN0IGVudW0gRGlyZWN0aW9uIHtcbiAgVVAgPSAnQScsXG4gIERPV04gPSAnQicsXG4gIFJJR0hUID0gJ0MnLFxuICBMRUZUID0gJ0QnXG59XG5cbmV4cG9ydCBjbGFzcyBBbHRDbGlja0hhbmRsZXIge1xuICBwcml2YXRlIF9zdGFydFJvdzogbnVtYmVyO1xuICBwcml2YXRlIF9zdGFydENvbDogbnVtYmVyO1xuICBwcml2YXRlIF9lbmRSb3c6IG51bWJlcjtcbiAgcHJpdmF0ZSBfZW5kQ29sOiBudW1iZXI7XG4gIHByaXZhdGUgX2xpbmVzOiBJQ2lyY3VsYXJMaXN0PElCdWZmZXJMaW5lPjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIF9tb3VzZUV2ZW50OiBNb3VzZUV2ZW50LFxuICAgIHByaXZhdGUgX3Rlcm1pbmFsOiBJVGVybWluYWxcbiAgKSB7XG4gICAgdGhpcy5fbGluZXMgPSB0aGlzLl90ZXJtaW5hbC5idWZmZXIubGluZXM7XG4gICAgdGhpcy5fc3RhcnRDb2wgPSB0aGlzLl90ZXJtaW5hbC5idWZmZXIueDtcbiAgICB0aGlzLl9zdGFydFJvdyA9IHRoaXMuX3Rlcm1pbmFsLmJ1ZmZlci55O1xuXG4gICAgY29uc3QgY29vcmRpbmF0ZXMgPSB0aGlzLl90ZXJtaW5hbC5tb3VzZUhlbHBlci5nZXRDb29yZHMoXG4gICAgICB0aGlzLl9tb3VzZUV2ZW50LFxuICAgICAgdGhpcy5fdGVybWluYWwuZWxlbWVudCxcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLmNoYXJNZWFzdXJlLFxuICAgICAgdGhpcy5fdGVybWluYWwuY29scyxcbiAgICAgIHRoaXMuX3Rlcm1pbmFsLnJvd3MsXG4gICAgICBmYWxzZVxuICAgICk7XG5cbiAgICBpZiAoY29vcmRpbmF0ZXMpIHtcbiAgICAgIFt0aGlzLl9lbmRDb2wsIHRoaXMuX2VuZFJvd10gPSBjb29yZGluYXRlcy5tYXAoKGNvb3JkaW5hdGU6IG51bWJlcikgPT4ge1xuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZSAtIDE7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV3JpdGVzIHRoZSBlc2NhcGUgc2VxdWVuY2VzIG9mIGFycm93cyB0byB0aGUgdGVybWluYWxcbiAgICovXG4gIHB1YmxpYyBtb3ZlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9tb3VzZUV2ZW50LmFsdEtleSAmJiB0aGlzLl9lbmRDb2wgIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9lbmRSb3cgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fdGVybWluYWwuaGFuZGxlcih0aGlzLl9hcnJvd1NlcXVlbmNlcygpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29uY2F0ZW5hdGVzIGFsbCB0aGUgYXJyb3cgc2VxdWVuY2VzIHRvZ2V0aGVyLlxuICAgKiBSZXNldHMgdGhlIHN0YXJ0aW5nIHJvdyB0byBhbiB1bndyYXBwZWQgcm93LCBtb3ZlcyB0byB0aGUgcmVxdWVzdGVkIHJvdyxcbiAgICogdGhlbiBtb3ZlcyB0byByZXF1ZXN0ZWQgY29sLlxuICAgKi9cbiAgcHJpdmF0ZSBfYXJyb3dTZXF1ZW5jZXMoKTogc3RyaW5nIHtcbiAgICAvLyBUaGUgYWx0IGJ1ZmZlciBzaG91bGQgdHJ5IHRvIG5hdmlnYXRlIGJldHdlZW4gcm93c1xuICAgIGlmICghdGhpcy5fdGVybWluYWwuYnVmZmVyLmhhc1Njcm9sbGJhY2spIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZXNldFN0YXJ0aW5nUm93KCkgKyB0aGlzLl9tb3ZlVG9SZXF1ZXN0ZWRSb3coKSArIHRoaXMuX21vdmVUb1JlcXVlc3RlZENvbCgpO1xuICAgIH1cblxuICAgIC8vIE9ubHkgbW92ZSBob3Jpem9udGFsbHkgZm9yIHRoZSBub3JtYWwgYnVmZmVyXG4gICAgcmV0dXJuIHRoaXMuX21vdmVIb3Jpem9udGFsbHlPbmx5KCk7XG4gIH1cblxuICAvKipcbiAgICogSWYgdGhlIGluaXRpYWwgcG9zaXRpb24gb2YgdGhlIGN1cnNvciBpcyBvbiBhIHJvdyB0aGF0IGlzIHdyYXBwZWQsIG1vdmUgdGhlXG4gICAqIGN1cnNvciB1cCB0byB0aGUgZmlyc3Qgcm93IHRoYXQgaXMgbm90IHdyYXBwZWQgdG8gaGF2ZSBhY2N1cmF0ZSB2ZXJ0aWNhbFxuICAgKiBwb3NpdGlvbmluZy5cbiAgICovXG4gIHByaXZhdGUgX3Jlc2V0U3RhcnRpbmdSb3coKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5fbW92ZVRvUmVxdWVzdGVkUm93KCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiByZXBlYXQodGhpcy5fYnVmZmVyTGluZShcbiAgICAgIHRoaXMuX3N0YXJ0Q29sLCB0aGlzLl9zdGFydFJvdywgdGhpcy5fc3RhcnRDb2wsXG4gICAgICB0aGlzLl9zdGFydFJvdyAtIHRoaXMuX3dyYXBwZWRSb3dzRm9yUm93KHRoaXMuX3N0YXJ0Um93KSwgZmFsc2VcbiAgICApLmxlbmd0aCwgdGhpcy5fc2VxdWVuY2UoRGlyZWN0aW9uLkxFRlQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2luZyB0aGUgcmVzZXQgc3RhcnRpbmcgYW5kIGVuZGluZyByb3csIG1vdmUgdG8gdGhlIHJlcXVlc3RlZCByb3csXG4gICAqIGlnbm9yaW5nIHdyYXBwZWQgcm93c1xuICAgKi9cbiAgcHJpdmF0ZSBfbW92ZVRvUmVxdWVzdGVkUm93KCk6IHN0cmluZyB7XG4gICAgY29uc3Qgc3RhcnRSb3cgPSB0aGlzLl9zdGFydFJvdyAtIHRoaXMuX3dyYXBwZWRSb3dzRm9yUm93KHRoaXMuX3N0YXJ0Um93KTtcbiAgICBjb25zdCBlbmRSb3cgPSB0aGlzLl9lbmRSb3cgLSB0aGlzLl93cmFwcGVkUm93c0ZvclJvdyh0aGlzLl9lbmRSb3cpO1xuXG4gICAgY29uc3Qgcm93c1RvTW92ZSA9IE1hdGguYWJzKHN0YXJ0Um93IC0gZW5kUm93KSAtIHRoaXMuX3dyYXBwZWRSb3dzQ291bnQoKTtcblxuICAgIHJldHVybiByZXBlYXQocm93c1RvTW92ZSwgdGhpcy5fc2VxdWVuY2UodGhpcy5fdmVydGljYWxEaXJlY3Rpb24oKSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdG8gdGhlIHJlcXVlc3RlZCBjb2wgb24gdGhlIGVuZGluZyByb3dcbiAgICovXG4gIHByaXZhdGUgX21vdmVUb1JlcXVlc3RlZENvbCgpOiBzdHJpbmcge1xuICAgIGxldCBzdGFydFJvdztcbiAgICBpZiAodGhpcy5fbW92ZVRvUmVxdWVzdGVkUm93KCkubGVuZ3RoID4gMCkge1xuICAgICAgc3RhcnRSb3cgPSB0aGlzLl9lbmRSb3cgLSB0aGlzLl93cmFwcGVkUm93c0ZvclJvdyh0aGlzLl9lbmRSb3cpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydFJvdyA9IHRoaXMuX3N0YXJ0Um93O1xuICAgIH1cblxuICAgIGNvbnN0IGVuZFJvdyA9IHRoaXMuX2VuZFJvdztcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLl9ob3Jpem9udGFsRGlyZWN0aW9uKCk7XG5cbiAgICByZXR1cm4gcmVwZWF0KHRoaXMuX2J1ZmZlckxpbmUoXG4gICAgICB0aGlzLl9zdGFydENvbCwgc3RhcnRSb3csIHRoaXMuX2VuZENvbCwgZW5kUm93LFxuICAgICAgZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uUklHSFRcbiAgICApLmxlbmd0aCwgdGhpcy5fc2VxdWVuY2UoZGlyZWN0aW9uKSk7XG4gIH1cblxuICBwcml2YXRlIF9tb3ZlSG9yaXpvbnRhbGx5T25seSgpOiBzdHJpbmcge1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuX2hvcml6b250YWxEaXJlY3Rpb24oKTtcbiAgICByZXR1cm4gcmVwZWF0KE1hdGguYWJzKHRoaXMuX3N0YXJ0Q29sIC0gdGhpcy5fZW5kQ29sKSwgdGhpcy5fc2VxdWVuY2UoZGlyZWN0aW9uKSk7XG4gIH1cblxuICAvKipcbiAgICogVXRpbGl0eSBmdW5jdGlvbnNcbiAgICovXG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIG51bWJlciBvZiB3cmFwcGVkIHJvd3MgYmV0d2VlbiB0aGUgdW53cmFwcGVkIHN0YXJ0aW5nIGFuZFxuICAgKiBlbmRpbmcgcm93cy4gVGhlc2Ugcm93cyBuZWVkIHRvIGlnbm9yZWQgc2luY2UgdGhlIGN1cnNvciBza2lwcyBvdmVyIHRoZW0uXG4gICAqL1xuICBwcml2YXRlIF93cmFwcGVkUm93c0NvdW50KCk6IG51bWJlciB7XG4gICAgbGV0IHdyYXBwZWRSb3dzID0gMDtcbiAgICBjb25zdCBzdGFydFJvdyA9IHRoaXMuX3N0YXJ0Um93IC0gdGhpcy5fd3JhcHBlZFJvd3NGb3JSb3codGhpcy5fc3RhcnRSb3cpO1xuICAgIGNvbnN0IGVuZFJvdyA9IHRoaXMuX2VuZFJvdyAtIHRoaXMuX3dyYXBwZWRSb3dzRm9yUm93KHRoaXMuX2VuZFJvdyk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IE1hdGguYWJzKHN0YXJ0Um93IC0gZW5kUm93KTsgaSsrKSB7XG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLl92ZXJ0aWNhbERpcmVjdGlvbigpID09PSBEaXJlY3Rpb24uVVAgPyAtMSA6IDE7XG5cbiAgICAgIGlmICh0aGlzLl9saW5lcy5nZXQoc3RhcnRSb3cgKyAoZGlyZWN0aW9uICogaSkpLmlzV3JhcHBlZCkge1xuICAgICAgICB3cmFwcGVkUm93cysrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB3cmFwcGVkUm93cztcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBudW1iZXIgb2Ygd3JhcHBlZCByb3dzIHRoYXQgbWFrZSB1cCBhIGdpdmVuIHJvdy5cbiAgICogQHBhcmFtIGN1cnJlbnRSb3cgVGhlIHJvdyB0byBkZXRlcm1pbmUgaG93IG1hbnkgd3JhcHBlZCByb3dzIG1ha2UgaXQgdXBcbiAgICovXG4gIHByaXZhdGUgX3dyYXBwZWRSb3dzRm9yUm93KGN1cnJlbnRSb3c6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IHJvd0NvdW50ID0gMDtcbiAgICBsZXQgbGluZVdyYXBzID0gdGhpcy5fbGluZXMuZ2V0KGN1cnJlbnRSb3cpLmlzV3JhcHBlZDtcblxuICAgIHdoaWxlIChsaW5lV3JhcHMgJiYgY3VycmVudFJvdyA+PSAwICYmIGN1cnJlbnRSb3cgPCB0aGlzLl90ZXJtaW5hbC5yb3dzKSB7XG4gICAgICByb3dDb3VudCsrO1xuICAgICAgY3VycmVudFJvdy0tO1xuICAgICAgbGluZVdyYXBzID0gdGhpcy5fbGluZXMuZ2V0KGN1cnJlbnRSb3cpLmlzV3JhcHBlZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcm93Q291bnQ7XG4gIH1cblxuICAvKipcbiAgICogRGlyZWN0aW9uIGRldGVybWluZXJzXG4gICAqL1xuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSByaWdodCBvciBsZWZ0IGFycm93IGlzIG5lZWRlZFxuICAgKi9cbiAgcHJpdmF0ZSBfaG9yaXpvbnRhbERpcmVjdGlvbigpOiBEaXJlY3Rpb24ge1xuICAgIGxldCBzdGFydFJvdztcbiAgICBpZiAodGhpcy5fbW92ZVRvUmVxdWVzdGVkUm93KCkubGVuZ3RoID4gMCkge1xuICAgICAgc3RhcnRSb3cgPSB0aGlzLl9lbmRSb3cgLSB0aGlzLl93cmFwcGVkUm93c0ZvclJvdyh0aGlzLl9lbmRSb3cpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydFJvdyA9IHRoaXMuX3N0YXJ0Um93O1xuICAgIH1cblxuICAgIGlmICgodGhpcy5fc3RhcnRDb2wgPCB0aGlzLl9lbmRDb2wgJiZcbiAgICAgIHN0YXJ0Um93IDw9IHRoaXMuX2VuZFJvdykgfHwgLy8gZG93bi9yaWdodCBvciBzYW1lIHkvcmlnaHRcbiAgICAgICh0aGlzLl9zdGFydENvbCA+PSB0aGlzLl9lbmRDb2wgJiZcbiAgICAgIHN0YXJ0Um93IDwgdGhpcy5fZW5kUm93KSkgeyAgLy8gZG93bi9sZWZ0IG9yIHNhbWUgeS9sZWZ0XG4gICAgICByZXR1cm4gRGlyZWN0aW9uLlJJR0hUO1xuICAgIH1cbiAgICByZXR1cm4gRGlyZWN0aW9uLkxFRlQ7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgdXAgb3IgZG93biBhcnJvdyBpcyBuZWVkZWRcbiAgICovXG4gIHByaXZhdGUgX3ZlcnRpY2FsRGlyZWN0aW9uKCk6IERpcmVjdGlvbiB7XG4gICAgaWYgKHRoaXMuX3N0YXJ0Um93ID4gdGhpcy5fZW5kUm93KSB7XG4gICAgICByZXR1cm4gRGlyZWN0aW9uLlVQO1xuICAgIH1cbiAgICByZXR1cm4gRGlyZWN0aW9uLkRPV047XG4gIH1cblxuICAvKipcbiAgICogQ29uc3RydWN0cyB0aGUgc3RyaW5nIG9mIGNoYXJzIGluIHRoZSBidWZmZXIgZnJvbSBhIHN0YXJ0aW5nIHJvdyBhbmQgY29sXG4gICAqIHRvIGFuIGVuZGluZyByb3cgYW5kIGNvbFxuICAgKiBAcGFyYW0gc3RhcnRDb2wgVGhlIHN0YXJ0aW5nIGNvbHVtbiBwb3NpdGlvblxuICAgKiBAcGFyYW0gc3RhcnRSb3cgVGhlIHN0YXJ0aW5nIHJvdyBwb3NpdGlvblxuICAgKiBAcGFyYW0gZW5kQ29sIFRoZSBlbmRpbmcgY29sdW1uIHBvc2l0aW9uXG4gICAqIEBwYXJhbSBlbmRSb3cgVGhlIGVuZGluZyByb3cgcG9zaXRpb25cbiAgICogQHBhcmFtIGZvcndhcmQgRGlyZWN0aW9uIHRvIG1vdmVcbiAgICovXG4gIHByaXZhdGUgX2J1ZmZlckxpbmUoXG4gICAgc3RhcnRDb2w6IG51bWJlcixcbiAgICBzdGFydFJvdzogbnVtYmVyLFxuICAgIGVuZENvbDogbnVtYmVyLFxuICAgIGVuZFJvdzogbnVtYmVyLFxuICAgIGZvcndhcmQ6IGJvb2xlYW5cbiAgKTogc3RyaW5nIHtcbiAgICBsZXQgY3VycmVudENvbCA9IHN0YXJ0Q29sO1xuICAgIGxldCBjdXJyZW50Um93ID0gc3RhcnRSb3c7XG4gICAgbGV0IGJ1ZmZlclN0ciA9ICcnO1xuXG4gICAgd2hpbGUgKGN1cnJlbnRDb2wgIT09IGVuZENvbCB8fCBjdXJyZW50Um93ICE9PSBlbmRSb3cpIHtcbiAgICAgIGN1cnJlbnRDb2wgKz0gZm9yd2FyZCA/IDEgOiAtMTtcblxuICAgICAgaWYgKGZvcndhcmQgJiYgY3VycmVudENvbCA+IHRoaXMuX3Rlcm1pbmFsLmNvbHMgLSAxKSB7XG4gICAgICAgIGJ1ZmZlclN0ciArPSB0aGlzLl90ZXJtaW5hbC5idWZmZXIudHJhbnNsYXRlQnVmZmVyTGluZVRvU3RyaW5nKFxuICAgICAgICAgIGN1cnJlbnRSb3csIGZhbHNlLCBzdGFydENvbCwgY3VycmVudENvbFxuICAgICAgICApO1xuICAgICAgICBjdXJyZW50Q29sID0gMDtcbiAgICAgICAgc3RhcnRDb2wgPSAwO1xuICAgICAgICBjdXJyZW50Um93Kys7XG4gICAgICB9IGVsc2UgaWYgKCFmb3J3YXJkICYmIGN1cnJlbnRDb2wgPCAwKSB7XG4gICAgICAgIGJ1ZmZlclN0ciArPSB0aGlzLl90ZXJtaW5hbC5idWZmZXIudHJhbnNsYXRlQnVmZmVyTGluZVRvU3RyaW5nKFxuICAgICAgICAgIGN1cnJlbnRSb3csIGZhbHNlLCAwLCBzdGFydENvbCArIDFcbiAgICAgICAgKTtcbiAgICAgICAgY3VycmVudENvbCA9IHRoaXMuX3Rlcm1pbmFsLmNvbHMgLSAxO1xuICAgICAgICBzdGFydENvbCA9IGN1cnJlbnRDb2w7XG4gICAgICAgIGN1cnJlbnRSb3ctLTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYnVmZmVyU3RyICsgdGhpcy5fdGVybWluYWwuYnVmZmVyLnRyYW5zbGF0ZUJ1ZmZlckxpbmVUb1N0cmluZyhcbiAgICAgIGN1cnJlbnRSb3csIGZhbHNlLCBzdGFydENvbCwgY3VycmVudENvbFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQ29uc3RydWN0cyB0aGUgZXNjYXBlIHNlcXVlbmNlIGZvciBjbGlja2luZyBhbiBhcnJvd1xuICAgKiBAcGFyYW0gZGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gdG8gbW92ZVxuICAgKi9cbiAgcHJpdmF0ZSBfc2VxdWVuY2UoZGlyZWN0aW9uOiBEaXJlY3Rpb24pOiBzdHJpbmcge1xuICAgIGNvbnN0IG1vZCA9IHRoaXMuX3Rlcm1pbmFsLmFwcGxpY2F0aW9uQ3Vyc29yID8gJ08nIDogJ1snO1xuICAgIHJldHVybiBDMC5FU0MgKyBtb2QgKyBkaXJlY3Rpb247XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcGVhdGVkIGEgZ2l2ZW4gbnVtYmVyIG9mIHRpbWVzXG4gKiBQb2x5ZmlsbCBmcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9yZXBlYXRcbiAqIEBwYXJhbSBjb3VudCBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nXG4gKiBAcGFyYW0gc3RyaW5nIFRoZSBzdHJpbmcgdGhhdCBpcyB0byBiZSByZXBlYXRlZFxuICovXG5mdW5jdGlvbiByZXBlYXQoY291bnQ6IG51bWJlciwgc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb3VudCA9IE1hdGguZmxvb3IoY291bnQpO1xuICBsZXQgcnB0ID0gJyc7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgIHJwdCArPSBzdHI7XG4gIH1cbiAgcmV0dXJuIHJwdDtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvaGFuZGxlcnMvQWx0Q2xpY2tIYW5kbGVyLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///51\n')},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter_1 = __webpack_require__(2);\nvar CharMeasure = (function (_super) {\n    __extends(CharMeasure, _super);\n    function CharMeasure(document, parentElement) {\n        var _this = _super.call(this) || this;\n        _this._document = document;\n        _this._parentElement = parentElement;\n        _this._measureElement = _this._document.createElement('span');\n        _this._measureElement.classList.add('xterm-char-measure-element');\n        _this._measureElement.textContent = 'W';\n        _this._measureElement.setAttribute('aria-hidden', 'true');\n        _this._parentElement.appendChild(_this._measureElement);\n        return _this;\n    }\n    Object.defineProperty(CharMeasure.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CharMeasure.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CharMeasure.prototype.measure = function (options) {\n        this._measureElement.style.fontFamily = options.fontFamily;\n        this._measureElement.style.fontSize = options.fontSize + \"px\";\n        var geometry = this._measureElement.getBoundingClientRect();\n        if (geometry.width === 0 || geometry.height === 0) {\n            return;\n        }\n        if (this._width !== geometry.width || this._height !== geometry.height) {\n            this._width = geometry.width;\n            this._height = Math.ceil(geometry.height);\n            this.emit('charsizechanged');\n        }\n    };\n    return CharMeasure;\n}(EventEmitter_1.EventEmitter));\nexports.CharMeasure = CharMeasure;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3VpL0NoYXJNZWFzdXJlLnRzPzhiMzYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBTUEsNENBQXNEO0FBT3REO0lBQWlDLCtCQUFZO0lBTzNDLHFCQUFZLFFBQWtCLEVBQUUsYUFBMEI7UUFBMUQsWUFDRSxpQkFBTyxTQVFSO1FBUEMsS0FBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7UUFDMUIsS0FBSSxDQUFDLGNBQWMsR0FBRyxhQUFhLENBQUM7UUFDcEMsS0FBSSxDQUFDLGVBQWUsR0FBRyxLQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM1RCxLQUFJLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsNEJBQTRCLENBQUMsQ0FBQztRQUNqRSxLQUFJLENBQUMsZUFBZSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUM7UUFDdkMsS0FBSSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ3pELEtBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLEtBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQzs7SUFDeEQsQ0FBQztJQUVELHNCQUFXLDhCQUFLO2FBQWhCO1lBQ0UsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3JCLENBQUM7OztPQUFBO0lBRUQsc0JBQVcsK0JBQU07YUFBakI7WUFDRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDdEIsQ0FBQzs7O09BQUE7SUFFTSw2QkFBTyxHQUFkLFVBQWUsT0FBeUI7UUFDeEMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7UUFDekQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFNLE9BQU8sQ0FBQyxRQUFRLE9BQUksQ0FBQztRQUM5RCxJQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLHFCQUFxQixFQUFFLENBQUM7UUFHOUQsSUFBSSxRQUFRLENBQUMsS0FBSyxLQUFLLENBQUMsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUNqRCxPQUFPO1NBQ1I7UUFDRCxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssUUFBUSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLFFBQVEsQ0FBQyxNQUFNLEVBQUU7WUFDdEUsSUFBSSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDO1lBQzdCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDMUMsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1NBQzlCO0lBQ0gsQ0FBQztJQUNILGtCQUFDO0FBQUQsQ0FBQyxDQXpDZ0MsMkJBQVksR0F5QzVDO0FBekNZLGtDQUFXIiwiZmlsZSI6IjUyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBJQ2hhck1lYXN1cmUsIElUZXJtaW5hbE9wdGlvbnMgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICcuLi9jb21tb24vRXZlbnRFbWl0dGVyJztcblxuLyoqXG4gKiBVdGlsaXR5IGNsYXNzIHRoYXQgbWVhc3VyZXMgdGhlIHNpemUgb2YgYSBjaGFyYWN0ZXIuIE1lYXN1cmVtZW50cyBhcmUgZG9uZSBpblxuICogdGhlIERPTSByYXRoZXIgdGhhbiB3aXRoIGEgY2FudmFzIGNvbnRleHQgYmVjYXVzZSBzdXBwb3J0IGZvciBleHRyYWN0aW5nIHRoZVxuICogaGVpZ2h0IG9mIGNoYXJhY3RlcnMgaXMgcGF0Y2h5IGFjcm9zcyBicm93c2Vycy5cbiAqL1xuZXhwb3J0IGNsYXNzIENoYXJNZWFzdXJlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIGltcGxlbWVudHMgSUNoYXJNZWFzdXJlIHtcbiAgcHJpdmF0ZSBfZG9jdW1lbnQ6IERvY3VtZW50O1xuICBwcml2YXRlIF9wYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBfbWVhc3VyZUVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIF93aWR0aDogbnVtYmVyO1xuICBwcml2YXRlIF9oZWlnaHQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcihkb2N1bWVudDogRG9jdW1lbnQsIHBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9kb2N1bWVudCA9IGRvY3VtZW50O1xuICAgIHRoaXMuX3BhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50O1xuICAgIHRoaXMuX21lYXN1cmVFbGVtZW50ID0gdGhpcy5fZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRoaXMuX21lYXN1cmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3h0ZXJtLWNoYXItbWVhc3VyZS1lbGVtZW50Jyk7XG4gICAgdGhpcy5fbWVhc3VyZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnVyc7XG4gICAgdGhpcy5fbWVhc3VyZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgdGhpcy5fcGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9tZWFzdXJlRWxlbWVudCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICB9XG5cbiAgcHVibGljIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICB9XG5cbiAgcHVibGljIG1lYXN1cmUob3B0aW9uczogSVRlcm1pbmFsT3B0aW9ucyk6IHZvaWQge1xuICB0aGlzLl9tZWFzdXJlRWxlbWVudC5zdHlsZS5mb250RmFtaWx5ID0gb3B0aW9ucy5mb250RmFtaWx5O1xuICAgIHRoaXMuX21lYXN1cmVFbGVtZW50LnN0eWxlLmZvbnRTaXplID0gYCR7b3B0aW9ucy5mb250U2l6ZX1weGA7XG4gICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLl9tZWFzdXJlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvLyBUaGUgZWxlbWVudCBpcyBsaWtlbHkgY3VycmVudGx5IGRpc3BsYXk6bm9uZSwgd2Ugc2hvdWxkIHJldGFpbiB0aGVcbiAgICAvLyBwcmV2aW91cyB2YWx1ZS5cbiAgICBpZiAoZ2VvbWV0cnkud2lkdGggPT09IDAgfHwgZ2VvbWV0cnkuaGVpZ2h0ID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl93aWR0aCAhPT0gZ2VvbWV0cnkud2lkdGggfHwgdGhpcy5faGVpZ2h0ICE9PSBnZW9tZXRyeS5oZWlnaHQpIHtcbiAgICAgIHRoaXMuX3dpZHRoID0gZ2VvbWV0cnkud2lkdGg7XG4gICAgICB0aGlzLl9oZWlnaHQgPSBNYXRoLmNlaWwoZ2VvbWV0cnkuaGVpZ2h0KTtcbiAgICAgIHRoaXMuZW1pdCgnY2hhcnNpemVjaGFuZ2VkJyk7XG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3VpL0NoYXJNZWFzdXJlLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///52\n")},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clone = function (val, depth) {\n    if (depth === void 0) { depth = 5; }\n    if (typeof val !== 'object') {\n        return val;\n    }\n    if (val === null) {\n        return null;\n    }\n    var clonedObject = Array.isArray(val) ? [] : {};\n    for (var key in val) {\n        clonedObject[key] = depth <= 1 ? val[key] : exports.clone(val[key], depth - 1);\n    }\n    return clonedObject;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3V0aWxzL0Nsb25lLnRzPzM1ZDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFRYSxhQUFLLEdBQUcsVUFBSSxHQUFNLEVBQUUsS0FBaUI7SUFBakIsaUNBQWlCO0lBQ2hELElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO1FBQzNCLE9BQU8sR0FBRyxDQUFDO0tBQ1o7SUFHRCxJQUFJLEdBQUcsS0FBSyxJQUFJLEVBQUU7UUFDaEIsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUdELElBQU0sWUFBWSxHQUFRLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBRXZELEtBQUssSUFBTSxHQUFHLElBQUksR0FBRyxFQUFFO1FBRXJCLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO0tBQ3hFO0lBRUQsT0FBTyxZQUFpQixDQUFDO0FBQzNCLENBQUMsQ0FBQyIsImZpbGUiOiI1My5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE2IFRoZSB4dGVybS5qcyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuLypcbiAqIEEgc2ltcGxlIHV0aWxpdHkgZm9yIGNsb25pbmcgdmFsdWVzXG4gKi9cbmV4cG9ydCBjb25zdCBjbG9uZSA9IDxUPih2YWw6IFQsIGRlcHRoOiBudW1iZXIgPSA1KTogVCA9PiB7XG4gIGlmICh0eXBlb2YgdmFsICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICAvLyBjbG9uaW5nIG51bGwgYWx3YXlzIHJldHVybnMgbnVsbFxuICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBJZiB3ZSdyZSBjbG9uaW5nIGFuIGFycmF5LCB1c2UgYW4gYXJyYXkgYXMgdGhlIGJhc2UsIG90aGVyd2lzZSB1c2UgYW4gb2JqZWN0XG4gIGNvbnN0IGNsb25lZE9iamVjdDogYW55ID0gQXJyYXkuaXNBcnJheSh2YWwpID8gW10gOiB7fTtcblxuICBmb3IgKGNvbnN0IGtleSBpbiB2YWwpIHtcbiAgICAvLyBSZWN1cnNpdmVseSBjbG9uZSBlYWNrIGl0ZW0gdW5sZXNzIHdlJ3JlIGF0IHRoZSBtYXhpbXVtIGRlcHRoXG4gICAgY2xvbmVkT2JqZWN0W2tleV0gPSBkZXB0aCA8PSAxID8gdmFsW2tleV0gOiBjbG9uZSh2YWxba2V5XSwgZGVwdGggLSAxKTtcbiAgfVxuXG4gIHJldHVybiBjbG9uZWRPYmplY3QgYXMgVDtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3V0aWxzL0Nsb25lLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///53\n")},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BELL_SOUND = 'data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg==';\nvar SoundManager = (function () {\n    function SoundManager(_terminal) {\n        this._terminal = _terminal;\n    }\n    Object.defineProperty(SoundManager, \"audioContext\", {\n        get: function () {\n            if (!SoundManager._audioContext) {\n                var audioContextCtor = window.AudioContext || window.webkitAudioContext;\n                if (!audioContextCtor) {\n                    console.warn('Web Audio API is not supported by this browser. Consider upgrading to the latest version');\n                    return null;\n                }\n                SoundManager._audioContext = new audioContextCtor();\n            }\n            return SoundManager._audioContext;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SoundManager.prototype.playBellSound = function () {\n        var ctx = SoundManager.audioContext;\n        if (!ctx) {\n            return;\n        }\n        var bellAudioSource = ctx.createBufferSource();\n        ctx.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._terminal.options.bellSound)), function (buffer) {\n            bellAudioSource.buffer = buffer;\n            bellAudioSource.connect(ctx.destination);\n            bellAudioSource.start(0);\n        });\n    };\n    SoundManager.prototype._base64ToArrayBuffer = function (base64) {\n        var binaryString = window.atob(base64);\n        var len = binaryString.length;\n        var bytes = new Uint8Array(len);\n        for (var i = 0; i < len; i++) {\n            bytes[i] = binaryString.charCodeAt(i);\n        }\n        return bytes.buffer;\n    };\n    SoundManager.prototype._removeMimeType = function (dataURI) {\n        var splitUri = dataURI.split(',');\n        return splitUri[1];\n    };\n    return SoundManager;\n}());\nexports.SoundManager = SoundManager;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL1NvdW5kTWFuYWdlci50cz81N2U3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBV2EsMEJBQWtCLEdBQUcsZ2JBQWdiLENBQUM7QUFFbmQ7SUFlRSxzQkFDVSxTQUFvQjtRQUFwQixjQUFTLEdBQVQsU0FBUyxDQUFXO0lBRTlCLENBQUM7SUFmRCxzQkFBVyw0QkFBWTthQUF2QjtZQUNFLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUFFO2dCQUMvQixJQUFNLGdCQUFnQixHQUE4QixNQUFPLENBQUMsWUFBWSxJQUFVLE1BQU8sQ0FBQyxrQkFBa0IsQ0FBQztnQkFDN0csSUFBSSxDQUFDLGdCQUFnQixFQUFFO29CQUNyQixPQUFPLENBQUMsSUFBSSxDQUFDLDBGQUEwRixDQUFDLENBQUM7b0JBQ3pHLE9BQU8sSUFBSSxDQUFDO2lCQUNiO2dCQUNELFlBQVksQ0FBQyxhQUFhLEdBQUcsSUFBSSxnQkFBZ0IsRUFBRSxDQUFDO2FBQ3JEO1lBQ0QsT0FBTyxZQUFZLENBQUMsYUFBYSxDQUFDO1FBQ3BDLENBQUM7OztPQUFBO0lBT00sb0NBQWEsR0FBcEI7UUFDRSxJQUFNLEdBQUcsR0FBRyxZQUFZLENBQUMsWUFBWSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDUixPQUFPO1NBQ1I7UUFDRCxJQUFNLGVBQWUsR0FBRyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUNqRCxHQUFHLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsVUFBQyxNQUFNO1lBQzVHLGVBQWUsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1lBQ2hDLGVBQWUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQ3pDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRU8sMkNBQW9CLEdBQTVCLFVBQTZCLE1BQWM7UUFDekMsSUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN6QyxJQUFNLEdBQUcsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDO1FBQ2hDLElBQU0sS0FBSyxHQUFHLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRWxDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDNUIsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdkM7UUFFRCxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFDdEIsQ0FBQztJQUVPLHNDQUFlLEdBQXZCLFVBQXdCLE9BQWU7UUFFckMsSUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUdwQyxPQUFPLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyQixDQUFDO0lBQ0gsbUJBQUM7QUFBRCxDQUFDO0FBcERZLG9DQUFZIiwiZmlsZSI6IjU0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBJVGVybWluYWwsIElTb3VuZE1hbmFnZXIgfSBmcm9tICcuL1R5cGVzJztcblxuLy8gU291cmNlOiBodHRwczovL2ZyZWVzb3VuZC5vcmcvcGVvcGxlL2FsdGVtYXJrL3NvdW5kcy80NTc1OS9cbi8vIFRoaXMgc291bmQgaXMgcmVsZWFzZWQgdW5kZXIgdGhlIENyZWF0aXZlIENvbW1vbnMgQXR0cmlidXRpb24gMy4wIFVucG9ydGVkXG4vLyAoQ0MgQlkgMy4wKSBsaWNlbnNlLiBJdCB3YXMgY3JlYXRlZCBieSAnYWx0ZW1hcmsnLiBObyBtb2RpZmljYXRpb25zIGhhdmUgYmVlblxuLy8gbWFkZSwgYXBhcnQgZnJvbSB0aGUgY29udmVyc2lvbiB0byBiYXNlNjQuXG5leHBvcnQgY29uc3QgREVGQVVMVF9CRUxMX1NPVU5EID0gJ2RhdGE6YXVkaW8vd2F2O2Jhc2U2NCxVa2xHUmlnQkFBQlhRVlpGWm0xMElCQUFBQUFCQUFFQVJLd0FBSWhZQVFBQ0FCQUFaR0YwWVFRQkFBRHBBRmdDd0FNbEJab0cvd2RtQ2NvS1JBeXBEUThQYlJEQkVRUVRPeFJ0RlljV2xCZVBHSVVaWGhvaUc4OGJjQno3SEhJZHpoMFdIbE1lWng1MUhta2VVeDRXSHM4ZGFoMEFIWHdjM2hzOUc0c2F4Um55R0JJWUdCY1FGdjhVNFJQQUVvWVJRQkFDRDcwTld3d0hDNmdKT3dqV0Jsb0Y3Z09CQWhBQmtmOGIvcXY4Ui92ZStYZjRJZmU3OVcvMEpmUFo4Wi93ZGU5TjdpanRFK3dVNnh2cU0rbGI2SDdudytZWDVtcmx4dVF6NU16amUrTWE0OWZpb2VLRDRuWGlZZUp5NHBIaXRPTDA0ai9qbitNTjVJUGtGT1dzNVUzbURlZk01NS9vZ09sMzZtN3JkT3lFN2FidXl1OEQ4VW55ai9QZzlELzJxZmNiK1luNi92dUsvUWovbEFBbEFnPT0nO1xuXG5leHBvcnQgY2xhc3MgU291bmRNYW5hZ2VyIGltcGxlbWVudHMgSVNvdW5kTWFuYWdlciB7XG4gIHByaXZhdGUgc3RhdGljIF9hdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dDtcblxuICBzdGF0aWMgZ2V0IGF1ZGlvQ29udGV4dCgpOiBBdWRpb0NvbnRleHQgfCBudWxsIHtcbiAgICBpZiAoIVNvdW5kTWFuYWdlci5fYXVkaW9Db250ZXh0KSB7XG4gICAgICBjb25zdCBhdWRpb0NvbnRleHRDdG9yOiB0eXBlb2YgQXVkaW9Db250ZXh0ID0gKDxhbnk+d2luZG93KS5BdWRpb0NvbnRleHQgfHwgKDxhbnk+d2luZG93KS53ZWJraXRBdWRpb0NvbnRleHQ7XG4gICAgICBpZiAoIWF1ZGlvQ29udGV4dEN0b3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdXZWIgQXVkaW8gQVBJIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyLiBDb25zaWRlciB1cGdyYWRpbmcgdG8gdGhlIGxhdGVzdCB2ZXJzaW9uJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgU291bmRNYW5hZ2VyLl9hdWRpb0NvbnRleHQgPSBuZXcgYXVkaW9Db250ZXh0Q3RvcigpO1xuICAgIH1cbiAgICByZXR1cm4gU291bmRNYW5hZ2VyLl9hdWRpb0NvbnRleHQ7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIF90ZXJtaW5hbDogSVRlcm1pbmFsXG4gICkge1xuICB9XG5cbiAgcHVibGljIHBsYXlCZWxsU291bmQoKTogdm9pZCB7XG4gICAgY29uc3QgY3R4ID0gU291bmRNYW5hZ2VyLmF1ZGlvQ29udGV4dDtcbiAgICBpZiAoIWN0eCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBiZWxsQXVkaW9Tb3VyY2UgPSBjdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgY3R4LmRlY29kZUF1ZGlvRGF0YSh0aGlzLl9iYXNlNjRUb0FycmF5QnVmZmVyKHRoaXMuX3JlbW92ZU1pbWVUeXBlKHRoaXMuX3Rlcm1pbmFsLm9wdGlvbnMuYmVsbFNvdW5kKSksIChidWZmZXIpID0+IHtcbiAgICAgIGJlbGxBdWRpb1NvdXJjZS5idWZmZXIgPSBidWZmZXI7XG4gICAgICBiZWxsQXVkaW9Tb3VyY2UuY29ubmVjdChjdHguZGVzdGluYXRpb24pO1xuICAgICAgYmVsbEF1ZGlvU291cmNlLnN0YXJ0KDApO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfYmFzZTY0VG9BcnJheUJ1ZmZlcihiYXNlNjQ6IHN0cmluZyk6IEFycmF5QnVmZmVyIHtcbiAgICBjb25zdCBiaW5hcnlTdHJpbmcgPSB3aW5kb3cuYXRvYihiYXNlNjQpO1xuICAgIGNvbnN0IGxlbiA9IGJpbmFyeVN0cmluZy5sZW5ndGg7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW4pO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgYnl0ZXNbaV0gPSBiaW5hcnlTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnl0ZXMuYnVmZmVyO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVtb3ZlTWltZVR5cGUoZGF0YVVSSTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBTcGxpdCB0aGUgaW5wdXQgdG8gZ2V0IHRoZSBtaW1lLXR5cGUgYW5kIHRoZSBkYXRhIGl0c2VsZlxuICAgIGNvbnN0IHNwbGl0VXJpID0gZGF0YVVSSS5zcGxpdCgnLCcpO1xuXG4gICAgLy8gUmV0dXJuIG9ubHkgdGhlIGRhdGFcbiAgICByZXR1cm4gc3BsaXRVcmlbMV07XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvU291bmRNYW5hZ2VyLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///54\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Strings = __webpack_require__(12);\nvar Platform_1 = __webpack_require__(5);\nvar RenderDebouncer_1 = __webpack_require__(11);\nvar Lifecycle_1 = __webpack_require__(6);\nvar Lifecycle_2 = __webpack_require__(3);\nvar MAX_ROWS_TO_READ = 20;\nvar AccessibilityManager = (function (_super) {\n    __extends(AccessibilityManager, _super);\n    function AccessibilityManager(_terminal) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._liveRegionLineCount = 0;\n        _this._charsToConsume = [];\n        _this._accessibilityTreeRoot = document.createElement('div');\n        _this._accessibilityTreeRoot.classList.add('xterm-accessibility');\n        _this._rowContainer = document.createElement('div');\n        _this._rowContainer.classList.add('xterm-accessibility-tree');\n        _this._rowElements = [];\n        for (var i = 0; i < _this._terminal.rows; i++) {\n            _this._rowElements[i] = _this._createAccessibilityTreeNode();\n            _this._rowContainer.appendChild(_this._rowElements[i]);\n        }\n        _this._topBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 0); };\n        _this._bottomBoundaryFocusListener = function (e) { return _this._onBoundaryFocus(e, 1); };\n        _this._rowElements[0].addEventListener('focus', _this._topBoundaryFocusListener);\n        _this._rowElements[_this._rowElements.length - 1].addEventListener('focus', _this._bottomBoundaryFocusListener);\n        _this._refreshRowsDimensions();\n        _this._accessibilityTreeRoot.appendChild(_this._rowContainer);\n        _this._renderRowsDebouncer = new RenderDebouncer_1.RenderDebouncer(_this._terminal, _this._renderRows.bind(_this));\n        _this._refreshRows();\n        _this._liveRegion = document.createElement('div');\n        _this._liveRegion.classList.add('live-region');\n        _this._liveRegion.setAttribute('aria-live', 'assertive');\n        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n        _this._terminal.element.insertAdjacentElement('afterbegin', _this._accessibilityTreeRoot);\n        _this.register(_this._renderRowsDebouncer);\n        _this.register(_this._terminal.addDisposableListener('resize', function (data) { return _this._onResize(data.rows); }));\n        _this.register(_this._terminal.addDisposableListener('refresh', function (data) { return _this._refreshRows(data.start, data.end); }));\n        _this.register(_this._terminal.addDisposableListener('scroll', function (data) { return _this._refreshRows(); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.char', function (char) { return _this._onChar(char); }));\n        _this.register(_this._terminal.addDisposableListener('linefeed', function () { return _this._onChar('\\n'); }));\n        _this.register(_this._terminal.addDisposableListener('a11y.tab', function (spaceCount) { return _this._onTab(spaceCount); }));\n        _this.register(_this._terminal.addDisposableListener('key', function (keyChar) { return _this._onKey(keyChar); }));\n        _this.register(_this._terminal.addDisposableListener('blur', function () { return _this._clearLiveRegion(); }));\n        _this.register(_this._terminal.addDisposableListener('dprchange', function () { return _this._refreshRowsDimensions(); }));\n        _this.register(_this._terminal.renderer.addDisposableListener('resize', function () { return _this._refreshRowsDimensions(); }));\n        _this.register(Lifecycle_1.addDisposableDomListener(window, 'resize', function () { return _this._refreshRowsDimensions(); }));\n        return _this;\n    }\n    AccessibilityManager.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._terminal.element.removeChild(this._accessibilityTreeRoot);\n        this._rowElements.length = 0;\n    };\n    AccessibilityManager.prototype._onBoundaryFocus = function (e, position) {\n        var boundaryElement = e.target;\n        var beforeBoundaryElement = this._rowElements[position === 0 ? 1 : this._rowElements.length - 2];\n        var posInSet = boundaryElement.getAttribute('aria-posinset');\n        var lastRowPos = position === 0 ? '1' : \"\" + this._terminal.buffer.lines.length;\n        if (posInSet === lastRowPos) {\n            return;\n        }\n        if (e.relatedTarget !== beforeBoundaryElement) {\n            return;\n        }\n        var topBoundaryElement;\n        var bottomBoundaryElement;\n        if (position === 0) {\n            topBoundaryElement = boundaryElement;\n            bottomBoundaryElement = this._rowElements.pop();\n            this._rowContainer.removeChild(bottomBoundaryElement);\n        }\n        else {\n            topBoundaryElement = this._rowElements.shift();\n            bottomBoundaryElement = boundaryElement;\n            this._rowContainer.removeChild(topBoundaryElement);\n        }\n        topBoundaryElement.removeEventListener('focus', this._topBoundaryFocusListener);\n        bottomBoundaryElement.removeEventListener('focus', this._bottomBoundaryFocusListener);\n        if (position === 0) {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.unshift(newElement);\n            this._rowContainer.insertAdjacentElement('afterbegin', newElement);\n        }\n        else {\n            var newElement = this._createAccessibilityTreeNode();\n            this._rowElements.push(newElement);\n            this._rowContainer.appendChild(newElement);\n        }\n        this._rowElements[0].addEventListener('focus', this._topBoundaryFocusListener);\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._terminal.scrollLines(position === 0 ? -1 : 1);\n        this._rowElements[position === 0 ? 1 : this._rowElements.length - 2].focus();\n        e.preventDefault();\n        e.stopImmediatePropagation();\n    };\n    AccessibilityManager.prototype._onResize = function (rows) {\n        this._rowElements[this._rowElements.length - 1].removeEventListener('focus', this._bottomBoundaryFocusListener);\n        for (var i = this._rowContainer.children.length; i < this._terminal.rows; i++) {\n            this._rowElements[i] = this._createAccessibilityTreeNode();\n            this._rowContainer.appendChild(this._rowElements[i]);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n        this._rowElements[this._rowElements.length - 1].addEventListener('focus', this._bottomBoundaryFocusListener);\n        this._refreshRowsDimensions();\n    };\n    AccessibilityManager.prototype._createAccessibilityTreeNode = function () {\n        var element = document.createElement('div');\n        element.setAttribute('role', 'listitem');\n        element.tabIndex = -1;\n        this._refreshRowDimensions(element);\n        return element;\n    };\n    AccessibilityManager.prototype._onTab = function (spaceCount) {\n        for (var i = 0; i < spaceCount; i++) {\n            this._onChar(' ');\n        }\n    };\n    AccessibilityManager.prototype._onChar = function (char) {\n        var _this = this;\n        if (this._liveRegionLineCount < MAX_ROWS_TO_READ + 1) {\n            if (this._charsToConsume.length > 0) {\n                var shiftedChar = this._charsToConsume.shift();\n                if (shiftedChar !== char) {\n                    this._announceCharacter(char);\n                }\n            }\n            else {\n                this._announceCharacter(char);\n            }\n            if (char === '\\n') {\n                this._liveRegionLineCount++;\n                if (this._liveRegionLineCount === MAX_ROWS_TO_READ + 1) {\n                    this._liveRegion.textContent += Strings.tooMuchOutput;\n                }\n            }\n            if (Platform_1.isMac) {\n                if (this._liveRegion.textContent && this._liveRegion.textContent.length > 0 && !this._liveRegion.parentNode) {\n                    setTimeout(function () {\n                        _this._accessibilityTreeRoot.appendChild(_this._liveRegion);\n                    }, 0);\n                }\n            }\n        }\n    };\n    AccessibilityManager.prototype._clearLiveRegion = function () {\n        this._liveRegion.textContent = '';\n        this._liveRegionLineCount = 0;\n        if (Platform_1.isMac) {\n            if (this._liveRegion.parentNode) {\n                this._accessibilityTreeRoot.removeChild(this._liveRegion);\n            }\n        }\n    };\n    AccessibilityManager.prototype._onKey = function (keyChar) {\n        this._clearLiveRegion();\n        this._charsToConsume.push(keyChar);\n    };\n    AccessibilityManager.prototype._refreshRows = function (start, end) {\n        this._renderRowsDebouncer.refresh(start, end);\n    };\n    AccessibilityManager.prototype._renderRows = function (start, end) {\n        var buffer = this._terminal.buffer;\n        var setSize = buffer.lines.length.toString();\n        for (var i = start; i <= end; i++) {\n            var lineData = buffer.translateBufferLineToString(buffer.ydisp + i, true);\n            var posInSet = (buffer.ydisp + i + 1).toString();\n            var element = this._rowElements[i];\n            element.textContent = lineData.length === 0 ? Strings.blankLine : lineData;\n            element.setAttribute('aria-posinset', posInSet);\n            element.setAttribute('aria-setsize', setSize);\n        }\n    };\n    AccessibilityManager.prototype._refreshRowsDimensions = function () {\n        if (!this._terminal.renderer.dimensions.actualCellHeight) {\n            return;\n        }\n        if (this._rowElements.length !== this._terminal.rows) {\n            this._onResize(this._terminal.rows);\n        }\n        for (var i = 0; i < this._terminal.rows; i++) {\n            this._refreshRowDimensions(this._rowElements[i]);\n        }\n    };\n    AccessibilityManager.prototype._refreshRowDimensions = function (element) {\n        element.style.height = this._terminal.renderer.dimensions.actualCellHeight + \"px\";\n    };\n    AccessibilityManager.prototype._announceCharacter = function (char) {\n        if (char === ' ') {\n            this._liveRegion.innerHTML += '&nbsp;';\n        }\n        else {\n            this._liveRegion.textContent += char;\n        }\n    };\n    return AccessibilityManager;\n}(Lifecycle_2.Disposable));\nexports.AccessibilityManager = AccessibilityManager;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL0FjY2Vzc2liaWxpdHlNYW5hZ2VyLnRzPzViZjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBS0Esc0NBQXFDO0FBRXJDLHdDQUF3QztBQUN4QyxnREFBdUQ7QUFDdkQseUNBQTBEO0FBQzFELHlDQUFnRDtBQUVoRCxJQUFNLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztBQU81QjtJQUEwQyx3Q0FBVTtJQXVCbEQsOEJBQW9CLFNBQW9CO1FBQXhDLFlBQ0UsaUJBQU8sU0FnRFI7UUFqRG1CLGVBQVMsR0FBVCxTQUFTLENBQVc7UUFsQmhDLDBCQUFvQixHQUFXLENBQUMsQ0FBQztRQWdCakMscUJBQWUsR0FBYSxFQUFFLENBQUM7UUFJckMsS0FBSSxDQUFDLHNCQUFzQixHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUQsS0FBSSxDQUFDLHNCQUFzQixDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQztRQUVqRSxLQUFJLENBQUMsYUFBYSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkQsS0FBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLDBCQUEwQixDQUFDLENBQUM7UUFDN0QsS0FBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7UUFDdkIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzVDLEtBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSSxDQUFDLDRCQUE0QixFQUFFLENBQUM7WUFDM0QsS0FBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsS0FBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3RE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QUFTLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsT0FBSSxDQUFDO0lBQ3BGLENBQUM7SUFFTyxpREFBa0IsR0FBMUIsVUFBMkIsSUFBWTtRQUNyQyxJQUFJLElBQUksS0FBSyxHQUFHLEVBQUU7WUFHaEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLElBQUksUUFBUSxDQUFDO1NBQ3hDO2FBQU07WUFDTCxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQUM7U0FDdEM7SUFDSCxDQUFDO0lBQ0gsMkJBQUM7QUFBRCxDQUFDLENBdlF5QyxzQkFBVSxHQXVRbkQ7QUF2UVksb0RBQW9CIiwiZmlsZSI6IjU1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgKiBhcyBTdHJpbmdzIGZyb20gJy4vU3RyaW5ncyc7XG5pbXBvcnQgeyBJVGVybWluYWwsIElCdWZmZXIgfSBmcm9tICcuL1R5cGVzJztcbmltcG9ydCB7IGlzTWFjIH0gZnJvbSAnLi9jb3JlL1BsYXRmb3JtJztcbmltcG9ydCB7IFJlbmRlckRlYm91bmNlciB9IGZyb20gJy4vdWkvUmVuZGVyRGVib3VuY2VyJztcbmltcG9ydCB7IGFkZERpc3Bvc2FibGVEb21MaXN0ZW5lciB9IGZyb20gJy4vdWkvTGlmZWN5Y2xlJztcbmltcG9ydCB7IERpc3Bvc2FibGUgfSBmcm9tICcuL2NvbW1vbi9MaWZlY3ljbGUnO1xuXG5jb25zdCBNQVhfUk9XU19UT19SRUFEID0gMjA7XG5cbmNvbnN0IGVudW0gQm91bmRhcnlQb3NpdGlvbiB7XG4gIFRPUCxcbiAgQk9UVE9NXG59XG5cbmV4cG9ydCBjbGFzcyBBY2Nlc3NpYmlsaXR5TWFuYWdlciBleHRlbmRzIERpc3Bvc2FibGUge1xuICBwcml2YXRlIF9hY2Nlc3NpYmlsaXR5VHJlZVJvb3Q6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIF9yb3dDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIF9yb3dFbGVtZW50czogSFRNTEVsZW1lbnRbXTtcbiAgcHJpdmF0ZSBfbGl2ZVJlZ2lvbjogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgX2xpdmVSZWdpb25MaW5lQ291bnQ6IG51bWJlciA9IDA7XG5cbiAgcHJpdmF0ZSBfcmVuZGVyUm93c0RlYm91bmNlcjogUmVuZGVyRGVib3VuY2VyO1xuXG4gIHByaXZhdGUgX3RvcEJvdW5kYXJ5Rm9jdXNMaXN0ZW5lcjogKGU6IEZvY3VzRXZlbnQpID0+IHZvaWQ7XG4gIHByaXZhdGUgX2JvdHRvbUJvdW5kYXJ5Rm9jdXNMaXN0ZW5lcjogKGU6IEZvY3VzRXZlbnQpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFRoaXMgcXVldWUgaGFzIGEgY2hhcmFjdGVyIHB1c2hlZCB0byBpdCBmb3Iga2V5cyB0aGF0IGFyZSBwcmVzc2VkLCBpZiB0aGVcbiAgICogbmV4dCBjaGFyYWN0ZXIgYWRkZWQgdG8gdGhlIHRlcm1pbmFsIGlzIGVxdWFsIHRvIHRoZSBrZXkgY2hhciB0aGVuIGl0IGlzXG4gICAqIG5vdCBhbm5vdW5jZWQgKGFkZGVkIHRvIGxpdmUgcmVnaW9uKSBiZWNhdXNlIGl0IGhhcyBhbHJlYWR5IGJlZW4gYW5ub3VuY2VkXG4gICAqIGJ5IHRoZSB0ZXh0YXJlYSBldmVudCAod2hpY2ggY2Fubm90IGJlIGNhbmNlbGVkKS4gVGhlcmUgYXJlIHNvbWUgcmFjZVxuICAgKiBjb25kaXRpb24gY2FzZXMgaWYgdGhlcmUgaXMgdHlwaW5nIHdoaWxlIGRhdGEgaXMgc3RyZWFtaW5nLCBidXQgdGhpcyBjb3ZlcnNcbiAgICogdGhlIG1haW4gY2FzZSBvZiB0eXBpbmcgaW50byB0aGUgcHJvbXB0IGFuZCBpbnB1dHRpbmcgdGhlIGFuc3dlciB0byBhXG4gICAqIHF1ZXN0aW9uIChZL04sIGV0Yy4pLlxuICAgKi9cbiAgcHJpdmF0ZSBfY2hhcnNUb0NvbnN1bWU6IHN0cmluZ1tdID0gW107XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfdGVybWluYWw6IElUZXJtaW5hbCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fYWNjZXNzaWJpbGl0eVRyZWVSb290ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fYWNjZXNzaWJpbGl0eVRyZWVSb290LmNsYXNzTGlzdC5hZGQoJ3h0ZXJtLWFjY2Vzc2liaWxpdHknKTtcblxuICAgIHRoaXMuX3Jvd0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX3Jvd0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd4dGVybS1hY2Nlc3NpYmlsaXR5LXRyZWUnKTtcbiAgICB0aGlzLl9yb3dFbGVtZW50cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdGVybWluYWwucm93czsgaSsrKSB7XG4gICAgICB0aGlzLl9yb3dFbGVtZW50c1tpXSA9IHRoaXMuX2NyZWF0ZUFjY2Vzc2liaWxpdHlUcmVlTm9kZSgpO1xuICAgICAgdGhpcy5fcm93Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX3Jvd0VsZW1lbnRzW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLl90b3BCb3VuZGFyeUZvY3VzTGlzdGVuZXIgPSBlID0+IHRoaXMuX29uQm91bmRhcnlGb2N1cyhlLCBCb3VuZGFyeVBvc2l0aW9uLlRPUCk7XG4gICAgdGhpcy5fYm90dG9tQm91bmRhcnlGb2N1c0xpc3RlbmVyID0gZSA9PiB0aGlzLl9vbkJvdW5kYXJ5Rm9jdXMoZSwgQm91bmRhcnlQb3NpdGlvbi5CT1RUT00pO1xuICAgIHRoaXMuX3Jvd0VsZW1lbnRzWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fdG9wQm91bmRhcnlGb2N1c0xpc3RlbmVyKTtcbiAgICB0aGlzLl9yb3dFbGVtZW50c1t0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGggLSAxXS5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2JvdHRvbUJvdW5kYXJ5Rm9jdXNMaXN0ZW5lcik7XG5cbiAgICB0aGlzLl9yZWZyZXNoUm93c0RpbWVuc2lvbnMoKTtcbiAgICB0aGlzLl9hY2Nlc3NpYmlsaXR5VHJlZVJvb3QuYXBwZW5kQ2hpbGQodGhpcy5fcm93Q29udGFpbmVyKTtcblxuICAgIHRoaXMuX3JlbmRlclJvd3NEZWJvdW5jZXIgPSBuZXcgUmVuZGVyRGVib3VuY2VyKHRoaXMuX3Rlcm1pbmFsLCB0aGlzLl9yZW5kZXJSb3dzLmJpbmQodGhpcykpO1xuICAgIHRoaXMuX3JlZnJlc2hSb3dzKCk7XG5cbiAgICB0aGlzLl9saXZlUmVnaW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fbGl2ZVJlZ2lvbi5jbGFzc0xpc3QuYWRkKCdsaXZlLXJlZ2lvbicpO1xuICAgIHRoaXMuX2xpdmVSZWdpb24uc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gICAgdGhpcy5fYWNjZXNzaWJpbGl0eVRyZWVSb290LmFwcGVuZENoaWxkKHRoaXMuX2xpdmVSZWdpb24pO1xuXG4gICAgdGhpcy5fdGVybWluYWwuZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyYmVnaW4nLCB0aGlzLl9hY2Nlc3NpYmlsaXR5VHJlZVJvb3QpO1xuXG4gICAgdGhpcy5yZWdpc3Rlcih0aGlzLl9yZW5kZXJSb3dzRGVib3VuY2VyKTtcbiAgICB0aGlzLnJlZ2lzdGVyKHRoaXMuX3Rlcm1pbmFsLmFkZERpc3Bvc2FibGVMaXN0ZW5lcigncmVzaXplJywgZGF0YSA9PiB0aGlzLl9vblJlc2l6ZShkYXRhLnJvd3MpKSk7XG4gICAgdGhpcy5yZWdpc3Rlcih0aGlzLl90ZXJtaW5hbC5hZGREaXNwb3NhYmxlTGlzdGVuZXIoJ3JlZnJlc2gnLCBkYXRhID0+IHRoaXMuX3JlZnJlc2hSb3dzKGRhdGEuc3RhcnQsIGRhdGEuZW5kKSkpO1xuICAgIHRoaXMucmVnaXN0ZXIodGhpcy5fdGVybWluYWwuYWRkRGlzcG9zYWJsZUxpc3RlbmVyKCdzY3JvbGwnLCBkYXRhID0+IHRoaXMuX3JlZnJlc2hSb3dzKCkpKTtcbiAgICAvLyBMaW5lIGZlZWQgaXMgYW4gaXNzdWUgYXMgdGhlIHByb21wdCB3b24ndCBiZSByZWFkIG91dCBhZnRlciBhIGNvbW1hbmQgaXMgcnVuXG4gICAgdGhpcy5yZWdpc3Rlcih0aGlzLl90ZXJtaW5hbC5hZGREaXNwb3NhYmxlTGlzdGVuZXIoJ2ExMXkuY2hhcicsIChjaGFyKSA9PiB0aGlzLl9vbkNoYXIoY2hhcikpKTtcbiAgICB0aGlzLnJlZ2lzdGVyKHRoaXMuX3Rlcm1pbmFsLmFkZERpc3Bvc2FibGVMaXN0ZW5lcignbGluZWZlZWQnLCAoKSA9PiB0aGlzLl9vbkNoYXIoJ1xcbicpKSk7XG4gICAgdGhpcy5yZWdpc3Rlcih0aGlzLl90ZXJtaW5hbC5hZGREaXNwb3NhYmxlTGlzdGVuZXIoJ2ExMXkudGFiJywgc3BhY2VDb3VudCA9PiB0aGlzLl9vblRhYihzcGFjZUNvdW50KSkpO1xuICAgIHRoaXMucmVnaXN0ZXIodGhpcy5fdGVybWluYWwuYWRkRGlzcG9zYWJsZUxpc3RlbmVyKCdrZXknLCBrZXlDaGFyID0+IHRoaXMuX29uS2V5KGtleUNoYXIpKSk7XG4gICAgdGhpcy5yZWdpc3Rlcih0aGlzLl90ZXJtaW5hbC5hZGREaXNwb3NhYmxlTGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB0aGlzLl9jbGVhckxpdmVSZWdpb24oKSkpO1xuICAgIC8vIFRPRE86IE1heWJlIHJlbmRlcmVyIHNob3VsZCBmaXJlIGFuIGV2ZW50IG9uIHRlcm1pbmFsIHdoZW4gdGhlIGNoYXJhY3RlcnMgY2hhbmdlIGFuZCB0aGF0XG4gICAgLy8gICAgICAgc2hvdWxkIGJlIGxpc3RlbmVkIHRvIGluc3RlYWQ/IFRoYXQgd291bGQgbWVhbiB0aGF0IHRoZSBvcmRlciBvZiBldmVudHMgYXJlIGFsd2F5c1xuICAgIC8vICAgICAgIGd1YXJlbnRlZWRcbiAgICB0aGlzLnJlZ2lzdGVyKHRoaXMuX3Rlcm1pbmFsLmFkZERpc3Bvc2FibGVMaXN0ZW5lcignZHByY2hhbmdlJywgKCkgPT4gdGhpcy5fcmVmcmVzaFJvd3NEaW1lbnNpb25zKCkpKTtcbiAgICB0aGlzLnJlZ2lzdGVyKHRoaXMuX3Rlcm1pbmFsLnJlbmRlcmVyLmFkZERpc3Bvc2FibGVMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gdGhpcy5fcmVmcmVzaFJvd3NEaW1lbnNpb25zKCkpKTtcbiAgICAvLyBUaGlzIHNob3VsZG4ndCBiZSBuZWVkZWQgb24gbW9kZXJuIGJyb3dzZXJzIGJ1dCBpcyBwcmVzZW50IGluIGNhc2UgdGhlXG4gICAgLy8gbWVkaWEgcXVlcnkgdGhhdCBkcml2ZXMgdGhlIGRwcmNoYW5nZSBldmVudCBpc24ndCBzdXBwb3J0ZWRcbiAgICB0aGlzLnJlZ2lzdGVyKGFkZERpc3Bvc2FibGVEb21MaXN0ZW5lcih3aW5kb3csICdyZXNpemUnLCAoKSA9PiB0aGlzLl9yZWZyZXNoUm93c0RpbWVuc2lvbnMoKSkpO1xuICB9XG5cbiAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIHRoaXMuX3Rlcm1pbmFsLmVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5fYWNjZXNzaWJpbGl0eVRyZWVSb290KTtcbiAgICB0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGggPSAwO1xuICB9XG5cbiAgcHJpdmF0ZSBfb25Cb3VuZGFyeUZvY3VzKGU6IEZvY3VzRXZlbnQsIHBvc2l0aW9uOiBCb3VuZGFyeVBvc2l0aW9uKTogdm9pZCB7XG4gICAgY29uc3QgYm91bmRhcnlFbGVtZW50ID0gPEhUTUxFbGVtZW50PmUudGFyZ2V0O1xuICAgIGNvbnN0IGJlZm9yZUJvdW5kYXJ5RWxlbWVudCA9IHRoaXMuX3Jvd0VsZW1lbnRzW3Bvc2l0aW9uID09PSBCb3VuZGFyeVBvc2l0aW9uLlRPUCA/IDEgOiB0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGggLSAyXTtcblxuICAgIC8vIERvbid0IHNjcm9sbCBpZiB0aGUgYnVmZmVyIHRvcCBoYXMgcmVhY2hlZCB0aGUgZW5kIGluIHRoYXQgZGlyZWN0aW9uXG4gICAgY29uc3QgcG9zSW5TZXQgPSBib3VuZGFyeUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdhcmlhLXBvc2luc2V0Jyk7XG4gICAgY29uc3QgbGFzdFJvd1BvcyA9IHBvc2l0aW9uID09PSBCb3VuZGFyeVBvc2l0aW9uLlRPUCA/ICcxJyA6IGAke3RoaXMuX3Rlcm1pbmFsLmJ1ZmZlci5saW5lcy5sZW5ndGh9YDtcbiAgICBpZiAocG9zSW5TZXQgPT09IGxhc3RSb3dQb3MpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEb24ndCBzY3JvbGwgd2hlbiB0aGUgbGFzdCBmb2N1c2VkIGl0ZW0gd2FzIG5vdCB0aGUgc2Vjb25kIHJvdyAoZm9jdXMgaXMgZ29pbmcgdGhlIG90aGVyXG4gICAgLy8gZGlyZWN0aW9uKVxuICAgIGlmIChlLnJlbGF0ZWRUYXJnZXQgIT09IGJlZm9yZUJvdW5kYXJ5RWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBvbGQgYm91bmRhcnkgZWxlbWVudCBmcm9tIGFycmF5XG4gICAgbGV0IHRvcEJvdW5kYXJ5RWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgbGV0IGJvdHRvbUJvdW5kYXJ5RWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHBvc2l0aW9uID09PSBCb3VuZGFyeVBvc2l0aW9uLlRPUCkge1xuICAgICAgdG9wQm91bmRhcnlFbGVtZW50ID0gYm91bmRhcnlFbGVtZW50O1xuICAgICAgYm90dG9tQm91bmRhcnlFbGVtZW50ID0gdGhpcy5fcm93RWxlbWVudHMucG9wKCkhO1xuICAgICAgdGhpcy5fcm93Q29udGFpbmVyLnJlbW92ZUNoaWxkKGJvdHRvbUJvdW5kYXJ5RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvcEJvdW5kYXJ5RWxlbWVudCA9IHRoaXMuX3Jvd0VsZW1lbnRzLnNoaWZ0KCkhO1xuICAgICAgYm90dG9tQm91bmRhcnlFbGVtZW50ID0gYm91bmRhcnlFbGVtZW50O1xuICAgICAgdGhpcy5fcm93Q29udGFpbmVyLnJlbW92ZUNoaWxkKHRvcEJvdW5kYXJ5RWxlbWVudCk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGxpc3RlbmVycyBmcm9tIG9sZCBib3VuZGFyeSBlbGVtZW50c1xuICAgIHRvcEJvdW5kYXJ5RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX3RvcEJvdW5kYXJ5Rm9jdXNMaXN0ZW5lcik7XG4gICAgYm90dG9tQm91bmRhcnlFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fYm90dG9tQm91bmRhcnlGb2N1c0xpc3RlbmVyKTtcblxuICAgIC8vIEFkZCBuZXcgZWxlbWVudCB0byBhcnJheS9ET01cbiAgICBpZiAocG9zaXRpb24gPT09IEJvdW5kYXJ5UG9zaXRpb24uVE9QKSB7XG4gICAgICBjb25zdCBuZXdFbGVtZW50ID0gdGhpcy5fY3JlYXRlQWNjZXNzaWJpbGl0eVRyZWVOb2RlKCk7XG4gICAgICB0aGlzLl9yb3dFbGVtZW50cy51bnNoaWZ0KG5ld0VsZW1lbnQpO1xuICAgICAgdGhpcy5fcm93Q29udGFpbmVyLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJiZWdpbicsIG5ld0VsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBuZXdFbGVtZW50ID0gdGhpcy5fY3JlYXRlQWNjZXNzaWJpbGl0eVRyZWVOb2RlKCk7XG4gICAgICB0aGlzLl9yb3dFbGVtZW50cy5wdXNoKG5ld0VsZW1lbnQpO1xuICAgICAgdGhpcy5fcm93Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0VsZW1lbnQpO1xuICAgIH1cblxuICAgIC8vIEFkZCBsaXN0ZW5lcnMgdG8gbmV3IGJvdW5kYXJ5IGVsZW1lbnRzXG4gICAgdGhpcy5fcm93RWxlbWVudHNbMF0uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl90b3BCb3VuZGFyeUZvY3VzTGlzdGVuZXIpO1xuICAgIHRoaXMuX3Jvd0VsZW1lbnRzW3RoaXMuX3Jvd0VsZW1lbnRzLmxlbmd0aCAtIDFdLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fYm90dG9tQm91bmRhcnlGb2N1c0xpc3RlbmVyKTtcblxuICAgIC8vIFNjcm9sbCB1cFxuICAgIHRoaXMuX3Rlcm1pbmFsLnNjcm9sbExpbmVzKHBvc2l0aW9uID09PSBCb3VuZGFyeVBvc2l0aW9uLlRPUCA/IC0xIDogMSk7XG5cbiAgICAvLyBGb2N1cyBuZXcgYm91bmRhcnkgYmVmb3JlIGVsZW1lbnRcbiAgICB0aGlzLl9yb3dFbGVtZW50c1twb3NpdGlvbiA9PT0gQm91bmRhcnlQb3NpdGlvbi5UT1AgPyAxIDogdGhpcy5fcm93RWxlbWVudHMubGVuZ3RoIC0gMl0uZm9jdXMoKTtcblxuICAgIC8vIFByZXZlbnQgdGhlIHN0YW5kYXJkIGJlaGF2aW9yXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gIH1cblxuICBwcml2YXRlIF9vblJlc2l6ZShyb3dzOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBSZW1vdmUgYm90dG9tIGJvdW5kYXJ5IGxpc3RlbmVyXG4gICAgdGhpcy5fcm93RWxlbWVudHNbdGhpcy5fcm93RWxlbWVudHMubGVuZ3RoIC0gMV0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9ib3R0b21Cb3VuZGFyeUZvY3VzTGlzdGVuZXIpO1xuXG4gICAgLy8gR3JvdyByb3dzIGFzIHJlcXVpcmVkXG4gICAgZm9yIChsZXQgaSA9IHRoaXMuX3Jvd0NvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGg7IGkgPCB0aGlzLl90ZXJtaW5hbC5yb3dzOyBpKyspIHtcbiAgICAgIHRoaXMuX3Jvd0VsZW1lbnRzW2ldID0gdGhpcy5fY3JlYXRlQWNjZXNzaWJpbGl0eVRyZWVOb2RlKCk7XG4gICAgICB0aGlzLl9yb3dDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fcm93RWxlbWVudHNbaV0pO1xuICAgIH1cbiAgICAvLyBTaHJpbmsgcm93cyBhcyByZXF1aXJlZFxuICAgIHdoaWxlICh0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGggPiByb3dzKSB7XG4gICAgICB0aGlzLl9yb3dDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fcm93RWxlbWVudHMucG9wKCkhKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgYm90dG9tIGJvdW5kYXJ5IGxpc3RlbmVyXG4gICAgdGhpcy5fcm93RWxlbWVudHNbdGhpcy5fcm93RWxlbWVudHMubGVuZ3RoIC0gMV0uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9ib3R0b21Cb3VuZGFyeUZvY3VzTGlzdGVuZXIpO1xuXG4gICAgdGhpcy5fcmVmcmVzaFJvd3NEaW1lbnNpb25zKCk7XG4gIH1cblxuICBwcml2YXRlIF9jcmVhdGVBY2Nlc3NpYmlsaXR5VHJlZU5vZGUoKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgncm9sZScsICdsaXN0aXRlbScpO1xuICAgIGVsZW1lbnQudGFiSW5kZXggPSAtMTtcbiAgICB0aGlzLl9yZWZyZXNoUm93RGltZW5zaW9ucyhlbGVtZW50KTtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHByaXZhdGUgX29uVGFiKHNwYWNlQ291bnQ6IG51bWJlcik6IHZvaWQge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BhY2VDb3VudDsgaSsrKSB7XG4gICAgICB0aGlzLl9vbkNoYXIoJyAnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9vbkNoYXIoY2hhcjogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2xpdmVSZWdpb25MaW5lQ291bnQgPCBNQVhfUk9XU19UT19SRUFEICsgMSkge1xuICAgICAgaWYgKHRoaXMuX2NoYXJzVG9Db25zdW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gSGF2ZSB0aGUgc2NyZWVuIHJlYWRlciBpZ25vcmUgdGhlIGNoYXIgaWYgaXQgd2FzIGp1c3QgaW5wdXRcbiAgICAgICAgY29uc3Qgc2hpZnRlZENoYXIgPSB0aGlzLl9jaGFyc1RvQ29uc3VtZS5zaGlmdCgpO1xuICAgICAgICBpZiAoc2hpZnRlZENoYXIgIT09IGNoYXIpIHtcbiAgICAgICAgICB0aGlzLl9hbm5vdW5jZUNoYXJhY3RlcihjaGFyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYW5ub3VuY2VDaGFyYWN0ZXIoY2hhcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGFyID09PSAnXFxuJykge1xuICAgICAgICB0aGlzLl9saXZlUmVnaW9uTGluZUNvdW50Kys7XG4gICAgICAgIGlmICh0aGlzLl9saXZlUmVnaW9uTGluZUNvdW50ID09PSBNQVhfUk9XU19UT19SRUFEICsgMSkge1xuICAgICAgICAgIHRoaXMuX2xpdmVSZWdpb24udGV4dENvbnRlbnQgKz0gU3RyaW5ncy50b29NdWNoT3V0cHV0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE9ubHkgZGV0YWNoL2F0dGFjaCBvbiBtYWMgYXMgb3RoZXJ3aXNlIG1lc3NhZ2VzIGNhbiBnbyB1bmFjY291bmNlZFxuICAgICAgaWYgKGlzTWFjKSB7XG4gICAgICAgIGlmICh0aGlzLl9saXZlUmVnaW9uLnRleHRDb250ZW50ICYmIHRoaXMuX2xpdmVSZWdpb24udGV4dENvbnRlbnQubGVuZ3RoID4gMCAmJiAhdGhpcy5fbGl2ZVJlZ2lvbi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9hY2Nlc3NpYmlsaXR5VHJlZVJvb3QuYXBwZW5kQ2hpbGQodGhpcy5fbGl2ZVJlZ2lvbik7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9jbGVhckxpdmVSZWdpb24oKTogdm9pZCB7XG4gICAgdGhpcy5fbGl2ZVJlZ2lvbi50ZXh0Q29udGVudCA9ICcnO1xuICAgIHRoaXMuX2xpdmVSZWdpb25MaW5lQ291bnQgPSAwO1xuXG4gICAgLy8gT25seSBkZXRhY2gvYXR0YWNoIG9uIG1hYyBhcyBvdGhlcndpc2UgbWVzc2FnZXMgY2FuIGdvIHVuYWNjb3VuY2VkXG4gICAgaWYgKGlzTWFjKSB7XG4gICAgICBpZiAodGhpcy5fbGl2ZVJlZ2lvbi5wYXJlbnROb2RlKSB7XG4gICAgICAgIHRoaXMuX2FjY2Vzc2liaWxpdHlUcmVlUm9vdC5yZW1vdmVDaGlsZCh0aGlzLl9saXZlUmVnaW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9vbktleShrZXlDaGFyOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLl9jbGVhckxpdmVSZWdpb24oKTtcbiAgICB0aGlzLl9jaGFyc1RvQ29uc3VtZS5wdXNoKGtleUNoYXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVmcmVzaFJvd3Moc3RhcnQ/OiBudW1iZXIsIGVuZD86IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuX3JlbmRlclJvd3NEZWJvdW5jZXIucmVmcmVzaChzdGFydCwgZW5kKTtcbiAgfVxuXG4gIHByaXZhdGUgX3JlbmRlclJvd3Moc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBidWZmZXI6IElCdWZmZXIgPSB0aGlzLl90ZXJtaW5hbC5idWZmZXI7XG4gICAgY29uc3Qgc2V0U2l6ZSA9IGJ1ZmZlci5saW5lcy5sZW5ndGgudG9TdHJpbmcoKTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHtcbiAgICAgIGNvbnN0IGxpbmVEYXRhID0gYnVmZmVyLnRyYW5zbGF0ZUJ1ZmZlckxpbmVUb1N0cmluZyhidWZmZXIueWRpc3AgKyBpLCB0cnVlKTtcbiAgICAgIGNvbnN0IHBvc0luU2V0ID0gKGJ1ZmZlci55ZGlzcCArIGkgKyAxKS50b1N0cmluZygpO1xuICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3Jvd0VsZW1lbnRzW2ldO1xuICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGxpbmVEYXRhLmxlbmd0aCA9PT0gMCA/IFN0cmluZ3MuYmxhbmtMaW5lIDogbGluZURhdGE7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1wb3NpbnNldCcsIHBvc0luU2V0KTtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLXNldHNpemUnLCBzZXRTaXplKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9yZWZyZXNoUm93c0RpbWVuc2lvbnMoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLl90ZXJtaW5hbC5yZW5kZXJlci5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3Jvd0VsZW1lbnRzLmxlbmd0aCAhPT0gdGhpcy5fdGVybWluYWwucm93cykge1xuICAgICAgdGhpcy5fb25SZXNpemUodGhpcy5fdGVybWluYWwucm93cyk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdGVybWluYWwucm93czsgaSsrKSB7XG4gICAgICB0aGlzLl9yZWZyZXNoUm93RGltZW5zaW9ucyh0aGlzLl9yb3dFbGVtZW50c1tpXSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfcmVmcmVzaFJvd0RpbWVuc2lvbnMoZWxlbWVudDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcbiAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9IGAke3RoaXMuX3Rlcm1pbmFsLnJlbmRlcmVyLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbEhlaWdodH1weGA7XG4gIH1cblxuICBwcml2YXRlIF9hbm5vdW5jZUNoYXJhY3RlcihjaGFyOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoY2hhciA9PT0gJyAnKSB7XG4gICAgICAvLyBBbHdheXMgdXNlIG5ic3AgZm9yIHNwYWNlcyBpbiBvcmRlciB0byBwcmVzZXJ2ZSB0aGUgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzIGluXG4gICAgICAvLyB2b2ljZW92ZXIncyBjYXB0aW9uIHdpbmRvd1xuICAgICAgdGhpcy5fbGl2ZVJlZ2lvbi5pbm5lckhUTUwgKz0gJyZuYnNwOyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpdmVSZWdpb24udGV4dENvbnRlbnQgKz0gY2hhcjtcbiAgICB9XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvQWNjZXNzaWJpbGl0eU1hbmFnZXIudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///55\n")},function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar EventEmitter_1 = __webpack_require__(2);\nvar ColorManager_1 = __webpack_require__(9);\nvar RenderDebouncer_1 = __webpack_require__(11);\nvar DomRendererRowFactory_1 = __webpack_require__(57);\nvar Types_1 = __webpack_require__(1);\nvar TERMINAL_CLASS_PREFIX = \'xterm-dom-renderer-owner-\';\nvar ROW_CONTAINER_CLASS = \'xterm-rows\';\nvar FG_CLASS_PREFIX = \'xterm-fg-\';\nvar BG_CLASS_PREFIX = \'xterm-bg-\';\nvar FOCUS_CLASS = \'xterm-focus\';\nvar SELECTION_CLASS = \'xterm-selection\';\nvar nextTerminalId = 1;\nvar DomRenderer = (function (_super) {\n    __extends(DomRenderer, _super);\n    function DomRenderer(_terminal, theme) {\n        var _this = _super.call(this) || this;\n        _this._terminal = _terminal;\n        _this._terminalClass = nextTerminalId++;\n        _this._rowElements = [];\n        var allowTransparency = _this._terminal.options.allowTransparency;\n        _this.colorManager = new ColorManager_1.ColorManager(document, allowTransparency);\n        _this.setTheme(theme);\n        _this._rowContainer = document.createElement(\'div\');\n        _this._rowContainer.classList.add(ROW_CONTAINER_CLASS);\n        _this._rowContainer.style.lineHeight = \'normal\';\n        _this._rowContainer.setAttribute(\'aria-hidden\', \'true\');\n        _this._refreshRowElements(_this._terminal.cols, _this._terminal.rows);\n        _this._selectionContainer = document.createElement(\'div\');\n        _this._selectionContainer.classList.add(SELECTION_CLASS);\n        _this._selectionContainer.setAttribute(\'aria-hidden\', \'true\');\n        _this.dimensions = {\n            scaledCharWidth: null,\n            scaledCharHeight: null,\n            scaledCellWidth: null,\n            scaledCellHeight: null,\n            scaledCharLeft: null,\n            scaledCharTop: null,\n            scaledCanvasWidth: null,\n            scaledCanvasHeight: null,\n            canvasWidth: null,\n            canvasHeight: null,\n            actualCellWidth: null,\n            actualCellHeight: null\n        };\n        _this._updateDimensions();\n        _this._renderDebouncer = new RenderDebouncer_1.RenderDebouncer(_this._terminal, _this._renderRows.bind(_this));\n        _this._rowFactory = new DomRendererRowFactory_1.DomRendererRowFactory(document);\n        _this._terminal.element.classList.add(TERMINAL_CLASS_PREFIX + _this._terminalClass);\n        _this._terminal.screenElement.appendChild(_this._rowContainer);\n        _this._terminal.screenElement.appendChild(_this._selectionContainer);\n        _this._terminal.linkifier.on("linkhover", function (e) { return _this._onLinkHover(e); });\n        _this._terminal.linkifier.on("linkleave", function (e) { return _this._onLinkLeave(e); });\n        return _this;\n    }\n    DomRenderer.prototype.dispose = function () {\n        this._terminal.element.classList.remove(TERMINAL_CLASS_PREFIX + this._terminalClass);\n        this._terminal.screenElement.removeChild(this._rowContainer);\n        this._terminal.screenElement.removeChild(this._selectionContainer);\n        this._terminal.screenElement.removeChild(this._themeStyleElement);\n        this._terminal.screenElement.removeChild(this._dimensionsStyleElement);\n        _super.prototype.dispose.call(this);\n    };\n    DomRenderer.prototype._updateDimensions = function () {\n        var _this = this;\n        this.dimensions.scaledCharWidth = Math.floor(this._terminal.charMeasure.width * window.devicePixelRatio);\n        this.dimensions.scaledCharHeight = Math.ceil(this._terminal.charMeasure.height * window.devicePixelRatio);\n        this.dimensions.scaledCellWidth = this.dimensions.scaledCharWidth + Math.round(this._terminal.options.letterSpacing);\n        this.dimensions.scaledCellHeight = Math.floor(this.dimensions.scaledCharHeight * this._terminal.options.lineHeight);\n        this.dimensions.scaledCharLeft = 0;\n        this.dimensions.scaledCharTop = 0;\n        this.dimensions.scaledCanvasWidth = this.dimensions.scaledCellWidth * this._terminal.cols;\n        this.dimensions.scaledCanvasHeight = this.dimensions.scaledCellHeight * this._terminal.rows;\n        this.dimensions.canvasWidth = Math.round(this.dimensions.scaledCanvasWidth / window.devicePixelRatio);\n        this.dimensions.canvasHeight = Math.round(this.dimensions.scaledCanvasHeight / window.devicePixelRatio);\n        this.dimensions.actualCellWidth = this.dimensions.canvasWidth / this._terminal.cols;\n        this.dimensions.actualCellHeight = this.dimensions.canvasHeight / this._terminal.rows;\n        this._rowElements.forEach(function (element) {\n            element.style.width = _this.dimensions.canvasWidth + "px";\n            element.style.height = _this.dimensions.actualCellHeight + "px";\n            element.style.lineHeight = _this.dimensions.actualCellHeight + "px";\n            element.style.overflow = \'hidden\';\n        });\n        if (!this._dimensionsStyleElement) {\n            this._dimensionsStyleElement = document.createElement(\'style\');\n            this._terminal.screenElement.appendChild(this._dimensionsStyleElement);\n        }\n        var styles = this._terminalSelector + " ." + ROW_CONTAINER_CLASS + " span {" +\n            " display: inline-block;" +\n            " height: 100%;" +\n            " vertical-align: top;" +\n            (" width: " + this.dimensions.actualCellWidth + "px") +\n            "}";\n        this._dimensionsStyleElement.innerHTML = styles;\n        this._selectionContainer.style.height = this._terminal._viewportElement.style.height;\n        this._terminal.screenElement.style.width = this.dimensions.canvasWidth + "px";\n        this._terminal.screenElement.style.height = this.dimensions.canvasHeight + "px";\n    };\n    DomRenderer.prototype.setTheme = function (theme) {\n        var _this = this;\n        if (theme) {\n            this.colorManager.setTheme(theme);\n        }\n        if (!this._themeStyleElement) {\n            this._themeStyleElement = document.createElement(\'style\');\n            this._terminal.screenElement.appendChild(this._themeStyleElement);\n        }\n        var styles = this._terminalSelector + " ." + ROW_CONTAINER_CLASS + " {" +\n            (" color: " + this.colorManager.colors.foreground.css + ";") +\n            (" background-color: " + this.colorManager.colors.background.css + ";") +\n            (" font-family: " + this._terminal.getOption(\'fontFamily\') + ";") +\n            (" font-size: " + this._terminal.getOption(\'fontSize\') + "px;") +\n            "}";\n        styles +=\n            this._terminalSelector + " span:not(." + DomRendererRowFactory_1.BOLD_CLASS + ") {" +\n                (" font-weight: " + this._terminal.options.fontWeight + ";") +\n                "}" +\n                (this._terminalSelector + " span." + DomRendererRowFactory_1.BOLD_CLASS + " {") +\n                (" font-weight: " + this._terminal.options.fontWeightBold + ";") +\n                "}" +\n                (this._terminalSelector + " span." + DomRendererRowFactory_1.ITALIC_CLASS + " {") +\n                " font-style: italic;" +\n                "}";\n        styles +=\n            this._terminalSelector + " ." + ROW_CONTAINER_CLASS + ":not(." + FOCUS_CLASS + ") ." + DomRendererRowFactory_1.CURSOR_CLASS + " {" +\n                (" outline: 1px solid " + this.colorManager.colors.cursor.css + ";") +\n                " outline-offset: -1px;" +\n                "}" +\n                (this._terminalSelector + " ." + ROW_CONTAINER_CLASS + "." + FOCUS_CLASS + " ." + DomRendererRowFactory_1.CURSOR_CLASS + "." + DomRendererRowFactory_1.CURSOR_STYLE_BLOCK_CLASS + " {") +\n                (" background-color: " + this.colorManager.colors.cursor.css + ";") +\n                (" color: " + this.colorManager.colors.cursorAccent.css + ";") +\n                "}" +\n                (this._terminalSelector + " ." + ROW_CONTAINER_CLASS + "." + FOCUS_CLASS + " ." + DomRendererRowFactory_1.CURSOR_CLASS + "." + DomRendererRowFactory_1.CURSOR_STYLE_BAR_CLASS + " {") +\n                (" box-shadow: 1px 0 0 " + this.colorManager.colors.cursor.css + " inset;") +\n                "}" +\n                (this._terminalSelector + " ." + ROW_CONTAINER_CLASS + "." + FOCUS_CLASS + " ." + DomRendererRowFactory_1.CURSOR_CLASS + "." + DomRendererRowFactory_1.CURSOR_STYLE_UNDERLINE_CLASS + " {") +\n                (" box-shadow: 0 -1px 0 " + this.colorManager.colors.cursor.css + " inset;") +\n                "}";\n        styles +=\n            this._terminalSelector + " ." + SELECTION_CLASS + " {" +\n                " position: absolute;" +\n                " top: 0;" +\n                " left: 0;" +\n                " z-index: 1;" +\n                " pointer-events: none;" +\n                "}" +\n                (this._terminalSelector + " ." + SELECTION_CLASS + " div {") +\n                " position: absolute;" +\n                (" background-color: " + this.colorManager.colors.selection.css + ";") +\n                "}";\n        this.colorManager.colors.ansi.forEach(function (c, i) {\n            styles +=\n                _this._terminalSelector + " ." + FG_CLASS_PREFIX + i + " { color: " + c.css + "; }" +\n                    (_this._terminalSelector + " ." + BG_CLASS_PREFIX + i + " { background-color: " + c.css + "; }");\n        });\n        styles +=\n            this._terminalSelector + " ." + FG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + " { color: " + this.colorManager.colors.background.css + "; }" +\n                (this._terminalSelector + " ." + BG_CLASS_PREFIX + Types_1.INVERTED_DEFAULT_COLOR + " { background-color: " + this.colorManager.colors.foreground.css + "; }");\n        this._themeStyleElement.innerHTML = styles;\n        return this.colorManager.colors;\n    };\n    DomRenderer.prototype.onWindowResize = function (devicePixelRatio) {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype._refreshRowElements = function (cols, rows) {\n        for (var i = this._rowElements.length; i <= rows; i++) {\n            var row = document.createElement(\'div\');\n            this._rowContainer.appendChild(row);\n            this._rowElements.push(row);\n        }\n        while (this._rowElements.length > rows) {\n            this._rowContainer.removeChild(this._rowElements.pop());\n        }\n    };\n    DomRenderer.prototype.onResize = function (cols, rows) {\n        this._refreshRowElements(cols, rows);\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onCharSizeChanged = function () {\n        this._updateDimensions();\n    };\n    DomRenderer.prototype.onBlur = function () {\n        this._rowContainer.classList.remove(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onFocus = function () {\n        this._rowContainer.classList.add(FOCUS_CLASS);\n    };\n    DomRenderer.prototype.onSelectionChanged = function (start, end, columnSelectMode) {\n        while (this._selectionContainer.children.length) {\n            this._selectionContainer.removeChild(this._selectionContainer.children[0]);\n        }\n        if (!start || !end) {\n            return;\n        }\n        var viewportStartRow = start[1] - this._terminal.buffer.ydisp;\n        var viewportEndRow = end[1] - this._terminal.buffer.ydisp;\n        var viewportCappedStartRow = Math.max(viewportStartRow, 0);\n        var viewportCappedEndRow = Math.min(viewportEndRow, this._terminal.rows - 1);\n        if (viewportCappedStartRow >= this._terminal.rows || viewportCappedEndRow < 0) {\n            return;\n        }\n        var documentFragment = document.createDocumentFragment();\n        if (columnSelectMode) {\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, start[0], end[0], viewportCappedEndRow - viewportCappedStartRow + 1));\n        }\n        else {\n            var startCol = viewportStartRow === viewportCappedStartRow ? start[0] : 0;\n            var endCol = viewportCappedStartRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow, startCol, endCol));\n            var middleRowsCount = viewportCappedEndRow - viewportCappedStartRow - 1;\n            documentFragment.appendChild(this._createSelectionElement(viewportCappedStartRow + 1, 0, this._terminal.cols, middleRowsCount));\n            if (viewportCappedStartRow !== viewportCappedEndRow) {\n                var endCol_1 = viewportEndRow === viewportCappedEndRow ? end[0] : this._terminal.cols;\n                documentFragment.appendChild(this._createSelectionElement(viewportCappedEndRow, 0, endCol_1));\n            }\n        }\n        this._selectionContainer.appendChild(documentFragment);\n    };\n    DomRenderer.prototype._createSelectionElement = function (row, colStart, colEnd, rowCount) {\n        if (rowCount === void 0) { rowCount = 1; }\n        var element = document.createElement(\'div\');\n        element.style.height = rowCount * this.dimensions.actualCellHeight + "px";\n        element.style.top = row * this.dimensions.actualCellHeight + "px";\n        element.style.left = colStart * this.dimensions.actualCellWidth + "px";\n        element.style.width = this.dimensions.actualCellWidth * (colEnd - colStart) + "px";\n        return element;\n    };\n    DomRenderer.prototype.onCursorMove = function () {\n    };\n    DomRenderer.prototype.onOptionsChanged = function () {\n        this._updateDimensions();\n        this.setTheme(undefined);\n        this._terminal.refresh(0, this._terminal.rows - 1);\n    };\n    DomRenderer.prototype.clear = function () {\n        this._rowElements.forEach(function (e) { return e.innerHTML = \'\'; });\n    };\n    DomRenderer.prototype.refreshRows = function (start, end) {\n        this._renderDebouncer.refresh(start, end);\n    };\n    DomRenderer.prototype._renderRows = function (start, end) {\n        var terminal = this._terminal;\n        var cursorAbsoluteY = terminal.buffer.ybase + terminal.buffer.y;\n        var cursorX = this._terminal.buffer.x;\n        for (var y = start; y <= end; y++) {\n            var rowElement = this._rowElements[y];\n            rowElement.innerHTML = \'\';\n            var row = y + terminal.buffer.ydisp;\n            var lineData = terminal.buffer.lines.get(row);\n            var cursorStyle = terminal.options.cursorStyle;\n            rowElement.appendChild(this._rowFactory.createRow(lineData, row === cursorAbsoluteY, cursorStyle, cursorX, this.dimensions.actualCellWidth, terminal.cols));\n        }\n        this._terminal.emit(\'refresh\', { start: start, end: end });\n    };\n    Object.defineProperty(DomRenderer.prototype, "_terminalSelector", {\n        get: function () {\n            return "." + TERMINAL_CLASS_PREFIX + this._terminalClass;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DomRenderer.prototype.registerCharacterJoiner = function (handler) { return -1; };\n    DomRenderer.prototype.deregisterCharacterJoiner = function (joinerId) { return false; };\n    DomRenderer.prototype._onLinkHover = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, true);\n    };\n    DomRenderer.prototype._onLinkLeave = function (e) {\n        this._setCellUnderline(e.x1, e.x2, e.y1, e.y2, e.cols, false);\n    };\n    DomRenderer.prototype._setCellUnderline = function (x, x2, y, y2, cols, enabled) {\n        while (x !== x2 || y !== y2) {\n            var row = this._rowElements[y];\n            if (!row) {\n                return;\n            }\n            var span = row.children[x];\n            span.style.textDecoration = enabled ? \'underline\' : \'none\';\n            x = (x + 1) % cols;\n            if (x === 0) {\n                y++;\n            }\n        }\n    };\n    return DomRenderer;\n}(EventEmitter_1.EventEmitter));\nexports.DomRenderer = DomRenderer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL2RvbS9Eb21SZW5kZXJlci50cz8wZTk2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQVFBLDRDQUF5RDtBQUN6RCw0Q0FBK0M7QUFDL0MsZ0RBQTJEO0FBQzNELHNEQUF3TDtBQUN4TCxxQ0FBd0Q7QUFFeEQsSUFBTSxxQkFBcUIsR0FBRywyQkFBMkIsQ0FBQztBQUMxRCxJQUFNLG1CQUFtQixHQUFHLFlBQVksQ0FBQztBQUN6QyxJQUFNLGVBQWUsR0FBRyxXQUFXLENBQUM7QUFDcEMsSUFBTSxlQUFlLEdBQUcsV0FBVyxDQUFDO0FBQ3BDLElBQU0sV0FBVyxHQUFHLGFBQWEsQ0FBQztBQUNsQyxJQUFNLGVBQWUsR0FBRyxpQkFBaUIsQ0FBQztBQUUxQyxJQUFJLGNBQWMsR0FBRyxDQUFDLENBQUM7QUFVdkI7SUFBaUMsK0JBQVk7SUFjM0MscUJBQW9CLFNBQW9CLEVBQUUsS0FBeUI7UUFBbkUsWUFDRSxpQkFBTyxTQXVDUjtRQXhDbUIsZUFBUyxHQUFULFNBQVMsQ0FBVztRQVhoQyxvQkFBYyxHQUFXLGNBQWMsRUFBRSxDQUFDO1FBSzFDLGtCQUFZLEdBQWtCLEVBQUUsQ0FBQztRQVF2QyxJQUFNLGlCQUFpQixHQUFHLEtBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDO1FBQ25FLEtBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSwyQkFBWSxDQUFDLFFBQVEsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1FBQ2xFLEtBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFckIsS0FBSSxDQUFDLGFBQWEsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25ELEtBQUksQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ3RELEtBQUksQ0FBQyxhQUFh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QixHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFDLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7WUFDM0QsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztZQUNuQixJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ1gsQ0FBQyxFQUFFLENBQUM7YUFDTDtTQUNGO0lBQ0gsQ0FBQztJQUNILGtCQUFDO0FBQUQsQ0FBQyxDQXRWZ0MsMkJBQVksR0FzVjVDO0FBdFZZLGtDQUFXIiwiZmlsZSI6IjU2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTggVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBJUmVuZGVyZXIsIElSZW5kZXJEaW1lbnNpb25zLCBJQ29sb3JTZXQgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBJTGlua0hvdmVyRXZlbnQsIElUZXJtaW5hbCwgQ2hhcmFjdGVySm9pbmVySGFuZGxlciwgTGlua0hvdmVyRXZlbnRUeXBlcyB9IGZyb20gJy4uLy4uL1R5cGVzJztcbmltcG9ydCB7IElUaGVtZSB9IGZyb20gJ3h0ZXJtJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJy4uLy4uL2NvbW1vbi9FdmVudEVtaXR0ZXInO1xuaW1wb3J0IHsgQ29sb3JNYW5hZ2VyIH0gZnJvbSAnLi4vQ29sb3JNYW5hZ2VyJztcbmltcG9ydCB7IFJlbmRlckRlYm91bmNlciB9IGZyb20gJy4uLy4uL3VpL1JlbmRlckRlYm91bmNlcic7XG5pbXBvcnQgeyBCT0xEX0NMQVNTLCBJVEFMSUNfQ0xBU1MsIENVUlNPUl9DTEFTUywgQ1VSU09SX1NUWUxFX0JMT0NLX0NMQVNTLCBDVVJTT1JfU1RZTEVfQkFSX0NMQVNTLCBDVVJTT1JfU1RZTEVfVU5ERVJMSU5FX0NMQVNTLCBEb21SZW5kZXJlclJvd0ZhY3RvcnkgfSBmcm9tICcuL0RvbVJlbmRlcmVyUm93RmFjdG9yeSc7XG5pbXBvcnQgeyBJTlZFUlRFRF9ERUZBVUxUX0NPTE9SIH0gZnJvbSAnLi4vYXRsYXMvVHlwZXMnO1xuXG5jb25zdCBURVJNSU5BTF9DTEFTU19QUkVGSVggPSAneHRlcm0tZG9tLXJlbmRlcmVyLW93bmVyLSc7XG5jb25zdCBST1dfQ09OVEFJTkVSX0NMQVNTID0gJ3h0ZXJtLXJvd3MnO1xuY29uc3QgRkdfQ0xBU1NfUFJFRklYID0gJ3h0ZXJtLWZnLSc7XG5jb25zdCBCR19DTEFTU19QUkVGSVggPSAneHRlcm0tYmctJztcbmNvbnN0IEZPQ1VTX0NMQVNTID0gJ3h0ZXJtLWZvY3VzJztcbmNvbnN0IFNFTEVDVElPTl9DTEFTUyA9ICd4dGVybS1zZWxlY3Rpb24nO1xuXG5sZXQgbmV4dFRlcm1pbmFsSWQgPSAxO1xuXG4vLyBUT0RPOiBQdWxsIGludG8gYW4gYWRkb24gd2hlbiBUUyBjb21wb3NpdGUgcHJvamVjdHMgYWxsb3cgZWFzaWVyIHNoYXJpbmcgb2YgY29kZSAobm90IGp1c3Rcbi8vIGludGVyZmFjZXMpIGJldHdlZW4gY29yZSBhbmQgYWRkb25zXG5cbi8qKlxuICogQSBmYWxsYmFjayByZW5kZXJlciBmb3Igd2hlbiBjYW52YXMgaXMgc2xvdy4gVGhpcyBpcyBub3QgbWVhbnQgdG8gYmVcbiAqIHBhcnRpY3VsYXJseSBmYXN0IG9yIGZlYXR1cmUgY29tcGxldGUsIG1vcmUganVzdCBzdGFibGUgYW5kIHVzYWJsZSBmb3Igd2hlblxuICogY2FudmFzIGlzIG5vdCBhbiBvcHRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBEb21SZW5kZXJlciBleHRlbmRzIEV2ZW50RW1pdHRlciBpbXBsZW1lbnRzIElSZW5kZXJlciB7XG4gIHByaXZhdGUgX3JlbmRlckRlYm91bmNlcjogUmVuZGVyRGVib3VuY2VyO1xuICBwcml2YXRlIF9yb3dGYWN0b3J5OiBEb21SZW5kZXJlclJvd0ZhY3Rvcnk7XG4gIHByaXZhdGUgX3Rlcm1pbmFsQ2xhc3M6IG51bWJlciA9IG5leHRUZXJtaW5hbElkKys7XG5cbiAgcHJpdmF0ZSBfdGhlbWVTdHlsZUVsZW1lbnQ6IEhUTUxTdHlsZUVsZW1lbnQ7XG4gIHByaXZhdGUgX2RpbWVuc2lvbnNTdHlsZUVsZW1lbnQ6IEhUTUxTdHlsZUVsZW1lbnQ7XG4gIHByaXZhdGUgX3Jvd0NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgX3Jvd0VsZW1lbnRzOiBIVE1MRWxlbWVudFtdID0gW107XG4gIHByaXZhdGUgX3NlbGVjdGlvbkNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgcHVibGljIGRpbWVuc2lvbnM6IElSZW5kZXJEaW1lbnNpb25zO1xuICBwdWJsaWMgY29sb3JNYW5hZ2VyOiBDb2xvck1hbmFnZXI7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfdGVybWluYWw6IElUZXJtaW5hbCwgdGhlbWU6IElUaGVtZSB8IHVuZGVmaW5lZCkge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3QgYWxsb3dUcmFuc3BhcmVuY3kgPSB0aGlzLl90ZXJtaW5hbC5vcHRpb25zLmFsbG93VHJhbnNwYXJlbmN5O1xuICAgIHRoaXMuY29sb3JNYW5hZ2VyID0gbmV3IENvbG9yTWFuYWdlcihkb2N1bWVudCwgYWxsb3dUcmFuc3BhcmVuY3kpO1xuICAgIHRoaXMuc2V0VGhlbWUodGhlbWUpO1xuXG4gICAgdGhpcy5fcm93Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fcm93Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoUk9XX0NPTlRBSU5FUl9DTEFTUyk7XG4gICAgdGhpcy5fcm93Q29udGFpbmVyLnN0eWxlLmxpbmVIZWlnaHQgPSAnbm9ybWFsJztcbiAgICB0aGlzLl9yb3dDb250YWluZXIuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgdGhpcy5fcmVmcmVzaFJvd0VsZW1lbnRzKHRoaXMuX3Rlcm1pbmFsLmNvbHMsIHRoaXMuX3Rlcm1pbmFsLnJvd3MpO1xuICAgIHRoaXMuX3NlbGVjdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX3NlbGVjdGlvbkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFNFTEVDVElPTl9DTEFTUyk7XG4gICAgdGhpcy5fc2VsZWN0aW9uQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXG4gICAgdGhpcy5kaW1lbnNpb25zID0ge1xuICAgICAgc2NhbGVkQ2hhcldpZHRoOiBudWxsLFxuICAgICAgc2NhbGVkQ2hhckhlaWdodDogbnVsbCxcbiAgICAgIHNjYWxlZENlbGxXaWR0aDogbnVsbCxcbiAgICAgIHNjYWxlZENlbGxIZWlnaHQ6IG51bGwsXG4gICAgICBzY2FsZWRDaGFyTGVmdDogbnVsbCxcbiAgICAgIHNjYWxlZENoYXJUb3A6IG51bGwsXG4gICAgICBzY2FsZWRDYW52YXNXaWR0aDogbnVsbCxcbiAgICAgIHNjYWxlZENhbnZhc0hlaWdodDogbnVsbCxcbiAgICAgIGNhbnZhc1dpZHRoOiBudWxsLFxuICAgICAgY2FudmFzSGVpZ2h0OiBudWxsLFxuICAgICAgYWN0dWFsQ2VsbFdpZHRoOiBudWxsLFxuICAgICAgYWN0dWFsQ2VsbEhlaWdodDogbnVsbFxuICAgIH07XG4gICAgdGhpcy5fdXBkYXRlRGltZW5zaW9ucygpO1xuXG4gICAgdGhpcy5fcmVuZGVyRGVib3VuY2VyID0gbmV3IFJlbmRlckRlYm91bmNlcih0aGlzLl90ZXJtaW5hbCwgdGhpcy5fcmVuZGVyUm93cy5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLl9yb3dGYWN0b3J5ID0gbmV3IERvbVJlbmRlcmVyUm93RmFjdG9yeShkb2N1bWVudCk7XG5cbiAgICB0aGlzLl90ZXJtaW5hbC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoVEVSTUlOQUxfQ0xBU1NfUFJFRklYICsgdGhpcy5fdGVybWluYWxDbGFzcyk7XG4gICAgdGhpcy5fdGVybWluYWwuc2NyZWVuRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9yb3dDb250YWluZXIpO1xuICAgIHRoaXMuX3Rlcm1pbmFsLnNjcmVlbkVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fc2VsZWN0aW9uQ29udGFpbmVyKTtcblxuICAgIHRoaXMuX3Rlcm1pbmFsLmxpbmtpZmllci5vbihMaW5rSG92ZXJFdmVudFR5cGVzLkhPVkVSLCAoZTogSUxpbmtIb3ZlckV2ZW50KSA9PiB0aGlzLl9vbkxpbmtIb3ZlcihlKSk7XG4gICAgdGhpcy5fdGVybWluYWwubGlua2lmaWVyLm9uKExpbmtIb3ZlckV2ZW50VHlwZXMuTEVBVkUsIChlOiBJTGlua0hvdmVyRXZlbnQpID0+IHRoaXMuX29uTGlua0xlYXZlKGUpKTtcbiAgfVxuXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHRoaXMuX3Rlcm1pbmFsLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShURVJNSU5BTF9DTEFTU19QUkVGSVggKyB0aGlzLl90ZXJtaW5hbENsYXNzKTtcbiAgICB0aGlzLl90ZXJtaW5hbC5zY3JlZW5FbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuX3Jvd0NvbnRhaW5lcik7XG4gICAgdGhpcy5fdGVybWluYWwuc2NyZWVuRWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLl9zZWxlY3Rpb25Db250YWluZXIpO1xuICAgIHRoaXMuX3Rlcm1pbmFsLnNjcmVlbkVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5fdGhlbWVTdHlsZUVsZW1lbnQpO1xuICAgIHRoaXMuX3Rlcm1pbmFsLnNjcmVlbkVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5fZGltZW5zaW9uc1N0eWxlRWxlbWVudCk7XG4gICAgc3VwZXIuZGlzcG9zZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfdXBkYXRlRGltZW5zaW9ucygpOiB2b2lkIHtcbiAgICB0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhcldpZHRoID0gTWF0aC5mbG9vcih0aGlzLl90ZXJtaW5hbC5jaGFyTWVhc3VyZS53aWR0aCAqIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICB0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhckhlaWdodCA9IE1hdGguY2VpbCh0aGlzLl90ZXJtaW5hbC5jaGFyTWVhc3VyZS5oZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgdGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxXaWR0aCA9IHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDaGFyV2lkdGggKyBNYXRoLnJvdW5kKHRoaXMuX3Rlcm1pbmFsLm9wdGlvbnMubGV0dGVyU3BhY2luZyk7XG4gICAgdGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxIZWlnaHQgPSBNYXRoLmZsb29yKHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDaGFySGVpZ2h0ICogdGhpcy5fdGVybWluYWwub3B0aW9ucy5saW5lSGVpZ2h0KTtcbiAgICB0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2hhckxlZnQgPSAwO1xuICAgIHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDaGFyVG9wID0gMDtcbiAgICB0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2FudmFzV2lkdGggPSB0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2VsbFdpZHRoICogdGhpcy5fdGVybWluYWwuY29scztcbiAgICB0aGlzLmRpbWVuc2lvbnMuc2NhbGVkQ2FudmFzSGVpZ2h0ID0gdGhpcy5kaW1lbnNpb25zLnNjYWxlZENlbGxIZWlnaHQgKiB0aGlzLl90ZXJtaW5hbC5yb3dzO1xuICAgIHRoaXMuZGltZW5zaW9ucy5jYW52YXNXaWR0aCA9IE1hdGgucm91bmQodGhpcy5kaW1lbnNpb25zLnNjYWxlZENhbnZhc1dpZHRoIC8gd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICAgIHRoaXMuZGltZW5zaW9ucy5jYW52YXNIZWlnaHQgPSBNYXRoLnJvdW5kKHRoaXMuZGltZW5zaW9ucy5zY2FsZWRDYW52YXNIZWlnaHQgLyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgdGhpcy5kaW1lbnNpb25zLmFjdHVhbENlbGxXaWR0aCA9IHRoaXMuZGltZW5zaW9ucy5jYW52YXNXaWR0aCAvIHRoaXMuX3Rlcm1pbmFsLmNvbHM7XG4gICAgdGhpcy5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHQgPSB0aGlzLmRpbWVuc2lvbnMuY2FudmFzSGVpZ2h0IC8gdGhpcy5fdGVybWluYWwucm93cztcblxuICAgIHRoaXMuX3Jvd0VsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gYCR7dGhpcy5kaW1lbnNpb25zLmNhbnZhc1dpZHRofXB4YDtcbiAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHR9cHhgO1xuICAgICAgZWxlbWVudC5zdHlsZS5saW5lSGVpZ2h0ID0gYCR7dGhpcy5kaW1lbnNpb25zLmFjdHVhbENlbGxIZWlnaHR9cHhgO1xuICAgICAgLy8gTWFrZSBzdXJlIHJvd3MgZG9uJ3Qgb3ZlcmZsb3cgb250byBmb2xsb3dpbmcgcm93XG4gICAgICBlbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgfSk7XG5cbiAgICBpZiAoIXRoaXMuX2RpbWVuc2lvbnNTdHlsZUVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX2RpbWVuc2lvbnNTdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgdGhpcy5fdGVybWluYWwuc2NyZWVuRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9kaW1lbnNpb25zU3R5bGVFbGVtZW50KTtcbiAgICB9XG5cbiAgICBjb25zdCBzdHlsZXMgPVxuICAgICAgICBgJHt0aGlzLl90ZXJtaW5hbFNlbGVjdG9yfSAuJHtST1dfQ09OVEFJTkVSX0NMQVNTfSBzcGFuIHtgICtcbiAgICAgICAgYCBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7YCArXG4gICAgICAgIGAgaGVpZ2h0OiAxMDAlO2AgK1xuICAgICAgICBgIHZlcnRpY2FsLWFsaWduOiB0b3A7YCArXG4gICAgICAgIGAgd2lkdGg6ICR7dGhpcy5kaW1lbnNpb25zLmFjdHVhbENlbGxXaWR0aH1weGAgK1xuICAgICAgICBgfWA7XG5cbiAgICB0aGlzLl9kaW1lbnNpb25zU3R5bGVFbGVtZW50LmlubmVySFRNTCA9IHN0eWxlcztcblxuICAgIHRoaXMuX3NlbGVjdGlvbkNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAoPGFueT50aGlzLl90ZXJtaW5hbCkuX3ZpZXdwb3J0RWxlbWVudC5zdHlsZS5oZWlnaHQ7XG4gICAgdGhpcy5fdGVybWluYWwuc2NyZWVuRWxlbWVudC5zdHlsZS53aWR0aCA9IGAke3RoaXMuZGltZW5zaW9ucy5jYW52YXNXaWR0aH1weGA7XG4gICAgdGhpcy5fdGVybWluYWwuc2NyZWVuRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLmRpbWVuc2lvbnMuY2FudmFzSGVpZ2h0fXB4YDtcbiAgfVxuXG4gIHB1YmxpYyBzZXRUaGVtZSh0aGVtZTogSVRoZW1lIHwgdW5kZWZpbmVkKTogSUNvbG9yU2V0IHtcbiAgICBpZiAodGhlbWUpIHtcbiAgICAgIHRoaXMuY29sb3JNYW5hZ2VyLnNldFRoZW1lKHRoZW1lKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX3RoZW1lU3R5bGVFbGVtZW50KSB7XG4gICAgICB0aGlzLl90aGVtZVN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICB0aGlzLl90ZXJtaW5hbC5zY3JlZW5FbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3RoZW1lU3R5bGVFbGVtZW50KTtcbiAgICB9XG5cbiAgICAvLyBCYXNlIENTU1xuICAgIGxldCBzdHlsZXMgPVxuICAgICAgICBgJHt0aGlzLl90ZXJtaW5hbFNlbGVjdG9yfSAuJHtST1dfQ09OVEFJTkVSX0NMQVNTfSB7YCArXG4gICAgICAgIGAgY29sb3I6ICR7dGhpcy5jb2xvck1hbmFnZXIuY29sb3JzLmZvcmVncm91bmQuY3NzfTtgICtcbiAgICAgICAgYCBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoaXMuY29sb3JNYW5hZ2VyLmNvbG9ycy5iYWNrZ3JvdW5kLmNzc307YCArXG4gICAgICAgIGAgZm9udC1mYW1pbHk6ICR7dGhpcy5fdGVybWluYWwuZ2V0T3B0aW9uKCdmb250RmFtaWx5Jyl9O2AgK1xuICAgICAgICBgIGZvbnQtc2l6ZTogJHt0aGlzLl90ZXJtaW5hbC5nZXRPcHRpb24oJ2ZvbnRTaXplJyl9cHg7YCArXG4gICAgICAgIGB9YDtcbiAgICAvLyBUZXh0IHN0eWxlc1xuICAgIHN0eWxlcyArPVxuICAgICAgICBgJHt0aGlzLl90ZXJtaW5hbFNlbGVjdG9yfSBzcGFuOm5vdCguJHtCT0xEX0NMQVNTfSkge2AgK1xuICAgICAgICBgIGZvbnQtd2VpZ2h0OiAke3RoaXMuX3Rlcm1pbmFsLm9wdGlvbnMuZm9udFdlaWdodH07YCArXG4gICAgICAgIGB9YCArXG4gICAgICAgIGAke3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3J9IHNwYW4uJHtCT0xEX0NMQVNTfSB7YCArXG4gICAgICAgIGAgZm9udC13ZWlnaHQ6ICR7dGhpcy5fdGVybWluYWwub3B0aW9ucy5mb250V2VpZ2h0Qm9sZH07YCArXG4gICAgICAgIGB9YCArXG4gICAgICAgIGAke3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3J9IHNwYW4uJHtJVEFMSUNfQ0xBU1N9IHtgICtcbiAgICAgICAgYCBmb250LXN0eWxlOiBpdGFsaWM7YCArXG4gICAgICAgIGB9YDtcbiAgICAvLyBDdXJzb3JcbiAgICBzdHlsZXMgKz1cbiAgICAgICAgYCR7dGhpcy5fdGVybWluYWxTZWxlY3Rvcn0gLiR7Uk9XX0NPTlRBSU5FUl9DTEFTU306bm90KC4ke0ZPQ1VTX0NMQVNTfSkgLiR7Q1VSU09SX0NMQVNTfSB7YCArXG4gICAgICAgIGAgb3V0bGluZTogMXB4IHNvbGlkICR7dGhpcy5jb2xvck1hbmFnZXIuY29sb3JzLmN1cnNvci5jc3N9O2AgK1xuICAgICAgICBgIG91dGxpbmUtb2Zmc2V0OiAtMXB4O2AgK1xuICAgICAgICBgfWAgK1xuICAgICAgICBgJHt0aGlzLl90ZXJtaW5hbFNlbGVjdG9yfSAuJHtST1dfQ09OVEFJTkVSX0NMQVNTfS4ke0ZPQ1VTX0NMQVNTfSAuJHtDVVJTT1JfQ0xBU1N9LiR7Q1VSU09SX1NUWUxFX0JMT0NLX0NMQVNTfSB7YCArXG4gICAgICAgIGAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLmNvbG9yTWFuYWdlci5jb2xvcnMuY3Vyc29yLmNzc307YCArXG4gICAgICAgIGAgY29sb3I6ICR7dGhpcy5jb2xvck1hbmFnZXIuY29sb3JzLmN1cnNvckFjY2VudC5jc3N9O2AgK1xuICAgICAgICBgfWAgK1xuICAgICAgICBgJHt0aGlzLl90ZXJtaW5hbFNlbGVjdG9yfSAuJHtST1dfQ09OVEFJTkVSX0NMQVNTfS4ke0ZPQ1VTX0NMQVNTfSAuJHtDVVJTT1JfQ0xBU1N9LiR7Q1VSU09SX1NUWUxFX0JBUl9DTEFTU30ge2AgK1xuICAgICAgICBgIGJveC1zaGFkb3c6IDFweCAwIDAgJHt0aGlzLmNvbG9yTWFuYWdlci5jb2xvcnMuY3Vyc29yLmNzc30gaW5zZXQ7YCArXG4gICAgICAgIGB9YCArXG4gICAgICAgIGAke3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3J9IC4ke1JPV19DT05UQUlORVJfQ0xBU1N9LiR7Rk9DVVNfQ0xBU1N9IC4ke0NVUlNPUl9DTEFTU30uJHtDVVJTT1JfU1RZTEVfVU5ERVJMSU5FX0NMQVNTfSB7YCArXG4gICAgICAgIGAgYm94LXNoYWRvdzogMCAtMXB4IDAgJHt0aGlzLmNvbG9yTWFuYWdlci5jb2xvcnMuY3Vyc29yLmNzc30gaW5zZXQ7YCArXG4gICAgICAgIGB9YDtcbiAgICAvLyBTZWxlY3Rpb25cbiAgICBzdHlsZXMgKz1cbiAgICAgICAgYCR7dGhpcy5fdGVybWluYWxTZWxlY3Rvcn0gLiR7U0VMRUNUSU9OX0NMQVNTfSB7YCArXG4gICAgICAgIGAgcG9zaXRpb246IGFic29sdXRlO2AgK1xuICAgICAgICBgIHRvcDogMDtgICtcbiAgICAgICAgYCBsZWZ0OiAwO2AgK1xuICAgICAgICBgIHotaW5kZXg6IDE7YCArXG4gICAgICAgIGAgcG9pbnRlci1ldmVudHM6IG5vbmU7YCArXG4gICAgICAgIGB9YCArXG4gICAgICAgIGAke3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3J9IC4ke1NFTEVDVElPTl9DTEFTU30gZGl2IHtgICtcbiAgICAgICAgYCBwb3NpdGlvbjogYWJzb2x1dGU7YCArXG4gICAgICAgIGAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGlzLmNvbG9yTWFuYWdlci5jb2xvcnMuc2VsZWN0aW9uLmNzc307YCArXG4gICAgICAgIGB9YDtcbiAgICAvLyBDb2xvcnNcbiAgICB0aGlzLmNvbG9yTWFuYWdlci5jb2xvcnMuYW5zaS5mb3JFYWNoKChjLCBpKSA9PiB7XG4gICAgICBzdHlsZXMgKz1cbiAgICAgICAgICBgJHt0aGlzLl90ZXJtaW5hbFNlbGVjdG9yfSAuJHtGR19DTEFTU19QUkVGSVh9JHtpfSB7IGNvbG9yOiAke2MuY3NzfTsgfWAgK1xuICAgICAgICAgIGAke3RoaXMuX3Rlcm1pbmFsU2VsZWN0b3J9IC4ke0JHX0NMQVNTX1BSRUZJWH0ke2l9IHsgYmFja2dyb3VuZC1jb2xvcjogJHtjLmNzc307IH1gO1xuICAgIH0pO1xuICAgIHN0eWxlcyArPVxuICAgICAgICBgJHt0aGlzLl90ZXJtaW5hbFNlbGVjdG9yfSAuJHtGR19DTEFTU19QUkVGSVh9JHtJTlZFUlRFRF9ERUZBVUxUX0NPTE9SfSB7IGNvbG9yOiAke3RoaXMuY29sb3JNYW5hZ2VyLmNvbG9ycy5iYWNrZ3JvdW5kLmNzc307IH1gICtcbiAgICAgICAgYCR7dGhpcy5fdGVybWluYWxTZWxlY3Rvcn0gLiR7QkdfQ0xBU1NfUFJFRklYfSR7SU5WRVJURURfREVGQVVMVF9DT0xPUn0geyBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoaXMuY29sb3JNYW5hZ2VyLmNvbG9ycy5mb3JlZ3JvdW5kLmNzc307IH1gO1xuXG4gICAgdGhpcy5fdGhlbWVTdHlsZUVsZW1lbnQuaW5uZXJIVE1MID0gc3R5bGVzO1xuICAgIHJldHVybiB0aGlzLmNvbG9yTWFuYWdlci5jb2xvcnM7XG4gIH1cblxuICBwdWJsaWMgb25XaW5kb3dSZXNpemUoZGV2aWNlUGl4ZWxSYXRpbzogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fdXBkYXRlRGltZW5zaW9ucygpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVmcmVzaFJvd0VsZW1lbnRzKGNvbHM6IG51bWJlciwgcm93czogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gQWRkIG1pc3NpbmcgZWxlbWVudHNcbiAgICBmb3IgKGxldCBpID0gdGhpcy5fcm93RWxlbWVudHMubGVuZ3RoOyBpIDw9IHJvd3M7IGkrKykge1xuICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0aGlzLl9yb3dDb250YWluZXIuYXBwZW5kQ2hpbGQocm93KTtcbiAgICAgIHRoaXMuX3Jvd0VsZW1lbnRzLnB1c2gocm93KTtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIGV4Y2VzcyBlbGVtZW50c1xuICAgIHdoaWxlICh0aGlzLl9yb3dFbGVtZW50cy5sZW5ndGggPiByb3dzKSB7XG4gICAgICB0aGlzLl9yb3dDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5fcm93RWxlbWVudHMucG9wKCkpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBvblJlc2l6ZShjb2xzOiBudW1iZXIsIHJvd3M6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuX3JlZnJlc2hSb3dFbGVtZW50cyhjb2xzLCByb3dzKTtcbiAgICB0aGlzLl91cGRhdGVEaW1lbnNpb25zKCk7XG4gIH1cblxuICBwdWJsaWMgb25DaGFyU2l6ZUNoYW5nZWQoKTogdm9pZCB7XG4gICAgdGhpcy5fdXBkYXRlRGltZW5zaW9ucygpO1xuICB9XG5cbiAgcHVibGljIG9uQmx1cigpOiB2b2lkIHtcbiAgICB0aGlzLl9yb3dDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShGT0NVU19DTEFTUyk7XG4gIH1cblxuICBwdWJsaWMgb25Gb2N1cygpOiB2b2lkIHtcbiAgICB0aGlzLl9yb3dDb250YWluZXIuY2xhc3NMaXN0LmFkZChGT0NVU19DTEFTUyk7XG4gIH1cblxuICBwdWJsaWMgb25TZWxlY3Rpb25DaGFuZ2VkKHN0YXJ0OiBbbnVtYmVyLCBudW1iZXJdLCBlbmQ6IFtudW1iZXIsIG51bWJlcl0sIGNvbHVtblNlbGVjdE1vZGU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAvLyBSZW1vdmUgYWxsIHNlbGVjdGlvbnNcbiAgICB3aGlsZSAodGhpcy5fc2VsZWN0aW9uQ29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgdGhpcy5fc2VsZWN0aW9uQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX3NlbGVjdGlvbkNvbnRhaW5lci5jaGlsZHJlblswXSk7XG4gICAgfVxuXG4gICAgLy8gU2VsZWN0aW9uIGRvZXMgbm90IGV4aXN0XG4gICAgaWYgKCFzdGFydCB8fCAhZW5kKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVHJhbnNsYXRlIGZyb20gYnVmZmVyIHBvc2l0aW9uIHRvIHZpZXdwb3J0IHBvc2l0aW9uXG4gICAgY29uc3Qgdmlld3BvcnRTdGFydFJvdyA9IHN0YXJ0WzFdIC0gdGhpcy5fdGVybWluYWwuYnVmZmVyLnlkaXNwO1xuICAgIGNvbnN0IHZpZXdwb3J0RW5kUm93ID0gZW5kWzFdIC0gdGhpcy5fdGVybWluYWwuYnVmZmVyLnlkaXNwO1xuICAgIGNvbnN0IHZpZXdwb3J0Q2FwcGVkU3RhcnRSb3cgPSBNYXRoLm1heCh2aWV3cG9ydFN0YXJ0Um93LCAwKTtcbiAgICBjb25zdCB2aWV3cG9ydENhcHBlZEVuZFJvdyA9IE1hdGgubWluKHZpZXdwb3J0RW5kUm93LCB0aGlzLl90ZXJtaW5hbC5yb3dzIC0gMSk7XG5cbiAgICAvLyBObyBuZWVkIHRvIGRyYXcgdGhlIHNlbGVjdGlvblxuICAgIGlmICh2aWV3cG9ydENhcHBlZFN0YXJ0Um93ID49IHRoaXMuX3Rlcm1pbmFsLnJvd3MgfHwgdmlld3BvcnRDYXBwZWRFbmRSb3cgPCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHRoZSBzZWxlY3Rpb25zXG4gICAgY29uc3QgZG9jdW1lbnRGcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgIGlmIChjb2x1bW5TZWxlY3RNb2RlKSB7XG4gICAgICBkb2N1bWVudEZyYWdtZW50LmFwcGVuZENoaWxkKFxuICAgICAgICB0aGlzLl9jcmVhdGVTZWxlY3Rpb25FbGVtZW50KHZpZXdwb3J0Q2FwcGVkU3RhcnRSb3csIHN0YXJ0WzBdLCBlbmRbMF0sIHZpZXdwb3J0Q2FwcGVkRW5kUm93IC0gdmlld3BvcnRDYXBwZWRTdGFydFJvdyArIDEpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEcmF3IGZpcnN0IHJvd1xuICAgICAgY29uc3Qgc3RhcnRDb2wgPSB2aWV3cG9ydFN0YXJ0Um93ID09PSB2aWV3cG9ydENhcHBlZFN0YXJ0Um93ID8gc3RhcnRbMF0gOiAwO1xuICAgICAgY29uc3QgZW5kQ29sID0gdmlld3BvcnRDYXBwZWRTdGFydFJvdyA9PT0gdmlld3BvcnRDYXBwZWRFbmRSb3cgPyBlbmRbMF0gOiB0aGlzLl90ZXJtaW5hbC5jb2xzO1xuICAgICAgZG9jdW1lbnRGcmFnbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTZWxlY3Rpb25FbGVtZW50KHZpZXdwb3J0Q2FwcGVkU3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRDb2wpKTtcbiAgICAgIC8vIERyYXcgbWlkZGxlIHJvd3NcbiAgICAgIGNvbnN0IG1pZGRsZVJvd3NDb3VudCA9IHZpZXdwb3J0Q2FwcGVkRW5kUm93IC0gdmlld3BvcnRDYXBwZWRTdGFydFJvdyAtIDE7XG4gICAgICBkb2N1bWVudEZyYWdtZW50LmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNlbGVjdGlvbkVsZW1lbnQodmlld3BvcnRDYXBwZWRTdGFydFJvdyArIDEsIDAsIHRoaXMuX3Rlcm1pbmFsLmNvbHMsIG1pZGRsZVJvd3NDb3VudCkpO1xuICAgICAgLy8gRHJhdyBmaW5hbCByb3dcbiAgICAgIGlmICh2aWV3cG9ydENhcHBlZFN0YXJ0Um93ICE9PSB2aWV3cG9ydENhcHBlZEVuZFJvdykge1xuICAgICAgICAvLyBPbmx5IGRyYXcgdmlld3BvcnRFbmRSb3cgaWYgaXQncyBub3QgdGhlIHNhbWUgYXMgdmlld3BvcnR0YXJ0Um93XG4gICAgICAgIGNvbnN0IGVuZENvbCA9IHZpZXdwb3J0RW5kUm93ID09PSB2aWV3cG9ydENhcHBlZEVuZFJvdyA/IGVuZFswXSA6IHRoaXMuX3Rlcm1pbmFsLmNvbHM7XG4gICAgICAgIGRvY3VtZW50RnJhZ21lbnQuYXBwZW5kQ2hpbGQodGhpcy5fY3JlYXRlU2VsZWN0aW9uRWxlbWVudCh2aWV3cG9ydENhcHBlZEVuZFJvdywgMCwgZW5kQ29sKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3NlbGVjdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChkb2N1bWVudEZyYWdtZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgc2VsZWN0aW9uIGVsZW1lbnQgYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHJvdyBUaGUgcm93IG9mIHRoZSBzZWxlY3Rpb24uXG4gICAqIEBwYXJhbSBjb2xTdGFydCBUaGUgc3RhcnQgY29sdW1uLlxuICAgKiBAcGFyYW0gY29sRW5kIFRoZSBlbmQgY29sdW1ucy5cbiAgICovXG4gIHByaXZhdGUgX2NyZWF0ZVNlbGVjdGlvbkVsZW1lbnQocm93OiBudW1iZXIsIGNvbFN0YXJ0OiBudW1iZXIsIGNvbEVuZDogbnVtYmVyLCByb3dDb3VudDogbnVtYmVyID0gMSk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHtyb3dDb3VudCAqIHRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0fXB4YDtcbiAgICBlbGVtZW50LnN0eWxlLnRvcCA9IGAke3JvdyAqIHRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsSGVpZ2h0fXB4YDtcbiAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBgJHtjb2xTdGFydCAqIHRoaXMuZGltZW5zaW9ucy5hY3R1YWxDZWxsV2lkdGh9cHhgO1xuICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSBgJHt0aGlzLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbFdpZHRoICogKGNvbEVuZCAtIGNvbFN0YXJ0KX1weGA7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICBwdWJsaWMgb25DdXJzb3JNb3ZlKCk6IHZvaWQge1xuICAgIC8vIE5vLW9wLCB0aGUgY3Vyc29yIGlzIGRyYXduIHdoZW4gcm93cyBhcmUgZHJhd25cbiAgfVxuXG4gIHB1YmxpYyBvbk9wdGlvbnNDaGFuZ2VkKCk6IHZvaWQge1xuICAgIC8vIEZvcmNlIGEgcmVmcmVzaFxuICAgIHRoaXMuX3VwZGF0ZURpbWVuc2lvbnMoKTtcbiAgICB0aGlzLnNldFRoZW1lKHVuZGVmaW5lZCk7XG4gICAgdGhpcy5fdGVybWluYWwucmVmcmVzaCgwLCB0aGlzLl90ZXJtaW5hbC5yb3dzIC0gMSk7XG4gIH1cblxuICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5fcm93RWxlbWVudHMuZm9yRWFjaChlID0+IGUuaW5uZXJIVE1MID0gJycpO1xuICB9XG5cbiAgcHVibGljIHJlZnJlc2hSb3dzKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fcmVuZGVyRGVib3VuY2VyLnJlZnJlc2goc3RhcnQsIGVuZCk7XG4gIH1cblxuICBwcml2YXRlIF9yZW5kZXJSb3dzKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgdGVybWluYWwgPSB0aGlzLl90ZXJtaW5hbDtcblxuICAgIGNvbnN0IGN1cnNvckFic29sdXRlWSA9IHRlcm1pbmFsLmJ1ZmZlci55YmFzZSArIHRlcm1pbmFsLmJ1ZmZlci55O1xuICAgIGNvbnN0IGN1cnNvclggPSB0aGlzLl90ZXJtaW5hbC5idWZmZXIueDtcblxuICAgIGZvciAobGV0IHkgPSBzdGFydDsgeSA8PSBlbmQ7IHkrKykge1xuICAgICAgY29uc3Qgcm93RWxlbWVudCA9IHRoaXMuX3Jvd0VsZW1lbnRzW3ldO1xuICAgICAgcm93RWxlbWVudC5pbm5lckhUTUwgPSAnJztcblxuICAgICAgY29uc3Qgcm93ID0geSArIHRlcm1pbmFsLmJ1ZmZlci55ZGlzcDtcbiAgICAgIGNvbnN0IGxpbmVEYXRhID0gdGVybWluYWwuYnVmZmVyLmxpbmVzLmdldChyb3cpO1xuICAgICAgY29uc3QgY3Vyc29yU3R5bGUgPSB0ZXJtaW5hbC5vcHRpb25zLmN1cnNvclN0eWxlO1xuICAgICAgcm93RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9yb3dGYWN0b3J5LmNyZWF0ZVJvdyhsaW5lRGF0YSwgcm93ID09PSBjdXJzb3JBYnNvbHV0ZVksIGN1cnNvclN0eWxlLCBjdXJzb3JYLCB0aGlzLmRpbWVuc2lvbnMuYWN0dWFsQ2VsbFdpZHRoLCB0ZXJtaW5hbC5jb2xzKSk7XG4gICAgfVxuXG4gICAgdGhpcy5fdGVybWluYWwuZW1pdCgncmVmcmVzaCcsIHtzdGFydCwgZW5kfSk7XG4gIH1cblxuICBwcml2YXRlIGdldCBfdGVybWluYWxTZWxlY3RvcigpOiBzdHJpbmcge1xuICAgIHJldHVybiBgLiR7VEVSTUlOQUxfQ0xBU1NfUFJFRklYfSR7dGhpcy5fdGVybWluYWxDbGFzc31gO1xuICB9XG5cbiAgcHVibGljIHJlZ2lzdGVyQ2hhcmFjdGVySm9pbmVyKGhhbmRsZXI6IENoYXJhY3RlckpvaW5lckhhbmRsZXIpOiBudW1iZXIgeyByZXR1cm4gLTE7IH1cbiAgcHVibGljIGRlcmVnaXN0ZXJDaGFyYWN0ZXJKb2luZXIoam9pbmVySWQ6IG51bWJlcik6IGJvb2xlYW4geyByZXR1cm4gZmFsc2U7IH1cblxuICBwcml2YXRlIF9vbkxpbmtIb3ZlcihlOiBJTGlua0hvdmVyRXZlbnQpOiB2b2lkIHtcbiAgICB0aGlzLl9zZXRDZWxsVW5kZXJsaW5lKGUueDEsIGUueDIsIGUueTEsIGUueTIsIGUuY29scywgdHJ1ZSk7XG4gIH1cblxuICBwcml2YXRlIF9vbkxpbmtMZWF2ZShlOiBJTGlua0hvdmVyRXZlbnQpOiB2b2lkIHtcbiAgICB0aGlzLl9zZXRDZWxsVW5kZXJsaW5lKGUueDEsIGUueDIsIGUueTEsIGUueTIsIGUuY29scywgZmFsc2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBfc2V0Q2VsbFVuZGVybGluZSh4OiBudW1iZXIsIHgyOiBudW1iZXIsIHk6IG51bWJlciwgeTI6IG51bWJlciwgY29sczogbnVtYmVyLCBlbmFibGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgd2hpbGUgKHggIT09IHgyIHx8IHkgIT09IHkyKSB7XG4gICAgICBjb25zdCByb3cgPSB0aGlzLl9yb3dFbGVtZW50c1t5XTtcbiAgICAgIGlmICghcm93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNwYW4gPSA8SFRNTEVsZW1lbnQ+cm93LmNoaWxkcmVuW3hdO1xuICAgICAgc3Bhbi5zdHlsZS50ZXh0RGVjb3JhdGlvbiA9IGVuYWJsZWQgPyAndW5kZXJsaW5lJyA6ICdub25lJztcbiAgICAgIHggPSAoeCArIDEpICUgY29scztcbiAgICAgIGlmICh4ID09PSAwKSB7XG4gICAgICAgIHkrKztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy94dGVybS9zcmMvcmVuZGVyZXIvZG9tL0RvbVJlbmRlcmVyLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///56\n')},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Buffer_1 = __webpack_require__(0);\nvar Types_1 = __webpack_require__(1);\nexports.BOLD_CLASS = 'xterm-bold';\nexports.ITALIC_CLASS = 'xterm-italic';\nexports.CURSOR_CLASS = 'xterm-cursor';\nexports.CURSOR_STYLE_BLOCK_CLASS = 'xterm-cursor-block';\nexports.CURSOR_STYLE_BAR_CLASS = 'xterm-cursor-bar';\nexports.CURSOR_STYLE_UNDERLINE_CLASS = 'xterm-cursor-underline';\nvar DomRendererRowFactory = (function () {\n    function DomRendererRowFactory(_document) {\n        this._document = _document;\n    }\n    DomRendererRowFactory.prototype.createRow = function (lineData, isCursorRow, cursorStyle, cursorX, cellWidth, cols) {\n        var fragment = this._document.createDocumentFragment();\n        var lineLength = 0;\n        for (var x = Math.min(lineData.length, cols) - 1; x >= 0; x--) {\n            var charData = lineData.get(x);\n            var code = charData[Buffer_1.CHAR_DATA_CODE_INDEX];\n            if (code !== Buffer_1.NULL_CELL_CODE || (isCursorRow && x === cursorX)) {\n                lineLength = x + 1;\n                break;\n            }\n        }\n        for (var x = 0; x < lineLength; x++) {\n            var charData = lineData.get(x);\n            var char = charData[Buffer_1.CHAR_DATA_CHAR_INDEX];\n            var attr = charData[Buffer_1.CHAR_DATA_ATTR_INDEX];\n            var width = charData[Buffer_1.CHAR_DATA_WIDTH_INDEX];\n            if (width === 0) {\n                continue;\n            }\n            var charElement = this._document.createElement('span');\n            if (width > 1) {\n                charElement.style.width = cellWidth * width + \"px\";\n            }\n            var flags = attr >> 18;\n            var bg = attr & 0x1ff;\n            var fg = (attr >> 9) & 0x1ff;\n            if (isCursorRow && x === cursorX) {\n                charElement.classList.add(exports.CURSOR_CLASS);\n                switch (cursorStyle) {\n                    case 'bar':\n                        charElement.classList.add(exports.CURSOR_STYLE_BAR_CLASS);\n                        break;\n                    case 'underline':\n                        charElement.classList.add(exports.CURSOR_STYLE_UNDERLINE_CLASS);\n                        break;\n                    default:\n                        charElement.classList.add(exports.CURSOR_STYLE_BLOCK_CLASS);\n                        break;\n                }\n            }\n            if (flags & 8) {\n                var temp = bg;\n                bg = fg;\n                fg = temp;\n                if (fg === Types_1.DEFAULT_COLOR) {\n                    fg = Types_1.INVERTED_DEFAULT_COLOR;\n                }\n                if (bg === Types_1.DEFAULT_COLOR) {\n                    bg = Types_1.INVERTED_DEFAULT_COLOR;\n                }\n            }\n            if (flags & 1) {\n                if (fg < 8) {\n                    fg += 8;\n                }\n                charElement.classList.add(exports.BOLD_CLASS);\n            }\n            if (flags & 64) {\n                charElement.classList.add(exports.ITALIC_CLASS);\n            }\n            charElement.textContent = char;\n            if (fg !== Types_1.DEFAULT_COLOR) {\n                charElement.classList.add(\"xterm-fg-\" + fg);\n            }\n            if (bg !== Types_1.DEFAULT_COLOR) {\n                charElement.classList.add(\"xterm-bg-\" + bg);\n            }\n            fragment.appendChild(charElement);\n        }\n        return fragment;\n    };\n    return DomRendererRowFactory;\n}());\nexports.DomRendererRowFactory = DomRendererRowFactory;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL3JlbmRlcmVyL2RvbS9Eb21SZW5kZXJlclJvd0ZhY3RvcnkudHM/ODg1ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUtBLHNDQUF1STtBQUd2SSxxQ0FBdUU7QUFFMUQsa0JBQVUsR0FBRyxZQUFZLENBQUM7QUFDMUIsb0JBQVksR0FBRyxjQUFjLENBQUM7QUFDOUIsb0JBQVksR0FBRyxjQUFjLENBQUM7QUFDOUIsZ0NBQXdCLEdBQUcsb0JBQW9CLENBQUM7QUFDaEQsOEJBQXNCLEdBQUcsa0JBQWtCLENBQUM7QUFDNUMsb0NBQTRCLEdBQUcsd0JBQXdCLENBQUM7QUFFckU7SUFDRSwrQkFDVSxTQUFtQjtRQUFuQixjQUFTLEdBQVQsU0FBUyxDQUFVO0lBRTdCLENBQUM7SUFFTSx5Q0FBUyxHQUFoQixVQUFpQixRQUFxQixFQUFFLFdBQW9CLEVBQUUsV0FBK0IsRUFBRSxPQUFlLEVBQUUsU0FBaUIsRUFBRSxJQUFZO1FBQzdJLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztRQU96RCxJQUFJLFVBQVUsR0FBRyxDQUFDLENBQUM7UUFDbkIsS0FBSyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDN0QsSUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQyxJQUFNLElBQUksR0FBRyxRQUFRLENBQUMsNkJBQW9CLENBQUMsQ0FBQztZQUM1QyxJQUFJLElBQUksS0FBSyx1QkFBYyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsS0FBSyxPQUFPLENBQUMsRUFBRTtnQkFDN0QsVUFBVSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JB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RCxDQUFDO0FBakdZLHNEQUFxQiIsImZpbGUiOiI1Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSB4dGVybS5qcyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuaW1wb3J0IHsgQ0hBUl9EQVRBX0NIQVJfSU5ERVgsIENIQVJfREFUQV9BVFRSX0lOREVYLCBDSEFSX0RBVEFfV0lEVEhfSU5ERVgsIENIQVJfREFUQV9DT0RFX0lOREVYLCBOVUxMX0NFTExfQ09ERSB9IGZyb20gJy4uLy4uL0J1ZmZlcic7XG5pbXBvcnQgeyBGTEFHUyB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IElCdWZmZXJMaW5lIH0gZnJvbSAnLi4vLi4vVHlwZXMnO1xuaW1wb3J0IHsgREVGQVVMVF9DT0xPUiwgSU5WRVJURURfREVGQVVMVF9DT0xPUiB9IGZyb20gJy4uL2F0bGFzL1R5cGVzJztcblxuZXhwb3J0IGNvbnN0IEJPTERfQ0xBU1MgPSAneHRlcm0tYm9sZCc7XG5leHBvcnQgY29uc3QgSVRBTElDX0NMQVNTID0gJ3h0ZXJtLWl0YWxpYyc7XG5leHBvcnQgY29uc3QgQ1VSU09SX0NMQVNTID0gJ3h0ZXJtLWN1cnNvcic7XG5leHBvcnQgY29uc3QgQ1VSU09SX1NUWUxFX0JMT0NLX0NMQVNTID0gJ3h0ZXJtLWN1cnNvci1ibG9jayc7XG5leHBvcnQgY29uc3QgQ1VSU09SX1NUWUxFX0JBUl9DTEFTUyA9ICd4dGVybS1jdXJzb3ItYmFyJztcbmV4cG9ydCBjb25zdCBDVVJTT1JfU1RZTEVfVU5ERVJMSU5FX0NMQVNTID0gJ3h0ZXJtLWN1cnNvci11bmRlcmxpbmUnO1xuXG5leHBvcnQgY2xhc3MgRG9tUmVuZGVyZXJSb3dGYWN0b3J5IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBfZG9jdW1lbnQ6IERvY3VtZW50XG4gICkge1xuICB9XG5cbiAgcHVibGljIGNyZWF0ZVJvdyhsaW5lRGF0YTogSUJ1ZmZlckxpbmUsIGlzQ3Vyc29yUm93OiBib29sZWFuLCBjdXJzb3JTdHlsZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBjdXJzb3JYOiBudW1iZXIsIGNlbGxXaWR0aDogbnVtYmVyLCBjb2xzOiBudW1iZXIpOiBEb2N1bWVudEZyYWdtZW50IHtcbiAgICBjb25zdCBmcmFnbWVudCA9IHRoaXMuX2RvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgIC8vIEZpbmQgdGhlIGxpbmUgbGVuZ3RoIGZpcnN0LCB0aGlzIHByZXZlbnRzIHRoZSBuZWVkIHRvIG91dHB1dCBhIGJ1bmNoIG9mXG4gICAgLy8gZW1wdHkgY2VsbHMgYXQgdGhlIGVuZC4gVGhpcyBjYW5ub3QgZWFzaWx5IGJlIGludGVncmF0ZWQgaW50byB0aGUgbWFpblxuICAgIC8vIGxvb3AgYmVsb3cgYmVjYXVzZSBvZiB0aGUgY29sQ291bnQgZmVhdHVyZSAod2hpY2ggY2FuIGJlIHJlbW92ZWQgYWZ0ZXIgd2VcbiAgICAvLyBwcm9wZXJseSBzdXBwb3J0IHJlZmxvdyBhbmQgZGlzYWxsb3cgZGF0YSB0byBnbyBiZXlvbmQgdGhlIHJpZ2h0LXNpZGUgb2ZcbiAgICAvLyB0aGUgdmlld3BvcnQpLlxuICAgIGxldCBsaW5lTGVuZ3RoID0gMDtcbiAgICBmb3IgKGxldCB4ID0gTWF0aC5taW4obGluZURhdGEubGVuZ3RoLCBjb2xzKSAtIDE7IHggPj0gMDsgeC0tKSB7XG4gICAgICBjb25zdCBjaGFyRGF0YSA9IGxpbmVEYXRhLmdldCh4KTtcbiAgICAgIGNvbnN0IGNvZGUgPSBjaGFyRGF0YVtDSEFSX0RBVEFfQ09ERV9JTkRFWF07XG4gICAgICBpZiAoY29kZSAhPT0gTlVMTF9DRUxMX0NPREUgfHwgKGlzQ3Vyc29yUm93ICYmIHggPT09IGN1cnNvclgpKSB7XG4gICAgICAgIGxpbmVMZW5ndGggPSB4ICsgMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCBsaW5lTGVuZ3RoOyB4KyspIHtcbiAgICAgIGNvbnN0IGNoYXJEYXRhID0gbGluZURhdGEuZ2V0KHgpO1xuICAgICAgY29uc3QgY2hhciA9IGNoYXJEYXRhW0NIQVJfREFUQV9DSEFSX0lOREVYXTtcbiAgICAgIGNvbnN0IGF0dHIgPSBjaGFyRGF0YVtDSEFSX0RBVEFfQVRUUl9JTkRFWF07XG4gICAgICBjb25zdCB3aWR0aCA9IGNoYXJEYXRhW0NIQVJfREFUQV9XSURUSF9JTkRFWF07XG5cbiAgICAgIC8vIFRoZSBjaGFyYWN0ZXIgdG8gdGhlIGxlZnQgaXMgYSB3aWRlIGNoYXJhY3RlciwgZHJhd2luZyBpcyBvd25lZCBieSB0aGUgY2hhciBhdCB4LTFcbiAgICAgIGlmICh3aWR0aCA9PT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2hhckVsZW1lbnQgPSB0aGlzLl9kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBpZiAod2lkdGggPiAxKSB7XG4gICAgICAgIGNoYXJFbGVtZW50LnN0eWxlLndpZHRoID0gYCR7Y2VsbFdpZHRoICogd2lkdGh9cHhgO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBmbGFncyA9IGF0dHIgPj4gMTg7XG4gICAgICBsZXQgYmcgPSBhdHRyICYgMHgxZmY7XG4gICAgICBsZXQgZmcgPSAoYXR0ciA+PiA5KSAmIDB4MWZmO1xuXG4gICAgICBpZiAoaXNDdXJzb3JSb3cgJiYgeCA9PT0gY3Vyc29yWCkge1xuICAgICAgICBjaGFyRWxlbWVudC5jbGFzc0xpc3QuYWRkKENVUlNPUl9DTEFTUyk7XG5cbiAgICAgICAgc3dpdGNoIChjdXJzb3JTdHlsZSkge1xuICAgICAgICAgIGNhc2UgJ2Jhcic6XG4gICAgICAgICAgICBjaGFyRWxlbWVudC5jbGFzc0xpc3QuYWRkKENVUlNPUl9TVFlMRV9CQVJfQ0xBU1MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndW5kZXJsaW5lJzpcbiAgICAgICAgICAgIGNoYXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoQ1VSU09SX1NUWUxFX1VOREVSTElORV9DTEFTUyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2hhckVsZW1lbnQuY2xhc3NMaXN0LmFkZChDVVJTT1JfU1RZTEVfQkxPQ0tfQ0xBU1MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgaW52ZXJzZSBmbGFnIGlzIG9uLCB0aGUgZm9yZWdyb3VuZCBzaG91bGQgYmVjb21lIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAgaWYgKGZsYWdzICYgRkxBR1MuSU5WRVJTRSkge1xuICAgICAgICBjb25zdCB0ZW1wID0gYmc7XG4gICAgICAgIGJnID0gZmc7XG4gICAgICAgIGZnID0gdGVtcDtcbiAgICAgICAgaWYgKGZnID09PSBERUZBVUxUX0NPTE9SKSB7XG4gICAgICAgICAgZmcgPSBJTlZFUlRFRF9ERUZBVUxUX0NPTE9SO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiZyA9PT0gREVGQVVMVF9DT0xPUikge1xuICAgICAgICAgIGJnID0gSU5WRVJURURfREVGQVVMVF9DT0xPUjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmxhZ3MgJiBGTEFHUy5CT0xEKSB7XG4gICAgICAgIC8vIENvbnZlcnQgdGhlIEZHIGNvbG9yIHRvIHRoZSBib2xkIHZhcmlhbnQuIFRoaXMgc2hvdWxkIG5vdCBoYXBwZW4gd2hlblxuICAgICAgICAvLyB0aGUgZmcgaXMgdGhlIGludmVyc2UgZGVmYXVsdCBjb2xvciBhcyB0aGVyZSBpcyBubyBib2xkIHZhcmlhbnQuXG4gICAgICAgIGlmIChmZyA8IDgpIHtcbiAgICAgICAgICBmZyArPSA4O1xuICAgICAgICB9XG4gICAgICAgIGNoYXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoQk9MRF9DTEFTUyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChmbGFncyAmIEZMQUdTLklUQUxJQykge1xuICAgICAgICBjaGFyRWxlbWVudC5jbGFzc0xpc3QuYWRkKElUQUxJQ19DTEFTUyk7XG4gICAgICB9XG5cbiAgICAgIGNoYXJFbGVtZW50LnRleHRDb250ZW50ID0gY2hhcjtcbiAgICAgIGlmIChmZyAhPT0gREVGQVVMVF9DT0xPUikge1xuICAgICAgICBjaGFyRWxlbWVudC5jbGFzc0xpc3QuYWRkKGB4dGVybS1mZy0ke2ZnfWApO1xuICAgICAgfVxuICAgICAgaWYgKGJnICE9PSBERUZBVUxUX0NPTE9SKSB7XG4gICAgICAgIGNoYXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoYHh0ZXJtLWJnLSR7Ymd9YCk7XG4gICAgICB9XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChjaGFyRWxlbWVudCk7XG4gICAgfVxuICAgIHJldHVybiBmcmFnbWVudDtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3h0ZXJtL3NyYy9yZW5kZXJlci9kb20vRG9tUmVuZGVyZXJSb3dGYWN0b3J5LnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///57\n")},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EscapeSequences_1 = __webpack_require__(7);\nvar KEYCODE_KEY_MAPPINGS = {\n    48: ['0', ')'],\n    49: ['1', '!'],\n    50: ['2', '@'],\n    51: ['3', '#'],\n    52: ['4', '$'],\n    53: ['5', '%'],\n    54: ['6', '^'],\n    55: ['7', '&'],\n    56: ['8', '*'],\n    57: ['9', '('],\n    186: [';', ':'],\n    187: ['=', '+'],\n    188: [',', '<'],\n    189: ['-', '_'],\n    190: ['.', '>'],\n    191: ['/', '?'],\n    192: ['`', '~'],\n    219: ['[', '{'],\n    220: ['\\\\', '|'],\n    221: [']', '}'],\n    222: ['\\'', '\"']\n};\nfunction evaluateKeyboardEvent(ev, applicationCursorMode, isMac, macOptionIsMeta) {\n    var result = {\n        type: 0,\n        cancel: false,\n        key: undefined\n    };\n    var modifiers = (ev.shiftKey ? 1 : 0) | (ev.altKey ? 2 : 0) | (ev.ctrlKey ? 4 : 0) | (ev.metaKey ? 8 : 0);\n    switch (ev.keyCode) {\n        case 0:\n            if (ev.key === 'UIKeyInputUpArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OA';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[A';\n                }\n            }\n            else if (ev.key === 'UIKeyInputLeftArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OD';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[D';\n                }\n            }\n            else if (ev.key === 'UIKeyInputRightArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OC';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[C';\n                }\n            }\n            else if (ev.key === 'UIKeyInputDownArrow') {\n                if (applicationCursorMode) {\n                    result.key = EscapeSequences_1.C0.ESC + 'OB';\n                }\n                else {\n                    result.key = EscapeSequences_1.C0.ESC + '[B';\n                }\n            }\n            break;\n        case 8:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.BS;\n                break;\n            }\n            else if (ev.altKey) {\n                result.key = EscapeSequences_1.C0.ESC + EscapeSequences_1.C0.DEL;\n                break;\n            }\n            result.key = EscapeSequences_1.C0.DEL;\n            break;\n        case 9:\n            if (ev.shiftKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[Z';\n                break;\n            }\n            result.key = EscapeSequences_1.C0.HT;\n            result.cancel = true;\n            break;\n        case 13:\n            result.key = EscapeSequences_1.C0.CR;\n            result.cancel = true;\n            break;\n        case 27:\n            result.key = EscapeSequences_1.C0.ESC;\n            result.cancel = true;\n            break;\n        case 37:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'D';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3D') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'b' : EscapeSequences_1.C0.ESC + '[1;5D';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OD';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[D';\n            }\n            break;\n        case 39:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'C';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3C') {\n                    result.key = isMac ? EscapeSequences_1.C0.ESC + 'f' : EscapeSequences_1.C0.ESC + '[1;5C';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OC';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[C';\n            }\n            break;\n        case 38:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'A';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3A') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5A';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OA';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[A';\n            }\n            break;\n        case 40:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'B';\n                if (result.key === EscapeSequences_1.C0.ESC + '[1;3B') {\n                    result.key = EscapeSequences_1.C0.ESC + '[1;5B';\n                }\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OB';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[B';\n            }\n            break;\n        case 45:\n            if (!ev.shiftKey && !ev.ctrlKey) {\n                result.key = EscapeSequences_1.C0.ESC + '[2~';\n            }\n            break;\n        case 46:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[3;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[3~';\n            }\n            break;\n        case 36:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'H';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OH';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[H';\n            }\n            break;\n        case 35:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'F';\n            }\n            else if (applicationCursorMode) {\n                result.key = EscapeSequences_1.C0.ESC + 'OF';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[F';\n            }\n            break;\n        case 33:\n            if (ev.shiftKey) {\n                result.type = 2;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[5~';\n            }\n            break;\n        case 34:\n            if (ev.shiftKey) {\n                result.type = 3;\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[6~';\n            }\n            break;\n        case 112:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'P';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OP';\n            }\n            break;\n        case 113:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'Q';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OQ';\n            }\n            break;\n        case 114:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'R';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OR';\n            }\n            break;\n        case 115:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[1;' + (modifiers + 1) + 'S';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + 'OS';\n            }\n            break;\n        case 116:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[15;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[15~';\n            }\n            break;\n        case 117:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[17;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[17~';\n            }\n            break;\n        case 118:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[18;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[18~';\n            }\n            break;\n        case 119:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[19;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[19~';\n            }\n            break;\n        case 120:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[20;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[20~';\n            }\n            break;\n        case 121:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[21;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[21~';\n            }\n            break;\n        case 122:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[23;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[23~';\n            }\n            break;\n        case 123:\n            if (modifiers) {\n                result.key = EscapeSequences_1.C0.ESC + '[24;' + (modifiers + 1) + '~';\n            }\n            else {\n                result.key = EscapeSequences_1.C0.ESC + '[24~';\n            }\n            break;\n        default:\n            if (ev.ctrlKey && !ev.shiftKey && !ev.altKey && !ev.metaKey) {\n                if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    result.key = String.fromCharCode(ev.keyCode - 64);\n                }\n                else if (ev.keyCode === 32) {\n                    result.key = String.fromCharCode(0);\n                }\n                else if (ev.keyCode >= 51 && ev.keyCode <= 55) {\n                    result.key = String.fromCharCode(ev.keyCode - 51 + 27);\n                }\n                else if (ev.keyCode === 56) {\n                    result.key = String.fromCharCode(127);\n                }\n                else if (ev.keyCode === 219) {\n                    result.key = String.fromCharCode(27);\n                }\n                else if (ev.keyCode === 220) {\n                    result.key = String.fromCharCode(28);\n                }\n                else if (ev.keyCode === 221) {\n                    result.key = String.fromCharCode(29);\n                }\n            }\n            else if ((!isMac || macOptionIsMeta) && ev.altKey && !ev.metaKey) {\n                var keyMapping = KEYCODE_KEY_MAPPINGS[ev.keyCode];\n                var key = keyMapping && keyMapping[!ev.shiftKey ? 0 : 1];\n                if (key) {\n                    result.key = EscapeSequences_1.C0.ESC + key;\n                }\n                else if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                    var keyCode = ev.ctrlKey ? ev.keyCode - 64 : ev.keyCode + 32;\n                    result.key = EscapeSequences_1.C0.ESC + String.fromCharCode(keyCode);\n                }\n            }\n            else if (isMac && !ev.altKey && !ev.ctrlKey && ev.metaKey) {\n                if (ev.keyCode === 65) {\n                    result.type = 1;\n                }\n            }\n            break;\n    }\n    return result;\n}\nexports.evaluateKeyboardEvent = evaluateKeyboardEvent;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMveHRlcm0vc3JjL2NvcmUvaW5wdXQvS2V5Ym9hcmQudHM/ZjA5NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVFBLCtDQUF1RDtBQUd2RCxJQUFNLG9CQUFvQixHQUF1QztJQUUvRCxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ2QsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNkLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDZCxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ2QsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNkLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDZCxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ2QsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNkLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDZCxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBR2QsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNmLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDZixHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ2YsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNmLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDZixHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ2YsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNmLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDZixHQUFHLEVBQUUsQ0FBQyxJQUFJLEVB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TSxVQUFVLEdBQUcsb0JBQW9CLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNwRCxJQUFNLEdBQUcsR0FBRyxVQUFVLElBQUksVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDM0QsSUFBSSxHQUFHLEVBQUU7b0JBQ1AsTUFBTSxDQUFDLEdBQUcsR0FBRyxvQkFBRSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7aUJBQzNCO3FCQUFNLElBQUksRUFBRSxDQUFDLE9BQU8sSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLE9BQU8sSUFBSSxFQUFFLEVBQUU7b0JBQy9DLElBQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztvQkFDL0QsTUFBTSxDQUFDLEdBQUcsR0FBRyxvQkFBRSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2lCQUNwRDthQUNGO2lCQUFNLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUUsQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRTtnQkFDM0QsSUFBSSxFQUFFLENBQUMsT0FBTyxLQUFLLEVBQUUsRUFBRTtvQkFDckIsTUFBTSxDQUFDLElBQUksSUFBZ0MsQ0FBQztpQkFDN0M7YUFDRjtZQUNELE1BQU07S0FDVDtJQUVELE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUM7QUE5VEQsc0RBOFRDIiwiZmlsZSI6IjU4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgVGhlIHh0ZXJtLmpzIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTItMjAxMywgQ2hyaXN0b3BoZXIgSmVmZnJleSAoTUlUIExpY2Vuc2UpXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG5pbXBvcnQgeyBJS2V5Ym9hcmRFdmVudCB9IGZyb20gJy4uLy4uL2NvbW1vbi9UeXBlcyc7XG5pbXBvcnQgeyBJS2V5Ym9hcmRSZXN1bHQsIEtleWJvYXJkUmVzdWx0VHlwZSB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IEMwIH0gZnJvbSAnLi4vLi4vY29tbW9uL2RhdGEvRXNjYXBlU2VxdWVuY2VzJztcblxuLy8gcmVnICsgc2hpZnQga2V5IG1hcHBpbmdzIGZvciBkaWdpdHMgYW5kIHNwZWNpYWwgY2hhcnNcbmNvbnN0IEtFWUNPREVfS0VZX01BUFBJTkdTOiB7IFtrZXk6IG51bWJlcl06IFtzdHJpbmcsIHN0cmluZ119ID0ge1xuICAvLyBkaWdpdHMgMC05XG4gIDQ4OiBbJzAnLCAnKSddLFxuICA0OTogWycxJywgJyEnXSxcbiAgNTA6IFsnMicsICdAJ10sXG4gIDUxOiBbJzMnLCAnIyddLFxuICA1MjogWyc0JywgJyQnXSxcbiAgNTM6IFsnNScsICclJ10sXG4gIDU0OiBbJzYnLCAnXiddLFxuICA1NTogWyc3JywgJyYnXSxcbiAgNTY6IFsnOCcsICcqJ10sXG4gIDU3OiBbJzknLCAnKCddLFxuXG4gIC8vIHNwZWNpYWwgY2hhcnNcbiAgMTg2OiBbJzsnLCAnOiddLFxuICAxODc6IFsnPScsICcrJ10sXG4gIDE4ODogWycsJywgJzwnXSxcbiAgMTg5OiBbJy0nLCAnXyddLFxuICAxOTA6IFsnLicsICc+J10sXG4gIDE5MTogWycvJywgJz8nXSxcbiAgMTkyOiBbJ2AnLCAnfiddLFxuICAyMTk6IFsnWycsICd7J10sXG4gIDIyMDogWydcXFxcJywgJ3wnXSxcbiAgMjIxOiBbJ10nLCAnfSddLFxuICAyMjI6IFsnXFwnJywgJ1wiJ11cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBldmFsdWF0ZUtleWJvYXJkRXZlbnQoXG4gIGV2OiBJS2V5Ym9hcmRFdmVudCxcbiAgYXBwbGljYXRpb25DdXJzb3JNb2RlOiBib29sZWFuLFxuICBpc01hYzogYm9vbGVhbixcbiAgbWFjT3B0aW9uSXNNZXRhOiBib29sZWFuXG4pOiBJS2V5Ym9hcmRSZXN1bHQge1xuICBjb25zdCByZXN1bHQ6IElLZXlib2FyZFJlc3VsdCA9IHtcbiAgICB0eXBlOiBLZXlib2FyZFJlc3VsdFR5cGUuU0VORF9LRVksXG4gICAgLy8gV2hldGhlciB0byBjYW5jZWwgZXZlbnQgcHJvcG9nYXRpb24gKE5PVEU6IHRoaXMgbWF5IG5vdCBiZSBuZWVkZWQgc2luY2UgdGhlIGV2ZW50IGlzXG4gICAgLy8gY2FuY2VsZWQgYXQgdGhlIGVuZCBvZiBrZXlEb3duXG4gICAgY2FuY2VsOiBmYWxzZSxcbiAgICAvLyBUaGUgbmV3IGtleSBldmVuIHRvIGVtaXRcbiAgICBrZXk6IHVuZGVmaW5lZFxuICB9O1xuICBjb25zdCBtb2RpZmllcnMgPSAoZXYuc2hpZnRLZXkgPyAxIDogMCkgfCAoZXYuYWx0S2V5ID8gMiA6IDApIHwgKGV2LmN0cmxLZXkgPyA0IDogMCkgfCAoZXYubWV0YUtleSA/IDggOiAwKTtcbiAgc3dpdGNoIChldi5rZXlDb2RlKSB7XG4gICAgY2FzZSAwOlxuICAgICAgaWYgKGV2LmtleSA9PT0gJ1VJS2V5SW5wdXRVcEFycm93Jykge1xuICAgICAgICBpZiAoYXBwbGljYXRpb25DdXJzb3JNb2RlKSB7XG4gICAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdPQSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbQSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGV2LmtleSA9PT0gJ1VJS2V5SW5wdXRMZWZ0QXJyb3cnKSB7XG4gICAgICAgIGlmIChhcHBsaWNhdGlvbkN1cnNvck1vZGUpIHtcbiAgICAgICAgICByZXN1bHQua2V5ID0gQzAuRVNDICsgJ09EJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQua2V5ID0gQzAuRVNDICsgJ1tEJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZXYua2V5ID09PSAnVUlLZXlJbnB1dFJpZ2h0QXJyb3cnKSB7XG4gICAgICAgIGlmIChhcHBsaWNhdGlvbkN1cnNvck1vZGUpIHtcbiAgICAgICAgICByZXN1bHQua2V5ID0gQzAuRVNDICsgJ09DJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQua2V5ID0gQzAuRVNDICsgJ1tDJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZXYua2V5ID09PSAnVUlLZXlJbnB1dERvd25BcnJvdycpIHtcbiAgICAgICAgaWYgKGFwcGxpY2F0aW9uQ3Vyc29yTW9kZSkge1xuICAgICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnT0InO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnW0InO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDg6XG4gICAgICAvLyBiYWNrc3BhY2VcbiAgICAgIGlmIChldi5zaGlmdEtleSkge1xuICAgICAgICByZXN1bHQua2V5ID0gQzAuQlM7IC8vIF5IXG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIGlmIChldi5hbHRLZXkpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArIEMwLkRFTDsgLy8gXFxlIF4/XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVzdWx0LmtleSA9IEMwLkRFTDsgLy8gXj9cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgOTpcbiAgICAgIC8vIHRhYlxuICAgICAgaWYgKGV2LnNoaWZ0S2V5KSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnW1onO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5rZXkgPSBDMC5IVDtcbiAgICAgIHJlc3VsdC5jYW5jZWwgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAxMzpcbiAgICAgIC8vIHJldHVybi9lbnRlclxuICAgICAgcmVzdWx0LmtleSA9IEMwLkNSO1xuICAgICAgcmVzdWx0LmNhbmNlbCA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDI3OlxuICAgICAgLy8gZXNjYXBlXG4gICAgICByZXN1bHQua2V5ID0gQzAuRVNDO1xuICAgICAgcmVzdWx0LmNhbmNlbCA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDM3OlxuICAgICAgLy8gbGVmdC1hcnJvd1xuICAgICAgaWYgKG1vZGlmaWVycykge1xuICAgICAgICByZXN1bHQua2V5ID0gQzAuRVNDICsgJ1sxOycgKyAobW9kaWZpZXJzICsgMSkgKyAnRCc7XG4gICAgICAgIC8vIEhBQ0s6IE1ha2UgQWx0ICsgbGVmdC1hcnJvdyBiZWhhdmUgbGlrZSBDdHJsICsgbGVmdC1hcnJvdzogbW92ZSBvbmUgd29yZCBiYWNrd2FyZHNcbiAgICAgICAgLy8gaHR0cDovL3VuaXguc3RhY2tleGNoYW5nZS5jb20vYS8xMDgxMDZcbiAgICAgICAgLy8gbWFjT1MgdXNlcyBkaWZmZXJlbnQgZXNjYXBlIHNlcXVlbmNlcyB0aGFuIGxpbnV4XG4gICAgICAgIGlmIChyZXN1bHQua2V5ID09PSBDMC5FU0MgKyAnWzE7M0QnKSB7XG4gICAgICAgICAgcmVzdWx0LmtleSA9IGlzTWFjID8gQzAuRVNDICsgJ2InIDogQzAuRVNDICsgJ1sxOzVEJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcHBsaWNhdGlvbkN1cnNvck1vZGUpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdPRCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQua2V5ID0gQzAuRVNDICsgJ1tEJztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMzk6XG4gICAgICAvLyByaWdodC1hcnJvd1xuICAgICAgaWYgKG1vZGlmaWVycykge1xuICAgICAgICByZXN1bHQua2V5ID0gQzAuRVNDICsgJ1sxOycgKyAobW9kaWZpZXJzICsgMSkgKyAnQyc7XG4gICAgICAgIC8vIEhBQ0s6IE1ha2UgQWx0ICsgcmlnaHQtYXJyb3cgYmVoYXZlIGxpa2UgQ3RybCArIHJpZ2h0LWFycm93OiBtb3ZlIG9uZSB3b3JkIGZvcndhcmRcbiAgICAgICAgLy8gaHR0cDovL3VuaXguc3RhY2tleGNoYW5nZS5jb20vYS8xMDgxMDZcbiAgICAgICAgLy8gbWFjT1MgdXNlcyBkaWZmZXJlbnQgZXNjYXBlIHNlcXVlbmNlcyB0aGFuIGxpbnV4XG4gICAgICAgIGlmIChyZXN1bHQua2V5ID09PSBDMC5FU0MgKyAnWzE7M0MnKSB7XG4gICAgICAgICAgcmVzdWx0LmtleSA9IGlzTWFjID8gQzAuRVNDICsgJ2YnIDogQzAuRVNDICsgJ1sxOzVDJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcHBsaWNhdGlvbkN1cnNvck1vZGUpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdPQyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQua2V5ID0gQzAuRVNDICsgJ1tDJztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMzg6XG4gICAgICAvLyB1cC1hcnJvd1xuICAgICAgaWYgKG1vZGlmaWVycykge1xuICAgICAgICByZXN1bHQua2V5ID0gQzAuRVNDICsgJ1sxOycgKyAobW9kaWZpZXJzICsgMSkgKyAnQSc7XG4gICAgICAgIC8vIEhBQ0s6IE1ha2UgQWx0ICsgdXAtYXJyb3cgYmVoYXZlIGxpa2UgQ3RybCArIHVwLWFycm93XG4gICAgICAgIC8vIGh0dHA6Ly91bml4LnN0YWNrZXhjaGFuZ2UuY29tL2EvMTA4MTA2XG4gICAgICAgIGlmIChyZXN1bHQua2V5ID09PSBDMC5FU0MgKyAnWzE7M0EnKSB7XG4gICAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbMTs1QSc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXBwbGljYXRpb25DdXJzb3JNb2RlKSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnT0EnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbQSc7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQwOlxuICAgICAgLy8gZG93bi1hcnJvd1xuICAgICAgaWYgKG1vZGlmaWVycykge1xuICAgICAgICByZXN1bHQua2V5ID0gQzAuRVNDICsgJ1sxOycgKyAobW9kaWZpZXJzICsgMSkgKyAnQic7XG4gICAgICAgIC8vIEhBQ0s6IE1ha2UgQWx0ICsgZG93bi1hcnJvdyBiZWhhdmUgbGlrZSBDdHJsICsgZG93bi1hcnJvd1xuICAgICAgICAvLyBodHRwOi8vdW5peC5zdGFja2V4Y2hhbmdlLmNvbS9hLzEwODEwNlxuICAgICAgICBpZiAocmVzdWx0LmtleSA9PT0gQzAuRVNDICsgJ1sxOzNCJykge1xuICAgICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnWzE7NUInO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFwcGxpY2F0aW9uQ3Vyc29yTW9kZSkge1xuICAgICAgICByZXN1bHQua2V5ID0gQzAuRVNDICsgJ09CJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnW0InO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSA0NTpcbiAgICAgIC8vIGluc2VydFxuICAgICAgaWYgKCFldi5zaGlmdEtleSAmJiAhZXYuY3RybEtleSkge1xuICAgICAgICAvLyA8Q3RybD4gb3IgPFNoaWZ0PiArIDxJbnNlcnQ+IGFyZSB1c2VkIHRvXG4gICAgICAgIC8vIGNvcHktcGFzdGUgb24gc29tZSBzeXN0ZW1zLlxuICAgICAgICByZXN1bHQua2V5ID0gQzAuRVNDICsgJ1syfic7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQ2OlxuICAgICAgLy8gZGVsZXRlXG4gICAgICBpZiAobW9kaWZpZXJzKSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnWzM7JyArIChtb2RpZmllcnMgKyAxKSArICd+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnWzN+JztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMzY6XG4gICAgICAvLyBob21lXG4gICAgICBpZiAobW9kaWZpZXJzKSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnWzE7JyArIChtb2RpZmllcnMgKyAxKSArICdIJztcbiAgICAgIH0gZWxzZSBpZiAoYXBwbGljYXRpb25DdXJzb3JNb2RlKSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnT0gnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbSCc7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDM1OlxuICAgICAgLy8gZW5kXG4gICAgICBpZiAobW9kaWZpZXJzKSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnWzE7JyArIChtb2RpZmllcnMgKyAxKSArICdGJztcbiAgICAgIH0gZWxzZSBpZiAoYXBwbGljYXRpb25DdXJzb3JNb2RlKSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnT0YnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbRic7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDMzOlxuICAgICAgLy8gcGFnZSB1cFxuICAgICAgaWYgKGV2LnNoaWZ0S2V5KSB7XG4gICAgICAgIHJlc3VsdC50eXBlID0gS2V5Ym9hcmRSZXN1bHRUeXBlLlBBR0VfVVA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQua2V5ID0gQzAuRVNDICsgJ1s1fic7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDM0OlxuICAgICAgLy8gcGFnZSBkb3duXG4gICAgICBpZiAoZXYuc2hpZnRLZXkpIHtcbiAgICAgICAgcmVzdWx0LnR5cGUgPSBLZXlib2FyZFJlc3VsdFR5cGUuUEFHRV9ET1dOO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbNn4nO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAxMTI6XG4gICAgICAvLyBGMS1GMTJcbiAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbMTsnICsgKG1vZGlmaWVycyArIDEpICsgJ1AnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdPUCc7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDExMzpcbiAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbMTsnICsgKG1vZGlmaWVycyArIDEpICsgJ1EnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdPUSc7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDExNDpcbiAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbMTsnICsgKG1vZGlmaWVycyArIDEpICsgJ1InO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdPUic7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDExNTpcbiAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbMTsnICsgKG1vZGlmaWVycyArIDEpICsgJ1MnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdPUyc7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDExNjpcbiAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbMTU7JyArIChtb2RpZmllcnMgKyAxKSArICd+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnWzE1fic7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDExNzpcbiAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbMTc7JyArIChtb2RpZmllcnMgKyAxKSArICd+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnWzE3fic7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDExODpcbiAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbMTg7JyArIChtb2RpZmllcnMgKyAxKSArICd+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnWzE4fic7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDExOTpcbiAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbMTk7JyArIChtb2RpZmllcnMgKyAxKSArICd+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnWzE5fic7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDEyMDpcbiAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbMjA7JyArIChtb2RpZmllcnMgKyAxKSArICd+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnWzIwfic7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDEyMTpcbiAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbMjE7JyArIChtb2RpZmllcnMgKyAxKSArICd+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnWzIxfic7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDEyMjpcbiAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbMjM7JyArIChtb2RpZmllcnMgKyAxKSArICd+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnWzIzfic7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIDEyMzpcbiAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArICdbMjQ7JyArIChtb2RpZmllcnMgKyAxKSArICd+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyAnWzI0fic7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgLy8gYS16IGFuZCBzcGFjZVxuICAgICAgaWYgKGV2LmN0cmxLZXkgJiYgIWV2LnNoaWZ0S2V5ICYmICFldi5hbHRLZXkgJiYgIWV2Lm1ldGFLZXkpIHtcbiAgICAgICAgaWYgKGV2LmtleUNvZGUgPj0gNjUgJiYgZXYua2V5Q29kZSA8PSA5MCkge1xuICAgICAgICAgIHJlc3VsdC5rZXkgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGV2LmtleUNvZGUgLSA2NCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXYua2V5Q29kZSA9PT0gMzIpIHtcbiAgICAgICAgICAvLyBOVUxcbiAgICAgICAgICByZXN1bHQua2V5ID0gU3RyaW5nLmZyb21DaGFyQ29kZSgwKTtcbiAgICAgICAgfSBlbHNlIGlmIChldi5rZXlDb2RlID49IDUxICYmIGV2LmtleUNvZGUgPD0gNTUpIHtcbiAgICAgICAgICAvLyBlc2NhcGUsIGZpbGUgc2VwLCBncm91cCBzZXAsIHJlY29yZCBzZXAsIHVuaXQgc2VwXG4gICAgICAgICAgcmVzdWx0LmtleSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZXYua2V5Q29kZSAtIDUxICsgMjcpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2LmtleUNvZGUgPT09IDU2KSB7XG4gICAgICAgICAgLy8gZGVsZXRlXG4gICAgICAgICAgcmVzdWx0LmtleSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMTI3KTtcbiAgICAgICAgfSBlbHNlIGlmIChldi5rZXlDb2RlID09PSAyMTkpIHtcbiAgICAgICAgICAvLyBeWyAtIENvbnRyb2wgU2VxdWVuY2UgSW50cm9kdWNlciAoQ1NJKVxuICAgICAgICAgIHJlc3VsdC5rZXkgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDI3KTtcbiAgICAgICAgfSBlbHNlIGlmIChldi5rZXlDb2RlID09PSAyMjApIHtcbiAgICAgICAgICAvLyBeXFwgLSBTdHJpbmcgVGVybWluYXRvciAoU1QpXG4gICAgICAgICAgcmVzdWx0LmtleSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMjgpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2LmtleUNvZGUgPT09IDIyMSkge1xuICAgICAgICAgIC8vIF5dIC0gT3BlcmF0aW5nIFN5c3RlbSBDb21tYW5kIChPU0MpXG4gICAgICAgICAgcmVzdWx0LmtleSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMjkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCghaXNNYWMgfHwgbWFjT3B0aW9uSXNNZXRhKSAmJiBldi5hbHRLZXkgJiYgIWV2Lm1ldGFLZXkpIHtcbiAgICAgICAgLy8gT24gbWFjT1MgdGhpcyBpcyBhIHRoaXJkIGxldmVsIHNoaWZ0IHdoZW4gIW1hY09wdGlvbklzTWV0YS4gVXNlIDxFc2M+IGluc3RlYWQuXG4gICAgICAgIGNvbnN0IGtleU1hcHBpbmcgPSBLRVlDT0RFX0tFWV9NQVBQSU5HU1tldi5rZXlDb2RlXTtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5TWFwcGluZyAmJiBrZXlNYXBwaW5nWyFldi5zaGlmdEtleSA/IDAgOiAxXTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgIHJlc3VsdC5rZXkgPSBDMC5FU0MgKyBrZXk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXYua2V5Q29kZSA+PSA2NSAmJiBldi5rZXlDb2RlIDw9IDkwKSB7XG4gICAgICAgICAgY29uc3Qga2V5Q29kZSA9IGV2LmN0cmxLZXkgPyBldi5rZXlDb2RlIC0gNjQgOiBldi5rZXlDb2RlICsgMzI7XG4gICAgICAgICAgcmVzdWx0LmtleSA9IEMwLkVTQyArIFN0cmluZy5mcm9tQ2hhckNvZGUoa2V5Q29kZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNNYWMgJiYgIWV2LmFsdEtleSAmJiAhZXYuY3RybEtleSAmJiBldi5tZXRhS2V5KSB7XG4gICAgICAgIGlmIChldi5rZXlDb2RlID09PSA2NSkgeyAvLyBjbWQgKyBhXG4gICAgICAgICAgcmVzdWx0LnR5cGUgPSBLZXlib2FyZFJlc3VsdFR5cGUuU0VMRUNUX0FMTDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3h0ZXJtL3NyYy9jb3JlL2lucHV0L0tleWJvYXJkLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///58\n")}]);